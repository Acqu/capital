!function(){"use strict"
function t(t,e,n,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i
if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i)
else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,n,r):s(e,n))||r)
return o>3&&r&&Object.defineProperty(e,n,r),r}function e(t,e,n,i){return new(n||(n=Promise))((function(s,o){function r(t){try{l(i.next(t))}catch(t){o(t)}}function a(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e
t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}l((i=i.apply(t,e||[])).next())}))}function n(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0
if(n)return n.call(t)
if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}
throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(t){return this instanceof i?(this.v=t,this):new i(t)}function s(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.")
var s,o=n.apply(t,e||[]),r=[]
return s=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",(function(t){return function(e){return Promise.resolve(e).then(t,d)}})),s[Symbol.asyncIterator]=function(){return this},s
function a(t,e){o[t]&&(s[t]=function(e){return new Promise((function(n,i){r.push([t,e,n,i])>1||l(t,e)}))},e&&(s[t]=e(s[t])))}function l(t,e){try{(n=o[t](e)).value instanceof i?Promise.resolve(n.value.v).then(c,d):h(r[0][2],n)}catch(t){h(r[0][3],t)}var n}function c(t){l("next",t)}function d(t){l("throw",t)}function h(t,e){t(e),r.shift(),r.length&&l(r[0][0],r[0][1])}}function o(t){var e,n
return e={},s("next"),s("throw",(function(t){throw t})),s("return"),e[Symbol.iterator]=function(){return this},e
function s(s,o){e[s]=t[s]?function(e){return(n=!n)?{value:i(t[s](e)),done:!1}:o?o(e):e}:o}}function r(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.")
var e,i=t[Symbol.asyncIterator]
return i?i.call(t):(t=n(t),e={},s("next"),s("throw"),s("return"),e[Symbol.asyncIterator]=function(){return this},e)
function s(n){e[n]=t[n]&&function(e){return new Promise((function(i,s){(function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)})(i,s,(e=t[n](e)).done,e.value)}))}}}"function"==typeof SuppressedError&&SuppressedError
const a=function(){if("undefined"!=typeof globalThis)return globalThis
if("undefined"!=typeof global)return global
if("undefined"!=typeof self)return self
if("undefined"!=typeof window)return window
try{return new Function("return this")()}catch(t){return{}}}()
void 0===a.trustedTypes&&(a.trustedTypes={createPolicy:(t,e)=>e})
const l={configurable:!1,enumerable:!1,writable:!1}
void 0===a.FAST&&Reflect.defineProperty(a,"FAST",Object.assign({value:Object.create(null)},l))
const c=a.FAST
if(void 0===c.getById){const t=Object.create(null)
Reflect.defineProperty(c,"getById",Object.assign({value(e,n){let i=t[e]
return void 0===i&&(i=n?t[e]=n():null),i}},l))}const d=Object.freeze([])
function h(){const t=new WeakMap
return function(e){let n=t.get(e)
if(void 0===n){let i=Reflect.getPrototypeOf(e)
for(;void 0===n&&null!==i;)n=t.get(i),i=Reflect.getPrototypeOf(i)
n=void 0===n?[]:n.slice(0),t.set(e,n)}return n}}const u=a.FAST.getById(1,(()=>{const t=[],e=[]
function n(){if(e.length)throw e.shift()}function i(t){try{t.call()}catch(t){e.push(t),setTimeout(n,0)}}function s(){let e=0
for(;e<t.length;)if(i(t[e]),e++,e>1024){for(let n=0,i=t.length-e;n<i;n++)t[n]=t[n+e]
t.length-=e,e=0}t.length=0}return Object.freeze({enqueue:function(e){t.length<1&&a.requestAnimationFrame(s),t.push(e)},process:s})})),p=a.trustedTypes.createPolicy("fast-html",{createHTML:t=>t})
let f=p
const m=`fast-${Math.random().toString(36).substring(2,8)}`,g=`${m}{`,v=`}${m}`,b=Object.freeze({supportsAdoptedStyleSheets:Array.isArray(document.adoptedStyleSheets)&&"replace"in CSSStyleSheet.prototype,setHTMLPolicy(t){if(f!==p)throw new Error("The HTML policy can only be set once.")
f=t},createHTML:t=>f.createHTML(t),isMarker:t=>t&&8===t.nodeType&&t.data.startsWith(m),extractDirectiveIndexFromMarker:t=>parseInt(t.data.replace(`${m}:`,"")),createInterpolationPlaceholder:t=>`${g}${t}${v}`,createCustomAttributePlaceholder(t,e){return`${t}="${this.createInterpolationPlaceholder(e)}"`},createBlockPlaceholder:t=>`\x3c!--${m}:${t}--\x3e`,queueUpdate:u.enqueue,processUpdates:u.process,nextUpdate:()=>new Promise(u.enqueue),setAttribute(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)},setBooleanAttribute(t,e,n){n?t.setAttribute(e,""):t.removeAttribute(e)},removeChildNodes(t){for(let e=t.firstChild;null!==e;e=t.firstChild)t.removeChild(e)},createTemplateWalker:t=>document.createTreeWalker(t,133,null,!1)})
class y{constructor(t,e){this.sub1=void 0,this.sub2=void 0,this.spillover=void 0,this.source=t,this.sub1=e}has(t){return void 0===this.spillover?this.sub1===t||this.sub2===t:-1!==this.spillover.indexOf(t)}subscribe(t){const e=this.spillover
if(void 0===e){if(this.has(t))return
if(void 0===this.sub1)return void(this.sub1=t)
if(void 0===this.sub2)return void(this.sub2=t)
this.spillover=[this.sub1,this.sub2,t],this.sub1=void 0,this.sub2=void 0}else{-1===e.indexOf(t)&&e.push(t)}}unsubscribe(t){const e=this.spillover
if(void 0===e)this.sub1===t?this.sub1=void 0:this.sub2===t&&(this.sub2=void 0)
else{const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}notify(t){const e=this.spillover,n=this.source
if(void 0===e){const e=this.sub1,i=this.sub2
void 0!==e&&e.handleChange(n,t),void 0!==i&&i.handleChange(n,t)}else for(let i=0,s=e.length;i<s;++i)e[i].handleChange(n,t)}}class w{constructor(t){this.subscribers={},this.sourceSubscribers=null,this.source=t}notify(t){var e
const n=this.subscribers[t]
void 0!==n&&n.notify(t),null===(e=this.sourceSubscribers)||void 0===e||e.notify(t)}subscribe(t,e){var n
if(e){let n=this.subscribers[e]
void 0===n&&(this.subscribers[e]=n=new y(this.source)),n.subscribe(t)}else this.sourceSubscribers=null!==(n=this.sourceSubscribers)&&void 0!==n?n:new y(this.source),this.sourceSubscribers.subscribe(t)}unsubscribe(t,e){var n
if(e){const n=this.subscribers[e]
void 0!==n&&n.unsubscribe(t)}else null===(n=this.sourceSubscribers)||void 0===n||n.unsubscribe(t)}}const x=c.getById(2,(()=>{const t=/(:|&&|\|\||if)/,e=new WeakMap,n=b.queueUpdate
let i,s=t=>{throw new Error("Must call enableArrayObservation before observing arrays.")}
function o(t){let n=t.$fastController||e.get(t)
return void 0===n&&(Array.isArray(t)?n=s(t):e.set(t,n=new w(t))),n}const r=h()
class a{constructor(t){this.name=t,this.field=`_${t}`,this.callback=`${t}Changed`}getValue(t){return void 0!==i&&i.watch(t,this.name),t[this.field]}setValue(t,e){const n=this.field,i=t[n]
if(i!==e){t[n]=e
const s=t[this.callback]
"function"==typeof s&&s.call(t,i,e),o(t).notify(this.name)}}}class l extends y{constructor(t,e,n=!1){super(t,e),this.binding=t,this.isVolatileBinding=n,this.needsRefresh=!0,this.needsQueue=!0,this.first=this,this.last=null,this.propertySource=void 0,this.propertyName=void 0,this.notifier=void 0,this.next=void 0}observe(t,e){this.needsRefresh&&null!==this.last&&this.disconnect()
const n=i
i=this.needsRefresh?this:void 0,this.needsRefresh=this.isVolatileBinding
const s=this.binding(t,e)
return i=n,s}disconnect(){if(null!==this.last){let t=this.first
for(;void 0!==t;)t.notifier.unsubscribe(this,t.propertyName),t=t.next
this.last=null,this.needsRefresh=this.needsQueue=!0}}watch(t,e){const n=this.last,s=o(t),r=null===n?this.first:{}
if(r.propertySource=t,r.propertyName=e,r.notifier=s,s.subscribe(this,e),null!==n){if(!this.needsRefresh){let e
i=void 0,e=n.propertySource[n.propertyName],i=this,t===e&&(this.needsRefresh=!0)}n.next=r}this.last=r}handleChange(){this.needsQueue&&(this.needsQueue=!1,n(this))}call(){null!==this.last&&(this.needsQueue=!0,this.notify(this))}records(){let t=this.first
return{next:()=>{const e=t
return void 0===e?{value:void 0,done:!0}:(t=t.next,{value:e,done:!1})},[Symbol.iterator]:function(){return this}}}}return Object.freeze({setArrayObserverFactory(t){s=t},getNotifier:o,track(t,e){void 0!==i&&i.watch(t,e)},trackVolatile(){void 0!==i&&(i.needsRefresh=!0)},notify(t,e){o(t).notify(e)},defineProperty(t,e){"string"==typeof e&&(e=new a(e)),r(t).push(e),Reflect.defineProperty(t,e.name,{enumerable:!0,get:function(){return e.getValue(this)},set:function(t){e.setValue(this,t)}})},getAccessors:r,binding(t,e,n=this.isVolatileBinding(t)){return new l(t,e,n)},isVolatileBinding:e=>t.test(e.toString())})}))
function C(t,e){x.defineProperty(t,e)}function k(t,e,n){return Object.assign({},n,{get:function(){return x.trackVolatile(),n.get.apply(this)}})}const S=c.getById(3,(()=>{let t=null
return{get:()=>t,set(e){t=e}}}))
class _{constructor(){this.index=0,this.length=0,this.parent=null,this.parentContext=null}get event(){return S.get()}get isEven(){return this.index%2==0}get isOdd(){return this.index%2!=0}get isFirst(){return 0===this.index}get isInMiddle(){return!this.isFirst&&!this.isLast}get isLast(){return this.index===this.length-1}static setEvent(t){S.set(t)}}x.defineProperty(_.prototype,"index"),x.defineProperty(_.prototype,"length")
const I=Object.seal(new _)
class M{constructor(){this.targetIndex=0}}class $ extends M{constructor(){super(...arguments),this.createPlaceholder=b.createInterpolationPlaceholder}}class D extends M{constructor(t,e,n){super(),this.name=t,this.behavior=e,this.options=n}createPlaceholder(t){return b.createCustomAttributePlaceholder(this.name,t)}createBehavior(t){return new this.behavior(t,this.options)}}function E(t,e){this.source=t,this.context=e,null===this.bindingObserver&&(this.bindingObserver=x.binding(this.binding,this,this.isBindingVolatile)),this.updateTarget(this.bindingObserver.observe(t,e))}function A(t,e){this.source=t,this.context=e,this.target.addEventListener(this.targetName,this)}function T(){this.bindingObserver.disconnect(),this.source=null,this.context=null}function O(){this.bindingObserver.disconnect(),this.source=null,this.context=null
const t=this.target.$fastView
void 0!==t&&t.isComposed&&(t.unbind(),t.needsBindOnly=!0)}function R(){this.target.removeEventListener(this.targetName,this),this.source=null,this.context=null}function F(t){b.setAttribute(this.target,this.targetName,t)}function N(t){b.setBooleanAttribute(this.target,this.targetName,t)}function L(t){if(null==t&&(t=""),t.create){this.target.textContent=""
let e=this.target.$fastView
void 0===e?e=t.create():this.target.$fastTemplate!==t&&(e.isComposed&&(e.remove(),e.unbind()),e=t.create()),e.isComposed?e.needsBindOnly&&(e.needsBindOnly=!1,e.bind(this.source,this.context)):(e.isComposed=!0,e.bind(this.source,this.context),e.insertBefore(this.target),this.target.$fastView=e,this.target.$fastTemplate=t)}else{const e=this.target.$fastView
void 0!==e&&e.isComposed&&(e.isComposed=!1,e.remove(),e.needsBindOnly?e.needsBindOnly=!1:e.unbind()),this.target.textContent=t}}function B(t){this.target[this.targetName]=t}function P(t){const e=this.classVersions||Object.create(null),n=this.target
let i=this.version||0
if(null!=t&&t.length){const s=t.split(/\s+/)
for(let t=0,o=s.length;t<o;++t){const o=s[t]
""!==o&&(e[o]=i,n.classList.add(o))}}if(this.classVersions=e,this.version=i+1,0!==i){i-=1
for(const t in e)e[t]===i&&n.classList.remove(t)}}class z extends ${constructor(t){super(),this.binding=t,this.bind=E,this.unbind=T,this.updateTarget=F,this.isBindingVolatile=x.isVolatileBinding(this.binding)}get targetName(){return this.originalTargetName}set targetName(t){if(this.originalTargetName=t,void 0!==t)switch(t[0]){case":":if(this.cleanedTargetName=t.substr(1),this.updateTarget=B,"innerHTML"===this.cleanedTargetName){const t=this.binding
this.binding=(e,n)=>b.createHTML(t(e,n))}break
case"?":this.cleanedTargetName=t.substr(1),this.updateTarget=N
break
case"@":this.cleanedTargetName=t.substr(1),this.bind=A,this.unbind=R
break
default:this.cleanedTargetName=t,"class"===t&&(this.updateTarget=P)}}targetAtContent(){this.updateTarget=L,this.unbind=O}createBehavior(t){return new V(t,this.binding,this.isBindingVolatile,this.bind,this.unbind,this.updateTarget,this.cleanedTargetName)}}class V{constructor(t,e,n,i,s,o,r){this.source=null,this.context=null,this.bindingObserver=null,this.target=t,this.binding=e,this.isBindingVolatile=n,this.bind=i,this.unbind=s,this.updateTarget=o,this.targetName=r}handleChange(){this.updateTarget(this.bindingObserver.observe(this.source,this.context))}handleEvent(t){_.setEvent(t)
const e=this.binding(this.source,this.context)
_.setEvent(null),!0!==e&&t.preventDefault()}}let H=null
class U{addFactory(t){t.targetIndex=this.targetIndex,this.behaviorFactories.push(t)}captureContentBinding(t){t.targetAtContent(),this.addFactory(t)}reset(){this.behaviorFactories=[],this.targetIndex=-1}release(){H=this}static borrow(t){const e=H||new U
return e.directives=t,e.reset(),H=null,e}}function q(t){if(1===t.length)return t[0]
let e
const n=t.length,i=t.map((t=>"string"==typeof t?()=>t:(e=t.targetName||e,t.binding))),s=new z(((t,e)=>{let s=""
for(let o=0;o<n;++o)s+=i[o](t,e)
return s}))
return s.targetName=e,s}const j=v.length
function W(t,e){const n=e.split(g)
if(1===n.length)return null
const i=[]
for(let e=0,s=n.length;e<s;++e){const s=n[e],o=s.indexOf(v)
let r
if(-1===o)r=s
else{const e=parseInt(s.substring(0,o))
i.push(t.directives[e]),r=s.substring(o+j)}""!==r&&i.push(r)}return i}function G(t,e,n=!1){const i=e.attributes
for(let s=0,o=i.length;s<o;++s){const r=i[s],a=r.value,l=W(t,a)
let c=null
null===l?n&&(c=new z((()=>a)),c.targetName=r.name):c=q(l),null!==c&&(e.removeAttributeNode(r),s--,o--,t.addFactory(c))}}function Z(t,e,n){const i=W(t,e.textContent)
if(null!==i){let s=e
for(let o=0,r=i.length;o<r;++o){const r=i[o],a=0===o?e:s.parentNode.insertBefore(document.createTextNode(""),s.nextSibling)
"string"==typeof r?a.textContent=r:(a.textContent=" ",t.captureContentBinding(r)),s=a,t.targetIndex++,a!==e&&n.nextNode()}t.targetIndex--}}const K=document.createRange()
class Y{constructor(t,e){this.fragment=t,this.behaviors=e,this.source=null,this.context=null,this.firstChild=t.firstChild,this.lastChild=t.lastChild}appendTo(t){t.appendChild(this.fragment)}insertBefore(t){if(this.fragment.hasChildNodes())t.parentNode.insertBefore(this.fragment,t)
else{const e=this.lastChild
if(t.previousSibling===e)return
const n=t.parentNode
let i,s=this.firstChild
for(;s!==e;)i=s.nextSibling,n.insertBefore(s,t),s=i
n.insertBefore(e,t)}}remove(){const t=this.fragment,e=this.lastChild
let n,i=this.firstChild
for(;i!==e;)n=i.nextSibling,t.appendChild(i),i=n
t.appendChild(e)}dispose(){const t=this.firstChild.parentNode,e=this.lastChild
let n,i=this.firstChild
for(;i!==e;)n=i.nextSibling,t.removeChild(i),i=n
t.removeChild(e)
const s=this.behaviors,o=this.source
for(let t=0,e=s.length;t<e;++t)s[t].unbind(o)}bind(t,e){const n=this.behaviors
if(this.source!==t)if(null!==this.source){const i=this.source
this.source=t,this.context=e
for(let s=0,o=n.length;s<o;++s){const o=n[s]
o.unbind(i),o.bind(t,e)}}else{this.source=t,this.context=e
for(let i=0,s=n.length;i<s;++i)n[i].bind(t,e)}}unbind(){if(null===this.source)return
const t=this.behaviors,e=this.source
for(let n=0,i=t.length;n<i;++n)t[n].unbind(e)
this.source=null}static disposeContiguousBatch(t){if(0!==t.length){K.setStartBefore(t[0].firstChild),K.setEndAfter(t[t.length-1].lastChild),K.deleteContents()
for(let e=0,n=t.length;e<n;++e){const n=t[e],i=n.behaviors,s=n.source
for(let t=0,e=i.length;t<e;++t)i[t].unbind(s)}}}}class X{constructor(t,e){this.behaviorCount=0,this.hasHostBehaviors=!1,this.fragment=null,this.targetOffset=0,this.viewBehaviorFactories=null,this.hostBehaviorFactories=null,this.html=t,this.directives=e}create(t){if(null===this.fragment){let t
const e=this.html
if("string"==typeof e){t=document.createElement("template"),t.innerHTML=b.createHTML(e)
const n=t.content.firstElementChild
null!==n&&"TEMPLATE"===n.tagName&&(t=n)}else t=e
const n=function(t,e){const n=t.content
document.adoptNode(n)
const i=U.borrow(e)
G(i,t,!0)
const s=i.behaviorFactories
i.reset()
const o=b.createTemplateWalker(n)
let r
for(;r=o.nextNode();)switch(i.targetIndex++,r.nodeType){case 1:G(i,r)
break
case 3:Z(i,r,o)
break
case 8:b.isMarker(r)&&i.addFactory(e[b.extractDirectiveIndexFromMarker(r)])}let a=0;(b.isMarker(n.firstChild)||1===n.childNodes.length&&e.length)&&(n.insertBefore(document.createComment(""),n.firstChild),a=-1)
const l=i.behaviorFactories
return i.release(),{fragment:n,viewBehaviorFactories:l,hostBehaviorFactories:s,targetOffset:a}}(t,this.directives)
this.fragment=n.fragment,this.viewBehaviorFactories=n.viewBehaviorFactories,this.hostBehaviorFactories=n.hostBehaviorFactories,this.targetOffset=n.targetOffset,this.behaviorCount=this.viewBehaviorFactories.length+this.hostBehaviorFactories.length,this.hasHostBehaviors=this.hostBehaviorFactories.length>0}const e=this.fragment.cloneNode(!0),n=this.viewBehaviorFactories,i=new Array(this.behaviorCount),s=b.createTemplateWalker(e)
let o=0,r=this.targetOffset,a=s.nextNode()
for(let t=n.length;o<t;++o){const t=n[o],e=t.targetIndex
for(;null!==a;){if(r===e){i[o]=t.createBehavior(a)
break}a=s.nextNode(),r++}}if(this.hasHostBehaviors){const e=this.hostBehaviorFactories
for(let n=0,s=e.length;n<s;++n,++o)i[o]=e[n].createBehavior(t)}return new Y(e,i)}render(t,e,n){"string"==typeof e&&(e=document.getElementById(e)),void 0===n&&(n=e)
const i=this.create(n)
return i.bind(t,I),i.appendTo(e),i}}const J=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/
function Q(t,...e){const n=[]
let i=""
for(let s=0,o=t.length-1;s<o;++s){const o=t[s]
let r=e[s]
if(i+=o,r instanceof X){const t=r
r=()=>t}if("function"==typeof r&&(r=new z(r)),r instanceof $){const t=J.exec(o)
null!==t&&(r.targetName=t[2])}r instanceof M?(i+=r.createPlaceholder(n.length),n.push(r)):i+=r}return i+=t[t.length-1],new X(i,n)}class tt{constructor(){this.targets=new WeakSet}addStylesTo(t){this.targets.add(t)}removeStylesFrom(t){this.targets.delete(t)}isAttachedTo(t){return this.targets.has(t)}withBehaviors(...t){return this.behaviors=null===this.behaviors?t:this.behaviors.concat(t),this}}function et(t){return t.map((t=>t instanceof tt?et(t.styles):[t])).reduce(((t,e)=>t.concat(e)),[])}function nt(t){return t.map((t=>t instanceof tt?t.behaviors:null)).reduce(((t,e)=>null===e?t:(null===t&&(t=[]),t.concat(e))),null)}tt.create=(()=>{if(b.supportsAdoptedStyleSheets){const t=new Map
return e=>new at(e,t)}return t=>new ct(t)})()
const it=Symbol("prependToAdoptedStyleSheets")
function st(t){const e=[],n=[]
return t.forEach((t=>(t[it]?e:n).push(t))),{prepend:e,append:n}}let ot=(t,e)=>{const{prepend:n,append:i}=st(e)
t.adoptedStyleSheets=[...n,...t.adoptedStyleSheets,...i]},rt=(t,e)=>{t.adoptedStyleSheets=t.adoptedStyleSheets.filter((t=>-1===e.indexOf(t)))}
if(b.supportsAdoptedStyleSheets)try{document.adoptedStyleSheets.push(),document.adoptedStyleSheets.splice(),ot=(t,e)=>{const{prepend:n,append:i}=st(e)
t.adoptedStyleSheets.splice(0,0,...n),t.adoptedStyleSheets.push(...i)},rt=(t,e)=>{for(const n of e){const e=t.adoptedStyleSheets.indexOf(n);-1!==e&&t.adoptedStyleSheets.splice(e,1)}}}catch(t){}class at extends tt{get styleSheets(){if(void 0===this._styleSheets){const t=this.styles,e=this.styleSheetCache
this._styleSheets=et(t).map((t=>{if(t instanceof CSSStyleSheet)return t
let n=e.get(t)
return void 0===n&&(n=new CSSStyleSheet,n.replaceSync(t),e.set(t,n)),n}))}return this._styleSheets}constructor(t,e){super(),this.styles=t,this.styleSheetCache=e,this._styleSheets=void 0,this.behaviors=nt(t)}addStylesTo(t){ot(t,this.styleSheets),super.addStylesTo(t)}removeStylesFrom(t){rt(t,this.styleSheets),super.removeStylesFrom(t)}}let lt=0
class ct extends tt{constructor(t){super(),this.styles=t,this.behaviors=null,this.behaviors=nt(t),this.styleSheets=et(t),this.styleClass="fast-style-class-"+ ++lt}addStylesTo(t){const e=this.styleSheets,n=this.styleClass
t=this.normalizeTarget(t)
for(let i=0;i<e.length;i++){const s=document.createElement("style")
s.innerHTML=e[i],s.className=n,t.append(s)}super.addStylesTo(t)}removeStylesFrom(t){const e=(t=this.normalizeTarget(t)).querySelectorAll(`.${this.styleClass}`)
for(let n=0,i=e.length;n<i;++n)t.removeChild(e[n])
super.removeStylesFrom(t)}isAttachedTo(t){return super.isAttachedTo(this.normalizeTarget(t))}normalizeTarget(t){return t===document?document.body:t}}const dt=Object.freeze({locate:h()}),ht={toView:t=>t?"true":"false",fromView:t=>null!=t&&"false"!==t&&!1!==t&&0!==t},ut={toView(t){if(null==t)return null
const e=1*t
return isNaN(e)?null:e.toString()},fromView(t){if(null==t)return null
const e=1*t
return isNaN(e)?null:e}}
class pt{constructor(t,e,n=e.toLowerCase(),i="reflect",s){this.guards=new Set,this.Owner=t,this.name=e,this.attribute=n,this.mode=i,this.converter=s,this.fieldName=`_${e}`,this.callbackName=`${e}Changed`,this.hasCallback=this.callbackName in t.prototype,"boolean"===i&&void 0===s&&(this.converter=ht)}setValue(t,e){const n=t[this.fieldName],i=this.converter
void 0!==i&&(e=i.fromView(e)),n!==e&&(t[this.fieldName]=e,this.tryReflectToAttribute(t),this.hasCallback&&t[this.callbackName](n,e),t.$fastController.notify(this.name))}getValue(t){return x.track(t,this.name),t[this.fieldName]}onAttributeChangedCallback(t,e){this.guards.has(t)||(this.guards.add(t),this.setValue(t,e),this.guards.delete(t))}tryReflectToAttribute(t){const e=this.mode,n=this.guards
n.has(t)||"fromView"===e||b.queueUpdate((()=>{n.add(t)
const i=t[this.fieldName]
switch(e){case"reflect":const e=this.converter
b.setAttribute(t,this.attribute,void 0!==e?e.toView(i):i)
break
case"boolean":b.setBooleanAttribute(t,this.attribute,i)}n.delete(t)}))}static collect(t,...e){const n=[]
e.push(dt.locate(t))
for(let i=0,s=e.length;i<s;++i){const s=e[i]
if(void 0!==s)for(let e=0,i=s.length;e<i;++e){const i=s[e]
"string"==typeof i?n.push(new pt(t,i)):n.push(new pt(t,i.property,i.attribute,i.mode,i.converter))}}return n}}function ft(t,e){let n
function i(t,e){arguments.length>1&&(n.property=e),dt.locate(t.constructor).push(n)}return arguments.length>1?(n={},void i(t,e)):(n=void 0===t?{}:t,i)}const mt={mode:"open"},gt={},vt=c.getById(4,(()=>{const t=new Map
return Object.freeze({register:e=>!t.has(e.type)&&(t.set(e.type,e),!0),getByType:e=>t.get(e)})}))
class bt{get isDefined(){return!!vt.getByType(this.type)}constructor(t,e=t.definition){"string"==typeof e&&(e={name:e}),this.type=t,this.name=e.name,this.template=e.template
const n=pt.collect(t,e.attributes),i=new Array(n.length),s={},o={}
for(let t=0,e=n.length;t<e;++t){const e=n[t]
i[t]=e.attribute,s[e.name]=e,o[e.attribute]=e}this.attributes=n,this.observedAttributes=i,this.propertyLookup=s,this.attributeLookup=o,this.shadowOptions=void 0===e.shadowOptions?mt:null===e.shadowOptions?void 0:Object.assign(Object.assign({},mt),e.shadowOptions),this.elementOptions=void 0===e.elementOptions?gt:Object.assign(Object.assign({},gt),e.elementOptions),this.styles=void 0===e.styles?void 0:Array.isArray(e.styles)?tt.create(e.styles):e.styles instanceof tt?e.styles:tt.create([e.styles])}define(t=customElements){const e=this.type
if(vt.register(this)){const t=this.attributes,n=e.prototype
for(let e=0,i=t.length;e<i;++e)x.defineProperty(n,t[e])
Reflect.defineProperty(e,"observedAttributes",{value:this.observedAttributes,enumerable:!0})}return t.get(this.name)||t.define(this.name,e,this.elementOptions),this}}bt.forType=vt.getByType
const yt=new WeakMap,wt={bubbles:!0,composed:!0,cancelable:!0}
function xt(t){return t.shadowRoot||yt.get(t)||null}class Ct extends w{get isConnected(){return x.track(this,"isConnected"),this._isConnected}setIsConnected(t){this._isConnected=t,x.notify(this,"isConnected")}get template(){return this._template}set template(t){this._template!==t&&(this._template=t,this.needsInitialization||this.renderTemplate(t))}get styles(){return this._styles}set styles(t){this._styles!==t&&(null!==this._styles&&this.removeStyles(this._styles),this._styles=t,this.needsInitialization||null===t||this.addStyles(t))}constructor(t,e){super(t),this.boundObservables=null,this.behaviors=null,this.needsInitialization=!0,this._template=null,this._styles=null,this._isConnected=!1,this.$fastController=this,this.view=null,this.element=t,this.definition=e
const n=e.shadowOptions
if(void 0!==n){const e=t.attachShadow(n)
"closed"===n.mode&&yt.set(t,e)}const i=x.getAccessors(t)
if(i.length>0){const e=this.boundObservables=Object.create(null)
for(let n=0,s=i.length;n<s;++n){const s=i[n].name,o=t[s]
void 0!==o&&(delete t[s],e[s]=o)}}}addStyles(t){const e=xt(this.element)||this.element.getRootNode()
if(t instanceof HTMLStyleElement)e.append(t)
else if(!t.isAttachedTo(e)){const n=t.behaviors
t.addStylesTo(e),null!==n&&this.addBehaviors(n)}}removeStyles(t){const e=xt(this.element)||this.element.getRootNode()
if(t instanceof HTMLStyleElement)e.removeChild(t)
else if(t.isAttachedTo(e)){const n=t.behaviors
t.removeStylesFrom(e),null!==n&&this.removeBehaviors(n)}}addBehaviors(t){const e=this.behaviors||(this.behaviors=new Map),n=t.length,i=[]
for(let s=0;s<n;++s){const n=t[s]
e.has(n)?e.set(n,e.get(n)+1):(e.set(n,1),i.push(n))}if(this._isConnected){const t=this.element
for(let e=0;e<i.length;++e)i[e].bind(t,I)}}removeBehaviors(t,e=!1){const n=this.behaviors
if(null===n)return
const i=t.length,s=[]
for(let o=0;o<i;++o){const i=t[o]
if(n.has(i)){const t=n.get(i)-1
0===t||e?n.delete(i)&&s.push(i):n.set(i,t)}}if(this._isConnected){const t=this.element
for(let e=0;e<s.length;++e)s[e].unbind(t)}}onConnectedCallback(){if(this._isConnected)return
const t=this.element
this.needsInitialization?this.finishInitialization():null!==this.view&&this.view.bind(t,I)
const e=this.behaviors
if(null!==e)for(const[n]of e)n.bind(t,I)
this.setIsConnected(!0)}onDisconnectedCallback(){if(!this._isConnected)return
this.setIsConnected(!1)
const t=this.view
null!==t&&t.unbind()
const e=this.behaviors
if(null!==e){const t=this.element
for(const[n]of e)n.unbind(t)}}onAttributeChangedCallback(t,e,n){const i=this.definition.attributeLookup[t]
void 0!==i&&i.onAttributeChangedCallback(this.element,n)}emit(t,e,n){return!!this._isConnected&&this.element.dispatchEvent(new CustomEvent(t,Object.assign(Object.assign({detail:e},wt),n)))}finishInitialization(){const t=this.element,e=this.boundObservables
if(null!==e){const n=Object.keys(e)
for(let i=0,s=n.length;i<s;++i){const s=n[i]
t[s]=e[s]}this.boundObservables=null}const n=this.definition
null===this._template&&(this.element.resolveTemplate?this._template=this.element.resolveTemplate():n.template&&(this._template=n.template||null)),null!==this._template&&this.renderTemplate(this._template),null===this._styles&&(this.element.resolveStyles?this._styles=this.element.resolveStyles():n.styles&&(this._styles=n.styles||null)),null!==this._styles&&this.addStyles(this._styles),this.needsInitialization=!1}renderTemplate(t){const e=this.element,n=xt(e)||e
null!==this.view?(this.view.dispose(),this.view=null):this.needsInitialization||b.removeChildNodes(n),t&&(this.view=t.render(e,n,e))}static forCustomElement(t){const e=t.$fastController
if(void 0!==e)return e
const n=bt.forType(t.constructor)
if(void 0===n)throw new Error("Missing FASTElement definition.")
return t.$fastController=new Ct(t,n)}}function kt(t){return class extends t{constructor(){super(),Ct.forCustomElement(this)}$emit(t,e,n){return this.$fastController.emit(t,e,n)}connectedCallback(){this.$fastController.onConnectedCallback()}disconnectedCallback(){this.$fastController.onDisconnectedCallback()}attributeChangedCallback(t,e,n){this.$fastController.onAttributeChangedCallback(t,e,n)}}}const St=Object.assign(kt(HTMLElement),{from:t=>kt(t),define:(t,e)=>new bt(t,e).define().type})
class _t{createCSS(){return""}createBehavior(){}}function It(t,e){const n=[]
let i=""
const s=[]
for(let o=0,r=t.length-1;o<r;++o){i+=t[o]
let r=e[o]
if(r instanceof _t){const t=r.createBehavior()
r=r.createCSS(),t&&s.push(t)}r instanceof tt||r instanceof CSSStyleSheet?(""!==i.trim()&&(n.push(i),i=""),n.push(r)):i+=r}return i+=t[t.length-1],""!==i.trim()&&n.push(i),{styles:n,behaviors:s}}function Mt(t,...e){const{styles:n,behaviors:i}=It(t,e),s=tt.create(n)
return i.length&&s.withBehaviors(...i),s}class $t extends _t{constructor(t,e){super(),this.behaviors=e,this.css=""
const n=t.reduce(((t,e)=>("string"==typeof e?this.css+=e:t.push(e),t)),[])
n.length&&(this.styles=tt.create(n))}createBehavior(){return this}createCSS(){return this.css}bind(t){this.styles&&t.$fastController.addStyles(this.styles),this.behaviors.length&&t.$fastController.addBehaviors(this.behaviors)}unbind(t){this.styles&&t.$fastController.removeStyles(this.styles),this.behaviors.length&&t.$fastController.removeBehaviors(this.behaviors)}}function Dt(t,...e){const{styles:n,behaviors:i}=It(t,e)
return new $t(n,i)}function Et(t,e,n){return{index:t,removed:e,addedCount:n}}const At=0,Tt=1,Ot=2,Rt=3
function Ft(t,e,n,i,s,o){let r=0,a=0
const l=Math.min(n-e,o-s)
if(0===e&&0===s&&(r=function(t,e,n){for(let i=0;i<n;++i)if(t[i]!==e[i])return i
return n}(t,i,l)),n===t.length&&o===i.length&&(a=function(t,e,n){let i=t.length,s=e.length,o=0
for(;o<n&&t[--i]===e[--s];)o++
return o}(t,i,l-r)),s+=r,o-=a,(n-=a)-(e+=r)==0&&o-s==0)return d
if(e===n){const t=Et(e,[],0)
for(;s<o;)t.removed.push(i[s++])
return[t]}if(s===o)return[Et(e,[],n-e)]
const c=function(t){let e=t.length-1,n=t[0].length-1,i=t[e][n]
const s=[]
for(;e>0||n>0;){if(0===e){s.push(Ot),n--
continue}if(0===n){s.push(Rt),e--
continue}const o=t[e-1][n-1],r=t[e-1][n],a=t[e][n-1]
let l
l=r<a?r<o?r:o:a<o?a:o,l===o?(o===i?s.push(At):(s.push(Tt),i=o),e--,n--):l===r?(s.push(Rt),e--,i=r):(s.push(Ot),n--,i=a)}return s.reverse(),s}(function(t,e,n,i,s,o){const r=o-s+1,a=n-e+1,l=new Array(r)
let c,d
for(let t=0;t<r;++t)l[t]=new Array(a),l[t][0]=t
for(let t=0;t<a;++t)l[0][t]=t
for(let n=1;n<r;++n)for(let o=1;o<a;++o)t[e+o-1]===i[s+n-1]?l[n][o]=l[n-1][o-1]:(c=l[n-1][o]+1,d=l[n][o-1]+1,l[n][o]=c<d?c:d)
return l}(t,e,n,i,s,o)),h=[]
let u,p=e,f=s
for(let t=0;t<c.length;++t)switch(c[t]){case At:void 0!==u&&(h.push(u),u=void 0),p++,f++
break
case Tt:void 0===u&&(u=Et(p,[],0)),u.addedCount++,p++,u.removed.push(i[f]),f++
break
case Ot:void 0===u&&(u=Et(p,[],0)),u.addedCount++,p++
break
case Rt:void 0===u&&(u=Et(p,[],0)),u.removed.push(i[f]),f++}return void 0!==u&&h.push(u),h}const Nt=Array.prototype.push
function Lt(t,e,n,i){const s=Et(e,n,i)
let o=!1,r=0
for(let e=0;e<t.length;e++){const n=t[e]
if(n.index+=r,o)continue
const i=(a=s.index,l=s.index+s.removed.length,c=n.index,d=n.index+n.addedCount,l<c||d<a?-1:l===c||d===a?0:a<c?l<d?l-c:d-c:d<l?d-a:l-a)
if(i>=0){t.splice(e,1),e--,r-=n.addedCount-n.removed.length,s.addedCount+=n.addedCount-i
const a=s.removed.length+n.removed.length-i
if(s.addedCount||a){let t=n.removed
if(s.index<n.index){const e=s.removed.slice(0,n.index-s.index)
Nt.apply(e,t),t=e}if(s.index+s.removed.length>n.index+n.addedCount){const e=s.removed.slice(n.index+n.addedCount-s.index)
Nt.apply(t,e)}s.removed=t,n.index<s.index&&(s.index=n.index)}else o=!0}else if(s.index<n.index){o=!0,t.splice(e,0,s),e++
const i=s.addedCount-s.removed.length
n.index+=i,r+=i}}var a,l,c,d
o||t.push(s)}function Bt(t,e){let n=[]
const i=function(t){const e=[]
for(let n=0,i=t.length;n<i;n++){const i=t[n]
Lt(e,i.index,i.removed,i.addedCount)}return e}(e)
for(let e=0,s=i.length;e<s;++e){const s=i[e]
1!==s.addedCount||1!==s.removed.length?n=n.concat(Ft(t,s.index,s.index+s.addedCount,s.removed,0,s.removed.length)):s.removed[0]!==t[s.index]&&n.push(s)}return n}let Pt=!1
function zt(t,e){let n=t.index
const i=e.length
return n>i?n=i-t.addedCount:n<0&&(n=i+t.removed.length+n-t.addedCount),n<0&&(n=0),t.index=n,t}class Vt extends y{constructor(t){super(t),this.oldCollection=void 0,this.splices=void 0,this.needsQueue=!0,this.call=this.flush,Reflect.defineProperty(t,"$fastController",{value:this,enumerable:!1})}subscribe(t){this.flush(),super.subscribe(t)}addSplice(t){void 0===this.splices?this.splices=[t]:this.splices.push(t),this.needsQueue&&(this.needsQueue=!1,b.queueUpdate(this))}reset(t){this.oldCollection=t,this.needsQueue&&(this.needsQueue=!1,b.queueUpdate(this))}flush(){const t=this.splices,e=this.oldCollection
if(void 0===t&&void 0===e)return
this.needsQueue=!0,this.splices=void 0,this.oldCollection=void 0
const n=void 0===e?Bt(this.source,t):Ft(this.source,0,this.source.length,e,0,e.length)
this.notify(n)}}class Ht{constructor(t,e){this.target=t,this.propertyName=e}bind(t){t[this.propertyName]=this.target}unbind(){}}function Ut(t){return new D("fast-ref",Ht,t)}const qt=t=>"function"==typeof t,jt=()=>null
function Wt(t){return void 0===t?jt:qt(t)?t:()=>t}function Gt(t,e,n){const i=qt(t)?t:()=>t,s=Wt(e),o=Wt(n)
return(t,e)=>i(t,e)?s(t,e):o(t,e)}const Zt=Object.freeze({positioning:!1,recycle:!0})
function Kt(t,e,n,i){t.bind(e[n],i)}function Yt(t,e,n,i){const s=Object.create(i)
s.index=n,s.length=e.length,t.bind(e[n],s)}class Xt{constructor(t,e,n,i,s,o){this.location=t,this.itemsBinding=e,this.templateBinding=i,this.options=o,this.source=null,this.views=[],this.items=null,this.itemsObserver=null,this.originalContext=void 0,this.childContext=void 0,this.bindView=Kt,this.itemsBindingObserver=x.binding(e,this,n),this.templateBindingObserver=x.binding(i,this,s),o.positioning&&(this.bindView=Yt)}bind(t,e){this.source=t,this.originalContext=e,this.childContext=Object.create(e),this.childContext.parent=t,this.childContext.parentContext=this.originalContext,this.items=this.itemsBindingObserver.observe(t,this.originalContext),this.template=this.templateBindingObserver.observe(t,this.originalContext),this.observeItems(!0),this.refreshAllViews()}unbind(){this.source=null,this.items=null,null!==this.itemsObserver&&this.itemsObserver.unsubscribe(this),this.unbindAllViews(),this.itemsBindingObserver.disconnect(),this.templateBindingObserver.disconnect()}handleChange(t,e){t===this.itemsBinding?(this.items=this.itemsBindingObserver.observe(this.source,this.originalContext),this.observeItems(),this.refreshAllViews()):t===this.templateBinding?(this.template=this.templateBindingObserver.observe(this.source,this.originalContext),this.refreshAllViews(!0)):this.updateViews(e)}observeItems(t=!1){if(!this.items)return void(this.items=d)
const e=this.itemsObserver,n=this.itemsObserver=x.getNotifier(this.items),i=e!==n
i&&null!==e&&e.unsubscribe(this),(i||t)&&n.subscribe(this)}updateViews(t){const e=this.childContext,n=this.views,i=this.bindView,s=this.items,o=this.template,r=this.options.recycle,a=[]
let l=0,c=0
for(let d=0,h=t.length;d<h;++d){const h=t[d],u=h.removed
let p=0,f=h.index
const m=f+h.addedCount,g=n.splice(h.index,u.length),v=c=a.length+g.length
for(;f<m;++f){const t=n[f],d=t?t.firstChild:this.location
let h
r&&c>0?(p<=v&&g.length>0?(h=g[p],p++):(h=a[l],l++),c--):h=o.create(),n.splice(f,0,h),i(h,s,f,e),h.insertBefore(d)}g[p]&&a.push(...g.slice(p))}for(let t=l,e=a.length;t<e;++t)a[t].dispose()
if(this.options.positioning)for(let t=0,e=n.length;t<e;++t){const i=n[t].context
i.length=e,i.index=t}}refreshAllViews(t=!1){const e=this.items,n=this.childContext,i=this.template,s=this.location,o=this.bindView
let r=e.length,a=this.views,l=a.length
if(0!==r&&!t&&this.options.recycle||(Y.disposeContiguousBatch(a),l=0),0===l){this.views=a=new Array(r)
for(let t=0;t<r;++t){const r=i.create()
o(r,e,t,n),a[t]=r,r.insertBefore(s)}}else{let t=0
for(;t<r;++t)if(t<l){o(a[t],e,t,n)}else{const r=i.create()
o(r,e,t,n),a.push(r),r.insertBefore(s)}const c=a.splice(t,l-t)
for(t=0,r=c.length;t<r;++t)c[t].dispose()}}unbindAllViews(){const t=this.views
for(let e=0,n=t.length;e<n;++e)t[e].unbind()}}class Jt extends M{constructor(t,e,n){super(),this.itemsBinding=t,this.templateBinding=e,this.options=n,this.createPlaceholder=b.createBlockPlaceholder,function(){if(Pt)return
Pt=!0,x.setArrayObserverFactory((t=>new Vt(t)))
const t=Array.prototype
if(t.$fastPatch)return
Reflect.defineProperty(t,"$fastPatch",{value:1,enumerable:!1})
const e=t.pop,n=t.push,i=t.reverse,s=t.shift,o=t.sort,r=t.splice,a=t.unshift
t.pop=function(){const t=this.length>0,n=e.apply(this,arguments),i=this.$fastController
return void 0!==i&&t&&i.addSplice(Et(this.length,[n],0)),n},t.push=function(){const t=n.apply(this,arguments),e=this.$fastController
return void 0!==e&&e.addSplice(zt(Et(this.length-arguments.length,[],arguments.length),this)),t},t.reverse=function(){let t
const e=this.$fastController
void 0!==e&&(e.flush(),t=this.slice())
const n=i.apply(this,arguments)
return void 0!==e&&e.reset(t),n},t.shift=function(){const t=this.length>0,e=s.apply(this,arguments),n=this.$fastController
return void 0!==n&&t&&n.addSplice(Et(0,[e],0)),e},t.sort=function(){let t
const e=this.$fastController
void 0!==e&&(e.flush(),t=this.slice())
const n=o.apply(this,arguments)
return void 0!==e&&e.reset(t),n},t.splice=function(){const t=r.apply(this,arguments),e=this.$fastController
return void 0!==e&&e.addSplice(zt(Et(+arguments[0],t,arguments.length>2?arguments.length-2:0),this)),t},t.unshift=function(){const t=a.apply(this,arguments),e=this.$fastController
return void 0!==e&&e.addSplice(zt(Et(0,[],arguments.length),this)),t}}(),this.isItemsBindingVolatile=x.isVolatileBinding(t),this.isTemplateBindingVolatile=x.isVolatileBinding(e)}createBehavior(t){return new Xt(t,this.itemsBinding,this.isItemsBindingVolatile,this.templateBinding,this.isTemplateBindingVolatile,this.options)}}function Qt(t,e,n=Zt){return new Jt(t,"function"==typeof e?e:()=>e,Object.assign(Object.assign({},Zt),n))}function te(t){return t?function(e,n,i){return 1===e.nodeType&&e.matches(t)}:function(t,e,n){return 1===t.nodeType}}class ee{constructor(t,e){this.target=t,this.options=e,this.source=null}bind(t){const e=this.options.property
this.shouldUpdate=x.getAccessors(t).some((t=>t.name===e)),this.source=t,this.updateTarget(this.computeNodes()),this.shouldUpdate&&this.observe()}unbind(){this.updateTarget(d),this.source=null,this.shouldUpdate&&this.disconnect()}handleEvent(){this.updateTarget(this.computeNodes())}computeNodes(){let t=this.getNodes()
return void 0!==this.options.filter&&(t=t.filter(this.options.filter)),t}updateTarget(t){this.source[this.options.property]=t}}class ne extends ee{constructor(t,e){super(t,e)}observe(){this.target.addEventListener("slotchange",this)}disconnect(){this.target.removeEventListener("slotchange",this)}getNodes(){return this.target.assignedNodes(this.options)}}function ie(t){return"string"==typeof t&&(t={property:t}),new D("fast-slotted",ne,t)}class se extends ee{constructor(t,e){super(t,e),this.observer=null,e.childList=!0}observe(){null===this.observer&&(this.observer=new MutationObserver(this.handleEvent.bind(this))),this.observer.observe(this.target,this.options)}disconnect(){this.observer.disconnect()}getNodes(){return"subtree"in this.options?Array.from(this.target.querySelectorAll(this.options.selector)):Array.from(this.target.childNodes)}}function oe(t){return"string"==typeof t&&(t={property:t}),new D("fast-children",se,t)}class re{handleStartContentChange(){this.startContainer.classList.toggle("start",this.start.assignedNodes().length>0)}handleEndContentChange(){this.endContainer.classList.toggle("end",this.end.assignedNodes().length>0)}}const ae=(t,e)=>Q`
    <span
        part="end"
        ${Ut("endContainer")}
        class=${t=>e.end?"end":void 0}
    >
        <slot name="end" ${Ut("end")} @slotchange="${t=>t.handleEndContentChange()}">
            ${e.end||""}
        </slot>
    </span>
`,le=(t,e)=>Q`
    <span
        part="start"
        ${Ut("startContainer")}
        class="${t=>e.start?"start":void 0}"
    >
        <slot
            name="start"
            ${Ut("start")}
            @slotchange="${t=>t.handleStartContentChange()}"
        >
            ${e.start||""}
        </slot>
    </span>
`
Q`
    <span part="end" ${Ut("endContainer")}>
        <slot
            name="end"
            ${Ut("end")}
            @slotchange="${t=>t.handleEndContentChange()}"
        ></slot>
    </span>
`,Q`
    <span part="start" ${Ut("startContainer")}>
        <slot
            name="start"
            ${Ut("start")}
            @slotchange="${t=>t.handleStartContentChange()}"
        ></slot>
    </span>
`
const ce=new Map
"metadata"in Reflect||(Reflect.metadata=function(t,e){return function(n){Reflect.defineMetadata(t,e,n)}},Reflect.defineMetadata=function(t,e,n){let i=ce.get(n)
void 0===i&&ce.set(n,i=new Map),i.set(t,e)},Reflect.getOwnMetadata=function(t,e){const n=ce.get(e)
if(void 0!==n)return n.get(t)})
class de{constructor(t,e){this.container=t,this.key=e}instance(t){return this.registerResolver(0,t)}singleton(t){return this.registerResolver(1,t)}transient(t){return this.registerResolver(2,t)}callback(t){return this.registerResolver(3,t)}cachedCallback(t){return this.registerResolver(3,Te(t))}aliasTo(t){return this.registerResolver(5,t)}registerResolver(t,e){const{container:n,key:i}=this
return this.container=this.key=void 0,n.registerResolver(i,new we(i,t,e))}}function he(t){const e=t.slice(),n=Object.keys(t),i=n.length
let s
for(let o=0;o<i;++o)s=n[o],ze(s)||(e[s]=t[s])
return e}const ue=Object.freeze({none(t){throw Error(`${t.toString()} not registered, did you forget to add @singleton()?`)},singleton:t=>new we(t,1,t),transient:t=>new we(t,2,t)}),pe=Object.freeze({default:Object.freeze({parentLocator:()=>null,responsibleForOwnerRequests:!1,defaultResolver:ue.singleton})}),fe=new Map
function me(t){return e=>Reflect.getOwnMetadata(t,e)}let ge=null
const ve=Object.freeze({createContainer:t=>new Ee(null,Object.assign({},pe.default,t)),findResponsibleContainer(t){const e=t.$$container$$
return e&&e.responsibleForOwnerRequests?e:ve.findParentContainer(t)},findParentContainer(t){const e=new CustomEvent($e,{bubbles:!0,composed:!0,cancelable:!0,detail:{container:void 0}})
return t.dispatchEvent(e),e.detail.container||ve.getOrCreateDOMContainer()},getOrCreateDOMContainer:(t,e)=>t?t.$$container$$||new Ee(t,Object.assign({},pe.default,e,{parentLocator:ve.findParentContainer})):ge||(ge=new Ee(null,Object.assign({},pe.default,e,{parentLocator:()=>null}))),getDesignParamtypes:me("design:paramtypes"),getAnnotationParamtypes:me("di:paramtypes"),getOrCreateAnnotationParamTypes(t){let e=this.getAnnotationParamtypes(t)
return void 0===e&&Reflect.defineMetadata("di:paramtypes",e=[],t),e},getDependencies(t){let e=fe.get(t)
if(void 0===e){const n=t.inject
if(void 0===n){const n=ve.getDesignParamtypes(t),i=ve.getAnnotationParamtypes(t)
if(void 0===n)if(void 0===i){const n=Object.getPrototypeOf(t)
e="function"==typeof n&&n!==Function.prototype?he(ve.getDependencies(n)):[]}else e=he(i)
else if(void 0===i)e=he(n)
else{e=he(n)
let t,s=i.length
for(let n=0;n<s;++n)t=i[n],void 0!==t&&(e[n]=t)
const o=Object.keys(i)
let r
s=o.length
for(let t=0;t<s;++t)r=o[t],ze(r)||(e[r]=i[r])}}else e=he(n)
fe.set(t,e)}return e},defineProperty(t,e,n,i=!1){const s=`$di_${e}`
Reflect.defineProperty(t,e,{get:function(){let t=this[s]
if(void 0===t){const o=this instanceof HTMLElement?ve.findResponsibleContainer(this):ve.getOrCreateDOMContainer()
if(t=o.get(n),this[s]=t,i&&this instanceof St){const i=this.$fastController,o=()=>{ve.findResponsibleContainer(this).get(n)!==this[s]&&(this[s]=t,i.notify(e))}
i.subscribe({handleChange:o},"isConnected")}}return t}})},createInterface(t,e){const n="function"==typeof t?t:e,i="string"==typeof t?t:t&&"friendlyName"in t&&t.friendlyName||Ne,s="string"!=typeof t&&(t&&"respectConnection"in t&&t.respectConnection||!1),o=function(t,e,n){if(null==t||void 0!==new.target)throw new Error(`No registration for interface: '${o.friendlyName}'`)
if(e)ve.defineProperty(t,e,o,s)
else{ve.getOrCreateAnnotationParamTypes(t)[n]=o}}
return o.$isInterface=!0,o.friendlyName=null==i?"(anonymous)":i,null!=n&&(o.register=function(t,e){return n(new de(t,null!=e?e:o))}),o.toString=function(){return`InterfaceSymbol<${o.friendlyName}>`},o},inject:(...t)=>function(e,n,i){if("number"==typeof i){const n=ve.getOrCreateAnnotationParamTypes(e),s=t[0]
void 0!==s&&(n[i]=s)}else if(n)ve.defineProperty(e,n,t[0])
else{const n=i?ve.getOrCreateAnnotationParamTypes(i.value):ve.getOrCreateAnnotationParamTypes(e)
let s
for(let e=0;e<t.length;++e)s=t[e],void 0!==s&&(n[e]=s)}},transient:t=>(t.register=function(e){return Oe.transient(t,t).register(e)},t.registerInRequestor=!1,t),singleton:(t,e=ye)=>(t.register=function(e){return Oe.singleton(t,t).register(e)},t.registerInRequestor=e.scoped,t)}),be=ve.createInterface("Container")
ve.inject
const ye={scoped:!1}
class we{constructor(t,e,n){this.key=t,this.strategy=e,this.state=n,this.resolving=!1}get $isResolver(){return!0}register(t){return t.registerResolver(this.key,this)}resolve(t,e){switch(this.strategy){case 0:return this.state
case 1:if(this.resolving)throw new Error(`Cyclic dependency found: ${this.state.name}`)
return this.resolving=!0,this.state=t.getFactory(this.state).construct(e),this.strategy=0,this.resolving=!1,this.state
case 2:{const n=t.getFactory(this.state)
if(null===n)throw new Error(`Resolver for ${String(this.key)} returned a null factory`)
return n.construct(e)}case 3:return this.state(t,e,this)
case 4:return this.state[0].resolve(t,e)
case 5:return e.get(this.state)
default:throw new Error(`Invalid resolver strategy specified: ${this.strategy}.`)}}getFactory(t){var e,n,i
switch(this.strategy){case 1:case 2:return t.getFactory(this.state)
case 5:return null!==(i=null===(n=null===(e=t.getResolver(this.state))||void 0===e?void 0:e.getFactory)||void 0===n?void 0:n.call(e,t))&&void 0!==i?i:null
default:return null}}}function xe(t){return this.get(t)}function Ce(t,e){return e(t)}class ke{constructor(t,e){this.Type=t,this.dependencies=e,this.transformers=null}construct(t,e){let n
return n=void 0===e?new this.Type(...this.dependencies.map(xe,t)):new this.Type(...this.dependencies.map(xe,t),...e),null==this.transformers?n:this.transformers.reduce(Ce,n)}registerTransformer(t){(this.transformers||(this.transformers=[])).push(t)}}const Se={$isResolver:!0,resolve:(t,e)=>e}
function _e(t){return"function"==typeof t.register}function Ie(t){return function(t){return _e(t)&&"boolean"==typeof t.registerInRequestor}(t)&&t.registerInRequestor}const Me=new Set(["Array","ArrayBuffer","Boolean","DataView","Date","Error","EvalError","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Number","Object","Promise","RangeError","ReferenceError","RegExp","Set","SharedArrayBuffer","String","SyntaxError","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet"]),$e="__DI_LOCATE_PARENT__",De=new Map
class Ee{get parent(){return void 0===this._parent&&(this._parent=this.config.parentLocator(this.owner)),this._parent}get depth(){return null===this.parent?0:this.parent.depth+1}get responsibleForOwnerRequests(){return this.config.responsibleForOwnerRequests}constructor(t,e){this.owner=t,this.config=e,this._parent=void 0,this.registerDepth=0,this.context=null,null!==t&&(t.$$container$$=this),this.resolvers=new Map,this.resolvers.set(be,Se),t instanceof Node&&t.addEventListener($e,(t=>{t.composedPath()[0]!==this.owner&&(t.detail.container=this,t.stopImmediatePropagation())}))}registerWithContext(t,...e){return this.context=t,this.register(...e),this.context=null,this}register(...t){if(100==++this.registerDepth)throw new Error("Unable to autoregister dependency")
let e,n,i,s,o
const r=this.context
for(let a=0,l=t.length;a<l;++a)if(e=t[a],Le(e))if(_e(e))e.register(this,r)
else if(void 0!==e.prototype)Oe.singleton(e,e).register(this)
else for(n=Object.keys(e),s=0,o=n.length;s<o;++s)i=e[n[s]],Le(i)&&(_e(i)?i.register(this,r):this.register(i))
return--this.registerDepth,this}registerResolver(t,e){Re(t)
const n=this.resolvers,i=n.get(t)
return null==i?n.set(t,e):i instanceof we&&4===i.strategy?i.state.push(e):n.set(t,new we(t,4,[i,e])),e}registerTransformer(t,e){const n=this.getResolver(t)
if(null==n)return!1
if(n.getFactory){const t=n.getFactory(this)
return null!=t&&(t.registerTransformer(e),!0)}return!1}getResolver(t,e=!0){if(Re(t),void 0!==t.resolve)return t
let n,i=this
for(;null!=i;){if(n=i.resolvers.get(t),null!=n)return n
if(null==i.parent){const n=Ie(t)?this:i
return e?this.jitRegister(t,n):null}i=i.parent}return null}has(t,e=!1){return!!this.resolvers.has(t)||!(!e||null==this.parent)&&this.parent.has(t,!0)}get(t){if(Re(t),t.$isResolver)return t.resolve(this,this)
let e,n=this
for(;null!=n;){if(e=n.resolvers.get(t),null!=e)return e.resolve(n,this)
if(null==n.parent){const i=Ie(t)?this:n
return e=this.jitRegister(t,i),e.resolve(n,this)}n=n.parent}throw new Error(`Unable to resolve key: ${String(t)}`)}getAll(t,e=!1){Re(t)
const n=this
let i,s=n
if(e){let e=d
for(;null!=s;)i=s.resolvers.get(t),null!=i&&(e=e.concat(Fe(i,s,n))),s=s.parent
return e}for(;null!=s;){if(i=s.resolvers.get(t),null!=i)return Fe(i,s,n)
if(s=s.parent,null==s)return d}return d}getFactory(t){let e=De.get(t)
if(void 0===e){if(Be(t))throw new Error(`${t.name} is a native function and therefore cannot be safely constructed by DI. If this is intentional, please use a callback or cachedCallback resolver.`)
De.set(t,e=new ke(t,ve.getDependencies(t)))}return e}registerFactory(t,e){De.set(t,e)}createChild(t){return new Ee(null,Object.assign({},this.config,t,{parentLocator:()=>this}))}jitRegister(t,e){if("function"!=typeof t)throw new Error(`Attempted to jitRegister something that is not a constructor: '${t}'. Did you forget to register this dependency?`)
if(Me.has(t.name))throw new Error(`Attempted to jitRegister an intrinsic type: ${t.name}. Did you forget to add @inject(Key)`)
if(_e(t)){const n=t.register(e)
if(!(n instanceof Object)||null==n.resolve){const n=e.resolvers.get(t)
if(null!=n)return n
throw new Error("A valid resolver was not returned from the static register method")}return n}if(t.$isInterface)throw new Error(`Attempted to jitRegister an interface: ${t.friendlyName}`)
{const n=this.config.defaultResolver(t,e)
return e.resolvers.set(t,n),n}}}const Ae=new WeakMap
function Te(t){return function(e,n,i){if(Ae.has(i))return Ae.get(i)
const s=t(e,n,i)
return Ae.set(i,s),s}}const Oe=Object.freeze({instance:(t,e)=>new we(t,0,e),singleton:(t,e)=>new we(t,1,e),transient:(t,e)=>new we(t,2,e),callback:(t,e)=>new we(t,3,e),cachedCallback:(t,e)=>new we(t,3,Te(e)),aliasTo:(t,e)=>new we(e,5,t)})
function Re(t){if(null==t)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}function Fe(t,e,n){if(t instanceof we&&4===t.strategy){const i=t.state
let s=i.length
const o=new Array(s)
for(;s--;)o[s]=i[s].resolve(e,n)
return o}return[t.resolve(e,n)]}const Ne="(anonymous)"
function Le(t){return"object"==typeof t&&null!==t||"function"==typeof t}const Be=function(){const t=new WeakMap
let e=!1,n="",i=0
return function(s){return e=t.get(s),void 0===e&&(n=s.toString(),i=n.length,e=i>=29&&i<=100&&125===n.charCodeAt(i-1)&&n.charCodeAt(i-2)<=32&&93===n.charCodeAt(i-3)&&101===n.charCodeAt(i-4)&&100===n.charCodeAt(i-5)&&111===n.charCodeAt(i-6)&&99===n.charCodeAt(i-7)&&32===n.charCodeAt(i-8)&&101===n.charCodeAt(i-9)&&118===n.charCodeAt(i-10)&&105===n.charCodeAt(i-11)&&116===n.charCodeAt(i-12)&&97===n.charCodeAt(i-13)&&110===n.charCodeAt(i-14)&&88===n.charCodeAt(i-15),t.set(s,e)),e}}(),Pe={}
function ze(t){switch(typeof t){case"number":return t>=0&&(0|t)===t
case"string":{const e=Pe[t]
if(void 0!==e)return e
const n=t.length
if(0===n)return Pe[t]=!1
let i=0
for(let e=0;e<n;++e)if(i=t.charCodeAt(e),0===e&&48===i&&n>1||i<48||i>57)return Pe[t]=!1
return Pe[t]=!0}default:return!1}}function Ve(t){return`${t.toLowerCase()}:presentation`}const He=new Map,Ue=Object.freeze({define(t,e,n){const i=Ve(t)
void 0===He.get(i)?He.set(i,e):He.set(i,!1),n.register(Oe.instance(i,e))},forTag(t,e){const n=Ve(t),i=He.get(n)
if(!1===i){return ve.findResponsibleContainer(e).get(n)}return i||null}})
class qe{constructor(t,e){this.template=t||null,this.styles=void 0===e?null:Array.isArray(e)?tt.create(e):e instanceof tt?e:tt.create([e])}applyTo(t){const e=t.$fastController
null===e.template&&(e.template=this.template),null===e.styles&&(e.styles=this.styles)}}class je extends St{constructor(){super(...arguments),this._presentation=void 0}get $presentation(){return void 0===this._presentation&&(this._presentation=Ue.forTag(this.tagName,this)),this._presentation}templateChanged(){void 0!==this.template&&(this.$fastController.template=this.template)}stylesChanged(){void 0!==this.styles&&(this.$fastController.styles=this.styles)}connectedCallback(){null!==this.$presentation&&this.$presentation.applyTo(this),super.connectedCallback()}static compose(t){return(e={})=>new Ge(this===je?class extends je{}:this,t,e)}}function We(t,e,n){return"function"==typeof t?t(e,n):t}t([C],je.prototype,"template",void 0),t([C],je.prototype,"styles",void 0)
class Ge{constructor(t,e,n){this.type=t,this.elementDefinition=e,this.overrideDefinition=n,this.definition=Object.assign(Object.assign({},this.elementDefinition),this.overrideDefinition)}register(t,e){const n=this.definition,i=this.overrideDefinition,s=`${n.prefix||e.elementPrefix}-${n.baseName}`
e.tryDefineElement({name:s,type:this.type,baseClass:this.elementDefinition.baseClass,callback:t=>{const e=new qe(We(n.template,t,n),We(n.styles,t,n))
t.definePresentation(e)
let s=We(n.shadowOptions,t,n)
t.shadowRootMode&&(s?i.shadowOptions||(s.mode=t.shadowRootMode):null!==s&&(s={mode:t.shadowRootMode})),t.defineElement({elementOptions:We(n.elementOptions,t,n),shadowOptions:s,attributes:We(n.attributes,t,n)})}})}}function Ze(t,...e){const n=dt.locate(t)
e.forEach((e=>{Object.getOwnPropertyNames(e.prototype).forEach((n=>{"constructor"!==n&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype,n))}))
dt.locate(e).forEach((t=>n.push(t)))}))}const Ke="horizontal",Ye="vertical"
function Xe(t,e){let n=t.length
for(;n--;)if(e(t[n],n,t))return n
return-1}function Je(...t){return t.every((t=>t instanceof HTMLElement))}let Qe
const tn="animationend",en="change",nn="resize",sn="scroll"
var on
!function(t){t[t.alt=18]="alt",t[t.arrowDown=40]="arrowDown",t[t.arrowLeft=37]="arrowLeft",t[t.arrowRight=39]="arrowRight",t[t.arrowUp=38]="arrowUp",t[t.back=8]="back",t[t.backSlash=220]="backSlash",t[t.break=19]="break",t[t.capsLock=20]="capsLock",t[t.closeBracket=221]="closeBracket",t[t.colon=186]="colon",t[t.colon2=59]="colon2",t[t.comma=188]="comma",t[t.ctrl=17]="ctrl",t[t.delete=46]="delete",t[t.end=35]="end",t[t.enter=13]="enter",t[t.equals=187]="equals",t[t.equals2=61]="equals2",t[t.equals3=107]="equals3",t[t.escape=27]="escape",t[t.forwardSlash=191]="forwardSlash",t[t.function1=112]="function1",t[t.function10=121]="function10",t[t.function11=122]="function11",t[t.function12=123]="function12",t[t.function2=113]="function2",t[t.function3=114]="function3",t[t.function4=115]="function4",t[t.function5=116]="function5",t[t.function6=117]="function6",t[t.function7=118]="function7",t[t.function8=119]="function8",t[t.function9=120]="function9",t[t.home=36]="home",t[t.insert=45]="insert",t[t.menu=93]="menu",t[t.minus=189]="minus",t[t.minus2=109]="minus2",t[t.numLock=144]="numLock",t[t.numPad0=96]="numPad0",t[t.numPad1=97]="numPad1",t[t.numPad2=98]="numPad2",t[t.numPad3=99]="numPad3",t[t.numPad4=100]="numPad4",t[t.numPad5=101]="numPad5",t[t.numPad6=102]="numPad6",t[t.numPad7=103]="numPad7",t[t.numPad8=104]="numPad8",t[t.numPad9=105]="numPad9",t[t.numPadDivide=111]="numPadDivide",t[t.numPadDot=110]="numPadDot",t[t.numPadMinus=109]="numPadMinus",t[t.numPadMultiply=106]="numPadMultiply",t[t.numPadPlus=107]="numPadPlus",t[t.openBracket=219]="openBracket",t[t.pageDown=34]="pageDown",t[t.pageUp=33]="pageUp",t[t.period=190]="period",t[t.print=44]="print",t[t.quote=222]="quote",t[t.scrollLock=145]="scrollLock",t[t.shift=16]="shift",t[t.space=32]="space",t[t.tab=9]="tab",t[t.tilde=192]="tilde",t[t.windowsLeft=91]="windowsLeft",t[t.windowsOpera=219]="windowsOpera",t[t.windowsRight=92]="windowsRight"}(on||(on={}))
const rn="ArrowDown",an="ArrowLeft",ln="ArrowRight",cn="ArrowUp",dn="Enter",hn="Escape",un="Home",pn="End",fn="PageDown",mn="PageUp",gn=" ",vn="Tab",bn={ArrowDown:rn,ArrowLeft:an,ArrowRight:ln,ArrowUp:cn}
var yn
function wn(t,e,n){return Math.min(Math.max(n,t),e)}function xn(t,e,n=0){return[e,n]=[e,n].sort(((t,e)=>t-e)),e<=t&&t<n}!function(t){t.ltr="ltr",t.rtl="rtl"}(yn||(yn={}))
let Cn=0
function kn(t=""){return`${t}${Cn++}`}class Sn{}t([ft({attribute:"aria-atomic"})],Sn.prototype,"ariaAtomic",void 0),t([ft({attribute:"aria-busy"})],Sn.prototype,"ariaBusy",void 0),t([ft({attribute:"aria-controls"})],Sn.prototype,"ariaControls",void 0),t([ft({attribute:"aria-current"})],Sn.prototype,"ariaCurrent",void 0),t([ft({attribute:"aria-describedby"})],Sn.prototype,"ariaDescribedby",void 0),t([ft({attribute:"aria-details"})],Sn.prototype,"ariaDetails",void 0),t([ft({attribute:"aria-disabled"})],Sn.prototype,"ariaDisabled",void 0),t([ft({attribute:"aria-errormessage"})],Sn.prototype,"ariaErrormessage",void 0),t([ft({attribute:"aria-flowto"})],Sn.prototype,"ariaFlowto",void 0),t([ft({attribute:"aria-haspopup"})],Sn.prototype,"ariaHaspopup",void 0),t([ft({attribute:"aria-hidden"})],Sn.prototype,"ariaHidden",void 0),t([ft({attribute:"aria-invalid"})],Sn.prototype,"ariaInvalid",void 0),t([ft({attribute:"aria-keyshortcuts"})],Sn.prototype,"ariaKeyshortcuts",void 0),t([ft({attribute:"aria-label"})],Sn.prototype,"ariaLabel",void 0),t([ft({attribute:"aria-labelledby"})],Sn.prototype,"ariaLabelledby",void 0),t([ft({attribute:"aria-live"})],Sn.prototype,"ariaLive",void 0),t([ft({attribute:"aria-owns"})],Sn.prototype,"ariaOwns",void 0),t([ft({attribute:"aria-relevant"})],Sn.prototype,"ariaRelevant",void 0),t([ft({attribute:"aria-roledescription"})],Sn.prototype,"ariaRoledescription",void 0)
let _n=class extends je{constructor(){super(...arguments),this.handleUnsupportedDelegatesFocus=()=>{var t
window.ShadowRoot&&!window.ShadowRoot.prototype.hasOwnProperty("delegatesFocus")&&(null===(t=this.$fastController.definition.shadowOptions)||void 0===t?void 0:t.delegatesFocus)&&(this.focus=()=>{var t
null===(t=this.control)||void 0===t||t.focus()})}}connectedCallback(){super.connectedCallback(),this.handleUnsupportedDelegatesFocus()}}
t([ft],_n.prototype,"download",void 0),t([ft],_n.prototype,"href",void 0),t([ft],_n.prototype,"hreflang",void 0),t([ft],_n.prototype,"ping",void 0),t([ft],_n.prototype,"referrerpolicy",void 0),t([ft],_n.prototype,"rel",void 0),t([ft],_n.prototype,"target",void 0),t([ft],_n.prototype,"type",void 0),t([C],_n.prototype,"defaultSlottedContent",void 0)
class In{}t([ft({attribute:"aria-expanded"})],In.prototype,"ariaExpanded",void 0),Ze(In,Sn),Ze(_n,re,In)
const Mn=t=>{const e=t.closest("[dir]")
return null!==e&&"rtl"===e.dir?yn.rtl:yn.ltr}
let $n=class t extends je{constructor(){super(...arguments),this.anchor="",this.viewport="",this.horizontalPositioningMode="uncontrolled",this.horizontalDefaultPosition="unset",this.horizontalViewportLock=!1,this.horizontalInset=!1,this.horizontalScaling="content",this.verticalPositioningMode="uncontrolled",this.verticalDefaultPosition="unset",this.verticalViewportLock=!1,this.verticalInset=!1,this.verticalScaling="content",this.fixedPlacement=!1,this.autoUpdateMode="anchor",this.anchorElement=null,this.viewportElement=null,this.initialLayoutComplete=!1,this.resizeDetector=null,this.baseHorizontalOffset=0,this.baseVerticalOffset=0,this.pendingPositioningUpdate=!1,this.pendingReset=!1,this.currentDirection=yn.ltr,this.regionVisible=!1,this.forceUpdate=!1,this.updateThreshold=.5,this.update=()=>{this.pendingPositioningUpdate||this.requestPositionUpdates()},this.startObservers=()=>{this.stopObservers(),null!==this.anchorElement&&(this.requestPositionUpdates(),null!==this.resizeDetector&&(this.resizeDetector.observe(this.anchorElement),this.resizeDetector.observe(this)))},this.requestPositionUpdates=()=>{null===this.anchorElement||this.pendingPositioningUpdate||(t.intersectionService.requestPosition(this,this.handleIntersection),t.intersectionService.requestPosition(this.anchorElement,this.handleIntersection),null!==this.viewportElement&&t.intersectionService.requestPosition(this.viewportElement,this.handleIntersection),this.pendingPositioningUpdate=!0)},this.stopObservers=()=>{this.pendingPositioningUpdate&&(this.pendingPositioningUpdate=!1,t.intersectionService.cancelRequestPosition(this,this.handleIntersection),null!==this.anchorElement&&t.intersectionService.cancelRequestPosition(this.anchorElement,this.handleIntersection),null!==this.viewportElement&&t.intersectionService.cancelRequestPosition(this.viewportElement,this.handleIntersection)),null!==this.resizeDetector&&this.resizeDetector.disconnect()},this.getViewport=()=>"string"!=typeof this.viewport||""===this.viewport?document.documentElement:document.getElementById(this.viewport),this.getAnchor=()=>document.getElementById(this.anchor),this.handleIntersection=t=>{this.pendingPositioningUpdate&&(this.pendingPositioningUpdate=!1,this.applyIntersectionEntries(t)&&this.updateLayout())},this.applyIntersectionEntries=t=>{const e=t.find((t=>t.target===this)),n=t.find((t=>t.target===this.anchorElement)),i=t.find((t=>t.target===this.viewportElement))
return void 0!==e&&void 0!==i&&void 0!==n&&(!!(!this.regionVisible||this.forceUpdate||void 0===this.regionRect||void 0===this.anchorRect||void 0===this.viewportRect||this.isRectDifferent(this.anchorRect,n.boundingClientRect)||this.isRectDifferent(this.viewportRect,i.boundingClientRect)||this.isRectDifferent(this.regionRect,e.boundingClientRect))&&(this.regionRect=e.boundingClientRect,this.anchorRect=n.boundingClientRect,this.viewportElement===document.documentElement?this.viewportRect=new DOMRectReadOnly(i.boundingClientRect.x+document.documentElement.scrollLeft,i.boundingClientRect.y+document.documentElement.scrollTop,i.boundingClientRect.width,i.boundingClientRect.height):this.viewportRect=i.boundingClientRect,this.updateRegionOffset(),this.forceUpdate=!1,!0))},this.updateRegionOffset=()=>{this.anchorRect&&this.regionRect&&(this.baseHorizontalOffset=this.baseHorizontalOffset+(this.anchorRect.left-this.regionRect.left)+(this.translateX-this.baseHorizontalOffset),this.baseVerticalOffset=this.baseVerticalOffset+(this.anchorRect.top-this.regionRect.top)+(this.translateY-this.baseVerticalOffset))},this.isRectDifferent=(t,e)=>Math.abs(t.top-e.top)>this.updateThreshold||Math.abs(t.right-e.right)>this.updateThreshold||Math.abs(t.bottom-e.bottom)>this.updateThreshold||Math.abs(t.left-e.left)>this.updateThreshold,this.handleResize=t=>{this.update()},this.reset=()=>{this.pendingReset&&(this.pendingReset=!1,null===this.anchorElement&&(this.anchorElement=this.getAnchor()),null===this.viewportElement&&(this.viewportElement=this.getViewport()),this.currentDirection=Mn(this),this.startObservers())},this.updateLayout=()=>{let t,e
if("uncontrolled"!==this.horizontalPositioningMode){const t=this.getPositioningOptions(this.horizontalInset)
if("center"===this.horizontalDefaultPosition)e="center"
else if("unset"!==this.horizontalDefaultPosition){let t=this.horizontalDefaultPosition
if("start"===t||"end"===t){const e=Mn(this)
if(e!==this.currentDirection)return this.currentDirection=e,void this.initialize()
t=this.currentDirection===yn.ltr?"start"===t?"left":"right":"start"===t?"right":"left"}switch(t){case"left":e=this.horizontalInset?"insetStart":"start"
break
case"right":e=this.horizontalInset?"insetEnd":"end"}}const n=void 0!==this.horizontalThreshold?this.horizontalThreshold:void 0!==this.regionRect?this.regionRect.width:0,i=void 0!==this.anchorRect?this.anchorRect.left:0,s=void 0!==this.anchorRect?this.anchorRect.right:0,o=void 0!==this.anchorRect?this.anchorRect.width:0,r=void 0!==this.viewportRect?this.viewportRect.left:0,a=void 0!==this.viewportRect?this.viewportRect.right:0;(void 0===e||"locktodefault"!==this.horizontalPositioningMode&&this.getAvailableSpace(e,i,s,o,r,a)<n)&&(e=this.getAvailableSpace(t[0],i,s,o,r,a)>this.getAvailableSpace(t[1],i,s,o,r,a)?t[0]:t[1])}if("uncontrolled"!==this.verticalPositioningMode){const e=this.getPositioningOptions(this.verticalInset)
if("center"===this.verticalDefaultPosition)t="center"
else if("unset"!==this.verticalDefaultPosition)switch(this.verticalDefaultPosition){case"top":t=this.verticalInset?"insetStart":"start"
break
case"bottom":t=this.verticalInset?"insetEnd":"end"}const n=void 0!==this.verticalThreshold?this.verticalThreshold:void 0!==this.regionRect?this.regionRect.height:0,i=void 0!==this.anchorRect?this.anchorRect.top:0,s=void 0!==this.anchorRect?this.anchorRect.bottom:0,o=void 0!==this.anchorRect?this.anchorRect.height:0,r=void 0!==this.viewportRect?this.viewportRect.top:0,a=void 0!==this.viewportRect?this.viewportRect.bottom:0;(void 0===t||"locktodefault"!==this.verticalPositioningMode&&this.getAvailableSpace(t,i,s,o,r,a)<n)&&(t=this.getAvailableSpace(e[0],i,s,o,r,a)>this.getAvailableSpace(e[1],i,s,o,r,a)?e[0]:e[1])}const n=this.getNextRegionDimension(e,t),i=this.horizontalPosition!==e||this.verticalPosition!==t
if(this.setHorizontalPosition(e,n),this.setVerticalPosition(t,n),this.updateRegionStyle(),!this.initialLayoutComplete)return this.initialLayoutComplete=!0,void this.requestPositionUpdates()
this.regionVisible||(this.regionVisible=!0,this.style.removeProperty("pointer-events"),this.style.removeProperty("opacity"),this.classList.toggle("loaded",!0),this.$emit("loaded",this,{bubbles:!1})),this.updatePositionClasses(),i&&this.$emit("positionchange",this,{bubbles:!1})},this.updateRegionStyle=()=>{this.style.width=this.regionWidth,this.style.height=this.regionHeight,this.style.transform=`translate(${this.translateX}px, ${this.translateY}px)`},this.updatePositionClasses=()=>{this.classList.toggle("top","start"===this.verticalPosition),this.classList.toggle("bottom","end"===this.verticalPosition),this.classList.toggle("inset-top","insetStart"===this.verticalPosition),this.classList.toggle("inset-bottom","insetEnd"===this.verticalPosition),this.classList.toggle("vertical-center","center"===this.verticalPosition),this.classList.toggle("left","start"===this.horizontalPosition),this.classList.toggle("right","end"===this.horizontalPosition),this.classList.toggle("inset-left","insetStart"===this.horizontalPosition),this.classList.toggle("inset-right","insetEnd"===this.horizontalPosition),this.classList.toggle("horizontal-center","center"===this.horizontalPosition)},this.setHorizontalPosition=(t,e)=>{if(void 0===t||void 0===this.regionRect||void 0===this.anchorRect||void 0===this.viewportRect)return
let n=0
switch(this.horizontalScaling){case"anchor":case"fill":n=this.horizontalViewportLock?this.viewportRect.width:e.width,this.regionWidth=`${n}px`
break
case"content":n=this.regionRect.width,this.regionWidth="unset"}let i=0
switch(t){case"start":this.translateX=this.baseHorizontalOffset-n,this.horizontalViewportLock&&this.anchorRect.left>this.viewportRect.right&&(this.translateX=this.translateX-(this.anchorRect.left-this.viewportRect.right))
break
case"insetStart":this.translateX=this.baseHorizontalOffset-n+this.anchorRect.width,this.horizontalViewportLock&&this.anchorRect.right>this.viewportRect.right&&(this.translateX=this.translateX-(this.anchorRect.right-this.viewportRect.right))
break
case"insetEnd":this.translateX=this.baseHorizontalOffset,this.horizontalViewportLock&&this.anchorRect.left<this.viewportRect.left&&(this.translateX=this.translateX-(this.anchorRect.left-this.viewportRect.left))
break
case"end":this.translateX=this.baseHorizontalOffset+this.anchorRect.width,this.horizontalViewportLock&&this.anchorRect.right<this.viewportRect.left&&(this.translateX=this.translateX-(this.anchorRect.right-this.viewportRect.left))
break
case"center":if(i=(this.anchorRect.width-n)/2,this.translateX=this.baseHorizontalOffset+i,this.horizontalViewportLock){const t=this.anchorRect.left+i,e=this.anchorRect.right-i
t<this.viewportRect.left&&!(e>this.viewportRect.right)?this.translateX=this.translateX-(t-this.viewportRect.left):e>this.viewportRect.right&&!(t<this.viewportRect.left)&&(this.translateX=this.translateX-(e-this.viewportRect.right))}}this.horizontalPosition=t},this.setVerticalPosition=(t,e)=>{if(void 0===t||void 0===this.regionRect||void 0===this.anchorRect||void 0===this.viewportRect)return
let n=0
switch(this.verticalScaling){case"anchor":case"fill":n=this.verticalViewportLock?this.viewportRect.height:e.height,this.regionHeight=`${n}px`
break
case"content":n=this.regionRect.height,this.regionHeight="unset"}let i=0
switch(t){case"start":this.translateY=this.baseVerticalOffset-n,this.verticalViewportLock&&this.anchorRect.top>this.viewportRect.bottom&&(this.translateY=this.translateY-(this.anchorRect.top-this.viewportRect.bottom))
break
case"insetStart":this.translateY=this.baseVerticalOffset-n+this.anchorRect.height,this.verticalViewportLock&&this.anchorRect.bottom>this.viewportRect.bottom&&(this.translateY=this.translateY-(this.anchorRect.bottom-this.viewportRect.bottom))
break
case"insetEnd":this.translateY=this.baseVerticalOffset,this.verticalViewportLock&&this.anchorRect.top<this.viewportRect.top&&(this.translateY=this.translateY-(this.anchorRect.top-this.viewportRect.top))
break
case"end":this.translateY=this.baseVerticalOffset+this.anchorRect.height,this.verticalViewportLock&&this.anchorRect.bottom<this.viewportRect.top&&(this.translateY=this.translateY-(this.anchorRect.bottom-this.viewportRect.top))
break
case"center":if(i=(this.anchorRect.height-n)/2,this.translateY=this.baseVerticalOffset+i,this.verticalViewportLock){const t=this.anchorRect.top+i,e=this.anchorRect.bottom-i
t<this.viewportRect.top&&!(e>this.viewportRect.bottom)?this.translateY=this.translateY-(t-this.viewportRect.top):e>this.viewportRect.bottom&&!(t<this.viewportRect.top)&&(this.translateY=this.translateY-(e-this.viewportRect.bottom))}}this.verticalPosition=t},this.getPositioningOptions=t=>t?["insetStart","insetEnd"]:["start","end"],this.getAvailableSpace=(t,e,n,i,s,o)=>{const r=e-s,a=o-(e+i)
switch(t){case"start":return r
case"insetStart":return r+i
case"insetEnd":return a+i
case"end":return a
case"center":return 2*Math.min(r,a)+i}},this.getNextRegionDimension=(t,e)=>{const n={height:void 0!==this.regionRect?this.regionRect.height:0,width:void 0!==this.regionRect?this.regionRect.width:0}
return void 0!==t&&"fill"===this.horizontalScaling?n.width=this.getAvailableSpace(t,void 0!==this.anchorRect?this.anchorRect.left:0,void 0!==this.anchorRect?this.anchorRect.right:0,void 0!==this.anchorRect?this.anchorRect.width:0,void 0!==this.viewportRect?this.viewportRect.left:0,void 0!==this.viewportRect?this.viewportRect.right:0):"anchor"===this.horizontalScaling&&(n.width=void 0!==this.anchorRect?this.anchorRect.width:0),void 0!==e&&"fill"===this.verticalScaling?n.height=this.getAvailableSpace(e,void 0!==this.anchorRect?this.anchorRect.top:0,void 0!==this.anchorRect?this.anchorRect.bottom:0,void 0!==this.anchorRect?this.anchorRect.height:0,void 0!==this.viewportRect?this.viewportRect.top:0,void 0!==this.viewportRect?this.viewportRect.bottom:0):"anchor"===this.verticalScaling&&(n.height=void 0!==this.anchorRect?this.anchorRect.height:0),n},this.startAutoUpdateEventListeners=()=>{window.addEventListener(nn,this.update,{passive:!0}),window.addEventListener(sn,this.update,{passive:!0,capture:!0}),null!==this.resizeDetector&&null!==this.viewportElement&&this.resizeDetector.observe(this.viewportElement)},this.stopAutoUpdateEventListeners=()=>{window.removeEventListener(nn,this.update),window.removeEventListener(sn,this.update),null!==this.resizeDetector&&null!==this.viewportElement&&this.resizeDetector.unobserve(this.viewportElement)}}anchorChanged(){this.initialLayoutComplete&&(this.anchorElement=this.getAnchor())}viewportChanged(){this.initialLayoutComplete&&(this.viewportElement=this.getViewport())}horizontalPositioningModeChanged(){this.requestReset()}horizontalDefaultPositionChanged(){this.updateForAttributeChange()}horizontalViewportLockChanged(){this.updateForAttributeChange()}horizontalInsetChanged(){this.updateForAttributeChange()}horizontalThresholdChanged(){this.updateForAttributeChange()}horizontalScalingChanged(){this.updateForAttributeChange()}verticalPositioningModeChanged(){this.requestReset()}verticalDefaultPositionChanged(){this.updateForAttributeChange()}verticalViewportLockChanged(){this.updateForAttributeChange()}verticalInsetChanged(){this.updateForAttributeChange()}verticalThresholdChanged(){this.updateForAttributeChange()}verticalScalingChanged(){this.updateForAttributeChange()}fixedPlacementChanged(){this.$fastController.isConnected&&this.initialLayoutComplete&&this.initialize()}autoUpdateModeChanged(t,e){this.$fastController.isConnected&&this.initialLayoutComplete&&("auto"===t&&this.stopAutoUpdateEventListeners(),"auto"===e&&this.startAutoUpdateEventListeners())}anchorElementChanged(){this.requestReset()}viewportElementChanged(){this.$fastController.isConnected&&this.initialLayoutComplete&&this.initialize()}connectedCallback(){super.connectedCallback(),"auto"===this.autoUpdateMode&&this.startAutoUpdateEventListeners(),this.initialize()}disconnectedCallback(){super.disconnectedCallback(),"auto"===this.autoUpdateMode&&this.stopAutoUpdateEventListeners(),this.stopObservers(),this.disconnectResizeDetector()}adoptedCallback(){this.initialize()}disconnectResizeDetector(){null!==this.resizeDetector&&(this.resizeDetector.disconnect(),this.resizeDetector=null)}initializeResizeDetector(){this.disconnectResizeDetector(),this.resizeDetector=new window.ResizeObserver(this.handleResize)}updateForAttributeChange(){this.$fastController.isConnected&&this.initialLayoutComplete&&(this.forceUpdate=!0,this.update())}initialize(){this.initializeResizeDetector(),null===this.anchorElement&&(this.anchorElement=this.getAnchor()),this.requestReset()}requestReset(){this.$fastController.isConnected&&!1===this.pendingReset&&(this.setInitialState(),b.queueUpdate((()=>this.reset())),this.pendingReset=!0)}setInitialState(){this.initialLayoutComplete=!1,this.regionVisible=!1,this.translateX=0,this.translateY=0,this.baseHorizontalOffset=0,this.baseVerticalOffset=0,this.viewportRect=void 0,this.regionRect=void 0,this.anchorRect=void 0,this.verticalPosition=void 0,this.horizontalPosition=void 0,this.style.opacity="0",this.style.pointerEvents="none",this.forceUpdate=!1,this.style.position=this.fixedPlacement?"fixed":"absolute",this.updatePositionClasses(),this.updateRegionStyle()}}
$n.intersectionService=new class{constructor(){this.intersectionDetector=null,this.observedElements=new Map,this.requestPosition=(t,e)=>{var n
null!==this.intersectionDetector&&(this.observedElements.has(t)?null===(n=this.observedElements.get(t))||void 0===n||n.push(e):(this.observedElements.set(t,[e]),this.intersectionDetector.observe(t)))},this.cancelRequestPosition=(t,e)=>{const n=this.observedElements.get(t)
if(void 0!==n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}},this.initializeIntersectionDetector=()=>{a.IntersectionObserver&&(this.intersectionDetector=new IntersectionObserver(this.handleIntersection,{root:null,rootMargin:"0px",threshold:[0,1]}))},this.handleIntersection=t=>{if(null===this.intersectionDetector)return
const e=[],n=[]
t.forEach((t=>{var i
null===(i=this.intersectionDetector)||void 0===i||i.unobserve(t.target)
const s=this.observedElements.get(t.target)
void 0!==s&&(s.forEach((i=>{let s=e.indexOf(i);-1===s&&(s=e.length,e.push(i),n.push([])),n[s].push(t)})),this.observedElements.delete(t.target))})),e.forEach(((t,e)=>{t(n[e])}))},this.initializeIntersectionDetector()}},t([ft],$n.prototype,"anchor",void 0),t([ft],$n.prototype,"viewport",void 0),t([ft({attribute:"horizontal-positioning-mode"})],$n.prototype,"horizontalPositioningMode",void 0),t([ft({attribute:"horizontal-default-position"})],$n.prototype,"horizontalDefaultPosition",void 0),t([ft({attribute:"horizontal-viewport-lock",mode:"boolean"})],$n.prototype,"horizontalViewportLock",void 0),t([ft({attribute:"horizontal-inset",mode:"boolean"})],$n.prototype,"horizontalInset",void 0),t([ft({attribute:"horizontal-threshold"})],$n.prototype,"horizontalThreshold",void 0),t([ft({attribute:"horizontal-scaling"})],$n.prototype,"horizontalScaling",void 0),t([ft({attribute:"vertical-positioning-mode"})],$n.prototype,"verticalPositioningMode",void 0),t([ft({attribute:"vertical-default-position"})],$n.prototype,"verticalDefaultPosition",void 0),t([ft({attribute:"vertical-viewport-lock",mode:"boolean"})],$n.prototype,"verticalViewportLock",void 0),t([ft({attribute:"vertical-inset",mode:"boolean"})],$n.prototype,"verticalInset",void 0),t([ft({attribute:"vertical-threshold"})],$n.prototype,"verticalThreshold",void 0),t([ft({attribute:"vertical-scaling"})],$n.prototype,"verticalScaling",void 0),t([ft({attribute:"fixed-placement",mode:"boolean"})],$n.prototype,"fixedPlacement",void 0),t([ft({attribute:"auto-update-mode"})],$n.prototype,"autoUpdateMode",void 0),t([C],$n.prototype,"anchorElement",void 0),t([C],$n.prototype,"viewportElement",void 0),t([C],$n.prototype,"initialLayoutComplete",void 0)
let Dn=class extends _n{constructor(){super(...arguments),this.separator=!0}}
t([C],Dn.prototype,"separator",void 0),Ze(Dn,re,In)
let En=class extends je{slottedBreadcrumbItemsChanged(){if(this.$fastController.isConnected){if(void 0===this.slottedBreadcrumbItems||0===this.slottedBreadcrumbItems.length)return
const t=this.slottedBreadcrumbItems[this.slottedBreadcrumbItems.length-1]
this.slottedBreadcrumbItems.forEach((e=>{const n=e===t
this.setItemSeparator(e,n),this.setAriaCurrent(e,n)}))}}setItemSeparator(t,e){t instanceof Dn&&(t.separator=!e)}findChildWithHref(t){var e,n
return t.childElementCount>0?t.querySelector("a[href]"):(null===(e=t.shadowRoot)||void 0===e?void 0:e.childElementCount)?null===(n=t.shadowRoot)||void 0===n?void 0:n.querySelector("a[href]"):null}setAriaCurrent(t,e){const n=this.findChildWithHref(t)
null===n&&t.hasAttribute("href")&&t instanceof Dn?e?t.setAttribute("aria-current","page"):t.removeAttribute("aria-current"):null!==n&&(e?n.setAttribute("aria-current","page"):n.removeAttribute("aria-current"))}}
t([C],En.prototype,"slottedBreadcrumbItems",void 0)
const An="form-associated-proxy",Tn="ElementInternals",On=Tn in window&&"setFormValue"in window[Tn].prototype,Rn=new WeakMap
function Fn(t){const e=class extends t{static get formAssociated(){return On}get validity(){return this.elementInternals?this.elementInternals.validity:this.proxy.validity}get form(){return this.elementInternals?this.elementInternals.form:this.proxy.form}get validationMessage(){return this.elementInternals?this.elementInternals.validationMessage:this.proxy.validationMessage}get willValidate(){return this.elementInternals?this.elementInternals.willValidate:this.proxy.willValidate}get labels(){if(this.elementInternals)return Object.freeze(Array.from(this.elementInternals.labels))
if(this.proxy instanceof HTMLElement&&this.proxy.ownerDocument&&this.id){const t=this.proxy.labels,e=Array.from(this.proxy.getRootNode().querySelectorAll(`[for='${this.id}']`)),n=t?e.concat(Array.from(t)):e
return Object.freeze(n)}return d}valueChanged(t,e){this.dirtyValue=!0,this.proxy instanceof HTMLElement&&(this.proxy.value=this.value),this.currentValue=this.value,this.setFormValue(this.value),this.validate()}currentValueChanged(){this.value=this.currentValue}initialValueChanged(t,e){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}disabledChanged(t,e){this.proxy instanceof HTMLElement&&(this.proxy.disabled=this.disabled),b.queueUpdate((()=>this.classList.toggle("disabled",this.disabled)))}nameChanged(t,e){this.proxy instanceof HTMLElement&&(this.proxy.name=this.name)}requiredChanged(t,e){this.proxy instanceof HTMLElement&&(this.proxy.required=this.required),b.queueUpdate((()=>this.classList.toggle("required",this.required))),this.validate()}get elementInternals(){if(!On)return null
let t=Rn.get(this)
return t||(t=this.attachInternals(),Rn.set(this,t)),t}constructor(...t){super(...t),this.dirtyValue=!1,this.disabled=!1,this.proxyEventsToBlock=["change","click"],this.proxyInitialized=!1,this.required=!1,this.initialValue=this.initialValue||"",this.elementInternals||(this.formResetCallback=this.formResetCallback.bind(this))}connectedCallback(){super.connectedCallback(),this.addEventListener("keypress",this._keypressHandler),this.value||(this.value=this.initialValue,this.dirtyValue=!1),this.elementInternals||(this.attachProxy(),this.form&&this.form.addEventListener("reset",this.formResetCallback))}disconnectedCallback(){super.disconnectedCallback(),this.proxyEventsToBlock.forEach((t=>this.proxy.removeEventListener(t,this.stopPropagation))),!this.elementInternals&&this.form&&this.form.removeEventListener("reset",this.formResetCallback)}checkValidity(){return this.elementInternals?this.elementInternals.checkValidity():this.proxy.checkValidity()}reportValidity(){return this.elementInternals?this.elementInternals.reportValidity():this.proxy.reportValidity()}setValidity(t,e,n){this.elementInternals?this.elementInternals.setValidity(t,e,n):"string"==typeof e&&this.proxy.setCustomValidity(e)}formDisabledCallback(t){this.disabled=t}formResetCallback(){this.value=this.initialValue,this.dirtyValue=!1}attachProxy(){var t
this.proxyInitialized||(this.proxyInitialized=!0,this.proxy.style.display="none",this.proxyEventsToBlock.forEach((t=>this.proxy.addEventListener(t,this.stopPropagation))),this.proxy.disabled=this.disabled,this.proxy.required=this.required,"string"==typeof this.name&&(this.proxy.name=this.name),"string"==typeof this.value&&(this.proxy.value=this.value),this.proxy.setAttribute("slot",An),this.proxySlot=document.createElement("slot"),this.proxySlot.setAttribute("name",An)),null===(t=this.shadowRoot)||void 0===t||t.appendChild(this.proxySlot),this.appendChild(this.proxy)}detachProxy(){var t
this.removeChild(this.proxy),null===(t=this.shadowRoot)||void 0===t||t.removeChild(this.proxySlot)}validate(t){this.proxy instanceof HTMLElement&&this.setValidity(this.proxy.validity,this.proxy.validationMessage,t)}setFormValue(t,e){this.elementInternals&&this.elementInternals.setFormValue(t,e||t)}_keypressHandler(t){if(t.key===dn)if(this.form instanceof HTMLFormElement){const t=this.form.querySelector("[type=submit]")
null==t||t.click()}}stopPropagation(t){t.stopPropagation()}}
return ft({mode:"boolean"})(e.prototype,"disabled"),ft({mode:"fromView",attribute:"value"})(e.prototype,"initialValue"),ft({attribute:"current-value"})(e.prototype,"currentValue"),ft(e.prototype,"name"),ft({mode:"boolean"})(e.prototype,"required"),C(e.prototype,"value"),e}function Nn(t){class e extends(Fn(t)){}class n extends e{checkedAttributeChanged(){this.defaultChecked=this.checkedAttribute}defaultCheckedChanged(){this.dirtyChecked||(this.checked=this.defaultChecked,this.dirtyChecked=!1)}checkedChanged(t,e){this.dirtyChecked||(this.dirtyChecked=!0),this.currentChecked=this.checked,this.updateForm(),this.proxy instanceof HTMLInputElement&&(this.proxy.checked=this.checked),void 0!==t&&this.$emit("change"),this.validate()}currentCheckedChanged(t,e){this.checked=this.currentChecked}constructor(...t){super(t),this.dirtyChecked=!1,this.checkedAttribute=!1,this.checked=!1,this.dirtyChecked=!1}updateForm(){const t=this.checked?this.value:null
this.setFormValue(t,t)}connectedCallback(){super.connectedCallback(),this.updateForm()}formResetCallback(){super.formResetCallback(),this.checked=!!this.checkedAttribute,this.dirtyChecked=!1}}return ft({attribute:"checked",mode:"boolean"})(n.prototype,"checkedAttribute"),ft({attribute:"current-checked",converter:ht})(n.prototype,"currentChecked"),C(n.prototype,"defaultChecked"),C(n.prototype,"checked"),n}class Ln extends je{}class Bn extends(Fn(Ln)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}let Pn=class extends Bn{constructor(){super(...arguments),this.handleClick=t=>{var e
this.disabled&&(null===(e=this.defaultSlottedContent)||void 0===e?void 0:e.length)<=1&&t.stopPropagation()},this.handleSubmission=()=>{if(!this.form)return
const t=this.proxy.isConnected
t||this.attachProxy(),"function"==typeof this.form.requestSubmit?this.form.requestSubmit(this.proxy):this.proxy.click(),t||this.detachProxy()},this.handleFormReset=()=>{var t
null===(t=this.form)||void 0===t||t.reset()},this.handleUnsupportedDelegatesFocus=()=>{var t
window.ShadowRoot&&!window.ShadowRoot.prototype.hasOwnProperty("delegatesFocus")&&(null===(t=this.$fastController.definition.shadowOptions)||void 0===t?void 0:t.delegatesFocus)&&(this.focus=()=>{this.control.focus()})}}formactionChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formAction=this.formaction)}formenctypeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formEnctype=this.formenctype)}formmethodChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formMethod=this.formmethod)}formnovalidateChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formNoValidate=this.formnovalidate)}formtargetChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formTarget=this.formtarget)}typeChanged(t,e){this.proxy instanceof HTMLInputElement&&(this.proxy.type=this.type),"submit"===e&&this.addEventListener("click",this.handleSubmission),"submit"===t&&this.removeEventListener("click",this.handleSubmission),"reset"===e&&this.addEventListener("click",this.handleFormReset),"reset"===t&&this.removeEventListener("click",this.handleFormReset)}validate(){super.validate(this.control)}connectedCallback(){var t
super.connectedCallback(),this.proxy.setAttribute("type",this.type),this.handleUnsupportedDelegatesFocus()
const e=Array.from(null===(t=this.control)||void 0===t?void 0:t.children)
e&&e.forEach((t=>{t.addEventListener("click",this.handleClick)}))}disconnectedCallback(){var t
super.disconnectedCallback()
const e=Array.from(null===(t=this.control)||void 0===t?void 0:t.children)
e&&e.forEach((t=>{t.removeEventListener("click",this.handleClick)}))}}
t([ft({mode:"boolean"})],Pn.prototype,"autofocus",void 0),t([ft({attribute:"form"})],Pn.prototype,"formId",void 0),t([ft],Pn.prototype,"formaction",void 0),t([ft],Pn.prototype,"formenctype",void 0),t([ft],Pn.prototype,"formmethod",void 0),t([ft({mode:"boolean"})],Pn.prototype,"formnovalidate",void 0),t([ft],Pn.prototype,"formtarget",void 0),t([ft],Pn.prototype,"type",void 0),t([C],Pn.prototype,"defaultSlottedContent",void 0)
class zn{}t([ft({attribute:"aria-expanded"})],zn.prototype,"ariaExpanded",void 0),t([ft({attribute:"aria-pressed"})],zn.prototype,"ariaPressed",void 0),Ze(zn,Sn),Ze(Pn,re,zn)
let Vn=class extends je{}
class Hn extends je{}class Un extends(Nn(Hn)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}let qn=class extends Un{readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly)}constructor(){super(),this.initialValue="on",this.indeterminate=!1,this.keypressHandler=t=>{if(!this.readOnly&&t.key===gn)this.indeterminate&&(this.indeterminate=!1),this.checked=!this.checked},this.clickHandler=t=>{this.disabled||this.readOnly||(this.indeterminate&&(this.indeterminate=!1),this.checked=!this.checked)},this.proxy.setAttribute("type","checkbox")}}
function jn(t){return Je(t)&&("option"===t.getAttribute("role")||t instanceof HTMLOptionElement)}t([ft({attribute:"readonly",mode:"boolean"})],qn.prototype,"readOnly",void 0),t([C],qn.prototype,"defaultSlottedNodes",void 0),t([C],qn.prototype,"indeterminate",void 0)
class Wn extends je{checkedChanged(t,e){this.ariaChecked="boolean"!=typeof e?null:e?"true":"false"}contentChanged(t,e){this.proxy instanceof HTMLOptionElement&&(this.proxy.textContent=this.textContent),this.$emit("contentchange",null,{bubbles:!0})}defaultSelectedChanged(){this.dirtySelected||(this.selected=this.defaultSelected,this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.defaultSelected))}disabledChanged(t,e){this.ariaDisabled=this.disabled?"true":"false",this.proxy instanceof HTMLOptionElement&&(this.proxy.disabled=this.disabled)}selectedAttributeChanged(){this.defaultSelected=this.selectedAttribute,this.proxy instanceof HTMLOptionElement&&(this.proxy.defaultSelected=this.defaultSelected)}selectedChanged(){this.ariaSelected=this.selected?"true":"false",this.dirtySelected||(this.dirtySelected=!0),this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.selected)}initialValueChanged(t,e){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}get label(){var t
return null!==(t=this.value)&&void 0!==t?t:this.text}get text(){var t,e
return null!==(e=null===(t=this.textContent)||void 0===t?void 0:t.replace(/\s+/g," ").trim())&&void 0!==e?e:""}set value(t){const e=`${null!=t?t:""}`
this._value=e,this.dirtyValue=!0,this.proxy instanceof HTMLOptionElement&&(this.proxy.value=e),x.notify(this,"value")}get value(){var t
return x.track(this,"value"),null!==(t=this._value)&&void 0!==t?t:this.text}get form(){return this.proxy?this.proxy.form:null}constructor(t,e,n,i){super(),this.defaultSelected=!1,this.dirtySelected=!1,this.selected=this.defaultSelected,this.dirtyValue=!1,t&&(this.textContent=t),e&&(this.initialValue=e),n&&(this.defaultSelected=n),i&&(this.selected=i),this.proxy=new Option(`${this.textContent}`,this.initialValue,this.defaultSelected,this.selected),this.proxy.disabled=this.disabled}}t([C],Wn.prototype,"checked",void 0),t([C],Wn.prototype,"content",void 0),t([C],Wn.prototype,"defaultSelected",void 0),t([ft({mode:"boolean"})],Wn.prototype,"disabled",void 0),t([ft({attribute:"selected",mode:"boolean"})],Wn.prototype,"selectedAttribute",void 0),t([C],Wn.prototype,"selected",void 0),t([ft({attribute:"value",mode:"fromView"})],Wn.prototype,"initialValue",void 0)
class Gn{}t([C],Gn.prototype,"ariaChecked",void 0),t([C],Gn.prototype,"ariaPosInSet",void 0),t([C],Gn.prototype,"ariaSelected",void 0),t([C],Gn.prototype,"ariaSetSize",void 0),Ze(Gn,Sn),Ze(Wn,re,Gn)
class Zn extends je{constructor(){super(...arguments),this._options=[],this.selectedIndex=-1,this.selectedOptions=[],this.shouldSkipFocus=!1,this.typeaheadBuffer="",this.typeaheadExpired=!0,this.typeaheadTimeout=-1}get firstSelectedOption(){var t
return null!==(t=this.selectedOptions[0])&&void 0!==t?t:null}get hasSelectableOptions(){return this.options.length>0&&!this.options.every((t=>t.disabled))}get length(){var t,e
return null!==(e=null===(t=this.options)||void 0===t?void 0:t.length)&&void 0!==e?e:0}get options(){return x.track(this,"options"),this._options}set options(t){this._options=t,x.notify(this,"options")}get typeAheadExpired(){return this.typeaheadExpired}set typeAheadExpired(t){this.typeaheadExpired=t}clickHandler(t){const e=t.target.closest("option,[role=option]")
if(e&&!e.disabled)return this.selectedIndex=this.options.indexOf(e),!0}focusAndScrollOptionIntoView(t=this.firstSelectedOption){this.contains(document.activeElement)&&null!==t&&(t.focus(),requestAnimationFrame((()=>{t.scrollIntoView({block:"nearest"})})))}focusinHandler(t){this.shouldSkipFocus||t.target!==t.currentTarget||(this.setSelectedOptions(),this.focusAndScrollOptionIntoView()),this.shouldSkipFocus=!1}getTypeaheadMatches(){const t=this.typeaheadBuffer.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),e=new RegExp(`^${t}`,"gi")
return this.options.filter((t=>t.text.trim().match(e)))}getSelectableIndex(t=this.selectedIndex,e){const n=t>e?-1:t<e?1:0,i=t+n
let s=null
switch(n){case-1:s=this.options.reduceRight(((t,e,n)=>!t&&!e.disabled&&n<i?e:t),s)
break
case 1:s=this.options.reduce(((t,e,n)=>!t&&!e.disabled&&n>i?e:t),s)}return this.options.indexOf(s)}handleChange(t,e){if("selected"===e)Zn.slottedOptionFilter(t)&&(this.selectedIndex=this.options.indexOf(t)),this.setSelectedOptions()}handleTypeAhead(t){this.typeaheadTimeout&&window.clearTimeout(this.typeaheadTimeout),this.typeaheadTimeout=window.setTimeout((()=>this.typeaheadExpired=!0),Zn.TYPE_AHEAD_TIMEOUT_MS),t.length>1||(this.typeaheadBuffer=`${this.typeaheadExpired?"":this.typeaheadBuffer}${t}`)}keydownHandler(t){if(this.disabled)return!0
this.shouldSkipFocus=!1
const e=t.key
switch(e){case un:t.shiftKey||(t.preventDefault(),this.selectFirstOption())
break
case rn:t.shiftKey||(t.preventDefault(),this.selectNextOption())
break
case cn:t.shiftKey||(t.preventDefault(),this.selectPreviousOption())
break
case pn:t.preventDefault(),this.selectLastOption()
break
case vn:return this.focusAndScrollOptionIntoView(),!0
case dn:case hn:return!0
case gn:if(this.typeaheadExpired)return!0
default:return 1===e.length&&this.handleTypeAhead(`${e}`),!0}}mousedownHandler(t){return this.shouldSkipFocus=!this.contains(document.activeElement),!0}multipleChanged(t,e){this.ariaMultiSelectable=e?"true":null}selectedIndexChanged(t,e){var n
if(this.hasSelectableOptions){if((null===(n=this.options[this.selectedIndex])||void 0===n?void 0:n.disabled)&&"number"==typeof t){const n=this.getSelectableIndex(t,e),i=n>-1?n:t
return this.selectedIndex=i,void(e===i&&this.selectedIndexChanged(e,i))}this.setSelectedOptions()}else this.selectedIndex=-1}selectedOptionsChanged(t,e){var n
const i=e.filter(Zn.slottedOptionFilter)
null===(n=this.options)||void 0===n||n.forEach((t=>{const e=x.getNotifier(t)
e.unsubscribe(this,"selected"),t.selected=i.includes(t),e.subscribe(this,"selected")}))}selectFirstOption(){var t,e
this.disabled||(this.selectedIndex=null!==(e=null===(t=this.options)||void 0===t?void 0:t.findIndex((t=>!t.disabled)))&&void 0!==e?e:-1)}selectLastOption(){this.disabled||(this.selectedIndex=Xe(this.options,(t=>!t.disabled)))}selectNextOption(){!this.disabled&&this.selectedIndex<this.options.length-1&&(this.selectedIndex+=1)}selectPreviousOption(){!this.disabled&&this.selectedIndex>0&&(this.selectedIndex=this.selectedIndex-1)}setDefaultSelectedOption(){var t,e
this.selectedIndex=null!==(e=null===(t=this.options)||void 0===t?void 0:t.findIndex((t=>t.defaultSelected)))&&void 0!==e?e:-1}setSelectedOptions(){var t,e,n;(null===(t=this.options)||void 0===t?void 0:t.length)&&(this.selectedOptions=[this.options[this.selectedIndex]],this.ariaActiveDescendant=null!==(n=null===(e=this.firstSelectedOption)||void 0===e?void 0:e.id)&&void 0!==n?n:"",this.focusAndScrollOptionIntoView())}slottedOptionsChanged(t,e){this.options=e.reduce(((t,e)=>(jn(e)&&t.push(e),t)),[])
const n=`${this.options.length}`
this.options.forEach(((t,e)=>{t.id||(t.id=kn("option-")),t.ariaPosInSet=`${e+1}`,t.ariaSetSize=n})),this.$fastController.isConnected&&(this.setSelectedOptions(),this.setDefaultSelectedOption())}typeaheadBufferChanged(t,e){if(this.$fastController.isConnected){const t=this.getTypeaheadMatches()
if(t.length){const e=this.options.indexOf(t[0])
e>-1&&(this.selectedIndex=e)}this.typeaheadExpired=!1}}}Zn.slottedOptionFilter=t=>jn(t)&&!t.hidden,Zn.TYPE_AHEAD_TIMEOUT_MS=1e3,t([ft({mode:"boolean"})],Zn.prototype,"disabled",void 0),t([C],Zn.prototype,"selectedIndex",void 0),t([C],Zn.prototype,"selectedOptions",void 0),t([C],Zn.prototype,"slottedOptions",void 0),t([C],Zn.prototype,"typeaheadBuffer",void 0)
class Kn{}t([C],Kn.prototype,"ariaActiveDescendant",void 0),t([C],Kn.prototype,"ariaDisabled",void 0),t([C],Kn.prototype,"ariaExpanded",void 0),t([C],Kn.prototype,"ariaMultiSelectable",void 0),Ze(Kn,Sn),Ze(Zn,Kn)
const Yn="above",Xn="below"
class Jn extends Zn{}let Qn=class extends(Fn(Jn)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}
const ti="inline",ei="list",ni="both",ii="none"
let si=class extends Qn{constructor(){super(...arguments),this._value="",this.filteredOptions=[],this.filter="",this.forcedPosition=!1,this.listboxId=kn("listbox-"),this.maxHeight=0,this.open=!1}formResetCallback(){super.formResetCallback(),this.setDefaultSelectedOption(),this.updateValue()}validate(){super.validate(this.control)}get isAutocompleteInline(){return this.autocomplete===ti||this.isAutocompleteBoth}get isAutocompleteList(){return this.autocomplete===ei||this.isAutocompleteBoth}get isAutocompleteBoth(){return this.autocomplete===ni}openChanged(){if(this.open)return this.ariaControls=this.listboxId,this.ariaExpanded="true",this.setPositioning(),this.focusAndScrollOptionIntoView(),void b.queueUpdate((()=>this.focus()))
this.ariaControls="",this.ariaExpanded="false"}get options(){return x.track(this,"options"),this.filteredOptions.length?this.filteredOptions:this._options}set options(t){this._options=t,x.notify(this,"options")}placeholderChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.placeholder=this.placeholder)}positionChanged(t,e){this.positionAttribute=e,this.setPositioning()}get value(){return x.track(this,"value"),this._value}set value(t){var e,n,i
const s=`${this._value}`
if(this.$fastController.isConnected&&this.options){const s=this.options.findIndex((e=>e.text.toLowerCase()===t.toLowerCase())),o=null===(e=this.options[this.selectedIndex])||void 0===e?void 0:e.text,r=null===(n=this.options[s])||void 0===n?void 0:n.text
this.selectedIndex=o!==r?s:this.selectedIndex,t=(null===(i=this.firstSelectedOption)||void 0===i?void 0:i.text)||t}s!==t&&(this._value=t,super.valueChanged(s,t),x.notify(this,"value"))}clickHandler(t){const e=t.target.closest("option,[role=option]")
if(!this.disabled&&!(null==e?void 0:e.disabled)){if(this.open){if(t.composedPath()[0]===this.control)return
e&&(this.selectedOptions=[e],this.control.value=e.text,this.clearSelectionRange(),this.updateValue(!0))}return this.open=!this.open,this.open&&this.control.focus(),!0}}connectedCallback(){super.connectedCallback(),this.forcedPosition=!!this.positionAttribute,this.value&&(this.initialValue=this.value)}disabledChanged(t,e){super.disabledChanged&&super.disabledChanged(t,e),this.ariaDisabled=this.disabled?"true":"false"}filterOptions(){this.autocomplete&&this.autocomplete!==ii||(this.filter="")
const t=this.filter.toLowerCase()
this.filteredOptions=this._options.filter((t=>t.text.toLowerCase().startsWith(this.filter.toLowerCase()))),this.isAutocompleteList&&(this.filteredOptions.length||t||(this.filteredOptions=this._options),this._options.forEach((t=>{t.hidden=!this.filteredOptions.includes(t)})))}focusAndScrollOptionIntoView(){this.contains(document.activeElement)&&(this.control.focus(),this.firstSelectedOption&&requestAnimationFrame((()=>{var t
null===(t=this.firstSelectedOption)||void 0===t||t.scrollIntoView({block:"nearest"})})))}focusoutHandler(t){if(this.syncValue(),!this.open)return!0
const e=t.relatedTarget
this.isSameNode(e)?this.focus():this.options&&this.options.includes(e)||(this.open=!1)}inputHandler(t){if(this.filter=this.control.value,this.filterOptions(),this.isAutocompleteInline||(this.selectedIndex=this.options.map((t=>t.text)).indexOf(this.control.value)),t.inputType.includes("deleteContent")||!this.filter.length)return!0
this.isAutocompleteList&&!this.open&&(this.open=!0),this.isAutocompleteInline&&(this.filteredOptions.length?(this.selectedOptions=[this.filteredOptions[0]],this.selectedIndex=this.options.indexOf(this.firstSelectedOption),this.setInlineSelection()):this.selectedIndex=-1)}keydownHandler(t){const e=t.key
if(t.ctrlKey||t.shiftKey)return!0
switch(e){case"Enter":this.syncValue(),this.isAutocompleteInline&&(this.filter=this.value),this.open=!1,this.clearSelectionRange()
break
case"Escape":if(this.isAutocompleteInline||(this.selectedIndex=-1),this.open){this.open=!1
break}this.value="",this.control.value="",this.filter="",this.filterOptions()
break
case"Tab":if(this.setInputToSelection(),!this.open)return!0
t.preventDefault(),this.open=!1
break
case"ArrowUp":case"ArrowDown":if(this.filterOptions(),!this.open){this.open=!0
break}this.filteredOptions.length>0&&super.keydownHandler(t),this.isAutocompleteInline&&this.setInlineSelection()
break
default:return!0}}keyupHandler(t){switch(t.key){case"ArrowLeft":case"ArrowRight":case"Backspace":case"Delete":case"Home":case"End":this.filter=this.control.value,this.selectedIndex=-1,this.filterOptions()}}selectedIndexChanged(t,e){if(this.$fastController.isConnected){if((e=wn(-1,this.options.length-1,e))!==this.selectedIndex)return void(this.selectedIndex=e)
super.selectedIndexChanged(t,e)}}selectPreviousOption(){!this.disabled&&this.selectedIndex>=0&&(this.selectedIndex=this.selectedIndex-1)}setDefaultSelectedOption(){if(this.$fastController.isConnected&&this.options){const t=this.options.findIndex((t=>null!==t.getAttribute("selected")||t.selected))
this.selectedIndex=t,!this.dirtyValue&&this.firstSelectedOption&&(this.value=this.firstSelectedOption.text),this.setSelectedOptions()}}setInputToSelection(){this.firstSelectedOption&&(this.control.value=this.firstSelectedOption.text,this.control.focus())}setInlineSelection(){this.firstSelectedOption&&(this.setInputToSelection(),this.control.setSelectionRange(this.filter.length,this.control.value.length,"backward"))}syncValue(){var t
const e=this.selectedIndex>-1?null===(t=this.firstSelectedOption)||void 0===t?void 0:t.text:this.control.value
this.updateValue(this.value!==e)}setPositioning(){const t=this.getBoundingClientRect(),e=window.innerHeight-t.bottom
this.position=this.forcedPosition?this.positionAttribute:t.top>e?Yn:Xn,this.positionAttribute=this.forcedPosition?this.positionAttribute:this.position,this.maxHeight=this.position===Yn?~~t.top:~~e}selectedOptionsChanged(t,e){this.$fastController.isConnected&&this._options.forEach((t=>{t.selected=e.includes(t)}))}slottedOptionsChanged(t,e){super.slottedOptionsChanged(t,e),this.updateValue()}updateValue(t){var e
this.$fastController.isConnected&&(this.value=(null===(e=this.firstSelectedOption)||void 0===e?void 0:e.text)||this.control.value,this.control.value=this.value),t&&this.$emit("change")}clearSelectionRange(){const t=this.control.value.length
this.control.setSelectionRange(t,t)}}
t([ft({attribute:"autocomplete",mode:"fromView"})],si.prototype,"autocomplete",void 0),t([C],si.prototype,"maxHeight",void 0),t([ft({attribute:"open",mode:"boolean"})],si.prototype,"open",void 0),t([ft],si.prototype,"placeholder",void 0),t([ft({attribute:"position"})],si.prototype,"positionAttribute",void 0),t([C],si.prototype,"position",void 0)
class oi{}function ri(t){const e=t.parentElement
if(e)return e
{const e=t.getRootNode()
if(e.host instanceof HTMLElement)return e.host}return null}t([C],oi.prototype,"ariaAutoComplete",void 0),t([C],oi.prototype,"ariaControls",void 0),Ze(oi,Kn),Ze(si,re,oi)
const ai=document.createElement("div")
class li{setProperty(t,e){b.queueUpdate((()=>this.target.setProperty(t,e)))}removeProperty(t){b.queueUpdate((()=>this.target.removeProperty(t)))}}class ci extends li{constructor(){super()
const t=new CSSStyleSheet
this.target=t.cssRules[t.insertRule(":root{}")].style,document.adoptedStyleSheets=[...document.adoptedStyleSheets,t]}}class di extends li{constructor(){super(),this.style=document.createElement("style"),document.head.appendChild(this.style)
const{sheet:t}=this.style
if(t){const e=t.insertRule(":root{}",t.cssRules.length)
this.target=t.cssRules[e].style}}}class hi{targetChanged(){if(null!==this.target)for(const[t,e]of this.store.entries())this.target.setProperty(t,e)}constructor(t){this.store=new Map,this.target=null
const e=t.$fastController
this.style=document.createElement("style"),e.addStyles(this.style),x.getNotifier(e).subscribe(this,"isConnected"),this.handleChange(e,"isConnected")}setProperty(t,e){this.store.set(t,e),b.queueUpdate((()=>{null!==this.target&&this.target.setProperty(t,e)}))}removeProperty(t){this.store.delete(t),b.queueUpdate((()=>{null!==this.target&&this.target.removeProperty(t)}))}handleChange(t,e){const{sheet:n}=this.style
if(n){const t=n.insertRule(":host{}",n.cssRules.length)
this.target=n.cssRules[t].style}else this.target=null}}t([C],hi.prototype,"target",void 0)
class ui{constructor(t){this.target=t.style}setProperty(t,e){b.queueUpdate((()=>this.target.setProperty(t,e)))}removeProperty(t){b.queueUpdate((()=>this.target.removeProperty(t)))}}class pi{setProperty(t,e){pi.properties[t]=e
for(const n of pi.roots.values())gi.getOrCreate(pi.normalizeRoot(n)).setProperty(t,e)}removeProperty(t){delete pi.properties[t]
for(const e of pi.roots.values())gi.getOrCreate(pi.normalizeRoot(e)).removeProperty(t)}static registerRoot(t){const{roots:e}=pi
if(!e.has(t)){e.add(t)
const n=gi.getOrCreate(this.normalizeRoot(t))
for(const t in pi.properties)n.setProperty(t,pi.properties[t])}}static unregisterRoot(t){const{roots:e}=pi
if(e.has(t)){e.delete(t)
const n=gi.getOrCreate(pi.normalizeRoot(t))
for(const t in pi.properties)n.removeProperty(t)}}static normalizeRoot(t){return t===ai?document:t}}pi.roots=new Set,pi.properties={}
const fi=new WeakMap,mi=b.supportsAdoptedStyleSheets?class extends li{constructor(t){super()
const e=new CSSStyleSheet
e[it]=!0,this.target=e.cssRules[e.insertRule(":host{}")].style,t.$fastController.addStyles(tt.create([e]))}}:hi,gi=Object.freeze({getOrCreate(t){if(fi.has(t))return fi.get(t)
let e
return t===ai?e=new pi:t instanceof Document?e=b.supportsAdoptedStyleSheets?new ci:new di:e=t instanceof St?new mi(t):new ui(t),fi.set(t,e),e}})
class vi extends _t{get appliedTo(){return[...this._appliedTo]}static from(t){return new vi({name:"string"==typeof t?t:t.name,cssCustomPropertyName:"string"==typeof t?t:void 0===t.cssCustomPropertyName?t.name:t.cssCustomPropertyName})}static isCSSDesignToken(t){return"string"==typeof t.cssCustomProperty}static isDerivedDesignTokenValue(t){return"function"==typeof t}static getTokenById(t){return vi.tokensById.get(t)}getOrCreateSubscriberSet(t=this){return this.subscribers.get(t)||this.subscribers.set(t,new Set)&&this.subscribers.get(t)}constructor(t){super(),this.subscribers=new WeakMap,this._appliedTo=new Set,this.name=t.name,null!==t.cssCustomPropertyName&&(this.cssCustomProperty=`--${t.cssCustomPropertyName}`,this.cssVar=`var(${this.cssCustomProperty})`),this.id=vi.uniqueId(),vi.tokensById.set(this.id,this)}createCSS(){return this.cssVar||""}getValueFor(t){const e=Ci.getOrCreate(t).get(this)
if(void 0!==e)return e
throw new Error(`Value could not be retrieved for token named "${this.name}". Ensure the value is set for ${t} or an ancestor of ${t}.`)}setValueFor(t,e){return this._appliedTo.add(t),e instanceof vi&&(e=this.alias(e)),Ci.getOrCreate(t).set(this,e),this}deleteValueFor(t){return this._appliedTo.delete(t),Ci.existsFor(t)&&Ci.getOrCreate(t).delete(this),this}withDefault(t){return this.setValueFor(ai,t),this}subscribe(t,e){const n=this.getOrCreateSubscriberSet(e)
e&&!Ci.existsFor(e)&&Ci.getOrCreate(e),n.has(t)||n.add(t)}unsubscribe(t,e){const n=this.subscribers.get(e||this)
n&&n.has(t)&&n.delete(t)}notify(t){const e=Object.freeze({token:this,target:t})
this.subscribers.has(this)&&this.subscribers.get(this).forEach((t=>t.handleChange(e))),this.subscribers.has(t)&&this.subscribers.get(t).forEach((t=>t.handleChange(e)))}alias(t){return e=>t.getValueFor(e)}}vi.uniqueId=(()=>{let t=0
return()=>(t++,t.toString(16))})(),vi.tokensById=new Map
class bi{constructor(t,e,n){this.source=t,this.token=e,this.node=n,this.dependencies=new Set,this.observer=x.binding(t,this,!1),this.observer.handleChange=this.observer.call,this.handleChange()}disconnect(){this.observer.disconnect()}handleChange(){try{this.node.store.set(this.token,this.observer.observe(this.node.target,I))}catch(t){console.error(t)}}}class yi{constructor(){this.values=new Map}set(t,e){this.values.get(t)!==e&&(this.values.set(t,e),x.getNotifier(this).notify(t.id))}get(t){return x.track(this,t.id),this.values.get(t)}delete(t){this.values.delete(t),x.getNotifier(this).notify(t.id)}all(){return this.values.entries()}}const wi=new WeakMap,xi=new WeakMap
class Ci{static getOrCreate(t){return wi.get(t)||new Ci(t)}static existsFor(t){return wi.has(t)}static findParent(t){if(ai!==t.target){let e=ri(t.target)
for(;null!==e;){if(wi.has(e))return wi.get(e)
e=ri(e)}return Ci.getOrCreate(ai)}return null}static findClosestAssignedNode(t,e){let n=e
do{if(n.has(t))return n
n=n.parent?n.parent:n.target!==ai?Ci.getOrCreate(ai):null}while(null!==n)
return null}get parent(){return xi.get(this)||null}updateCSSTokenReflection(t,e){if(vi.isCSSDesignToken(e)){const n=this.parent,i=this.isReflecting(e)
if(n){const s=n.get(e),o=t.get(e)
s===o||i?s===o&&i&&this.stopReflectToCSS(e):this.reflectToCSS(e)}else i||this.reflectToCSS(e)}}constructor(t){this.target=t,this.store=new yi,this.children=[],this.assignedValues=new Map,this.reflecting=new Set,this.bindingObservers=new Map,this.tokenValueChangeHandler={handleChange:(t,e)=>{const n=vi.getTokenById(e)
n&&(n.notify(this.target),this.updateCSSTokenReflection(t,n))}},wi.set(t,this),x.getNotifier(this.store).subscribe(this.tokenValueChangeHandler),t instanceof St?t.$fastController.addBehaviors([this]):t.isConnected&&this.bind()}has(t){return this.assignedValues.has(t)}get(t){const e=this.store.get(t)
if(void 0!==e)return e
const n=this.getRaw(t)
return void 0!==n?(this.hydrate(t,n),this.get(t)):void 0}getRaw(t){var e
return this.assignedValues.has(t)?this.assignedValues.get(t):null===(e=Ci.findClosestAssignedNode(t,this))||void 0===e?void 0:e.getRaw(t)}set(t,e){vi.isDerivedDesignTokenValue(this.assignedValues.get(t))&&this.tearDownBindingObserver(t),this.assignedValues.set(t,e),vi.isDerivedDesignTokenValue(e)?this.setupBindingObserver(t,e):this.store.set(t,e)}delete(t){this.assignedValues.delete(t),this.tearDownBindingObserver(t)
const e=this.getRaw(t)
e?this.hydrate(t,e):this.store.delete(t)}bind(){const t=Ci.findParent(this)
t&&t.appendChild(this)
for(const t of this.assignedValues.keys())t.notify(this.target)}unbind(){if(this.parent){xi.get(this).removeChild(this)}for(const t of this.bindingObservers.keys())this.tearDownBindingObserver(t)}appendChild(t){t.parent&&xi.get(t).removeChild(t)
const e=this.children.filter((e=>t.contains(e)))
xi.set(t,this),this.children.push(t),e.forEach((e=>t.appendChild(e))),x.getNotifier(this.store).subscribe(t)
for(const[e,n]of this.store.all())t.hydrate(e,this.bindingObservers.has(e)?this.getRaw(e):n),t.updateCSSTokenReflection(t.store,e)}removeChild(t){const e=this.children.indexOf(t)
if(-1!==e&&this.children.splice(e,1),x.getNotifier(this.store).unsubscribe(t),t.parent!==this)return!1
const n=xi.delete(t)
for(const[e]of this.store.all())t.hydrate(e,t.getRaw(e)),t.updateCSSTokenReflection(t.store,e)
return n}contains(t){return function(t,e){let n=e
for(;null!==n;){if(n===t)return!0
n=ri(n)}return!1}(this.target,t.target)}reflectToCSS(t){this.isReflecting(t)||(this.reflecting.add(t),Ci.cssCustomPropertyReflector.startReflection(t,this.target))}stopReflectToCSS(t){this.isReflecting(t)&&(this.reflecting.delete(t),Ci.cssCustomPropertyReflector.stopReflection(t,this.target))}isReflecting(t){return this.reflecting.has(t)}handleChange(t,e){const n=vi.getTokenById(e)
n&&(this.hydrate(n,this.getRaw(n)),this.updateCSSTokenReflection(this.store,n))}hydrate(t,e){if(!this.has(t)){const n=this.bindingObservers.get(t)
vi.isDerivedDesignTokenValue(e)?n?n.source!==e&&(this.tearDownBindingObserver(t),this.setupBindingObserver(t,e)):this.setupBindingObserver(t,e):(n&&this.tearDownBindingObserver(t),this.store.set(t,e))}}setupBindingObserver(t,e){const n=new bi(e,t,this)
return this.bindingObservers.set(t,n),n}tearDownBindingObserver(t){return!!this.bindingObservers.has(t)&&(this.bindingObservers.get(t).disconnect(),this.bindingObservers.delete(t),!0)}}Ci.cssCustomPropertyReflector=new class{startReflection(t,e){t.subscribe(this,e),this.handleChange({token:t,target:e})}stopReflection(t,e){t.unsubscribe(this,e),this.remove(t,e)}handleChange(t){const{token:e,target:n}=t
this.add(e,n)}add(t,e){gi.getOrCreate(e).setProperty(t.cssCustomProperty,this.resolveCSSValue(Ci.getOrCreate(e).get(t)))}remove(t,e){gi.getOrCreate(e).removeProperty(t.cssCustomProperty)}resolveCSSValue(t){return t&&"function"==typeof t.createCSS?t.createCSS():t}},t([C],Ci.prototype,"children",void 0)
const ki=Object.freeze({create:function(t){return vi.from(t)},notifyConnection:t=>!(!t.isConnected||!Ci.existsFor(t))&&(Ci.getOrCreate(t).bind(),!0),notifyDisconnection:t=>!(t.isConnected||!Ci.existsFor(t))&&(Ci.getOrCreate(t).unbind(),!0),registerRoot(t=ai){pi.registerRoot(t)},unregisterRoot(t=ai){pi.unregisterRoot(t)}}),Si=Object.freeze({definitionCallbackOnly:null,ignoreDuplicate:Symbol()}),_i=new Map,Ii=new Map
let Mi=null
const $i=ve.createInterface((t=>t.cachedCallback((t=>(null===Mi&&(Mi=new Ei(null,t)),Mi))))),Di=Object.freeze({tagFor:t=>Ii.get(t),responsibleFor(t){const e=t.$$designSystem$$
if(e)return e
return ve.findResponsibleContainer(t).get($i)},getOrCreate(t){if(!t)return null===Mi&&(Mi=ve.getOrCreateDOMContainer().get($i)),Mi
const e=t.$$designSystem$$
if(e)return e
const n=ve.getOrCreateDOMContainer(t)
if(n.has($i,!1))return n.get($i)
{const e=new Ei(t,n)
return n.register(Oe.instance($i,e)),e}}})
class Ei{constructor(t,e){this.owner=t,this.container=e,this.designTokensInitialized=!1,this.prefix="fast",this.shadowRootMode=void 0,this.disambiguate=()=>Si.definitionCallbackOnly,null!==t&&(t.$$designSystem$$=this)}withPrefix(t){return this.prefix=t,this}withShadowRootMode(t){return this.shadowRootMode=t,this}withElementDisambiguation(t){return this.disambiguate=t,this}withDesignTokenRoot(t){return this.designTokenRoot=t,this}register(...t){const e=this.container,n=[],i=this.disambiguate,s=this.shadowRootMode,o={elementPrefix:this.prefix,tryDefineElement(t,o,r){const a=function(t,e,n){return"string"==typeof t?{name:t,type:e,callback:n}:t}(t,o,r),{name:l,callback:c,baseClass:d}=a
let{type:h}=a,u=l,p=_i.get(u),f=!0
for(;p;){const t=i(u,h,p)
switch(t){case Si.ignoreDuplicate:return
case Si.definitionCallbackOnly:f=!1,p=void 0
break
default:u=t,p=_i.get(u)}}f&&((Ii.has(h)||h===je)&&(h=class extends h{}),_i.set(u,h),Ii.set(h,u),d&&Ii.set(d,u)),n.push(new Ai(e,u,h,s,c,f))}}
this.designTokensInitialized||(this.designTokensInitialized=!0,null!==this.designTokenRoot&&ki.registerRoot(this.designTokenRoot)),e.registerWithContext(o,...t)
for(const t of n)t.callback(t),t.willDefine&&null!==t.definition&&t.definition.define()
return this}}class Ai{constructor(t,e,n,i,s,o){this.container=t,this.name=e,this.type=n,this.shadowRootMode=i,this.callback=s,this.willDefine=o,this.definition=null}definePresentation(t){Ue.define(this.name,t,this.container)}defineElement(t){this.definition=new bt(this.type,Object.assign(Object.assign({},t),{name:this.name}))}tagFor(t){return Di.tagFor(t)}}
/*!
  * tabbable 6.2.0
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  */var Ti="undefined"==typeof Element,Oi=Ti?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ri=!Ti&&Element.prototype.getRootNode?function(t){var e
return null==t||null===(e=t.getRootNode)||void 0===e?void 0:e.call(t)}:function(t){return null==t?void 0:t.ownerDocument},Fi=function t(e,n){var i
void 0===n&&(n=!0)
var s=null==e||null===(i=e.getAttribute)||void 0===i?void 0:i.call(e,"inert")
return""===s||"true"===s||n&&e&&t(e.parentNode)},Ni=function(t){var e=t.getBoundingClientRect(),n=e.width,i=e.height
return 0===n&&0===i},Li=function(t,e){var n=e.displayCheck,i=e.getShadowRoot
if("hidden"===getComputedStyle(t).visibility)return!0
var s=Oi.call(t,"details>summary:first-of-type")?t.parentElement:t
if(Oi.call(s,"details:not([open]) *"))return!0
if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return Ni(t)}else{if("function"==typeof i){for(var o=t;t;){var r=t.parentElement,a=Ri(t)
if(r&&!r.shadowRoot&&!0===i(r))return Ni(t)
t=t.assignedSlot?t.assignedSlot:r||a===t.ownerDocument?r:a.host}t=o}if(function(t){var e,n,i,s,o=t&&Ri(t),r=null===(e=o)||void 0===e?void 0:e.host,a=!1
if(o&&o!==t)for(a=!!(null!==(n=r)&&void 0!==n&&null!==(i=n.ownerDocument)&&void 0!==i&&i.contains(r)||null!=t&&null!==(s=t.ownerDocument)&&void 0!==s&&s.contains(t));!a&&r;){var l,c,d
a=!(null===(c=r=null===(l=o=Ri(r))||void 0===l?void 0:l.host)||void 0===c||null===(d=c.ownerDocument)||void 0===d||!d.contains(r))}return a}(t))return!t.getClientRects().length
if("legacy-full"!==n)return!0}return!1},Bi=function(t,e){return!(e.disabled||Fi(e)||function(t){return function(t){return"INPUT"===t.tagName}(t)&&"hidden"===t.type}(e)||Li(e,t)||function(t){return"DETAILS"===t.tagName&&Array.prototype.slice.apply(t.children).some((function(t){return"SUMMARY"===t.tagName}))}(e)||function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if("FIELDSET"===e.tagName&&e.disabled){for(var n=0;n<e.children.length;n++){var i=e.children.item(n)
if("LEGEND"===i.tagName)return!!Oi.call(e,"fieldset[disabled] *")||!i.contains(t)}return!0}e=e.parentElement}return!1}(e))},Pi=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"].concat("iframe").join(","),zi=function(t,e){if(e=e||{},!t)throw new Error("No node provided")
return!1!==Oi.call(t,Pi)&&Bi(e,t)}
class Vi extends Zn{constructor(){super(...arguments),this.activeIndex=-1,this.rangeStartIndex=-1}get activeOption(){return this.options[this.activeIndex]}get checkedOptions(){var t
return null===(t=this.options)||void 0===t?void 0:t.filter((t=>t.checked))}get firstSelectedOptionIndex(){return this.options.indexOf(this.firstSelectedOption)}activeIndexChanged(t,e){var n,i
this.ariaActiveDescendant=null!==(i=null===(n=this.options[e])||void 0===n?void 0:n.id)&&void 0!==i?i:"",this.focusAndScrollOptionIntoView()}checkActiveIndex(){if(!this.multiple)return
const t=this.activeOption
t&&(t.checked=!0)}checkFirstOption(t=!1){t?(-1===this.rangeStartIndex&&(this.rangeStartIndex=this.activeIndex+1),this.options.forEach(((t,e)=>{t.checked=xn(e,this.rangeStartIndex)}))):this.uncheckAllOptions(),this.activeIndex=0,this.checkActiveIndex()}checkLastOption(t=!1){t?(-1===this.rangeStartIndex&&(this.rangeStartIndex=this.activeIndex),this.options.forEach(((t,e)=>{t.checked=xn(e,this.rangeStartIndex,this.options.length)}))):this.uncheckAllOptions(),this.activeIndex=this.options.length-1,this.checkActiveIndex()}connectedCallback(){super.connectedCallback(),this.addEventListener("focusout",this.focusoutHandler)}disconnectedCallback(){this.removeEventListener("focusout",this.focusoutHandler),super.disconnectedCallback()}checkNextOption(t=!1){t?(-1===this.rangeStartIndex&&(this.rangeStartIndex=this.activeIndex),this.options.forEach(((t,e)=>{t.checked=xn(e,this.rangeStartIndex,this.activeIndex+1)}))):this.uncheckAllOptions(),this.activeIndex+=this.activeIndex<this.options.length-1?1:0,this.checkActiveIndex()}checkPreviousOption(t=!1){t?(-1===this.rangeStartIndex&&(this.rangeStartIndex=this.activeIndex),1===this.checkedOptions.length&&(this.rangeStartIndex+=1),this.options.forEach(((t,e)=>{t.checked=xn(e,this.activeIndex,this.rangeStartIndex)}))):this.uncheckAllOptions(),this.activeIndex-=this.activeIndex>0?1:0,this.checkActiveIndex()}clickHandler(t){var e
if(!this.multiple)return super.clickHandler(t)
const n=null===(e=t.target)||void 0===e?void 0:e.closest("[role=option]")
return n&&!n.disabled?(this.uncheckAllOptions(),this.activeIndex=this.options.indexOf(n),this.checkActiveIndex(),this.toggleSelectedForAllCheckedOptions(),!0):void 0}focusAndScrollOptionIntoView(){super.focusAndScrollOptionIntoView(this.activeOption)}focusinHandler(t){if(!this.multiple)return super.focusinHandler(t)
this.shouldSkipFocus||t.target!==t.currentTarget||(this.uncheckAllOptions(),-1===this.activeIndex&&(this.activeIndex=-1!==this.firstSelectedOptionIndex?this.firstSelectedOptionIndex:0),this.checkActiveIndex(),this.setSelectedOptions(),this.focusAndScrollOptionIntoView()),this.shouldSkipFocus=!1}focusoutHandler(t){this.multiple&&this.uncheckAllOptions()}keydownHandler(t){if(!this.multiple)return super.keydownHandler(t)
if(this.disabled)return!0
const{key:e,shiftKey:n}=t
switch(this.shouldSkipFocus=!1,e){case un:return void this.checkFirstOption(n)
case rn:return void this.checkNextOption(n)
case cn:return void this.checkPreviousOption(n)
case pn:return void this.checkLastOption(n)
case vn:return this.focusAndScrollOptionIntoView(),!0
case hn:return this.uncheckAllOptions(),this.checkActiveIndex(),!0
case gn:if(t.preventDefault(),this.typeAheadExpired)return void this.toggleSelectedForAllCheckedOptions()
default:return 1===e.length&&this.handleTypeAhead(`${e}`),!0}}mousedownHandler(t){if(t.offsetX>=0&&t.offsetX<=this.scrollWidth)return super.mousedownHandler(t)}multipleChanged(t,e){var n
this.ariaMultiSelectable=e?"true":null,null===(n=this.options)||void 0===n||n.forEach((t=>{t.checked=!e&&void 0})),this.setSelectedOptions()}setSelectedOptions(){this.multiple?this.$fastController.isConnected&&this.options&&(this.selectedOptions=this.options.filter((t=>t.selected)),this.focusAndScrollOptionIntoView()):super.setSelectedOptions()}sizeChanged(t,e){var n
const i=Math.max(0,parseInt(null!==(n=null==e?void 0:e.toFixed())&&void 0!==n?n:"",10))
i!==e&&b.queueUpdate((()=>{this.size=i}))}toggleSelectedForAllCheckedOptions(){const t=this.checkedOptions.filter((t=>!t.disabled)),e=!t.every((t=>t.selected))
t.forEach((t=>t.selected=e)),this.selectedIndex=this.options.indexOf(t[t.length-1]),this.setSelectedOptions()}typeaheadBufferChanged(t,e){if(this.multiple){if(this.$fastController.isConnected){const t=this.getTypeaheadMatches(),e=this.options.indexOf(t[0])
e>-1&&(this.activeIndex=e,this.uncheckAllOptions(),this.checkActiveIndex()),this.typeAheadExpired=!1}}else super.typeaheadBufferChanged(t,e)}uncheckAllOptions(t=!1){this.options.forEach((t=>t.checked=!this.multiple&&void 0)),t||(this.rangeStartIndex=-1)}}t([C],Vi.prototype,"activeIndex",void 0),t([ft({mode:"boolean"})],Vi.prototype,"multiple",void 0),t([ft({converter:ut})],Vi.prototype,"size",void 0)
const Hi="menuitem",Ui="menuitemcheckbox",qi="menuitemradio",ji={[Hi]:"menuitem",[Ui]:"menuitemcheckbox",[qi]:"menuitemradio"}
let Wi=class extends je{constructor(){super(...arguments),this.role=Hi,this.hasSubmenu=!1,this.currentDirection=yn.ltr,this.focusSubmenuOnLoad=!1,this.handleMenuItemKeyDown=t=>{if(t.defaultPrevented)return!1
switch(t.key){case dn:case gn:return this.invoke(),!1
case ln:return this.expandAndFocus(),!1
case an:if(this.expanded)return this.expanded=!1,this.focus(),!1}return!0},this.handleMenuItemClick=t=>(t.defaultPrevented||this.disabled||this.invoke(),!1),this.submenuLoaded=()=>{this.focusSubmenuOnLoad&&(this.focusSubmenuOnLoad=!1,this.hasSubmenu&&(this.submenu.focus(),this.setAttribute("tabindex","-1")))},this.handleMouseOver=t=>(this.disabled||!this.hasSubmenu||this.expanded||(this.expanded=!0),!1),this.handleMouseOut=t=>(!this.expanded||this.contains(document.activeElement)||(this.expanded=!1),!1),this.expandAndFocus=()=>{this.hasSubmenu&&(this.focusSubmenuOnLoad=!0,this.expanded=!0)},this.invoke=()=>{if(!this.disabled)switch(this.role){case Ui:this.checked=!this.checked
break
case Hi:this.updateSubmenu(),this.hasSubmenu?this.expandAndFocus():this.$emit("change")
break
case qi:this.checked||(this.checked=!0)}},this.updateSubmenu=()=>{this.submenu=this.domChildren().find((t=>"menu"===t.getAttribute("role"))),this.hasSubmenu=void 0!==this.submenu}}expandedChanged(t){if(this.$fastController.isConnected){if(void 0===this.submenu)return
!1===this.expanded?this.submenu.collapseExpandedItem():this.currentDirection=Mn(this),this.$emit("expanded-change",this,{bubbles:!1})}}checkedChanged(t,e){this.$fastController.isConnected&&this.$emit("change")}connectedCallback(){super.connectedCallback(),b.queueUpdate((()=>{this.updateSubmenu()})),this.startColumnCount||(this.startColumnCount=1),this.observer=new MutationObserver(this.updateSubmenu)}disconnectedCallback(){super.disconnectedCallback(),this.submenu=void 0,void 0!==this.observer&&(this.observer.disconnect(),this.observer=void 0)}domChildren(){return Array.from(this.children).filter((t=>!t.hasAttribute("hidden")))}}
t([ft({mode:"boolean"})],Wi.prototype,"disabled",void 0),t([ft({mode:"boolean"})],Wi.prototype,"expanded",void 0),t([C],Wi.prototype,"startColumnCount",void 0),t([ft],Wi.prototype,"role",void 0),t([ft({mode:"boolean"})],Wi.prototype,"checked",void 0),t([C],Wi.prototype,"submenuRegion",void 0),t([C],Wi.prototype,"hasSubmenu",void 0),t([C],Wi.prototype,"currentDirection",void 0),t([C],Wi.prototype,"submenu",void 0),Ze(Wi,re)
class Gi extends je{}class Zi extends(Fn(Gi)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}const Ki="text"
let Yi=class extends Zi{constructor(){super(...arguments),this.type=Ki}readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly,this.validate())}autofocusChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.autofocus=this.autofocus,this.validate())}placeholderChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.placeholder=this.placeholder)}typeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.type=this.type,this.validate())}listChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.setAttribute("list",this.list),this.validate())}maxlengthChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.maxLength=this.maxlength,this.validate())}minlengthChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.minLength=this.minlength,this.validate())}patternChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.pattern=this.pattern,this.validate())}sizeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.size=this.size)}spellcheckChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.spellcheck=this.spellcheck)}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type",this.type),this.validate(),this.autofocus&&b.queueUpdate((()=>{this.focus()}))}select(){this.control.select(),this.$emit("select")}handleTextInput(){this.value=this.control.value}handleChange(){this.$emit("change")}validate(){super.validate(this.control)}}
t([ft({attribute:"readonly",mode:"boolean"})],Yi.prototype,"readOnly",void 0),t([ft({mode:"boolean"})],Yi.prototype,"autofocus",void 0),t([ft],Yi.prototype,"placeholder",void 0),t([ft],Yi.prototype,"type",void 0),t([ft],Yi.prototype,"list",void 0),t([ft({converter:ut})],Yi.prototype,"maxlength",void 0),t([ft({converter:ut})],Yi.prototype,"minlength",void 0),t([ft],Yi.prototype,"pattern",void 0),t([ft({converter:ut})],Yi.prototype,"size",void 0),t([ft({mode:"boolean"})],Yi.prototype,"spellcheck",void 0),t([C],Yi.prototype,"defaultSlottedNodes",void 0)
class Xi{}Ze(Xi,Sn),Ze(Yi,re,Xi)
class Ji extends je{}class Qi extends(Fn(Ji)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}let ts=class extends Qi{constructor(){super(...arguments),this.hideStep=!1,this.step=1,this.isUserInput=!1}maxChanged(t,e){var n
this.max=Math.max(e,null!==(n=this.min)&&void 0!==n?n:e)
const i=Math.min(this.min,this.max)
void 0!==this.min&&this.min!==i&&(this.min=i),this.value=this.getValidValue(this.value)}minChanged(t,e){var n
this.min=Math.min(e,null!==(n=this.max)&&void 0!==n?n:e)
const i=Math.max(this.min,this.max)
void 0!==this.max&&this.max!==i&&(this.max=i),this.value=this.getValidValue(this.value)}get valueAsNumber(){return parseFloat(super.value)}set valueAsNumber(t){this.value=t.toString()}valueChanged(t,e){this.value=this.getValidValue(e),e===this.value&&(this.control&&!this.isUserInput&&(this.control.value=this.value),super.valueChanged(t,this.value),void 0===t||this.isUserInput||(this.$emit("input"),this.$emit("change")),this.isUserInput=!1)}validate(){super.validate(this.control)}getValidValue(t){var e,n
let i=parseFloat(parseFloat(t).toPrecision(12))
return isNaN(i)?i="":(i=Math.min(i,null!==(e=this.max)&&void 0!==e?e:i),i=Math.max(i,null!==(n=this.min)&&void 0!==n?n:i).toString()),i}stepUp(){const t=parseFloat(this.value),e=isNaN(t)?this.min>0?this.min:this.max<0?this.max:this.min?0:this.step:t+this.step
this.value=e.toString()}stepDown(){const t=parseFloat(this.value),e=isNaN(t)?this.min>0?this.min:this.max<0?this.max:this.min?0:0-this.step:t-this.step
this.value=e.toString()}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type","number"),this.validate(),this.control.value=this.value,this.autofocus&&b.queueUpdate((()=>{this.focus()}))}select(){this.control.select(),this.$emit("select")}handleTextInput(){this.control.value=this.control.value.replace(/[^0-9\-+e.]/g,""),this.isUserInput=!0,this.value=this.control.value}handleChange(){this.$emit("change")}handleKeyDown(t){switch(t.key){case cn:return this.stepUp(),!1
case rn:return this.stepDown(),!1}return!0}handleBlur(){this.control.value=this.value}}
t([ft({attribute:"readonly",mode:"boolean"})],ts.prototype,"readOnly",void 0),t([ft({mode:"boolean"})],ts.prototype,"autofocus",void 0),t([ft({attribute:"hide-step",mode:"boolean"})],ts.prototype,"hideStep",void 0),t([ft],ts.prototype,"placeholder",void 0),t([ft],ts.prototype,"list",void 0),t([ft({converter:ut})],ts.prototype,"maxlength",void 0),t([ft({converter:ut})],ts.prototype,"minlength",void 0),t([ft({converter:ut})],ts.prototype,"size",void 0),t([ft({converter:ut})],ts.prototype,"step",void 0),t([ft({converter:ut})],ts.prototype,"max",void 0),t([ft({converter:ut})],ts.prototype,"min",void 0),t([C],ts.prototype,"defaultSlottedNodes",void 0),Ze(ts,re,Xi)
let es=class extends je{constructor(){super(...arguments),this.orientation=Ke,this.radioChangeHandler=t=>{const e=t.target
e.checked&&(this.slottedRadioButtons.forEach((t=>{t!==e&&(t.checked=!1,this.isInsideFoundationToolbar||t.setAttribute("tabindex","-1"))})),this.selectedRadio=e,this.value=e.value,e.setAttribute("tabindex","0"),this.focusedRadio=e),t.stopPropagation()},this.moveToRadioByIndex=(t,e)=>{const n=t[e]
this.isInsideToolbar||(n.setAttribute("tabindex","0"),n.readOnly?this.slottedRadioButtons.forEach((t=>{t!==n&&t.setAttribute("tabindex","-1")})):(n.checked=!0,this.selectedRadio=n)),this.focusedRadio=n,n.focus()},this.moveRightOffGroup=()=>{var t
null===(t=this.nextElementSibling)||void 0===t||t.focus()},this.moveLeftOffGroup=()=>{var t
null===(t=this.previousElementSibling)||void 0===t||t.focus()},this.focusOutHandler=t=>{const e=this.slottedRadioButtons,n=t.target,i=null!==n?e.indexOf(n):0,s=this.focusedRadio?e.indexOf(this.focusedRadio):-1
return(0===s&&i===s||s===e.length-1&&s===i)&&(this.selectedRadio?(this.focusedRadio=this.selectedRadio,this.isInsideFoundationToolbar||(this.selectedRadio.setAttribute("tabindex","0"),e.forEach((t=>{t!==this.selectedRadio&&t.setAttribute("tabindex","-1")})))):(this.focusedRadio=e[0],this.focusedRadio.setAttribute("tabindex","0"),e.forEach((t=>{t!==this.focusedRadio&&t.setAttribute("tabindex","-1")})))),!0},this.clickHandler=t=>{const e=t.target
if(e){const t=this.slottedRadioButtons
e.checked||0===t.indexOf(e)?(e.setAttribute("tabindex","0"),this.selectedRadio=e):(e.setAttribute("tabindex","-1"),this.selectedRadio=null),this.focusedRadio=e}t.preventDefault()},this.shouldMoveOffGroupToTheRight=(t,e,n)=>t===e.length&&this.isInsideToolbar&&n===ln,this.shouldMoveOffGroupToTheLeft=(t,e)=>(this.focusedRadio?t.indexOf(this.focusedRadio)-1:0)<0&&this.isInsideToolbar&&e===an,this.checkFocusedRadio=()=>{null===this.focusedRadio||this.focusedRadio.readOnly||this.focusedRadio.checked||(this.focusedRadio.checked=!0,this.focusedRadio.setAttribute("tabindex","0"),this.focusedRadio.focus(),this.selectedRadio=this.focusedRadio)},this.moveRight=t=>{const e=this.slottedRadioButtons
let n=0
if(n=this.focusedRadio?e.indexOf(this.focusedRadio)+1:1,this.shouldMoveOffGroupToTheRight(n,e,t.key))this.moveRightOffGroup()
else for(n===e.length&&(n=0);n<e.length&&e.length>1;){if(!e[n].disabled){this.moveToRadioByIndex(e,n)
break}if(this.focusedRadio&&n===e.indexOf(this.focusedRadio))break
if(n+1>=e.length){if(this.isInsideToolbar)break
n=0}else n+=1}},this.moveLeft=t=>{const e=this.slottedRadioButtons
let n=0
if(n=this.focusedRadio?e.indexOf(this.focusedRadio)-1:0,n=n<0?e.length-1:n,this.shouldMoveOffGroupToTheLeft(e,t.key))this.moveLeftOffGroup()
else for(;n>=0&&e.length>1;){if(!e[n].disabled){this.moveToRadioByIndex(e,n)
break}if(this.focusedRadio&&n===e.indexOf(this.focusedRadio))break
n-1<0?n=e.length-1:n-=1}},this.keydownHandler=t=>{const e=t.key
if(e in bn&&this.isInsideFoundationToolbar)return!0
switch(e){case dn:this.checkFocusedRadio()
break
case ln:case rn:this.direction===yn.ltr?this.moveRight(t):this.moveLeft(t)
break
case an:case cn:this.direction===yn.ltr?this.moveLeft(t):this.moveRight(t)
break
default:return!0}}}readOnlyChanged(){void 0!==this.slottedRadioButtons&&this.slottedRadioButtons.forEach((t=>{this.readOnly?t.readOnly=!0:t.readOnly=!1}))}disabledChanged(){void 0!==this.slottedRadioButtons&&this.slottedRadioButtons.forEach((t=>{this.disabled?t.disabled=!0:t.disabled=!1}))}nameChanged(){this.slottedRadioButtons&&this.slottedRadioButtons.forEach((t=>{t.setAttribute("name",this.name)}))}valueChanged(){this.slottedRadioButtons&&this.slottedRadioButtons.forEach((t=>{t.value===this.value&&(t.checked=!0,this.selectedRadio=t)})),this.$emit("change")}slottedRadioButtonsChanged(t,e){this.slottedRadioButtons&&this.slottedRadioButtons.length>0&&this.setupRadioButtons()}get parentToolbar(){return this.closest('[role="toolbar"]')}get isInsideToolbar(){var t
return null!==(t=this.parentToolbar)&&void 0!==t&&t}get isInsideFoundationToolbar(){var t
return!!(null===(t=this.parentToolbar)||void 0===t?void 0:t.$fastController)}connectedCallback(){super.connectedCallback(),this.direction=Mn(this),this.setupRadioButtons()}disconnectedCallback(){this.slottedRadioButtons.forEach((t=>{t.removeEventListener("change",this.radioChangeHandler)}))}setupRadioButtons(){const t=this.slottedRadioButtons.filter((t=>t.hasAttribute("checked"))),e=t?t.length:0
if(e>1){t[e-1].checked=!0}let n=!1
if(this.slottedRadioButtons.forEach((t=>{void 0!==this.name&&t.setAttribute("name",this.name),this.disabled&&(t.disabled=!0),this.readOnly&&(t.readOnly=!0),this.value&&this.value===t.value?(this.selectedRadio=t,this.focusedRadio=t,t.checked=!0,t.setAttribute("tabindex","0"),n=!0):(this.isInsideFoundationToolbar||t.setAttribute("tabindex","-1"),t.checked=!1),t.addEventListener("change",this.radioChangeHandler)})),void 0===this.value&&this.slottedRadioButtons.length>0){const t=this.slottedRadioButtons.filter((t=>t.hasAttribute("checked"))),e=null!==t?t.length:0
if(e>0&&!n){const n=t[e-1]
n.checked=!0,this.focusedRadio=n,n.setAttribute("tabindex","0")}else this.slottedRadioButtons[0].setAttribute("tabindex","0"),this.focusedRadio=this.slottedRadioButtons[0]}}}
t([ft({attribute:"readonly",mode:"boolean"})],es.prototype,"readOnly",void 0),t([ft({attribute:"disabled",mode:"boolean"})],es.prototype,"disabled",void 0),t([ft],es.prototype,"name",void 0),t([ft],es.prototype,"value",void 0),t([ft],es.prototype,"orientation",void 0),t([C],es.prototype,"childItems",void 0),t([C],es.prototype,"slottedRadioButtons",void 0)
class ns extends je{}class is extends(Nn(ns)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}let ss=class extends is{readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly)}defaultCheckedChanged(){var t
this.$fastController.isConnected&&!this.dirtyChecked&&(this.isInsideRadioGroup()||(this.checked=null!==(t=this.defaultChecked)&&void 0!==t&&t,this.dirtyChecked=!1))}constructor(){super(),this.initialValue="on",this.keypressHandler=t=>{if(t.key!==gn)return!0
this.checked||this.readOnly||(this.checked=!0)},this.proxy.setAttribute("type","radio")}connectedCallback(){var t,e
super.connectedCallback(),this.validate(),"radiogroup"!==(null===(t=this.parentElement)||void 0===t?void 0:t.getAttribute("role"))&&null===this.getAttribute("tabindex")&&(this.disabled||this.setAttribute("tabindex","0")),this.checkedAttribute&&(this.dirtyChecked||this.isInsideRadioGroup()||(this.checked=null!==(e=this.defaultChecked)&&void 0!==e&&e,this.dirtyChecked=!1))}isInsideRadioGroup(){return null!==this.closest("[role=radiogroup]")}clickHandler(t){this.disabled||this.readOnly||this.checked||(this.checked=!0)}}
t([ft({attribute:"readonly",mode:"boolean"})],ss.prototype,"readOnly",void 0),t([C],ss.prototype,"name",void 0),t([C],ss.prototype,"defaultSlottedNodes",void 0)
class rs extends Vi{}let as=class extends(Fn(rs)){constructor(){super(...arguments),this.proxy=document.createElement("select")}},ls=class extends as{constructor(){super(...arguments),this.open=!1,this.forcedPosition=!1,this.listboxId=kn("listbox-"),this.maxHeight=0}openChanged(t,e){if(this.collapsible){if(this.open)return this.ariaControls=this.listboxId,this.ariaExpanded="true",this.setPositioning(),this.focusAndScrollOptionIntoView(),this.indexWhenOpened=this.selectedIndex,void b.queueUpdate((()=>this.focus()))
this.ariaControls="",this.ariaExpanded="false"}}get collapsible(){return!(this.multiple||"number"==typeof this.size)}get value(){return x.track(this,"value"),this._value}set value(t){var e,n,i,s,o,r,a
const l=`${this._value}`
if(null===(e=this._options)||void 0===e?void 0:e.length){const e=this._options.findIndex((e=>e.value===t)),l=null!==(i=null===(n=this._options[this.selectedIndex])||void 0===n?void 0:n.value)&&void 0!==i?i:null,c=null!==(o=null===(s=this._options[e])||void 0===s?void 0:s.value)&&void 0!==o?o:null;-1!==e&&l===c||(t="",this.selectedIndex=e),t=null!==(a=null===(r=this.firstSelectedOption)||void 0===r?void 0:r.value)&&void 0!==a?a:t}l!==t&&(this._value=t,super.valueChanged(l,t),x.notify(this,"value"),this.updateDisplayValue())}updateValue(t){var e,n
this.$fastController.isConnected&&(this.value=null!==(n=null===(e=this.firstSelectedOption)||void 0===e?void 0:e.value)&&void 0!==n?n:""),t&&(this.$emit("input"),this.$emit("change",this,{bubbles:!0,composed:void 0}))}selectedIndexChanged(t,e){super.selectedIndexChanged(t,e),this.updateValue()}positionChanged(t,e){this.positionAttribute=e,this.setPositioning()}setPositioning(){const t=this.getBoundingClientRect(),e=window.innerHeight-t.bottom
this.position=this.forcedPosition?this.positionAttribute:t.top>e?Yn:Xn,this.positionAttribute=this.forcedPosition?this.positionAttribute:this.position,this.maxHeight=this.position===Yn?~~t.top:~~e}get displayValue(){var t,e
return x.track(this,"displayValue"),null!==(e=null===(t=this.firstSelectedOption)||void 0===t?void 0:t.text)&&void 0!==e?e:""}disabledChanged(t,e){super.disabledChanged&&super.disabledChanged(t,e),this.ariaDisabled=this.disabled?"true":"false"}formResetCallback(){this.setProxyOptions(),super.setDefaultSelectedOption(),-1===this.selectedIndex&&(this.selectedIndex=0)}clickHandler(t){if(!this.disabled){if(this.open){const e=t.target.closest("option,[role=option]")
if(e&&e.disabled)return}return super.clickHandler(t),this.open=this.collapsible&&!this.open,this.open||this.indexWhenOpened===this.selectedIndex||this.updateValue(!0),!0}}focusoutHandler(t){var e
if(super.focusoutHandler(t),!this.open)return!0
const n=t.relatedTarget
this.isSameNode(n)?this.focus():(null===(e=this.options)||void 0===e?void 0:e.includes(n))||(this.open=!1,this.indexWhenOpened!==this.selectedIndex&&this.updateValue(!0))}handleChange(t,e){super.handleChange(t,e),"value"===e&&this.updateValue()}slottedOptionsChanged(t,e){this.options.forEach((t=>{x.getNotifier(t).unsubscribe(this,"value")})),super.slottedOptionsChanged(t,e),this.options.forEach((t=>{x.getNotifier(t).subscribe(this,"value")})),this.setProxyOptions(),this.updateValue()}mousedownHandler(t){var e
return t.offsetX>=0&&t.offsetX<=(null===(e=this.listbox)||void 0===e?void 0:e.scrollWidth)?super.mousedownHandler(t):this.collapsible}multipleChanged(t,e){super.multipleChanged(t,e),this.proxy&&(this.proxy.multiple=e)}selectedOptionsChanged(t,e){var n
super.selectedOptionsChanged(t,e),null===(n=this.options)||void 0===n||n.forEach(((t,e)=>{var n
const i=null===(n=this.proxy)||void 0===n?void 0:n.options.item(e)
i&&(i.selected=t.selected)}))}setDefaultSelectedOption(){var t
const e=null!==(t=this.options)&&void 0!==t?t:Array.from(this.children).filter(Zn.slottedOptionFilter),n=null==e?void 0:e.findIndex((t=>t.hasAttribute("selected")||t.selected||t.value===this.value))
this.selectedIndex=-1===n?0:n}setProxyOptions(){this.proxy instanceof HTMLSelectElement&&this.options&&(this.proxy.options.length=0,this.options.forEach((t=>{const e=t.proxy||(t instanceof HTMLOptionElement?t.cloneNode():null)
e&&this.proxy.options.add(e)})))}keydownHandler(t){super.keydownHandler(t)
const e=t.key||t.key.charCodeAt(0)
switch(e){case gn:t.preventDefault(),this.collapsible&&this.typeAheadExpired&&(this.open=!this.open)
break
case un:case pn:t.preventDefault()
break
case dn:t.preventDefault(),this.open=!this.open
break
case hn:this.collapsible&&this.open&&(t.preventDefault(),this.open=!1)
break
case vn:return this.collapsible&&this.open&&(t.preventDefault(),this.open=!1),!0}return this.open||this.indexWhenOpened===this.selectedIndex||(this.updateValue(!0),this.indexWhenOpened=this.selectedIndex),!(e===rn||e===cn)}connectedCallback(){super.connectedCallback(),this.forcedPosition=!!this.positionAttribute,this.addEventListener("contentchange",this.updateDisplayValue)}disconnectedCallback(){this.removeEventListener("contentchange",this.updateDisplayValue),super.disconnectedCallback()}sizeChanged(t,e){super.sizeChanged(t,e),this.proxy&&(this.proxy.size=e)}updateDisplayValue(){this.collapsible&&x.notify(this,"displayValue")}}
t([ft({attribute:"open",mode:"boolean"})],ls.prototype,"open",void 0),t([k],ls.prototype,"collapsible",null),t([C],ls.prototype,"control",void 0),t([ft({attribute:"position"})],ls.prototype,"positionAttribute",void 0),t([C],ls.prototype,"position",void 0),t([C],ls.prototype,"maxHeight",void 0)
class cs{}t([C],cs.prototype,"ariaControls",void 0),Ze(cs,Kn),Ze(ls,re,cs)
class ds extends je{}class hs extends(Nn(ds)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}let us=class extends hs{readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly),this.readOnly?this.classList.add("readonly"):this.classList.remove("readonly")}constructor(){super(),this.initialValue="on",this.keypressHandler=t=>{if(!this.readOnly)switch(t.key){case dn:case gn:this.checked=!this.checked}},this.clickHandler=t=>{this.disabled||this.readOnly||(this.checked=!this.checked)},this.proxy.setAttribute("type","checkbox")}checkedChanged(t,e){super.checkedChanged(t,e),this.checked?this.classList.add("checked"):this.classList.remove("checked")}}
t([ft({attribute:"readonly",mode:"boolean"})],us.prototype,"readOnly",void 0),t([C],us.prototype,"defaultSlottedNodes",void 0)
let ps=class extends je{}
let fs=class extends je{}
t([ft({mode:"boolean"})],fs.prototype,"disabled",void 0)
const ms="horizontal"
let gs=class extends je{constructor(){super(...arguments),this.orientation=ms,this.activeindicator=!0,this.showActiveIndicator=!0,this.prevActiveTabIndex=0,this.activeTabIndex=0,this.ticking=!1,this.change=()=>{this.$emit("change",this.activetab)},this.isDisabledElement=t=>"true"===t.getAttribute("aria-disabled"),this.isHiddenElement=t=>t.hasAttribute("hidden"),this.isFocusableElement=t=>!this.isDisabledElement(t)&&!this.isHiddenElement(t),this.setTabs=()=>{const t="gridColumn",e="gridRow",n=this.isHorizontal()?t:e
this.activeTabIndex=this.getActiveIndex(),this.showActiveIndicator=!1,this.tabs.forEach(((i,s)=>{if("tab"===i.slot){const t=this.activeTabIndex===s&&this.isFocusableElement(i)
this.activeindicator&&this.isFocusableElement(i)&&(this.showActiveIndicator=!0)
const e=this.tabIds[s],n=this.tabpanelIds[s]
i.setAttribute("id",e),i.setAttribute("aria-selected",t?"true":"false"),i.setAttribute("aria-controls",n),i.addEventListener("click",this.handleTabClick),i.addEventListener("keydown",this.handleTabKeyDown),i.setAttribute("tabindex",t?"0":"-1"),t&&(this.activetab=i,this.activeid=e)}i.style[t]="",i.style[e]="",i.style[n]=`${s+1}`,this.isHorizontal()?i.classList.remove("vertical"):i.classList.add("vertical")}))},this.setTabPanels=()=>{this.tabpanels.forEach(((t,e)=>{const n=this.tabIds[e],i=this.tabpanelIds[e]
t.setAttribute("id",i),t.setAttribute("aria-labelledby",n),this.activeTabIndex!==e?t.setAttribute("hidden",""):t.removeAttribute("hidden")}))},this.handleTabClick=t=>{const e=t.currentTarget
1===e.nodeType&&this.isFocusableElement(e)&&(this.prevActiveTabIndex=this.activeTabIndex,this.activeTabIndex=this.tabs.indexOf(e),this.setComponent())},this.handleTabKeyDown=t=>{if(this.isHorizontal())switch(t.key){case an:t.preventDefault(),this.adjustBackward(t)
break
case ln:t.preventDefault(),this.adjustForward(t)}else switch(t.key){case cn:t.preventDefault(),this.adjustBackward(t)
break
case rn:t.preventDefault(),this.adjustForward(t)}switch(t.key){case un:t.preventDefault(),this.adjust(-this.activeTabIndex)
break
case pn:t.preventDefault(),this.adjust(this.tabs.length-this.activeTabIndex-1)}},this.adjustForward=t=>{const e=this.tabs
let n=0
for(n=this.activetab?e.indexOf(this.activetab)+1:1,n===e.length&&(n=0);n<e.length&&e.length>1;){if(this.isFocusableElement(e[n])){this.moveToTabByIndex(e,n)
break}if(this.activetab&&n===e.indexOf(this.activetab))break
n+1>=e.length?n=0:n+=1}},this.adjustBackward=t=>{const e=this.tabs
let n=0
for(n=this.activetab?e.indexOf(this.activetab)-1:0,n=n<0?e.length-1:n;n>=0&&e.length>1;){if(this.isFocusableElement(e[n])){this.moveToTabByIndex(e,n)
break}n-1<0?n=e.length-1:n-=1}},this.moveToTabByIndex=(t,e)=>{const n=t[e]
this.activetab=n,this.prevActiveTabIndex=this.activeTabIndex,this.activeTabIndex=e,n.focus(),this.setComponent()}}orientationChanged(){this.$fastController.isConnected&&(this.setTabs(),this.setTabPanels(),this.handleActiveIndicatorPosition())}activeidChanged(t,e){this.$fastController.isConnected&&this.tabs.length<=this.tabpanels.length&&(this.prevActiveTabIndex=this.tabs.findIndex((e=>e.id===t)),this.setTabs(),this.setTabPanels(),this.handleActiveIndicatorPosition())}tabsChanged(){this.$fastController.isConnected&&this.tabs.length<=this.tabpanels.length&&(this.tabIds=this.getTabIds(),this.tabpanelIds=this.getTabPanelIds(),this.setTabs(),this.setTabPanels(),this.handleActiveIndicatorPosition())}tabpanelsChanged(){this.$fastController.isConnected&&this.tabpanels.length<=this.tabs.length&&(this.tabIds=this.getTabIds(),this.tabpanelIds=this.getTabPanelIds(),this.setTabs(),this.setTabPanels(),this.handleActiveIndicatorPosition())}getActiveIndex(){return void 0!==this.activeid?-1===this.tabIds.indexOf(this.activeid)?0:this.tabIds.indexOf(this.activeid):0}getTabIds(){return this.tabs.map((t=>{var e
return null!==(e=t.getAttribute("id"))&&void 0!==e?e:`tab-${kn()}`}))}getTabPanelIds(){return this.tabpanels.map((t=>{var e
return null!==(e=t.getAttribute("id"))&&void 0!==e?e:`panel-${kn()}`}))}setComponent(){this.activeTabIndex!==this.prevActiveTabIndex&&(this.activeid=this.tabIds[this.activeTabIndex],this.focusTab(),this.change())}isHorizontal(){return this.orientation===ms}handleActiveIndicatorPosition(){this.showActiveIndicator&&this.activeindicator&&this.activeTabIndex!==this.prevActiveTabIndex&&(this.ticking?this.ticking=!1:(this.ticking=!0,this.animateActiveIndicator()))}animateActiveIndicator(){this.ticking=!0
const t=this.isHorizontal()?"gridColumn":"gridRow",e=this.isHorizontal()?"translateX":"translateY",n=this.isHorizontal()?"offsetLeft":"offsetTop",i=this.activeIndicatorRef[n]
this.activeIndicatorRef.style[t]=`${this.activeTabIndex+1}`
const s=this.activeIndicatorRef[n]
this.activeIndicatorRef.style[t]=`${this.prevActiveTabIndex+1}`
const o=s-i
this.activeIndicatorRef.style.transform=`${e}(${o}px)`,this.activeIndicatorRef.classList.add("activeIndicatorTransition"),this.activeIndicatorRef.addEventListener("transitionend",(()=>{this.ticking=!1,this.activeIndicatorRef.style[t]=`${this.activeTabIndex+1}`,this.activeIndicatorRef.style.transform=`${e}(0px)`,this.activeIndicatorRef.classList.remove("activeIndicatorTransition")}))}adjust(t){const e=this.tabs.filter((t=>this.isFocusableElement(t))),n=e.indexOf(this.activetab),i=wn(0,e.length-1,n+t),s=this.tabs.indexOf(e[i])
s>-1&&this.moveToTabByIndex(this.tabs,s)}focusTab(){this.tabs[this.activeTabIndex].focus()}connectedCallback(){super.connectedCallback(),this.tabIds=this.getTabIds(),this.tabpanelIds=this.getTabPanelIds(),this.activeTabIndex=this.getActiveIndex()}}
t([ft],gs.prototype,"orientation",void 0),t([ft],gs.prototype,"activeid",void 0),t([C],gs.prototype,"tabs",void 0),t([C],gs.prototype,"tabpanels",void 0),t([ft({mode:"boolean"})],gs.prototype,"activeindicator",void 0),t([C],gs.prototype,"activeIndicatorRef",void 0),t([C],gs.prototype,"showActiveIndicator",void 0),Ze(gs,re)
class vs extends je{}class bs extends(Fn(vs)){constructor(){super(...arguments),this.proxy=document.createElement("textarea")}}const ys="none"
let ws=class extends bs{constructor(){super(...arguments),this.resize=ys,this.cols=20,this.handleTextInput=()=>{this.value=this.control.value}}readOnlyChanged(){this.proxy instanceof HTMLTextAreaElement&&(this.proxy.readOnly=this.readOnly)}autofocusChanged(){this.proxy instanceof HTMLTextAreaElement&&(this.proxy.autofocus=this.autofocus)}listChanged(){this.proxy instanceof HTMLTextAreaElement&&this.proxy.setAttribute("list",this.list)}maxlengthChanged(){this.proxy instanceof HTMLTextAreaElement&&(this.proxy.maxLength=this.maxlength)}minlengthChanged(){this.proxy instanceof HTMLTextAreaElement&&(this.proxy.minLength=this.minlength)}spellcheckChanged(){this.proxy instanceof HTMLTextAreaElement&&(this.proxy.spellcheck=this.spellcheck)}select(){this.control.select(),this.$emit("select")}handleChange(){this.$emit("change")}validate(){super.validate(this.control)}}
t([ft({mode:"boolean"})],ws.prototype,"readOnly",void 0),t([ft],ws.prototype,"resize",void 0),t([ft({mode:"boolean"})],ws.prototype,"autofocus",void 0),t([ft({attribute:"form"})],ws.prototype,"formId",void 0),t([ft],ws.prototype,"list",void 0),t([ft({converter:ut})],ws.prototype,"maxlength",void 0),t([ft({converter:ut})],ws.prototype,"minlength",void 0),t([ft],ws.prototype,"name",void 0),t([ft],ws.prototype,"placeholder",void 0),t([ft({converter:ut,mode:"fromView"})],ws.prototype,"cols",void 0),t([ft({converter:ut,mode:"fromView"})],ws.prototype,"rows",void 0),t([ft({mode:"boolean"})],ws.prototype,"spellcheck",void 0),t([C],ws.prototype,"defaultSlottedNodes",void 0),Ze(ws,Xi)
const xs=Object.freeze({[bn.ArrowUp]:{[Ye]:-1},[bn.ArrowDown]:{[Ye]:1},[bn.ArrowLeft]:{[Ke]:{[yn.ltr]:-1,[yn.rtl]:1}},[bn.ArrowRight]:{[Ke]:{[yn.ltr]:1,[yn.rtl]:-1}}})
let Cs=class t extends je{constructor(){super(...arguments),this._activeIndex=0,this.direction=yn.ltr,this.orientation=Ke}get activeIndex(){return x.track(this,"activeIndex"),this._activeIndex}set activeIndex(t){this.$fastController.isConnected&&(this._activeIndex=wn(0,this.focusableElements.length-1,t),x.notify(this,"activeIndex"))}slottedItemsChanged(){this.$fastController.isConnected&&this.reduceFocusableElements()}mouseDownHandler(t){var e
const n=null===(e=this.focusableElements)||void 0===e?void 0:e.findIndex((e=>e.contains(t.target)))
return n>-1&&this.activeIndex!==n&&this.setFocusedElement(n),!0}childItemsChanged(t,e){this.$fastController.isConnected&&this.reduceFocusableElements()}connectedCallback(){super.connectedCallback(),this.direction=Mn(this)}focusinHandler(t){const e=t.relatedTarget
e&&!this.contains(e)&&this.setFocusedElement()}getDirectionalIncrementer(t){var e,n,i,s,o
return null!==(o=null!==(i=null===(n=null===(e=xs[t])||void 0===e?void 0:e[this.orientation])||void 0===n?void 0:n[this.direction])&&void 0!==i?i:null===(s=xs[t])||void 0===s?void 0:s[this.orientation])&&void 0!==o?o:0}keydownHandler(t){const e=t.key
if(!(e in bn)||t.defaultPrevented||t.shiftKey)return!0
const n=this.getDirectionalIncrementer(e)
if(!n)return!t.target.closest("[role=radiogroup]")
const i=this.activeIndex+n
return this.focusableElements[i]&&t.preventDefault(),this.setFocusedElement(i),!0}get allSlottedItems(){return[...this.start.assignedElements(),...this.slottedItems,...this.end.assignedElements()]}reduceFocusableElements(){var e
const n=null===(e=this.focusableElements)||void 0===e?void 0:e[this.activeIndex]
this.focusableElements=this.allSlottedItems.reduce(t.reduceFocusableItems,[])
const i=this.focusableElements.indexOf(n)
this.activeIndex=Math.max(0,i),this.setFocusableElements()}setFocusedElement(t=this.activeIndex){this.activeIndex=t,this.setFocusableElements(),this.focusableElements[this.activeIndex]&&this.contains(function(t){const e=t.getRootNode()
return e instanceof ShadowRoot?e.activeElement:document.activeElement}(this))&&this.focusableElements[this.activeIndex].focus()}static reduceFocusableItems(e,n){var i,s,o,r
const a="radio"===n.getAttribute("role"),l=null===(s=null===(i=n.$fastController)||void 0===i?void 0:i.definition.shadowOptions)||void 0===s?void 0:s.delegatesFocus,c=Array.from(null!==(r=null===(o=n.shadowRoot)||void 0===o?void 0:o.querySelectorAll("*"))&&void 0!==r?r:[]).some((t=>zi(t)))
return n.hasAttribute("disabled")||n.hasAttribute("hidden")||!(zi(n)||a||l||c)?n.childElementCount?e.concat(Array.from(n.children).reduce(t.reduceFocusableItems,[])):e:(e.push(n),e)}setFocusableElements(){this.$fastController.isConnected&&this.focusableElements.length>0&&this.focusableElements.forEach(((t,e)=>{t.tabIndex=this.activeIndex===e?0:-1}))}}
t([C],Cs.prototype,"direction",void 0),t([ft],Cs.prototype,"orientation",void 0),t([C],Cs.prototype,"slottedItems",void 0),t([C],Cs.prototype,"slottedLabel",void 0),t([C],Cs.prototype,"childItems",void 0)
class ks{}t([ft({attribute:"aria-labelledby"})],ks.prototype,"ariaLabelledby",void 0),t([ft({attribute:"aria-label"})],ks.prototype,"ariaLabel",void 0),Ze(ks,Sn),Ze(Cs,re,ks)
const Ss="top",_s="right",Is="bottom",Ms="left",$s="start",Ds="end",Es="top-left",As="top-right",Ts="bottom-left",Os="bottom-right",Rs="top-start",Fs="top-end",Ns="bottom-start",Ls="bottom-end"
let Bs=class extends je{constructor(){super(...arguments),this.anchor="",this.delay=300,this.autoUpdateMode="anchor",this.anchorElement=null,this.viewportElement=null,this.verticalPositioningMode="dynamic",this.horizontalPositioningMode="dynamic",this.horizontalInset="false",this.verticalInset="false",this.horizontalScaling="content",this.verticalScaling="content",this.verticalDefaultPosition=void 0,this.horizontalDefaultPosition=void 0,this.tooltipVisible=!1,this.currentDirection=yn.ltr,this.showDelayTimer=null,this.hideDelayTimer=null,this.isAnchorHoveredFocused=!1,this.isRegionHovered=!1,this.handlePositionChange=t=>{this.classList.toggle("top","start"===this.region.verticalPosition),this.classList.toggle("bottom","end"===this.region.verticalPosition),this.classList.toggle("inset-top","insetStart"===this.region.verticalPosition),this.classList.toggle("inset-bottom","insetEnd"===this.region.verticalPosition),this.classList.toggle("center-vertical","center"===this.region.verticalPosition),this.classList.toggle("left","start"===this.region.horizontalPosition),this.classList.toggle("right","end"===this.region.horizontalPosition),this.classList.toggle("inset-left","insetStart"===this.region.horizontalPosition),this.classList.toggle("inset-right","insetEnd"===this.region.horizontalPosition),this.classList.toggle("center-horizontal","center"===this.region.horizontalPosition)},this.handleRegionMouseOver=t=>{this.isRegionHovered=!0},this.handleRegionMouseOut=t=>{this.isRegionHovered=!1,this.startHideDelayTimer()},this.handleAnchorMouseOver=t=>{this.tooltipVisible?this.isAnchorHoveredFocused=!0:this.startShowDelayTimer()},this.handleAnchorMouseOut=t=>{this.isAnchorHoveredFocused=!1,this.clearShowDelayTimer(),this.startHideDelayTimer()},this.handleAnchorFocusIn=t=>{this.startShowDelayTimer()},this.handleAnchorFocusOut=t=>{this.isAnchorHoveredFocused=!1,this.clearShowDelayTimer(),this.startHideDelayTimer()},this.startHideDelayTimer=()=>{this.clearHideDelayTimer(),this.tooltipVisible&&(this.hideDelayTimer=window.setTimeout((()=>{this.updateTooltipVisibility()}),60))},this.clearHideDelayTimer=()=>{null!==this.hideDelayTimer&&(clearTimeout(this.hideDelayTimer),this.hideDelayTimer=null)},this.startShowDelayTimer=()=>{this.isAnchorHoveredFocused||(this.delay>1?null===this.showDelayTimer&&(this.showDelayTimer=window.setTimeout((()=>{this.startHover()}),this.delay)):this.startHover())},this.startHover=()=>{this.isAnchorHoveredFocused=!0,this.updateTooltipVisibility()},this.clearShowDelayTimer=()=>{null!==this.showDelayTimer&&(clearTimeout(this.showDelayTimer),this.showDelayTimer=null)},this.getAnchor=()=>{const t=this.getRootNode()
return t instanceof ShadowRoot?t.getElementById(this.anchor):document.getElementById(this.anchor)},this.handleDocumentKeydown=t=>{if(!t.defaultPrevented&&this.tooltipVisible&&t.key===hn)this.isAnchorHoveredFocused=!1,this.updateTooltipVisibility(),this.$emit("dismiss")},this.updateTooltipVisibility=()=>{if(!1===this.visible)this.hideTooltip()
else{if(!0===this.visible)return void this.showTooltip()
if(this.isAnchorHoveredFocused||this.isRegionHovered)return void this.showTooltip()
this.hideTooltip()}},this.showTooltip=()=>{this.tooltipVisible||(this.currentDirection=Mn(this),this.tooltipVisible=!0,document.addEventListener("keydown",this.handleDocumentKeydown),b.queueUpdate(this.setRegionProps))},this.hideTooltip=()=>{this.tooltipVisible&&(this.clearHideDelayTimer(),null!==this.region&&void 0!==this.region&&(this.region.removeEventListener("positionchange",this.handlePositionChange),this.region.viewportElement=null,this.region.anchorElement=null,this.region.removeEventListener("mouseover",this.handleRegionMouseOver),this.region.removeEventListener("mouseout",this.handleRegionMouseOut)),document.removeEventListener("keydown",this.handleDocumentKeydown),this.tooltipVisible=!1)},this.setRegionProps=()=>{this.tooltipVisible&&(this.region.viewportElement=this.viewportElement,this.region.anchorElement=this.anchorElement,this.region.addEventListener("positionchange",this.handlePositionChange),this.region.addEventListener("mouseover",this.handleRegionMouseOver,{passive:!0}),this.region.addEventListener("mouseout",this.handleRegionMouseOut,{passive:!0}))}}visibleChanged(){this.$fastController.isConnected&&(this.updateTooltipVisibility(),this.updateLayout())}anchorChanged(){this.$fastController.isConnected&&(this.anchorElement=this.getAnchor())}positionChanged(){this.$fastController.isConnected&&this.updateLayout()}anchorElementChanged(t){if(this.$fastController.isConnected){if(null!=t&&(t.removeEventListener("mouseover",this.handleAnchorMouseOver),t.removeEventListener("mouseout",this.handleAnchorMouseOut),t.removeEventListener("focusin",this.handleAnchorFocusIn),t.removeEventListener("focusout",this.handleAnchorFocusOut)),null!==this.anchorElement&&void 0!==this.anchorElement){this.anchorElement.addEventListener("mouseover",this.handleAnchorMouseOver,{passive:!0}),this.anchorElement.addEventListener("mouseout",this.handleAnchorMouseOut,{passive:!0}),this.anchorElement.addEventListener("focusin",this.handleAnchorFocusIn,{passive:!0}),this.anchorElement.addEventListener("focusout",this.handleAnchorFocusOut,{passive:!0})
const t=this.anchorElement.id
null!==this.anchorElement.parentElement&&this.anchorElement.parentElement.querySelectorAll(":hover").forEach((e=>{e.id===t&&this.startShowDelayTimer()}))}null!==this.region&&void 0!==this.region&&this.tooltipVisible&&(this.region.anchorElement=this.anchorElement),this.updateLayout()}}viewportElementChanged(){null!==this.region&&void 0!==this.region&&(this.region.viewportElement=this.viewportElement),this.updateLayout()}connectedCallback(){super.connectedCallback(),this.anchorElement=this.getAnchor(),this.updateTooltipVisibility()}disconnectedCallback(){this.hideTooltip(),this.clearShowDelayTimer(),this.clearHideDelayTimer(),super.disconnectedCallback()}updateLayout(){switch(this.verticalPositioningMode="locktodefault",this.horizontalPositioningMode="locktodefault",this.position){case Ss:case Is:this.verticalDefaultPosition=this.position,this.horizontalDefaultPosition="center"
break
case _s:case Ms:case $s:case Ds:this.verticalDefaultPosition="center",this.horizontalDefaultPosition=this.position
break
case Es:this.verticalDefaultPosition="top",this.horizontalDefaultPosition="left"
break
case As:this.verticalDefaultPosition="top",this.horizontalDefaultPosition="right"
break
case Ts:this.verticalDefaultPosition="bottom",this.horizontalDefaultPosition="left"
break
case Os:this.verticalDefaultPosition="bottom",this.horizontalDefaultPosition="right"
break
case Rs:this.verticalDefaultPosition="top",this.horizontalDefaultPosition="start"
break
case Fs:this.verticalDefaultPosition="top",this.horizontalDefaultPosition="end"
break
case Ns:this.verticalDefaultPosition="bottom",this.horizontalDefaultPosition="start"
break
case Ls:this.verticalDefaultPosition="bottom",this.horizontalDefaultPosition="end"
break
default:this.verticalPositioningMode="dynamic",this.horizontalPositioningMode="dynamic",this.verticalDefaultPosition=void 0,this.horizontalDefaultPosition="center"}}}
t([ft({mode:"boolean"})],Bs.prototype,"visible",void 0),t([ft],Bs.prototype,"anchor",void 0),t([ft],Bs.prototype,"delay",void 0),t([ft],Bs.prototype,"position",void 0),t([ft({attribute:"auto-update-mode"})],Bs.prototype,"autoUpdateMode",void 0),t([ft({attribute:"horizontal-viewport-lock"})],Bs.prototype,"horizontalViewportLock",void 0),t([ft({attribute:"vertical-viewport-lock"})],Bs.prototype,"verticalViewportLock",void 0),t([C],Bs.prototype,"anchorElement",void 0),t([C],Bs.prototype,"viewportElement",void 0),t([C],Bs.prototype,"verticalPositioningMode",void 0),t([C],Bs.prototype,"horizontalPositioningMode",void 0),t([C],Bs.prototype,"horizontalInset",void 0),t([C],Bs.prototype,"verticalInset",void 0),t([C],Bs.prototype,"horizontalScaling",void 0),t([C],Bs.prototype,"verticalScaling",void 0),t([C],Bs.prototype,"verticalDefaultPosition",void 0),t([C],Bs.prototype,"horizontalDefaultPosition",void 0),t([C],Bs.prototype,"tooltipVisible",void 0),t([C],Bs.prototype,"currentDirection",void 0)
function Ps(t){return Je(t)&&"treeitem"===t.getAttribute("role")}let zs=class extends je{constructor(){super(...arguments),this.expanded=!1,this.focusable=!1,this.isNestedItem=()=>Ps(this.parentElement),this.handleExpandCollapseButtonClick=t=>{this.disabled||t.defaultPrevented||(this.expanded=!this.expanded)},this.handleFocus=t=>{this.setAttribute("tabindex","0")},this.handleBlur=t=>{this.setAttribute("tabindex","-1")}}expandedChanged(){this.$fastController.isConnected&&this.$emit("expanded-change",this)}selectedChanged(){this.$fastController.isConnected&&this.$emit("selected-change",this)}itemsChanged(t,e){this.$fastController.isConnected&&this.items.forEach((t=>{Ps(t)&&(t.nested=!0)}))}static focusItem(t){t.focusable=!0,t.focus()}childItemLength(){const t=this.childItems.filter((t=>Ps(t)))
return t?t.length:0}}
t([ft({mode:"boolean"})],zs.prototype,"expanded",void 0),t([ft({mode:"boolean"})],zs.prototype,"selected",void 0),t([ft({mode:"boolean"})],zs.prototype,"disabled",void 0),t([C],zs.prototype,"focusable",void 0),t([C],zs.prototype,"childItems",void 0),t([C],zs.prototype,"items",void 0),t([C],zs.prototype,"nested",void 0),t([C],zs.prototype,"renderCollapsedChildren",void 0),Ze(zs,re)
let Vs=class extends je{constructor(){super(...arguments),this.currentFocused=null,this.handleFocus=t=>{if(!(this.slottedTreeItems.length<1))return t.target===this?(null===this.currentFocused&&(this.currentFocused=this.getValidFocusableItem()),void(null!==this.currentFocused&&zs.focusItem(this.currentFocused))):void(this.contains(t.target)&&(this.setAttribute("tabindex","-1"),this.currentFocused=t.target))},this.handleBlur=t=>{t.target instanceof HTMLElement&&(null===t.relatedTarget||!this.contains(t.relatedTarget))&&this.setAttribute("tabindex","0")},this.handleKeyDown=t=>{if(t.defaultPrevented)return
if(this.slottedTreeItems.length<1)return!0
const e=this.getVisibleNodes()
switch(t.key){case un:return void(e.length&&zs.focusItem(e[0]))
case pn:return void(e.length&&zs.focusItem(e[e.length-1]))
case an:if(t.target&&this.isFocusableElement(t.target)){const e=t.target
e instanceof zs&&e.childItemLength()>0&&e.expanded?e.expanded=!1:e instanceof zs&&e.parentElement instanceof zs&&zs.focusItem(e.parentElement)}return!1
case ln:if(t.target&&this.isFocusableElement(t.target)){const e=t.target
e instanceof zs&&e.childItemLength()>0&&!e.expanded?e.expanded=!0:e instanceof zs&&e.childItemLength()>0&&this.focusNextNode(1,t.target)}return
case rn:return void(t.target&&this.isFocusableElement(t.target)&&this.focusNextNode(1,t.target))
case cn:return void(t.target&&this.isFocusableElement(t.target)&&this.focusNextNode(-1,t.target))
case dn:return void this.handleClick(t)}return!0},this.handleSelectedChange=t=>{if(t.defaultPrevented)return
if(!(t.target instanceof Element&&Ps(t.target)))return!0
const e=t.target
e.selected?(this.currentSelected&&this.currentSelected!==e&&(this.currentSelected.selected=!1),this.currentSelected=e):e.selected||this.currentSelected!==e||(this.currentSelected=null)},this.setItems=()=>{const t=this.treeView.querySelector("[aria-selected='true']")
this.currentSelected=t,null!==this.currentFocused&&this.contains(this.currentFocused)||(this.currentFocused=this.getValidFocusableItem()),this.nested=this.checkForNestedItems()
this.getVisibleNodes().forEach((t=>{Ps(t)&&(t.nested=this.nested)}))},this.isFocusableElement=t=>Ps(t),this.isSelectedElement=t=>t.selected}slottedTreeItemsChanged(){this.$fastController.isConnected&&this.setItems()}connectedCallback(){super.connectedCallback(),this.setAttribute("tabindex","0"),b.queueUpdate((()=>{this.setItems()}))}handleClick(t){if(t.defaultPrevented)return
if(!(t.target instanceof Element&&Ps(t.target)))return!0
const e=t.target
e.disabled||(e.selected=!e.selected)}focusNextNode(t,e){const n=this.getVisibleNodes()
if(!n)return
const i=n[n.indexOf(e)+t]
Je(i)&&zs.focusItem(i)}getValidFocusableItem(){const t=this.getVisibleNodes()
let e=t.findIndex(this.isSelectedElement)
return-1===e&&(e=t.findIndex(this.isFocusableElement)),-1!==e?t[e]:null}checkForNestedItems(){return this.slottedTreeItems.some((t=>Ps(t)&&t.querySelector("[role='treeitem']")))}getVisibleNodes(){return function(t,e){if(!t||!Je(t))return
return Array.from(t.querySelectorAll(e)).filter((t=>null!==t.offsetParent))}(this,"[role='treeitem']")||[]}}
t([ft({attribute:"render-collapsed-nodes"})],Vs.prototype,"renderCollapsedNodes",void 0),t([C],Vs.prototype,"currentSelected",void 0),t([C],Vs.prototype,"slottedTreeItems",void 0)
const Hs=function(){if("boolean"==typeof Qe)return Qe
if("undefined"==typeof window||!window.document||!window.document.createElement)return Qe=!1,Qe
const t=document.createElement("style"),e=function(){const t=document.querySelector('meta[property="csp-nonce"]')
return t?t.getAttribute("content"):null}()
null!==e&&t.setAttribute("nonce",e),document.head.appendChild(t)
try{t.sheet.insertRule("foo:focus-visible {color:inherit}",0),Qe=!0}catch(t){Qe=!1}finally{document.head.removeChild(t)}return Qe}()?"focus-visible":"focus"
class Us extends _n{}const qs=t=>`${function(t){return`:host([hidden]){display:none}:host{display:${t}}`}(t)}:host{box-sizing:border-box;}*{box-sizing:border-box;}:host::before,:host::after,::before,::after{box-sizing:border-box;}`,js=`:${Hs}`
function Ws(t,e,n){return isNaN(t)||t<=e?e:t>=n?n:t}function Gs(t,e,n){return isNaN(t)||t<=e?0:t>=n?1:t/(n-e)}function Zs(t,e,n){return isNaN(t)?e:e+t*(n-e)}function Ks(t,e){const n=Math.pow(10,e)
return Math.round(t*n)/n}class Ys{static fromObject(t){return!t||isNaN(t.r)||isNaN(t.g)||isNaN(t.b)?null:new Ys(t.r,t.g,t.b,t.a)}constructor(t,e,n,i){this.r=t,this.g=e,this.b=n,this.a="number"!=typeof i||isNaN(i)?1:i}equalValue(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}toStringHexRGB(){return"#"+[this.r,this.g,this.b].map(this.formatHexValue).join("")}toStringHexRGBA(){return this.toStringHexRGB()+this.formatHexValue(this.a)}toStringHexARGB(){return"#"+[this.a,this.r,this.g,this.b].map(this.formatHexValue).join("")}toStringWebRGB(){return`rgb(${Math.round(Zs(this.r,0,255))},${Math.round(Zs(this.g,0,255))},${Math.round(Zs(this.b,0,255))})`}toStringWebRGBA(){return`rgba(${Math.round(Zs(this.r,0,255))},${Math.round(Zs(this.g,0,255))},${Math.round(Zs(this.b,0,255))},${Ws(this.a,0,1)})`}roundToPrecision(t){return new Ys(Ks(this.r,t),Ks(this.g,t),Ks(this.b,t),Ks(this.a,t))}clamp(){return new Ys(Ws(this.r,0,1),Ws(this.g,0,1),Ws(this.b,0,1),Ws(this.a,0,1))}toObject(){return{r:this.r,g:this.g,b:this.b,a:this.a}}formatHexValue(t){return function(t){const e=Math.round(Ws(t,0,255)).toString(16)
return 1===e.length?"0"+e:e}(Zs(t,0,255))}}const Xs={aliceblue:{r:.941176,g:.972549,b:1},antiquewhite:{r:.980392,g:.921569,b:.843137},aqua:{r:0,g:1,b:1},aquamarine:{r:.498039,g:1,b:.831373},azure:{r:.941176,g:1,b:1},beige:{r:.960784,g:.960784,b:.862745},bisque:{r:1,g:.894118,b:.768627},black:{r:0,g:0,b:0},blanchedalmond:{r:1,g:.921569,b:.803922},blue:{r:0,g:0,b:1},blueviolet:{r:.541176,g:.168627,b:.886275},brown:{r:.647059,g:.164706,b:.164706},burlywood:{r:.870588,g:.721569,b:.529412},cadetblue:{r:.372549,g:.619608,b:.627451},chartreuse:{r:.498039,g:1,b:0},chocolate:{r:.823529,g:.411765,b:.117647},coral:{r:1,g:.498039,b:.313725},cornflowerblue:{r:.392157,g:.584314,b:.929412},cornsilk:{r:1,g:.972549,b:.862745},crimson:{r:.862745,g:.078431,b:.235294},cyan:{r:0,g:1,b:1},darkblue:{r:0,g:0,b:.545098},darkcyan:{r:0,g:.545098,b:.545098},darkgoldenrod:{r:.721569,g:.52549,b:.043137},darkgray:{r:.662745,g:.662745,b:.662745},darkgreen:{r:0,g:.392157,b:0},darkgrey:{r:.662745,g:.662745,b:.662745},darkkhaki:{r:.741176,g:.717647,b:.419608},darkmagenta:{r:.545098,g:0,b:.545098},darkolivegreen:{r:.333333,g:.419608,b:.184314},darkorange:{r:1,g:.54902,b:0},darkorchid:{r:.6,g:.196078,b:.8},darkred:{r:.545098,g:0,b:0},darksalmon:{r:.913725,g:.588235,b:.478431},darkseagreen:{r:.560784,g:.737255,b:.560784},darkslateblue:{r:.282353,g:.239216,b:.545098},darkslategray:{r:.184314,g:.309804,b:.309804},darkslategrey:{r:.184314,g:.309804,b:.309804},darkturquoise:{r:0,g:.807843,b:.819608},darkviolet:{r:.580392,g:0,b:.827451},deeppink:{r:1,g:.078431,b:.576471},deepskyblue:{r:0,g:.74902,b:1},dimgray:{r:.411765,g:.411765,b:.411765},dimgrey:{r:.411765,g:.411765,b:.411765},dodgerblue:{r:.117647,g:.564706,b:1},firebrick:{r:.698039,g:.133333,b:.133333},floralwhite:{r:1,g:.980392,b:.941176},forestgreen:{r:.133333,g:.545098,b:.133333},fuchsia:{r:1,g:0,b:1},gainsboro:{r:.862745,g:.862745,b:.862745},ghostwhite:{r:.972549,g:.972549,b:1},gold:{r:1,g:.843137,b:0},goldenrod:{r:.854902,g:.647059,b:.12549},gray:{r:.501961,g:.501961,b:.501961},green:{r:0,g:.501961,b:0},greenyellow:{r:.678431,g:1,b:.184314},grey:{r:.501961,g:.501961,b:.501961},honeydew:{r:.941176,g:1,b:.941176},hotpink:{r:1,g:.411765,b:.705882},indianred:{r:.803922,g:.360784,b:.360784},indigo:{r:.294118,g:0,b:.509804},ivory:{r:1,g:1,b:.941176},khaki:{r:.941176,g:.901961,b:.54902},lavender:{r:.901961,g:.901961,b:.980392},lavenderblush:{r:1,g:.941176,b:.960784},lawngreen:{r:.486275,g:.988235,b:0},lemonchiffon:{r:1,g:.980392,b:.803922},lightblue:{r:.678431,g:.847059,b:.901961},lightcoral:{r:.941176,g:.501961,b:.501961},lightcyan:{r:.878431,g:1,b:1},lightgoldenrodyellow:{r:.980392,g:.980392,b:.823529},lightgray:{r:.827451,g:.827451,b:.827451},lightgreen:{r:.564706,g:.933333,b:.564706},lightgrey:{r:.827451,g:.827451,b:.827451},lightpink:{r:1,g:.713725,b:.756863},lightsalmon:{r:1,g:.627451,b:.478431},lightseagreen:{r:.12549,g:.698039,b:.666667},lightskyblue:{r:.529412,g:.807843,b:.980392},lightslategray:{r:.466667,g:.533333,b:.6},lightslategrey:{r:.466667,g:.533333,b:.6},lightsteelblue:{r:.690196,g:.768627,b:.870588},lightyellow:{r:1,g:1,b:.878431},lime:{r:0,g:1,b:0},limegreen:{r:.196078,g:.803922,b:.196078},linen:{r:.980392,g:.941176,b:.901961},magenta:{r:1,g:0,b:1},maroon:{r:.501961,g:0,b:0},mediumaquamarine:{r:.4,g:.803922,b:.666667},mediumblue:{r:0,g:0,b:.803922},mediumorchid:{r:.729412,g:.333333,b:.827451},mediumpurple:{r:.576471,g:.439216,b:.858824},mediumseagreen:{r:.235294,g:.701961,b:.443137},mediumslateblue:{r:.482353,g:.407843,b:.933333},mediumspringgreen:{r:0,g:.980392,b:.603922},mediumturquoise:{r:.282353,g:.819608,b:.8},mediumvioletred:{r:.780392,g:.082353,b:.521569},midnightblue:{r:.098039,g:.098039,b:.439216},mintcream:{r:.960784,g:1,b:.980392},mistyrose:{r:1,g:.894118,b:.882353},moccasin:{r:1,g:.894118,b:.709804},navajowhite:{r:1,g:.870588,b:.678431},navy:{r:0,g:0,b:.501961},oldlace:{r:.992157,g:.960784,b:.901961},olive:{r:.501961,g:.501961,b:0},olivedrab:{r:.419608,g:.556863,b:.137255},orange:{r:1,g:.647059,b:0},orangered:{r:1,g:.270588,b:0},orchid:{r:.854902,g:.439216,b:.839216},palegoldenrod:{r:.933333,g:.909804,b:.666667},palegreen:{r:.596078,g:.984314,b:.596078},paleturquoise:{r:.686275,g:.933333,b:.933333},palevioletred:{r:.858824,g:.439216,b:.576471},papayawhip:{r:1,g:.937255,b:.835294},peachpuff:{r:1,g:.854902,b:.72549},peru:{r:.803922,g:.521569,b:.247059},pink:{r:1,g:.752941,b:.796078},plum:{r:.866667,g:.627451,b:.866667},powderblue:{r:.690196,g:.878431,b:.901961},purple:{r:.501961,g:0,b:.501961},red:{r:1,g:0,b:0},rosybrown:{r:.737255,g:.560784,b:.560784},royalblue:{r:.254902,g:.411765,b:.882353},saddlebrown:{r:.545098,g:.270588,b:.07451},salmon:{r:.980392,g:.501961,b:.447059},sandybrown:{r:.956863,g:.643137,b:.376471},seagreen:{r:.180392,g:.545098,b:.341176},seashell:{r:1,g:.960784,b:.933333},sienna:{r:.627451,g:.321569,b:.176471},silver:{r:.752941,g:.752941,b:.752941},skyblue:{r:.529412,g:.807843,b:.921569},slateblue:{r:.415686,g:.352941,b:.803922},slategray:{r:.439216,g:.501961,b:.564706},slategrey:{r:.439216,g:.501961,b:.564706},snow:{r:1,g:.980392,b:.980392},springgreen:{r:0,g:1,b:.498039},steelblue:{r:.27451,g:.509804,b:.705882},tan:{r:.823529,g:.705882,b:.54902},teal:{r:0,g:.501961,b:.501961},thistle:{r:.847059,g:.74902,b:.847059},tomato:{r:1,g:.388235,b:.278431},transparent:{r:0,g:0,b:0,a:0},turquoise:{r:.25098,g:.878431,b:.815686},violet:{r:.933333,g:.509804,b:.933333},wheat:{r:.960784,g:.870588,b:.701961},white:{r:1,g:1,b:1},whitesmoke:{r:.960784,g:.960784,b:.960784},yellow:{r:1,g:1,b:0},yellowgreen:{r:.603922,g:.803922,b:.196078}},Js=/^rgb\(\s*((?:(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*,\s*){2}(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*)\)$/i,Qs=/^rgba\(\s*((?:(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*,\s*){3}(?:0|1|0?\.\d*)\s*)\)$/i,to=/^#((?:[0-9a-f]{6}|[0-9a-f]{3}))$/i,eo=/^#((?:[0-9a-f]{8}|[0-9a-f]{4}))$/i
function no(t){return function(t){return eo.test(t)}(t)}function io(t){const e=to.exec(t)
if(null===e)return null
let n=e[1]
if(3===n.length){const t=n.charAt(0),e=n.charAt(1),i=n.charAt(2)
n=t.concat(t,e,e,i,i)}const i=parseInt(n,16)
return isNaN(i)?null:new Ys(Gs((16711680&i)>>>16,0,255),Gs((65280&i)>>>8,0,255),Gs(255&i,0,255),1)}function so(t){const e=t.toLowerCase()
return function(t){return to.test(t)}(e)?io(e):no(e)?function(t){const e=eo.exec(t)
if(null===e)return null
let n=e[1]
if(4===n.length){const t=n.charAt(0),e=n.charAt(1),i=n.charAt(2),s=n.charAt(3)
n=t.concat(t,e,e,i,i,s,s)}const i=parseInt(n,16)
return isNaN(i)?null:new Ys(Gs((16711680&i)>>>16,0,255),Gs((65280&i)>>>8,0,255),Gs(255&i,0,255),Gs((4278190080&i)>>>24,0,255))}(e):function(t){return Js.test(t)}(e)?function(t){const e=Js.exec(t)
if(null===e)return null
const n=e[1].split(",")
return new Ys(Gs(Number(n[0]),0,255),Gs(Number(n[1]),0,255),Gs(Number(n[2]),0,255),1)}(e):function(t){return Qs.test(t)}(e)?function(t){const e=Qs.exec(t)
if(null===e)return null
const n=e[1].split(",")
return 4===n.length?new Ys(Gs(Number(n[0]),0,255),Gs(Number(n[1]),0,255),Gs(Number(n[2]),0,255),Number(n[3])):null}(e):function(t){return Xs.hasOwnProperty(t)}(e)?function(t){const e=Xs[t.toLowerCase()]
return e?new Ys(e.r,e.g,e.b,e.hasOwnProperty("a")?e.a:void 0):null}(e):null}const oo="#a46eff",ro="#804ad9",ao="#ff8126",lo="#009921",co="#00c12b",ho="#c4000c",uo="#818386",po="#f1f1f2",fo="#f5f5f5",mo="#ffffff",go="#363738",vo="#505153",bo="#000000",yo="#161617",wo="#074023",xo="#009b65",Co="#d63434",ko="#ff4b00",So="#008557",_o="#00734b",Io="#00613f",Mo="#32eb96",$o="#364941",Do="#356d54",Eo="#98f5ca",Ao="#434445",To="#e54c8a",Oo="#8e78b7",Ro="Source Sans Pro",Fo="Source Sans Pro",No="400",Lo="14px",Bo="14px",Po="18px",zo="18px",Vo="14px",Ho={light:"light",dark:"dark",color:"color"},Uo="action-rgb-partial-color",qo="application-background-color",jo="divider-background-color",Wo="header-background-color",Go="section-background-color",Zo="button-fill-primary-color",Ko="button-primary-font-color",Yo="button-fill-accent-color",Xo="button-accent-block-font-color",Jo="button-accent-outline-font-color",Qo="button-border-accent-outline-color",tr="fill-selected-color",er="fill-selected-rgb-partial-color",nr="fill-hover-selected-color",ir="fill-hover-color",sr="fill-hover-rgb-partial-color",or="fill-down-color",rr="border-color",ar="border-rgb-partial-color",lr="fail-color",cr="warning-color",dr="pass-color",hr="information-color",ur="border-hover-color",pr="icon-color",fr="modal-backdrop-color",mr="popup-border-color",gr="card-border-color",vr="tag-fill-color",br="control-height",yr="control-slim-height",wr="small-padding",xr="medium-padding",Cr="standard-padding",kr="large-padding",Sr="label-height",_r="border-width",Ir="icon-size",Mr="group-header-text-transform",$r="drawer-width",Dr="dialog-small-width",Er="dialog-small-height",Ar="dialog-small-max-height",Tr="dialog-large-width",Or="dialog-large-height",Rr="dialog-large-max-height",Fr="menu-min-width",Nr="banner-gap-size",Lr="spinner-small-height",Br="spinner-medium-height",Pr="spinner-large-height",zr="table-fit-rows-height",Vr="small-delay",Hr="medium-delay",Ur="large-delay",qr="headline-plus-1-font",jr="headline-font",Wr="table-header-font",Gr="title-plus-2-font",Zr="title-plus-1-font",Kr="title-font",Yr="subtitle-plus-1-font",Xr="subtitle-font",Jr="link-font",Qr="link-active-font",ta="link-prominent-font",ea="link-active-prominent-font",na="placeholder-font",ia="body-font",sa="body-emphasized-font",oa="body-plus-1-font",ra="body-plus-1-emphasized-font",aa="group-header-font",la="control-label-font",ca="button-label-font",da="tooltip-caption-font",ha="tooltip-background-color",ua="error-text-font",pa="table-row-border-color",fa="elevation-1-box-shadow",ma="elevation-2-box-shadow",ga="elevation-3-box-shadow",va="graph-gridline-color",ba="graph-trace-1-color",ya="graph-trace-2-color",wa="graph-trace-3-color",xa="graph-trace-4-color",Ca="graph-trace-5-color",ka="graph-trace-6-color",Sa="graph-trace-7-color",_a="graph-trace-8-color",Ia="mention-font",Ma="calendar-event-background-static-color",$a="calendar-event-background-dynamic-color",Da="calendar-event-background-transient-color",Ea="calendar-event-border-static-color",Aa="calendar-event-border-transient-color",Ta="calendar-event-static-font-color",Oa="calendar-event-dynamic-font-color",Ra="calendar-event-transient-font-color",Fa="calendar-event-background-hover-static-color",Na="calendar-event-background-hover-dynamic-color",La="calendar-event-background-hover-transient-color",Ba="calendar-row-background-selected-color",Pa="calendar-event-fill-blocked-color",za="calendar-grab-handle-background-color",Va="calendar-grid-border-color",Ha="calendar-group-header-background-color",Ua=t=>`ni-nimble-${t}`,qa=Q`<slot></slot>`,ja=Mt`
    ${qs("contents")}
`
class Wa{constructor(){this.lang=document.documentElement.lang
new MutationObserver((t=>{for(const e of t)"attributes"===e.type&&"lang"===e.attributeName&&(this.lang=e.target.lang)})).observe(document.documentElement,{attributeFilter:["lang"]})}}t([C],Wa.prototype,"lang",void 0)
const Ga=new Wa
function Za(t){try{return new Intl.Locale(t),!0}catch(t){return!1}}const Ka=ki.create({name:"lang",cssCustomPropertyName:null}).withDefault((()=>Za(Ga.lang)?Ga.lang:"en-US")),Ya=ki.create({name:"direction",cssCustomPropertyName:null}).withDefault(yn.ltr),Xa=ki.create({name:"theme",cssCustomPropertyName:null}).withDefault(Ho.light)
class Ja extends je{constructor(){super(...arguments),this.theme=Ho.light,this.langIsInvalid=!1}get validity(){return{invalidLang:this.langIsInvalid}}checkValidity(){return!this.langIsInvalid}langChanged(t,e){if(null==e)return Ka.deleteValueFor(this),void(this.langIsInvalid=!1)
Za(e)?(Ka.setValueFor(this,e),this.langIsInvalid=!1):(Ka.deleteValueFor(this),this.langIsInvalid=!0)}directionChanged(t,e){null!=e?Ya.setValueFor(this,e):Ya.deleteValueFor(this)}themeChanged(t,e){null!=e?Xa.setValueFor(this,e):Xa.deleteValueFor(this)}}t([ft()],Ja.prototype,"lang",void 0),t([ft()],Ja.prototype,"direction",void 0),t([ft()],Ja.prototype,"theme",void 0)
const Qa=Ja.compose({baseName:"theme-provider",styles:ja,template:qa})
Di.getOrCreate().withPrefix("nimble").register(Qa())
const tl="nimble-theme-provider"
function el(t,e){const{r:n,g:i,b:s}=io(t)
return`rgba(${255*n}, ${255*i}, ${255*s}, ${e})`}const nl=ki.create(Ua(Uo)).withDefault((t=>Xd(Qd(t,yo,po,mo)))),il=ki.create(Ua(qo)).withDefault((t=>Qd(t,mo,go,wo)))
ki.create(Ua(Wo)).withDefault((t=>Qd(t,fo,"#252526",wo))),ki.create(Ua(Go)).withDefault((t=>Qd(t,po,vo,wo))),ki.create(Ua(jo)).withDefault((t=>Qd(t,po,vo,wo)))
const sl=ki.create(Ua(tr)).withDefault((t=>el(ih(t),.2))),ol=ki.create(Ua(er)).withDefault((t=>Xd(ih(t)))),rl=ki.create(Ua(nr)).withDefault((t=>el(ih(t),.15))),al=ki.create(Ua(ir)).withDefault((t=>el(sh(t),.1)))
ki.create(Ua(sr)).withDefault((t=>Xd(sh(t)))),ki.create(Ua(or)).withDefault((t=>el(function(t){return Qd(t,yo,po,mo)}(t),.15)))
const ll=ki.create(Ua(rr)).withDefault((t=>eh(t))),cl=ki.create(Ua(ar)).withDefault((t=>Xd(eh(t)))),dl=ki.create(Ua(lr)).withDefault((t=>th(t))),hl=ki.create(Ua(cr)).withDefault((t=>function(t){return Qd(t,ko,ao,mo)}(t))),ul=ki.create(Ua(dr)).withDefault((t=>function(t){return Qd(t,lo,co,mo)}(t))),pl=ki.create(Ua(hr)).withDefault((t=>function(t){return Qd(t,ro,oo,mo)}(t))),fl=ki.create(Ua(ur)).withDefault((t=>Qd(t,xo,Mo,mo))),ml=ki.create(Ua(pr)).withDefault((t=>Qd(t,yo,po,mo))),gl=ki.create(Ua(fr)).withDefault((t=>function(t){switch(Xa.getValueFor(t)){case Ho.light:return el(bo,.3)
case Ho.dark:case Ho.color:return el(bo,.6)
default:return el(bo,.3)}}(t))),vl=ki.create(Ua(mr)).withDefault((t=>el(Qd(t,yo,po,mo),.3))),bl=ki.create(Ua(gr)).withDefault((t=>el(Qd(t,yo,po,mo),.1)))
ki.create(Ua(va)).withDefault((t=>el(Qd(t,yo,po,mo),.2))),ki.create(Ua(ba)).withDefault((t=>Qd(t,"#312e7f","#3cb4e7",mo))),ki.create(Ua(ya)).withDefault((t=>Qd(t,"#cd1722","#ef463f",el(mo,.7)))),ki.create(Ua(wa)).withDefault((t=>Qd(t,"#499146","#76bc43",el(mo,.4)))),ki.create(Ua(xa)).withDefault((t=>Qd(t,"#8c459a","#a5d8c8",el(mo,.25)))),ki.create(Ua(Ca)).withDefault((t=>Qd(t,"#00685f","#00aba5",el(mo,.55)))),ki.create(Ua(ka)).withDefault((t=>Qd(t,To,To,el(mo,.85)))),ki.create(Ua(Sa)).withDefault((t=>Qd(t,"#371615","#ffe76b",el(mo,.325)))),ki.create(Ua(_a)).withDefault((t=>Qd(t,Oo,Oo,el(mo,.625)))),ki.create(Ua(ha)).withDefault((t=>Qd(t,po,go,wo)))
const yl=ki.create(Ua(pa)).withDefault((t=>Qd(t,po,vo,wo)))
ki.create(Ua(vr)).withDefault((t=>el(Qd(t,yo,po,mo),.1)))
const wl=ki.create(Ua(Zo)).withDefault((t=>Qd(t,el(yo,.75),el(po,.3),el(mo,.3)))),xl=ki.create(Ua(Ko)).withDefault((t=>Qd(t,po,po,mo))),Cl=ki.create(Ua(Yo)).withDefault((t=>Qd(t,So,xo,el(mo,.1)))),kl=ki.create(Ua(Xo)).withDefault((t=>Qd(t,mo,po,mo))),Sl=ki.create(Ua(Jo)).withDefault((t=>Qd(t,_o,Mo,mo))),_l=ki.create(Ua(Qo)).withDefault((t=>Qd(t,xo,Mo,el(mo,.3))))
ki.create(Ua(Ma)).withDefault((t=>Qd(t,"#e6f5f0",$o,$o))),ki.create(Ua($a)).withDefault((t=>Qd(t,_o,So,So))),ki.create(Ua(Da)).withDefault((t=>Qd(t,_o,So,So))),ki.create(Ua(Ea)).withDefault((t=>Qd(t,xo,xo,xo))),ki.create(Ua(Aa)).withDefault((t=>Qd(t,xo,el(Mo,.85),el(Mo,.85)))),ki.create(Ua(Ta)).withDefault((t=>Qd(t,Io,Eo,Eo))),ki.create(Ua(Oa)).withDefault((t=>Qd(t,mo,mo,mo))),ki.create(Ua(Ra)).withDefault((t=>Qd(t,mo,mo,mo))),ki.create(Ua(Fa)).withDefault((t=>Qd(t,"#b3e1d1",Do,Do))),ki.create(Ua(Na)).withDefault((t=>Qd(t,Io,_o,_o))),ki.create(Ua(La)).withDefault((t=>Qd(t,Io,_o,_o))),ki.create(Ua(Ba)).withDefault((t=>Qd(t,el(xo,.2),el(Mo,.2),el(Mo,.2)))),ki.create(Ua(Pa)).withDefault((t=>Qd(t,el(yo,.07),Ao,Ao))),ki.create(Ua(za)).withDefault((t=>Qd(t,xo,Mo,Mo))),ki.create(Ua(Va)).withDefault((t=>Qd(t,"#e6e6e6",vo,vo))),ki.create(Ua(Ha)).withDefault((t=>Qd(t,fo,el(yo,.1),el(yo,.1))))
const Il=ki.create(Ua(br)).withDefault("32px"),Ml=ki.create(Ua(yr)).withDefault("24px"),$l=ki.create(Ua(wr)).withDefault("4px"),Dl=ki.create(Ua(xr)).withDefault("8px"),El=ki.create(Ua(Cr)).withDefault("16px"),Al=ki.create(Ua(kr)).withDefault("24px")
ki.create(Ua(Sr)).withDefault("16px")
const Tl=ki.create(Ua(_r)).withDefault("1px"),Ol=ki.create(Ua(Ir)).withDefault("16px"),Rl=ki.create(Ua($r)).withDefault("784px"),Fl=ki.create(Ua(Dr)).withDefault("400px"),Nl=ki.create(Ua(Er)).withDefault("fit-content"),Ll=ki.create(Ua(Ar)).withDefault("600px")
ki.create(Ua(Tr)).withDefault("1024px"),ki.create(Ua(Or)).withDefault("680px"),ki.create(Ua(Rr)).withDefault("680px")
const Bl=ki.create(Ua(Fr)).withDefault("176px")
ki.create(Ua(Nr)).withDefault("1px")
const Pl=ki.create(Ua(Lr)).withDefault("16px")
ki.create(Ua(Br)).withDefault("32px"),ki.create(Ua(Pr)).withDefault("64px")
const zl=ki.create(Ua(zr)).withDefault("480px")
ki.create(Ua(fa)).withDefault((t=>`0px 1px 4px ${el(Qd(t,bo,bo,bo),.16)}`))
const Vl=ki.create(Ua(ma)).withDefault((t=>`0px 2px 4px ${el(Qd(t,bo,bo,bo),.16)}`)),Hl=ki.create(Ua(ga)).withDefault((t=>`0px 4px 8px ${el(Qd(t,bo,bo,bo),.3)}`))
Jd(jr,(t=>nh(t)),(t=>el(nh(t),.3)),"Noto Serif","400","25px","32px"),Jd(qr,(t=>nh(t)),(t=>el(nh(t),.3)),"Noto Serif","400","29.1px","40px"),Jd(Gr,(t=>nh(t)),(t=>el(nh(t),.3)),"Source Sans Pro","400","25px","32px")
const[Ul,ql,jl,Wl,Gl,Zl,Kl]=Jd(Zr,(t=>nh(t)),(t=>el(nh(t),.3)),"Source Sans Pro","400","22px","28px")
Jd(Kr,(t=>nh(t)),(t=>el(nh(t),.3)),"Source Sans Pro","400","19px","24px")
const[Yl,Xl,Jl,Ql,tc,ec,nc]=Jd(Yr,(t=>nh(t)),(t=>el(nh(t),.3)),"Source Sans Pro","300","16px","20px"),[ic,sc,oc,rc,ac,lc,cc]=Jd(Xr,(t=>nh(t)),(t=>el(nh(t),.3)),"Source Sans Pro","300","12.8px","16px"),[dc,hc,uc,pc,fc,mc,gc]=Jd(Jr,(t=>nh(t)),(t=>el(nh(t),.3)),Fo,No,Bo,zo),[vc,bc,yc,wc,xc,Cc,kc]=Jd(Qr,(t=>Qd(t,xo,xo,el(mo,.75))),(t=>el(nh(t),.3)),Fo,No,Bo,zo),[Sc,_c,Ic,Mc,$c,Dc,Ec]=Jd(ta,(t=>Qd(t,_o,Mo,mo)),(t=>el(nh(t),.3)),Fo,No,Bo,zo),[Ac,Tc,Oc,Rc,Fc,Nc,Lc]=Jd(ea,(t=>Qd(t,xo,xo,el(mo,.75))),(t=>el(nh(t),.3)),Fo,No,Bo,zo),[Bc,Pc,zc,Vc,Hc,Uc,qc]=Jd(na,(t=>el(nh(t),.6)),(t=>el(nh(t),.3)),"Source Sans Pro","400","14px","18px"),[jc,Wc,Gc,Zc,Kc,Yc,Xc]=Jd(ia,(t=>nh(t)),(t=>el(nh(t),.3)),Ro,"400",Lo,Po),[Jc,Qc,td,ed,nd,id,sd]=Jd(sa,(t=>nh(t)),(t=>el(nh(t),.3)),"Source Sans Pro","600","14px","18px")
Jd(oa,(t=>nh(t)),(t=>el(nh(t),.3)),"Source Sans Pro","400","16px","16px"),Jd(ra,(t=>nh(t)),(t=>el(nh(t),.3)),"Source Sans Pro","600","16px","16px")
const[od,rd,ad,ld,cd,dd,hd]=Jd(aa,(t=>nh(t)),(t=>el(nh(t),.3)),"Source Sans Pro","600","11px","16px"),[ud,pd,fd,md,gd,vd,bd]=Jd(la,(t=>el(nh(t),.6)),(t=>el(nh(t),.3)),"Source Sans Pro","600","11px","16px"),[yd,wd,xd,Cd,kd,Sd,_d]=Jd(ca,(t=>nh(t)),(t=>el(nh(t),.3)),"Source Sans Pro","600","14px","16px"),[Id,Md,$d,Dd,Ed,Ad,Td]=Jd(da,(t=>nh(t)),(t=>el(nh(t),.3)),"Source Sans Pro","400","11px",Vo),[Od,Rd,Fd,Nd,Ld,Bd,Pd]=Jd(ua,(t=>th(t)),(t=>el(th(t),.3)),"Source Sans Pro","400","11px",Vo),[zd,Vd,Hd,Ud,qd,jd,Wd]=Jd(Wr,(t=>el(nh(t),.6)),(t=>el(nh(t),.3)),"Source Sans Pro","600","12.8px",Vo)
Jd(Ia,(t=>Qd(t,So,Mo,Mo)),(t=>el(nh(t),.3)),Ro,"600",Lo,Po)
const Gd=ki.create(Ua(Mr)).withDefault("uppercase"),Zd=ki.create(Ua(Vr)).withDefault("0.075s"),Kd=ki.create(Ua(Hr)).withDefault("0.15s"),Yd=ki.create(Ua(Ur)).withDefault("0.25s")
function Xd(t){const{r:e,g:n,b:i}=io(t)
return`${255*e}, ${255*n}, ${255*i}`}function Jd(t,e,n,i,s,o,r){if(""===t||""===i||""===s||""===o||""===r)throw new Error("createFontTokens parameter unexpectedly set to empty string")
const a=`${i}, ${i} Fallback`,l=ki.create(Ua(t)).withDefault(`${s} ${o}/${r} ${a}`),c=t.split("-font"),d=c[0]
if(void 0===d||""!==c[1])throw new Error(`fontTokenName value of ${t} did not have the expected '-font' suffix`)
return[l,ki.create(Ua(`${d}-font-color`)).withDefault((t=>e(t))),ki.create(Ua(`${d}-disabled-font-color`)).withDefault((t=>n(t))),ki.create(Ua(`${d}-font-family`)).withDefault(a),ki.create(Ua(`${d}-font-weight`)).withDefault(s),ki.create(Ua(`${d}-font-size`)).withDefault(o),ki.create(Ua(`${d}-font-line-height`)).withDefault(r)]}function Qd(t,e,n,i){switch(Xa.getValueFor(t)){case Ho.light:return e
case Ho.dark:return n
case Ho.color:return i
default:return e}}function th(t){return Qd(t,ho,"#ff4646",mo)}function eh(t){return Qd(t,yo,po,mo)}function nh(t){return Qd(t,yo,po,mo)}function ih(t){return Qd(t,xo,Mo,mo)}function sh(t){return Qd(t,yo,po,mo)}const oh=Mt`
    @layer base, hover, focusVisible, active, disabled;

    @layer base {
        ${qs("inline")}

        :host {
            font: ${dc};
        }

        .top-container {
            display: contents;
        }

        .control {
            color: ${hc};
            text-decoration: underline;
        }

        :host([underline-hidden]) .control {
            text-decoration: none;
        }

        :host([appearance='prominent']) .control {
            color: ${_c};
        }

        [part='start'] {
            display: none;
        }

        .content {
            pointer-events: none;
        }

        [part='end'] {
            display: none;
        }
    }

    @layer hover {
        .control:any-link:hover {
            text-decoration: underline;
        }
    }

    @layer focusVisible {
        .control${js} {
            outline: none;
            box-shadow: inset 0px -1px;
            text-decoration: underline;
            color: ${fl};
        }
    }

    @layer active {
        .control:active {
            color: ${bc};
            text-decoration: underline;
            box-shadow: none;
        }

        :host([appearance='prominent']) .control:active {
            color: ${Tc};
        }

        :host([underline-hidden]) .control:active {
            text-decoration: none;
        }
    }

    @layer disabled {
        .control:not(:any-link) {
            color: ${uc};
        }
    }
`
class rh extends Us{constructor(){super(...arguments),this.underlineHidden=!1}}t([ft({attribute:"underline-hidden",mode:"boolean"})],rh.prototype,"underlineHidden",void 0),t([ft],rh.prototype,"appearance",void 0),t([ft({attribute:"tabindex",converter:ut})],rh.prototype,"tabIndex",void 0),t([ft({attribute:"contenteditable"})],rh.prototype,"contentEditable",void 0)
const ah=rh.compose({baseName:"anchor",baseClass:_n,template:(t,e)=>Q`${""}<div
        class="top-container"
        contenteditable="${t=>t.contentEditable}"
    ><a
        class="control"
        part="control"
        download="${t=>t.download}"
        href=${t=>t.href}
        hreflang="${t=>t.hreflang}"
        ping="${t=>t.ping}"
        referrerpolicy="${t=>t.referrerpolicy}"
        rel="${t=>t.rel}"
        target="${t=>t.target}"
        type="${t=>t.type}"
        tabindex="${t=>t.tabIndex}"
        aria-atomic="${t=>t.ariaAtomic}"
        aria-busy="${t=>t.ariaBusy}"
        aria-controls="${t=>t.ariaControls}"
        aria-current="${t=>t.ariaCurrent}"
        aria-describedby="${t=>t.ariaDescribedby}"
        aria-details="${t=>t.ariaDetails}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-errormessage="${t=>t.ariaErrormessage}"
        aria-expanded="${t=>t.ariaExpanded}"
        aria-flowto="${t=>t.ariaFlowto}"
        aria-haspopup="${t=>t.ariaHaspopup}"
        aria-hidden="${t=>t.ariaHidden}"
        aria-invalid="${t=>t.ariaInvalid}"
        aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
        aria-label="${t=>t.ariaLabel}"
        aria-labelledby="${t=>t.ariaLabelledby}"
        aria-live="${t=>t.ariaLive}"
        aria-owns="${t=>t.ariaOwns}"
        aria-relevant="${t=>t.ariaRelevant}"
        aria-roledescription="${t=>t.ariaRoledescription}"
        ${Ut("control")}
    >${""}<span
        part="start"
        ${Ut("startContainer")}
        class="${t=>e.start?"start":null}"
        ><slot
            name="start"
            ${Ut("start")}
            @slotchange="${t=>t.handleStartContentChange()}">
            ${e.start||""}
        </slot
    ></span
    ><span
        class="content"
        part="content"
        ><slot
            ${ie("defaultSlottedContent")}
        ></slot
    ></span
    ><span
        part="end"
        ${Ut("endContainer")}
        class=${t=>e.end?"end":null}
        ><slot
            name="end"
            ${Ut("end")}
            @slotchange="${t=>t.handleEndContentChange()}">
            ${e.end||""}
        </slot
    ></span></a></div>`,styles:oh,shadowOptions:{delegatesFocus:!0}})
Di.getOrCreate().withPrefix("nimble").register(ah())
const lh="nimble-anchor",ch="outline",dh="ghost",hh="block"
class uh{constructor(t,e,n){this.propertyName=t,this.value=e,this.styles=n}bind(t){x.getNotifier(t).subscribe(this,this.propertyName),this.handleChange(t,this.propertyName)}unbind(t){x.getNotifier(t).unsubscribe(this,this.propertyName),t.$fastController.removeStyles(this.styles)}handleChange(t,e){const n=t[e];(Array.isArray(this.value)?this.value.includes(n):this.value===n)?t.$fastController.addStyles(this.styles):t.$fastController.removeStyles(this.styles)}}function ph(t,e){return new uh("appearance",t,e)}const fh=Dt`
    display: inline-block;
    height: 1px;
    width: 1px;
    position: absolute;
    margin: -1px;
    clip: rect(1px, 1px, 1px, 1px);
    clip-path: inset(50%);
    overflow: hidden;
    padding: 0;
`,mh=Mt`
    @layer base, checked, hover, focusVisible, active, disabled, top;

    @layer base {
        ${qs("inline-flex")}

        :host {
            background-color: transparent;
            height: ${Il};
            color: ${wd};
            font: ${yd};
            cursor: pointer;
            white-space: nowrap;
            outline: none;
            border: none;
            ${""}
            vertical-align: middle;
        }

        .control {
            background-color: transparent;
            height: 100%;
            width: 100%;
            border: ${Tl} solid transparent;
            color: inherit;
            border-radius: inherit;
            fill: inherit;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
            cursor: inherit;
            font: inherit;
            outline: none;
            margin: 0;
            padding: 0 ${El};
            position: relative;
            transition:
                box-shadow ${Zd} ease-in-out,
                border-color ${Zd} ease-in-out,
                background-size ${Zd} ease-in-out;
            background-size: 100% 100%;
            background-repeat: no-repeat;
            background-position: center;
        }

        :host([content-hidden]) .control {
            aspect-ratio: 1 / 1;
            padding: 0px;
        }

        .control::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            outline: 0px solid transparent;
            color: transparent;
            background-clip: border-box;
            transition: outline ${Zd} ease-in-out;
        }

        .content {
            display: contents;
        }

        [part='start'] {
            display: contents;
            ${ml.cssCustomProperty}: ${wd};
        }

        slot[name='start']::slotted(*) {
            flex-shrink: 0;
        }

        :host([content-hidden]) .content {
            ${fh}
        }

        [part='end'] {
            display: contents;
            ${ml.cssCustomProperty}: ${wd};
        }

        slot[name='end']::slotted(*) {
            flex-shrink: 0;
        }
    }

    @layer hover {
        .control:hover {
            border-color: ${fl};
            box-shadow: 0px 0px 0px ${Tl} ${fl} inset;
        }
    }

    @layer focusVisible {
        .control${js} {
            border-color: ${fl};
            box-shadow: 0px 0px 0px ${Tl} ${fl} inset;
        }

        .control${js}::before {
            outline: ${Tl} solid ${fl};
            outline-offset: -3px;
        }
    }

    @layer active {
        .control:active {
            box-shadow: none;
            color: ${wd};
            border-color: ${fl};
            background-image: linear-gradient(
                ${sl},
                ${sl}
            );
            background-size: calc(100% - 2px) calc(100% - 2px);
        }

        .control:active::before {
            outline: none;
        }

        .control:active [part='start'],
        .control:active [part='end'] {
            ${ml.cssCustomProperty}: ${wd};
        }
    }

    @layer disabled {
        :host([disabled]) {
            cursor: default;
        }

        :host([disabled]) .control {
            color: ${xd};
            box-shadow: none;
            background-image: none;
            background-size: 100% 100%;
        }

        :host([disabled]) .control::before {
            box-shadow: none;
        }

        :host([disabled]) slot[name='start']::slotted(*),
        :host([disabled]) slot[name='end']::slotted(*) {
            opacity: 0.3;
            ${ml.cssCustomProperty}: ${wd};
        }
    }

    @layer top {
        @media (prefers-reduced-motion) {
            .control {
                transition-duration: 0s;
            }
        }

        :host([content-hidden]) [part='end'] {
            display: none;
        }
    }
`.withBehaviors(ph(ch,Mt`
            @layer base {
                .control {
                    border-color: rgba(${nl}, 0.3);
                }
            }

            @layer disabled {
                :host([disabled]) .control {
                    border-color: rgba(${cl}, 0.3);
                }
            }
        `),ph(dh,Mt`
            @layer disabled {
                :host([disabled]) .control {
                    border-color: transparent;
                }
            }
        `),ph(hh,Mt`
            @layer base {
                .control {
                    background-image: linear-gradient(
                        rgba(${cl}, 0.1),
                        rgba(${cl}, 0.1)
                    );
                    border-color: rgba(${cl}, 0.1);
                }
            }

            @layer hover {
                .control:hover {
                    background-size: calc(100% - 4px) calc(100% - 4px);
                }
            }

            @layer focusVisible {
                .control${js} {
                    background-size: calc(100% - 4px) calc(100% - 4px);
                }
            }

            @layer disabled {
                :host([disabled]) .control {
                    background-image: linear-gradient(
                        rgba(${cl}, 0.1),
                        rgba(${cl}, 0.1)
                    );
                    border-color: rgba(${cl}, 0.1);
                }
            }
        `)),gh=Mt``.withBehaviors(ph(ch,Mt`
            @layer base {
                :host([appearance-variant='primary']) .control {
                    border-color: ${nl};
                }

                :host([appearance-variant='accent']) .control {
                    border-color: ${_l};
                    color: ${Sl};
                }

                :host([appearance-variant='accent']) [part='start'],
                :host([appearance-variant='accent']) [part='end'] {
                    ${ml.cssCustomProperty}: ${Sl};
                }
            }

            @layer active {
                :host([appearance-variant='accent']) .control:active {
                    color: ${Sl};
                }

                :host([appearance-variant='accent'])
                    .control:active
                    [part='start'],
                :host([appearance-variant='accent'])
                    .control:active
                    [part='end'] {
                    ${ml.cssCustomProperty}: ${Sl};
                }
            }
        `),ph(hh,Mt`
            @layer base {
                :host([appearance-variant='primary']) .control {
                    background-image: linear-gradient(
                        ${wl},
                        ${wl}
                    );
                    color: ${xl};
                    border-color: ${wl};
                }

                :host([appearance-variant='accent']) .control {
                    background-image: linear-gradient(
                        ${Cl},
                        ${Cl}
                    );
                    color: ${kl};
                    border-color: ${Cl};
                }

                :host([appearance-variant='primary']) [part='start'],
                :host([appearance-variant='primary']) [part='end'] {
                    ${ml.cssCustomProperty}: ${xl};
                }

                :host([appearance-variant='accent']) [part='start'],
                :host([appearance-variant='accent']) [part='end'] {
                    ${ml.cssCustomProperty}: ${xl};
                }
            }
        `)),vh=Mt`
    ${mh}
    ${gh}

    .control {
        text-decoration: none;
    }

    [part='start'] {
        pointer-events: none;
    }

    .content {
        pointer-events: none;
    }

    [part='end'] {
        pointer-events: none;
    }
`
class bh extends Us{constructor(){super(...arguments),this.appearance=ch,this.contentHidden=!1,this.disabled=!1}}t([ft],bh.prototype,"appearance",void 0),t([ft({attribute:"appearance-variant"})],bh.prototype,"appearanceVariant",void 0),t([ft({attribute:"content-hidden",mode:"boolean"})],bh.prototype,"contentHidden",void 0),t([ft({mode:"boolean"})],bh.prototype,"disabled",void 0)
const yh=bh.compose({baseName:"anchor-button",template:(t,e)=>Q`
    <a
        class="control"
        part="control"
        download="${t=>t.download}"
        href=${t=>t.disabled?null:t.href}
        hreflang="${t=>t.hreflang}"
        ping="${t=>t.ping}"
        referrerpolicy="${t=>t.referrerpolicy}"
        rel="${t=>t.rel}"
        target="${t=>t.target}"
        type="${t=>t.type}"
        aria-atomic="${t=>t.ariaAtomic}"
        aria-busy="${t=>t.ariaBusy}"
        aria-controls="${t=>t.ariaControls}"
        aria-current="${t=>t.ariaCurrent}"
        aria-describedby="${t=>t.ariaDescribedby}"
        aria-details="${t=>t.ariaDetails}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-errormessage="${t=>t.ariaErrormessage}"
        aria-expanded="${t=>t.ariaExpanded}"
        aria-flowto="${t=>t.ariaFlowto}"
        aria-haspopup="${t=>t.ariaHaspopup}"
        aria-hidden="${t=>t.ariaHidden}"
        aria-invalid="${t=>t.ariaInvalid}"
        aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
        aria-label="${t=>t.ariaLabel}"
        aria-labelledby="${t=>t.ariaLabelledby}"
        aria-live="${t=>t.ariaLive}"
        aria-owns="${t=>t.ariaOwns}"
        aria-relevant="${t=>t.ariaRelevant}"
        aria-roledescription="${t=>t.ariaRoledescription}"
        ${Ut("control")}
    >
        ${le(0,e)}
        <span class="content" part="content">
            <slot ${ie("defaultSlottedContent")}></slot>
        </span>
        ${ae(0,e)}
    </a>
`,styles:vh,shadowOptions:{delegatesFocus:!0}})
Di.getOrCreate().withPrefix("nimble").register(yh())
const wh=Mt`
    ${qs("grid")}

    :host {
        font: ${jc};
    }

    :host(:hover) {
        background: ${al};
    }

    :host(:active) {
        background: ${sl};
    }

    :host([disabled]) {
        background: transparent;
    }

    a {
        display: grid;
        contain: layout;
        overflow: visible;
        height: ${Il};
        grid-template-columns: 1fr;
        column-gap: 8px;
        grid-template-rows: 1fr;
        justify-items: start;
        align-items: center;
        margin: 0 0;
        white-space: nowrap;
        color: ${Wc};
        fill: currentcolor;
        cursor: pointer;
        text-decoration: none;
        outline: none;
        padding-left: 8px;
        padding-right: 8px;
    }

    a${js} {
        outline: 2px solid ${fl};
        outline-offset: -2px;
    }

    :host([disabled]) a {
        color: ${Gc};
        fill: currentcolor;
        cursor: default;
    }

    :host(.indent-1) a {
        grid-template-columns: ${Ol} 1fr;
    }

    [part='start'] {
        display: contents;
        pointer-events: none;
    }

    slot[name='start']::slotted(*) {
        ${ml.cssCustomProperty}: currentcolor;
        width: ${Ol};
        height: ${Ol};
    }

    :host(.indent-1) [part='start'] {
        grid-column: 1;
    }

    .content {
        pointer-events: none;
    }

    :host(.indent-1) .content {
        grid-column: 2;
    }

    [part='end'] {
        display: none;
    }
`
class xh extends Us{constructor(){super(...arguments),this.disabled=!1,this.startColumnCount=0}clickHandler(t){return t.stopPropagation(),!0}keydownHandler(t){if(t.defaultPrevented)return!1
if(t.key===dn)t.stopPropagation()
return!0}setAttribute(t,e){"tabindex"===t?this.anchor.setAttribute(t,e):super.setAttribute(t,e)}get tabIndex(){return this.anchor.tabIndex}set tabIndex(t){this.anchor.tabIndex=t}}t([ft({mode:"boolean"})],xh.prototype,"disabled",void 0),t([C],xh.prototype,"anchor",void 0),t([C],xh.prototype,"startColumnCount",void 0)
const Ch=xh.compose({baseName:"anchor-menu-item",template:(t,e)=>Q`
    <template
        role="menuitem"
        class="${t=>"number"==typeof t.startColumnCount?`indent-${t.startColumnCount}`:""}"
        aria-disabled="${t=>t.disabled}"
        @click="${(t,e)=>t.clickHandler(e.event)}"
        @keydown="${(t,e)=>t.keydownHandler(e.event)}"
    >
        <a
            ${Ut("anchor")}
            download="${t=>t.download}"
            href=${t=>t.disabled?null:t.href}
            hreflang="${t=>t.hreflang}"
            ping="${t=>t.ping}"
            referrerpolicy="${t=>t.referrerpolicy}"
            rel="${t=>t.rel}"
            target="${t=>t.target}"
            type="${t=>t.type}"
        >
            ${le(0,e)}
            <span class="content" part="content">
                <slot></slot>
            </span>
            ${ae(0,e)}
        </a>
    </template>
`,styles:wh,shadowOptions:{delegatesFocus:!0}})
Di.getOrCreate().withPrefix("nimble").register(Ch())
const kh=Mt`
    ${qs("inline-flex")}

    :host {
        position: relative;
        font: ${yd};
        height: ${Il};
        color: ${Wc};
        align-items: center;
        justify-content: center;
        cursor: pointer;
        text-wrap: nowrap;
        --ni-private-active-indicator-width: 2px;
        --ni-private-focus-indicator-width: 1px;
        --ni-private-indicator-lines-gap: 1px;
        --ni-private-focus-indicator-inset-width: 3px;
    }

    :host(:hover) {
        background-color: ${al};
    }

    :host(:hover[aria-current]) {
        background-color: ${rl};
    }

    :host(:active) {
        background: none;
    }

    :host([disabled]) {
        cursor: default;
        color: ${Gc};
        background: none;
    }

    slot:not([name]) {
        pointer-events: none;
        display: block;
        padding: ${Dl} ${El}
            calc(${Dl} - ${Tl});
    }

    a::before {
        content: '';
        position: absolute;
        bottom: calc(
            var(--ni-private-active-indicator-width) +
                var(--ni-private-indicator-lines-gap)
        );
        width: 0px;
        height: 0px;
        border-bottom: ${fl}
            var(--ni-private-focus-indicator-width) solid;
        transition: width ${Zd} ease-in;
    }

    @media (prefers-reduced-motion) {
        a::before {
            transition-duration: 0s;
        }
    }

    a${js}::before {
        width: calc(100% - 2 * var(--ni-private-focus-indicator-inset-width));
    }

    a {
        display: inline-flex;
        text-decoration: none;
        color: inherit;
        cursor: inherit;
        outline: none;
        align-items: center;
        justify-content: center;
    }

    a::after {
        content: '';
        position: absolute;
        bottom: 0px;
        width: 0px;
        height: 0px;
        border-bottom: ${fl}
            var(--ni-private-active-indicator-width) solid;
        transition: width ${Zd} ease-in;
    }

    @media (prefers-reduced-motion) {
        a::after {
            transition-duration: 0s;
        }
    }

    a${js}::after {
        width: 100%;
        border-bottom-width: var(--ni-private-focus-indicator-width);
    }

    :host([aria-current]) a::after {
        width: 100%;
        border-bottom-width: var(--ni-private-active-indicator-width);
    }

    :host([disabled][aria-current]) a::after {
        border-bottom-color: rgba(${fl}, 0.3);
    }

    [part='start'] {
        display: none;
    }

    [part='end'] {
        display: none;
    }
`
class Sh extends Us{constructor(){super(...arguments),this.disabled=!1,this.ariaSelected="false"}}t([ft({mode:"boolean"})],Sh.prototype,"disabled",void 0),t([ft({attribute:"aria-selected"})],Sh.prototype,"ariaSelected",void 0)
const _h=Sh.compose({baseName:"anchor-tab",template:(t,e)=>Q`
    <template slot="anchortab" role="tab" aria-disabled="${t=>t.disabled}">
        <a
            download="${t=>t.download}"
            href=${t=>t.disabled?null:t.href}
            hreflang="${t=>t.hreflang}"
            ping="${t=>t.ping}"
            referrerpolicy="${t=>t.referrerpolicy}"
            rel="${t=>t.rel}"
            target="${t=>t.target}"
            type="${t=>t.type}"
        >
            ${le(0,e)}
            <slot></slot>
            ${ae(0,e)}
        </a>
    </template>
`,styles:kh,shadowOptions:{delegatesFocus:!0}})
Di.getOrCreate().withPrefix("nimble").register(_h())
const Ih=Mt`
    ${qs("flex")}

    :host {
        flex-direction: column;
    }

    .tab-bar {
        display: flex;
    }

    [part='start'] {
        display: none;
    }

    .scroll-button.left {
        margin-right: ${$l};
    }

    .tablist {
        display: flex;
        width: max-content;
        align-self: end;
        overflow-x: scroll;
        scrollbar-width: none;
    }

    .scroll-button.right {
        margin-left: ${$l};
    }

    [part='end'] {
        flex: 1;
    }

    [part='tabpanel'] {
        flex: 1;
    }
`,Mh=Mt`
    ${mh}
    ${gh}
`
class $h extends Pn{constructor(){super(...arguments),this.appearance=ch,this.contentHidden=!1}}t([ft],$h.prototype,"appearance",void 0),t([ft({attribute:"appearance-variant"})],$h.prototype,"appearanceVariant",void 0),t([ft({attribute:"content-hidden",mode:"boolean"})],$h.prototype,"contentHidden",void 0),t([ft({attribute:"tabindex",converter:ut})],$h.prototype,"tabIndex",void 0)
const Dh=$h.compose({baseName:"button",baseClass:Pn,template:(t,e)=>Q`
    <button
        class="control"
        part="control"
        ?autofocus="${t=>t.autofocus}"
        ?disabled="${t=>t.disabled}"
        form="${t=>t.formId}"
        formaction="${t=>t.formaction}"
        formenctype="${t=>t.formenctype}"
        formmethod="${t=>t.formmethod}"
        formnovalidate="${t=>t.formnovalidate}"
        formtarget="${t=>t.formtarget}"
        name="${t=>t.name}"
        type="${t=>t.type}"
        value="${t=>t.value}"
        tabindex="${t=>t.tabIndex}"
        aria-atomic="${t=>t.ariaAtomic}"
        aria-busy="${t=>t.ariaBusy}"
        aria-controls="${t=>t.ariaControls}"
        aria-current="${t=>t.ariaCurrent}"
        aria-describedby="${t=>t.ariaDescribedby}"
        aria-details="${t=>t.ariaDetails}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-errormessage="${t=>t.ariaErrormessage}"
        aria-expanded="${t=>t.ariaExpanded}"
        aria-flowto="${t=>t.ariaFlowto}"
        aria-haspopup="${t=>t.ariaHaspopup}"
        aria-hidden="${t=>t.ariaHidden}"
        aria-invalid="${t=>t.ariaInvalid}"
        aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
        aria-label="${t=>t.ariaLabel}"
        aria-labelledby="${t=>t.ariaLabelledby}"
        aria-live="${t=>t.ariaLive}"
        aria-owns="${t=>t.ariaOwns}"
        aria-pressed="${t=>t.ariaPressed}"
        aria-relevant="${t=>t.ariaRelevant}"
        aria-roledescription="${t=>t.ariaRoledescription}"
        ${Ut("control")}
    >
        ${le(0,e)}
        <span class="content" part="content">
            <slot ${ie("defaultSlottedContent")}></slot>
        </span>
        ${ae(0,e)}
    </button>
`,styles:Mh,shadowOptions:{delegatesFocus:!0}})
Di.getOrCreate().withPrefix("nimble").register(Dh())
const Eh="nimble-button",Ah={name:"add_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13 7H9V3H7v4H3v2h4v4h2V9h4z" class="cls-1"/></svg>'},Th={name:"arrow_down_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 16 16"><path d="M9 2v6.207l2.5-1.188L8.021 14 4.5 7.019 7 8.207V2z"/></svg>'},Oh={name:"arrow_down_left_and_arrow_up_right_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m2.007 13.171 2.247-2.276-2.284-.447 5.246-1.732-1.753 5.217-.456-2.284-2.26 2.291zM13.194 2l-2.261 2.29-.456-2.283-1.753 5.217 5.246-1.732-2.284-.447 2.247-2.276z" class="cls-1"/></svg>'},Rh={name:"arrow_down_rectangle_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8.018 11 11 5.1 8.996 6.412 9 2H7v4.387L5 5.1zm0 0L11 5.1 8.996 6.412 9 2H7v4.387L5 5.1zM14 9v5H2V9h3.871l.512 1H3v3h10v-3H9.643l.506-1z" class="cls-1"/></svg>'},Fh={name:"arrow_down_right_and_arrow_up_left_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m13.171 13.933-2.276-2.247-.447 2.284-1.732-5.246 5.217 1.753-2.284.456 2.291 2.26ZM2 2.746l2.29 2.261-2.283.456 5.217 1.753L5.492 1.97l-.447 2.284-2.276-2.247Z" class="cls-1"/></svg>'},Nh={name:"arrow_expander_down_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m3.5 4.737 1.11-.732 3.357 5.472L11.397 4l1.103.743L7.955 12z" class="cls-1"/></svg>'},Lh={name:"arrow_expander_left_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m11.263 3.5.732 1.11-5.472 3.357L12 11.397l-.743 1.103L4 7.955z" class="cls-1"/></svg>'},Bh={name:"arrow_expander_right_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m4.737 12.5-.732-1.11 5.472-3.357L4 4.603 4.743 3.5 12 8.045z" class="cls-1"/></svg>'},Ph={name:"arrow_expander_up_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m12.5 11.263-1.11.732-3.357-5.472L4.603 12 3.5 11.257 8.045 4z" class="cls-1"/></svg>'},zh={name:"arrow_in_circle_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M10.5 5.25a3.24 3.24 0 0 0-2.738 1.513L11.236 8.5l-3.474 1.737A3.24 3.24 0 0 0 10.5 11.75a3.25 3.25 0 0 0 0-6.5" class="cls-1"/><path d="m4 6 1 2H2v1h3l-1 2 5-2.5z" class="cls-1"/></svg>'},Vh={name:"arrow_left_from_line_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12 14h2V2h-2ZM2 7.982 7.9 5 6.588 7.004 11 7v2H6.613L7.9 11Z" class="cls-1"/></svg>'},Hh={name:"arrow_out_circle_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m9 6 1 2H7v1h3l-1 2 5-2.5z" class="cls-1"/><path d="M6 10V7h2.367A3.24 3.24 0 0 0 5.5 5.25a3.25 3.25 0 0 0 0 6.5c1.25 0 2.324-.714 2.867-1.75z" class="cls-1"/></svg>'},Uh={name:"arrow_partial_rotate_left_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 11.988a3.086 3.086 0 0 0 3.143-3.025 3.08 3.08 0 0 0-3.085-3.02v.088l.826 2.067-5.598-2.796L8.884 2.5l-.742 1.932a4.62 4.62 0 0 1 4.572 4.53A4.63 4.63 0 0 1 8 13.5Z" class="cls-1"/></svg>'},qh={name:"arrow_right_thin_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m7.831 4.386-.706 1.127 3.128 1.837H2v1.3h8.365L7.49 10.528l.768 1.085L13.875 8z" class="cls-1"/></svg>'},jh={name:"arrow_right_to_line_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12 14h2V2h-2Zm-6.9-3 1.287-2H2V7l4.412.004L5.1 5 11 7.982Z" class="cls-1"/></svg>'},Wh={name:"arrow_rotate_right_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8.9 2.773v1.715a3.366 3.366 0 0 1 3.3 3.428 3.366 3.366 0 0 1-3.3 3.429 3.36 3.36 0 0 1-3.293-3.366h.095l2.255.901-3.05-6.107L1.85 8.88l2.108-.808A5.04 5.04 0 0 0 8.9 13.059a5.05 5.05 0 0 0 4.95-5.143A5.05 5.05 0 0 0 8.9 2.773" class="cls-1"/></svg>'},Gh={name:"arrow_u_left_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m9.453 8.857-1.68-2.571h.908a3 3 0 0 1 0 6H3.11V14h5.571a4.714 4.714 0 0 0 0-9.429h-.908L9.453 2 2.604 5.403z" class="cls-1"/></svg>'},Zh={name:"arrow_u_right_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m6.547 8.857 1.68-2.571H7.32a3 3 0 0 0 0 6h5.571V14H7.319a4.714 4.714 0 0 1 0-9.429h.908L6.547 2l6.849 3.403z" class="cls-1"/></svg>'},Kh={name:"arrow_u_up_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m8.857 9.453-2.571-1.68v.908a3 3 0 0 0 3 3 3 3 0 0 0 3-3V3.11H14v5.571a4.714 4.714 0 0 1-4.714 4.715A4.714 4.714 0 0 1 4.57 8.68v-.908L2 9.453l3.403-6.849Z" class="cls-1"/></svg>'},Yh={name:"arrow_up_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 16 16"><path d="M7 14V7.793L4.5 8.981 7.979 2 11.5 8.981 9 7.793V14z"/></svg>'},Xh={name:"arrow_up_left_and_arrow_down_right_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m4.195 4.977-.451 2.296L2 2l5.256 1.762-2.301.458 6.849 6.803.452-2.296L14 14l-5.256-1.762 2.301-.458z" class="cls-1"/></svg>'},Jh={name:"arrow_up_rectangle_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M7.982 2 5 7.9l2.004-1.312L7 11h2V6.613L11 7.9zm0 0L5 7.9l2.004-1.312L7 11h2V6.613L11 7.9zM14 9v5H2V9h4v1H3v3h10v-3h-3V9z" class="cls-1"/></svg>'},Qh={name:"arrow_up_right_and_arrow_down_left_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m11.023 4.195-2.296-.45L14 2l-1.762 5.256-.458-2.301-6.803 6.85 2.296.45L2 14l1.762-5.256.458 2.301z" class="cls-1"/></svg>'},tu={name:"arrow_up_right_from_square_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M10.436 10h1v3h-9V4h3v1h-2v7h7zm-3.42-6.173.298 1.296 2.92-.748L5.068 9.53l.925.926L11.13 5.33l-.52 2.532 1.31.225 1.2-5.839z" class="cls-1"/></svg>'},eu={name:"arrows_maximize_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12.26 8.735 14 14l-5.25-1.763 2.295-.457-3.03-3.022L8 8.742l-.015.016.015.014-3.023 3.023 2.296.45L2 13.985l1.762-5.243.458 2.295 3.015-3.015.007-.007L7.258 8l-.016-.015L7.227 8l-3.03-3.03-.457 2.295L2 2l5.25 1.762-2.295.458 3.03 3.022.015.016.015-.016L8 7.227l3.023-3.022-2.296-.45L14 2.015l-1.762 5.243-.458-2.295L8.742 8l.016.015L8.773 8l3.03 3.03z" class="cls-1"/></svg>'},nu={name:"arrows_repeat_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8.75 11.75 10 14l-6-3 6-3-1.25 2.25ZM8 11h1a4 4 0 0 0 4-4M7.25 5.75 6 8l6-3-6-3 1.25 2.25ZM8 5H7a4 4 0 0 0-4 4" class="cls-1"/></svg>'},iu={name:"asterisk_5_x_5",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 5 5"><path d="m.721 4.076.813-1.372-1.429-.63.266-.84 1.527.349L2.05 0h.883l.154 1.583 1.541-.35.266.84-1.442.631.812 1.372-.715.519L2.5 3.376 1.435 4.595z" class="cls-1"/></svg>'},su={name:"at_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 16 16"><path d="M12.139 3.621a5.5 5.5 0 0 1 1.206 1.845q.435 1.074.436 2.407 0 .961-.275 1.954t-.687 1.646H9.343l-.11-.536a4.6 4.6 0 0 1-.756.415q-.364.155-1.051.155-1.12 0-1.813-.924t-.694-2.49q0-.837.234-1.467.234-.628.639-1.095.377-.44.914-.687a2.5 2.5 0 0 1 1.064-.248q.453 0 .804.169.35.168.543.353v-.425h1.594v5.605h1.168q.248-.543.368-1.178.12-.636.12-1.22 0-1.161-.323-2.036-.322-.877-.892-1.453a3.7 3.7 0 0 0-1.366-.879 4.9 4.9 0 0 0-1.697-.289q-.871 0-1.657.343a4.6 4.6 0 0 0-1.383.928q-.61.598-.992 1.497c-.382.899-.381 1.257-.381 1.972q0 1.167.36 2.068.36.9.958 1.497.596.59 1.386.9a4.5 4.5 0 0 0 1.668.309q.583 0 1.328-.106a9 9 0 0 0 1.321-.279v1.333q-.64.144-1.271.22-.633.074-1.381.075a6.1 6.1 0 0 1-2.325-.433 5.4 5.4 0 0 1-1.852-1.23 5.6 5.6 0 0 1-1.212-1.91 6.7 6.7 0 0 1-.436-2.444q0-1.278.453-2.366a5.9 5.9 0 0 1 1.25-1.9A5.7 5.7 0 0 1 5.781 2.46 5.8 5.8 0 0 1 8.079 2q1.209 0 2.257.426a5.3 5.3 0 0 1 1.803 1.195M9.082 9.652V6.19a3 3 0 0 0-.522-.21 2 2 0 0 0-.543-.065q-.66 0-1.017.577c-.357.577-.357.912-.357 1.58q0 1.085.295 1.607.296.522.975.522.357 0 .625-.141.269-.14.544-.408"/></svg>'},ou={name:"bars_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2 13v-2h12v2Zm0-4V7h12v2Zm0-4V3h12v2Z" class="cls-1"/></svg>'},ru={name:"bell_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 14a2.05 2.05 0 0 1-2-2h4a2.05 2.05 0 0 1-2 2m-5.25-3s0-.746.5-.746h.065c.935 0 1.435-4.918 1.435-4.918 0-.504.25-.504.25-.504h.067c.075-.037.183-.143.183-.463v-.484c.105-.842.953-1.331 2.25-1.43v-.262c0-.081.09-.15.219-.193h.562c.129.043.219.112.219.193v.263c1.297.098 2.145.587 2.25 1.43v.483c0 .32.108.426.183.463H11s.25 0 .25.483v.02s.5 4.92 1.5 4.92c.5 0 .5.745.5.745Z" class="cls-1"/></svg>'},au={name:"bell_and_comment_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.836 4.75H9.57a.71.71 0 0 0-.71.71v2.032a.71.71 0 0 0 .71.711h.356L9.57 9.625l2.488-1.422h1.778a.71.71 0 0 0 .71-.71V5.46a.71.71 0 0 0-.71-.711M8.196 11H2.75s0-.746.5-.746h.065c.935 0 1.435-4.918 1.435-4.918 0-.504.25-.504.25-.504h.067c.075-.037.183-.143.183-.463v-.484c.105-.842.953-1.331 2.25-1.43v-.262c0-.081.09-.15.219-.193h.562c.129.043.219.112.219.193v.263c1.224.092 2.04.537 2.217 1.294H9.57a1.713 1.713 0 0 0-1.71 1.71v2.032a1.71 1.71 0 0 0 .844 1.475ZM6 12h4a2.05 2.05 0 0 1-2 2 2.05 2.05 0 0 1-2-2m7.25-1H9.18l2.868-1.64c.198.527.431.894.702.894.5 0 .5.746.5.746" class="cls-1"/></svg>'},lu={name:"bell_check_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M7.117 11H2.75s0-.746.5-.746h.065c.935 0 1.435-4.918 1.435-4.918 0-.504.25-.504.25-.504h.067c.075-.037.183-.143.183-.463v-.484c.105-.842.953-1.331 2.25-1.43v-.262c0-.081.09-.15.219-.193h.562c.129.043.219.112.219.193v.263c1.297.098 2.145.587 2.25 1.43v.483c0 .32.108.426.183.463H11s.25 0 .25.483v.02s.14 1.37.42 2.664l-1.18 1.164L8.944 7.56l-2.671 2.589zm.99 1H6c.053 1.113.924 2 2 2 .57 0 1.078-.254 1.442-.654zm7.588-4.212-1.162-1.212-4.06 4.01-1.553-1.61-1.225 1.187 2.788 2.813z" class="cls-1"/></svg>'},cu={name:"bell_circle_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M7.042 11h2a1 1 0 0 1-2 0m4.5-1h-7s0-.497.333-.497h.043c.624 0 .957-3.28.957-3.28 0-.335.167-.335.167-.335h.044c.05-.025.122-.095.122-.309v-.322c.07-.561.636-.888 1.5-.953v-.175c0-.054.06-.1.146-.129h.375c.086.029.146.075.146.129v.175c.865.065 1.43.392 1.5.953v.322c0 .214.072.284.122.309h.045s.166 0 .166.322v.014s.334 3.279 1 3.279c.334 0 .334.497.334.497m-3.5-7.5a5.5 5.5 0 1 1-5.5 5.5 5.506 5.506 0 0 1 5.5-5.5m0-1a6.5 6.5 0 1 0 6.5 6.5 6.5 6.5 0 0 0-6.5-6.5" class="cls-1"/></svg>'},du={name:"bell_on_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.951 14c-1.075 0-1.946-.887-2-2h4c-.053 1.113-.924 2-2 2m-7.25-3s0-.746.5-.746h.065c.935 0 1.435-4.919 1.435-4.919 0-.503.25-.503.25-.503h.067c.075-.037.184-.143.184-.464v-.483c.105-.842.952-1.331 2.25-1.43v-.262c0-.082.09-.15.218-.193h.563c.128.043.218.111.218.193v.262c1.297.099 2.145.588 2.25 1.43v.483c0 .32.109.427.183.464h.067s.25 0 .25.483v.02s.5 4.92 1.5 4.92c.5 0 .5.745.5.745zM15 8V7h-2v1zM3 8V7H1v1zm10.012-6.29-.707-.708-1.414 1.415.707.707zM3.414 3.124l.707-.707-1.414-1.415L2 1.71z" class="cls-1"/></svg>'},hu={name:"bell_solid_circle_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.5 8A6.5 6.5 0 0 0 8 14.5 6.5 6.5 0 0 0 14.5 8 6.5 6.5 0 0 0 8 1.5 6.5 6.5 0 0 0 1.5 8M8 12a1.025 1.025 0 0 1-1-1h2a1.025 1.025 0 0 1-1 1m-3.5-2s0-.497.333-.497h.043c.624 0 .957-3.28.957-3.28 0-.335.167-.335.167-.335h.045c.05-.025.122-.095.122-.309v-.322c.07-.561.635-.888 1.5-.953v-.175c0-.054.06-.1.145-.129h.376c.085.029.145.075.145.129v.175c.865.065 1.43.392 1.5.953v.322c0 .214.073.284.122.309H10s.167 0 .167.322v.014s.333 3.279 1 3.279c.333 0 .333.497.333.497Z" class="cls-1"/></svg>'},uu={name:"block_with_ribbon_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2 2v10h4.762A4.496 4.496 0 0 1 13 5.762V2Zm12 7.5a3.5 3.5 0 1 0-6 2.442V14l2.5-1.667L13 14v-2.058A3.49 3.49 0 0 0 14 9.5M10.5 8A1.5 1.5 0 1 1 9 9.5 1.5 1.5 0 0 1 10.5 8" class="cls-1"/></svg>'},pu={name:"bold_b_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 16 16"><path d="M12.981 10.536q0 .843-.34 1.508c-.34.665-.538.81-.934 1.102a4.3 4.3 0 0 1-1.512.734q-.825.219-2.09.219H3.028V2.466h4.516q1.407 0 2.059.094a4.2 4.2 0 0 1 1.293.414q.664.336.988.902t.324 1.293q0 .844-.445 1.488c-.445.644-.716.765-1.258 1.004v.062q1.14.227 1.809.938c.669.711.667 1.099.667 1.875M9.137 5.755q0-.289-.145-.578t-.512-.43a2.5 2.5 0 0 0-.815-.137 68 68 0 0 0-1.372-.011h-.281V7.06h.469q.71 0 1.211-.023.5-.024.789-.157.406-.18.531-.465t.125-.66m.727 4.734q0-.555-.214-.855c-.214-.3-.387-.351-.73-.449q-.35-.102-.966-.11c-.616-.008-.84-.008-1.287-.008h-.655v2.898h.218q1.263 0 1.809-.008a2.7 2.7 0 0 0 1.006-.203q.468-.196.643-.52a1.53 1.53 0 0 0 .176-.745"/></svg>'},fu={name:"book_magnifying_glass_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6 10c0-.347.058-.678.142-1H5V8h1.556c.22-.378.498-.714.826-1H5V6h5c.732 0 1.41.212 2 .556V2H3v11h4.382A3.98 3.98 0 0 1 6 10M5 4h5v1H5z" class="cls-1"/><path d="m9.99 7.01-.076.002a3 3 0 1 0 1.799 5.452l1.593 1.53.69-.725-1.58-1.516a2.97 2.97 0 0 0 .57-1.816A3 3 0 0 0 9.99 7.01M10 12c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2" class="cls-1"/></svg>'},mu={name:"calendar_check_lines_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12 3V2h-2v1H6V2H4v1H2v11h12V3zm1 10H3V6h10z" class="cls-2"/><path d="M5.743 11 4 9.242l.766-.742.97 1.007L8.273 7 9 7.758zM10 8h2v1h-2zM8 10h4v1H8z" class="cls-1"/></svg>'},gu={name:"calendar_clock_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14 8.79V3h-2V2h-2v1H6V2H4v1H2v11h7.47c.545.35 1.19.559 1.885.559a3.5 3.5 0 0 0 3.5-3.5c0-.87-.33-1.657-.855-2.269M3 6h10v1.987a3.46 3.46 0 0 0-1.645-.428A3.5 3.5 0 0 0 8.445 13H3zm9.978 7.041a391 391 0 0 1-1.288-1.304.743.743 0 1 1 0-1.338l.908-.908c.081-.081.356-.149.49-.149 0 .09-.06.358-.134.462-.068.095-.791.822-.917.948a.75.75 0 0 1 0 .633l1.386 1.389s.312.327.268.625c-.208 0-.416-.06-.713-.358" class="cls-1"/></svg>'},vu={name:"calendar_day_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M7 10H4V7h3zm7-7v11H2V3h2V2h2v1h4V2h2v1zm-1 3H3v7h10z" class="cls-1"/></svg>'},bu={name:"calendar_day_outline_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12 3V2h-2v1H6V2H4v1H2v11h12V3zm1 10H3V6h10zM7 7H4v3h3zM6 9H5V8h1z" class="cls-1"/></svg>'},yu={name:"calendar_days_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12 3V2h-2v1H6V2H4v1H2v11h12V3zm1 10H3V6h10zM6 9H4V7h2zm3-2H7v2h2zm3 0h-2v2h2zm-6 3H4v2h2zm3 0H7v2h2z" class="cls-1"/></svg>'},wu={name:"calendar_lines_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12 3V2h-2v1H6V2H4v1H2v11h12V3zm1 10H3V6h10zm-1-5H4V7h8zm0 2H4V9h8zm0 2H4v-1h8z" class="cls-1"/></svg>'},xu={name:"calendar_rectangle_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12 3V2h-2v1H6V2H4v1H2v11h12V3zm1 10H3V6h10zm-1-1H4V7h8z" class="cls-1"/></svg>'},Cu={name:"calendar_week_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><g class="cls-3"><path d="M12 3V2h-2v1H6V2H4v1H2v11h12V3zm1 10H3V6h10zm-1-4H4V7h8z" class="cls-1"/></g></svg>'},ku={name:"chart_diagram_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M11 10V7H8V5h1V2H6v3h1v2H4v3H3v3h3v-3H5V8h5v2H9v3h3v-3Z" class="cls-1"/></svg>'},Su={name:"chart_diagram_child_focus_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12 10V7H8V5h1V2H6v3h1v2H3v3H2v3h3v-3H4V8h3v2H6v3h3v-3H8V8h3v2h-1v3h3v-3Zm-8 2H3v-1h1Zm4 0H7v-1h1Zm4 0h-1v-1h1Z" class="cls-1"/></svg>'},_u={name:"chart_diagram_parent_focus_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12 10V7H8V5h1V2H6v3h1v2H3v3H2v3h3v-3H4V8h3v2H6v3h3v-3H8V8h3v2h-1v3h3v-3ZM7 4V3h1v1Z" class="cls-1"/></svg>'},Iu={name:"chart_diagram_parent_focus_two_child_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M11 10V7H8V5h1V2H6v3h1v2H4v3H3v3h3v-3H5V8h5v2H9v3h3v-3Zm-6 2H4v-1h1Zm6 0h-1v-1h1Z" class="cls-1"/></svg>'},Mu={name:"check_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m14 4.693-8.182 8.182L2 9.057 3.636 7.42l2.25 2.25 6.546-6.545z" class="cls-1"/></svg>'},$u={name:"check_dot_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><circle cx="12.5" cy="11.5" r="1.5" class="cls-1"/><path d="m14 4.693-8.182 8.182L2 9.057 3.636 7.42l2.25 2.25 6.546-6.545Z" class="cls-2"/></svg>'},Du={name:"circle_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 2a6 6 0 1 0 6 6 6 6 0 0 0-6-6m0 9.429A3.429 3.429 0 1 1 11.429 8 3.43 3.43 0 0 1 8 11.429" class="cls-1"/></svg>'},Eu={name:"circle_filled_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><circle cx="8" cy="8" r="4" class="cls-1"/></svg>'},Au={name:"circle_broken_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M7 14A6.1 6.1 0 0 1 7 2v2.686a3.475 3.475 0 0 0 0 6.628ZM9 2v2.686a3.475 3.475 0 0 1 0 6.628V14A6.1 6.1 0 0 0 9 2" class="cls-1"/></svg>'},Tu={name:"circle_check_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 2a6 6 0 1 0 6 6 6 6 0 0 0-6-6m-1.212 9.2L4 8.388 5.225 7.2l1.553 1.61 4.06-4.01L12 6.013Z" class="cls-1"/></svg>'},Ou={name:"circle_partial_broken_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9 2v2.686a3.475 3.475 0 0 1 0 6.628V14A6.1 6.1 0 0 0 9 2" class="cls-1"/><path d="M7 11.314a3.475 3.475 0 0 1 0-6.628V2a6.1 6.1 0 0 0 0 12Z" class="cls-2"/></svg>'},Ru={name:"circle_slash_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 2a6 6 0 1 0 6 6 6 6 0 0 0-6-6m.075 1.714a4.281 4.281 0 0 1 3.573 6.647L5.714 4.427a4.26 4.26 0 0 1 2.36-.713M3.789 8a4.26 4.26 0 0 1 .713-2.36l5.934 5.933A4.281 4.281 0 0 1 3.789 8" class="cls-1"/></svg>'},Fu={name:"circle_x_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 2a6 6 0 1 0 6 6 6 6 0 0 0-6-6m.075 1.714a4.26 4.26 0 0 1 2.409.743l-2.37 2.37-2.4-2.4a4.26 4.26 0 0 1 2.36-.713M4.502 5.64l2.4 2.4-2.37 2.37a4.27 4.27 0 0 1-.03-4.77m3.573 6.647a4.26 4.26 0 0 1-2.31-.685l2.349-2.35 2.322 2.322a4.26 4.26 0 0 1-2.361.713m3.573-1.925L9.326 8.039l2.35-2.349a4.25 4.25 0 0 1-.028 4.67" class="cls-1"/></svg>'},Nu={name:"clipboard_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M11 5H5a2 2 0 0 1 2-2V2a1 1 0 0 1 2 0v1a2 2 0 0 1 2 2m1-2v9H4V3H3a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1Zm-2 4H5v1h5ZM8 9H5v1h3Z" class="cls-1"/></svg>'},Lu={name:"clock_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 2a6 6 0 1 0 6 6 6 6 0 0 0-6-6m.576 4.87 1.555-1.557a1.64 1.64 0 0 1 .84-.256 2 2 0 0 1-.23.791c-.115.163-1.356 1.41-1.571 1.626a1.28 1.28 0 0 1 0 1.085l2.376 2.38a1.6 1.6 0 0 1 .458 1.072 1.62 1.62 0 0 1-1.222-.613c-.456-.456-1.94-1.963-2.207-2.235a1.275 1.275 0 1 1 0-2.293" class="cls-1"/></svg>'},Bu={name:"clock_cog_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m8.108 7.392.955-.957a1 1 0 0 1 .516-.157 1.2 1.2 0 0 1-.14.486c-.072.1-.834.866-.966.999a.79.79 0 0 1 0 .666l1.341 1.344a.98.98 0 0 1 .281.658 1 1 0 0 1-.75-.376c-.28-.28-1.073-1.088-1.237-1.255a.783.783 0 1 1 0-1.408m5.69 2.292L14 7.324l-1.327-.113a4.8 4.8 0 0 0-.402-1.26l1.02-.86-1.527-1.811-1.019.86a5 5 0 0 0-.563-.344 5 5 0 0 0-.612-.265l.114-1.329L7.324 2l-.113 1.329a4.8 4.8 0 0 0-1.26.401l-.86-1.02L3.28 4.237l.858 1.02A4.8 4.8 0 0 0 3.53 6.43l-1.329-.114L2 8.676l1.329.114a4.7 4.7 0 0 0 .401 1.26l-1.02.86 1.526 1.811 1.02-.859a4.7 4.7 0 0 0 1.175.608l-.113 1.33 2.358.2.114-1.328a4.7 4.7 0 0 0 1.26-.4l.86 1.02 1.81-1.527-.858-1.02a4.7 4.7 0 0 0 .608-1.175ZM8 11.45A3.45 3.45 0 1 1 11.45 8 3.45 3.45 0 0 1 8 11.45" class="cls-1"/></svg>'},Pu={name:"clock_exclamation_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.821 5.114h1.357V6H2.82zM2.798 1l.155 3.56h1.094L4.202 1zm7.481 2.575h.001l-.013-.007a5 5 0 0 0-.606-.262 5 5 0 0 0-.523-.163 5 5 0 0 0-.286-.055A4.7 4.7 0 0 0 8 3q-.023.002-.045.005a5 5 0 0 0-.785.079c-.097.016-.194.03-.29.052a5 5 0 0 0-.575.179c-.48.174-.907.438-1.305.74V7H3.109l-.017.092a5 5 0 0 0-.088.87Q3.002 7.98 3 8c0 .293.036.575.088.852q.023.143.055.285.068.273.165.532.11.308.259.595l.007.016h.001c.83 1.608 2.49 2.72 4.426 2.72C10.762 13 13 10.762 13 8c0-1.935-1.112-3.594-2.72-4.425m-.275 7.041c-.38-.38-1.454-1.473-1.675-1.699a1.06 1.06 0 0 1-1.523-.953 1.06 1.06 0 0 1 1.523-.954l1.293-1.296c.117-.117.509-.213.7-.213 0 .128-.085.51-.191.658-.097.136-1.128 1.173-1.308 1.353a1.06 1.06 0 0 1 0 .903l1.816 1.82s.445.466.382.89c-.297 0-.594-.085-1.017-.509" class="cls-1"/></svg>'},zu={name:"clock_triangle_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 3a4.95 4.95 0 0 0-2.152.505L7.096 6H3.422A4.997 4.997 0 1 0 8 3m2.003 7.616a454 454 0 0 1-1.675-1.7 1.061 1.061 0 1 1 0-1.907l1.294-1.297a1.36 1.36 0 0 1 .699-.212 1.65 1.65 0 0 1-.19.658c-.097.136-1.13 1.173-1.309 1.353a1.06 1.06 0 0 1 0 .903l1.817 1.82a1.33 1.33 0 0 1 .381.891 1.35 1.35 0 0 1-1.017-.51" class="cls-1"/><path d="M5.477 5H1.522L3.5 1.045z" class="cls-2"/></svg>'},Vu={name:"clone_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5h5V2H2v8h3Zm1 1v8h8V6Z" class="cls-1"/></svg>'},Hu={name:"cloud_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5.08 11.977a5.1 5.1 0 0 1-1.295-.2C2.754 11.46 1.883 10.2 1.883 9.022a2.963 2.963 0 0 1 2.63-2.937A4.2 4.2 0 0 1 8.432 3.48a4.254 4.254 0 0 1 4.249 4.17 2.25 2.25 0 0 1 1.437 2.09 2.24 2.24 0 0 1-2.238 2.237l-4.947.003c-1.01 0-1.79-.001-1.853-.003m-.228-4.573c-.899 0-1.63.725-1.63 1.618 0 .842.702 1.61 1.474 1.61l7.183.007a.9.9 0 0 0 0-1.799.9.9 0 0 0-.337.067l-.493.202.159-.508q.134-.425.134-.872a2.914 2.914 0 0 0-2.91-2.911 2.9 2.9 0 0 0-2.87 2.436l-.043.268-.264-.067a1.6 1.6 0 0 0-.403-.051" class="cls-1"/></svg>'},Uu={name:"cloud_upload_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m8.476 7.298-1.927 3.848 1.48-.568v3.407h.948v-3.407l1.42.568ZM15 9.005a2.374 2.374 0 0 1-2.371 2.371h-.998l-.5-1h1.498a1.371 1.371 0 1 0-.516-2.64A3.77 3.77 0 1 0 4.797 5.99 2.238 2.238 0 0 0 2 8.148a2.223 2.223 0 0 0 2.057 2.22l1.758.009-.448.894a10.6 10.6 0 0 1-2.31-.121 3.224 3.224 0 0 1 .993-6.225 4.77 4.77 0 0 1 9.236 1.68q0 .06-.002.121A2.375 2.375 0 0 1 15 9.006" class="cls-1"/></svg>'},qu={name:"cloud_with_arrow_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m12.429 10.1.001-.101A3.998 3.998 0 0 0 4.69 8.59a2.715 2.715 0 0 0-2.557 2.7 2.78 2.78 0 0 0 1.725 2.516 4.9 4.9 0 0 0 1.225.19h.004c.19.006 6.792 0 6.792 0a1.987 1.987 0 0 0 .55-3.897m-.55 3.06-7.183-.008a1.867 1.867 0 0 1 .156-3.728 2 2 0 0 1 .464.06 3.16 3.16 0 1 1 6.13 1.462 1.149 1.149 0 1 1 .433 2.213M4.5 4.5a1 1 0 1 1 1-1 1 1 0 0 1-1 1m5.138.681.496-1.241H7v-.828h3.134l-.496-1.293L13 3.502Z" class="cls-1"/></svg>'},ju={name:"cog_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m6.823 2-2.217.914.516 1.25a4.7 4.7 0 0 0-.95.944L2.925 4.59l-.922 2.212 1.247.52a4.8 4.8 0 0 0-.002 1.34L2 9.176l.914 2.218 1.248-.515a4.8 4.8 0 0 0 .945.949l-.518 1.247 2.214.921.519-1.246a5 5 0 0 0 .674.048 5 5 0 0 0 .666-.047L9.176 14l2.218-.914-.515-1.248a4.8 4.8 0 0 0 .95-.945l1.245.518.922-2.214-1.247-.519a4.7 4.7 0 0 0 .002-1.34L14 6.824l-.914-2.218-1.25.515a4.7 4.7 0 0 0-.944-.949l.518-1.246-2.212-.922-.52 1.247a5 5 0 0 0-.676-.049 5 5 0 0 0-.663.047Zm1.175 9a2.999 2.999 0 1 1 2.77-1.847 2.98 2.98 0 0 1-2.77 1.846M8 6.801a1.2 1.2 0 1 0 .46.093A1.2 1.2 0 0 0 8 6.8" class="cls-1"/></svg>'},Wu={name:"cog_database_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.147 11.648q-.015.01-.032.02a4 4 0 0 1-.46.224l-.012.005q-.05.022-.103.042c-.051.019-.11.036-.162.055-.094.034-.186.068-.285.099-.034.01-.064.024-.1.033q-.03.01-.062.019-.279.078-.58.144l-.133.03q-.324.068-.668.12l-.135.02q-.32.045-.653.079l-.103.012a18 18 0 0 1-.903.06q-.381.016-.759.018a19 19 0 0 1-1.66-.078l-.105-.012a16 16 0 0 1-.65-.08l-.134-.018q-.346-.053-.67-.122l-.132-.029a9 9 0 0 1-.582-.145l-.059-.017q-.052-.016-.1-.034a7 7 0 0 1-.285-.1c-.054-.018-.112-.035-.165-.055l-.101-.041-.01-.005a4 4 0 0 1-.462-.223l-.03-.02a2.3 2.3 0 0 1-.334-.24c-.014-.012-.033-.022-.045-.033v1.013c0 .364.524.749 1.427 1.051q.155.053.326.1.177.051.371.098a14.8 14.8 0 0 0 3.4.362 14.8 14.8 0 0 0 3.403-.362 8 8 0 0 0 .697-.197c.904-.303 1.43-.688 1.43-1.052v-1.013c-.015.012-.034.022-.047.034a2.5 2.5 0 0 1-.333.238m.38-1.883c0-.762-2.27-1.61-5.529-1.61-3.256 0-5.524.848-5.524 1.61 0 .365.525.75 1.427 1.052q.155.052.328.1.175.05.37.097a14.8 14.8 0 0 0 3.399.362 14.8 14.8 0 0 0 3.401-.362 8 8 0 0 0 .7-.197c.902-.302 1.428-.687 1.428-1.052M3.931 7.697 2.802 7.6l.171-1.979 1.129.095a4 4 0 0 1 .516-.985l-.729-.856 1.537-1.28.73.855a4 4 0 0 1 1.071-.336L7.323 2l2.004.17-.097 1.114a4 4 0 0 1 .52.223 4 4 0 0 1 .478.288l.866-.721 1.296 1.52-.866.72a4 4 0 0 1 .341 1.058l1.127.095-.133 1.539a10.2 10.2 0 0 0-2.482-.618c.007-.048.021-.094.026-.143a2.48 2.48 0 0 0-1.346-2.416 2.54 2.54 0 0 0-2.938.45 2.41 2.41 0 0 0-.698 2.14 12 12 0 0 0-1.482.311zm4.067-.468c-.331 0-.697.012-1.077.035a1 1 0 0 1-.026-.314 1 1 0 0 1 .292-.618 1.01 1.01 0 0 1 1.174-.18.99.99 0 0 1 .539.967 1 1 0 0 1-.036.132 18 18 0 0 0-.866-.022" class="cls-1"/></svg>'},Gu={name:"cog_database_inset_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12.751 7.338 14 6.824l-.914-2.218-1.25.515a4.7 4.7 0 0 0-.944-.949l.518-1.246-2.212-.922-.52 1.247a5 5 0 0 0-.676-.049 5 5 0 0 0-.663.047L6.823 2l-2.217.914.516 1.25a4.7 4.7 0 0 0-.95.944L2.925 4.59l-.922 2.212 1.247.52a4.8 4.8 0 0 0-.002 1.34L2 9.176l.914 2.218 1.248-.515a4.8 4.8 0 0 0 .945.949l-.518 1.247 2.214.921.519-1.246a5 5 0 0 0 .674.048 5 5 0 0 0 .666-.047L9.176 14l2.218-.914-.515-1.248a4.8 4.8 0 0 0 .95-.945l1.245.518.922-2.214-1.247-.519a4.7 4.7 0 0 0 .002-1.34m-1.06 2.418c0 .244-.35.5-.954.703a5 5 0 0 1-.466.131 10 10 0 0 1-2.273.243 10 10 0 0 1-2.271-.243 6 6 0 0 1-.466-.131c-.603-.202-.953-.46-.953-.703V9.08q.013.011.03.023a1.6 1.6 0 0 0 .223.16l.02.013a3 3 0 0 0 .309.15l.006.002.068.028q.054.02.11.037.093.035.19.066.033.012.067.023l.04.011q.185.054.389.098l.087.02q.217.045.448.08l.09.012q.212.03.434.054l.07.008q.244.022.491.035l.112.005a12 12 0 0 0 1.013 0l.11-.005q.248-.012.493-.035l.069-.008q.222-.022.436-.054l.09-.012q.23-.035.447-.08l.088-.02q.202-.045.388-.097l.042-.012.066-.023q.098-.03.19-.066.056-.018.109-.037l.069-.028.007-.003a3 3 0 0 0 .308-.149l.022-.014a2 2 0 0 0 .222-.159l.03-.023Zm0-1.76c0 .243-.35.5-.954.703a5 5 0 0 1-.466.13 10 10 0 0 1-2.273.243 10 10 0 0 1-2.271-.242 5 5 0 0 1-.466-.132c-.603-.202-.953-.459-.953-.703V7.32q.013.011.03.022a1.6 1.6 0 0 0 .223.16l.02.013a3 3 0 0 0 .309.15l.006.003q.034.014.068.027l.11.038q.093.034.19.066.033.011.067.023l.04.011q.185.052.389.097l.087.02q.217.045.448.08l.09.013q.212.03.434.053l.07.008a12 12 0 0 0 1.726.035q.248-.012.493-.035l.069-.008q.222-.023.436-.053l.09-.012q.23-.036.447-.081l.088-.02q.202-.044.388-.097.022-.005.042-.012.033-.01.067-.022.096-.031.19-.066l.108-.037.069-.028.008-.003a3 3 0 0 0 .307-.15l.022-.013a2 2 0 0 0 .222-.16q.015-.01.03-.022Zm-.953-1.05q-.105.034-.22.066-.117.035-.247.065a10 10 0 0 1-2.272.242 10 10 0 0 1-2.271-.242 6 6 0 0 1-.466-.132c-.603-.201-.954-.459-.954-.702 0-.51 1.515-1.076 3.69-1.076 2.177 0 3.694.567 3.694 1.076 0 .243-.351.5-.954.702" class="cls-1"/></svg>'},Zu={name:"cog_small_cog_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.712 5.956a.76.76 0 0 1-.224.477.79.79 0 0 1-.909.139.762.762 0 0 1-.19-1.224.78.78 0 0 1 .907-.14.77.77 0 0 1 .416.748M14 11.61l-.441 1.088-.62-.246a2 2 0 0 1-.232.268 2 2 0 0 1-.23.2l.263.606-1.09.46-.263-.606a2.4 2.4 0 0 1-.662.008l-.248.612-1.1-.435.249-.612a2 2 0 0 1-.256-.215 2.4 2.4 0 0 1-.218-.243l-.614.26-.466-1.077.614-.259a2.3 2.3 0 0 1-.008-.654l-.62-.246.44-1.087.62.246a2.4 2.4 0 0 1 .234-.27 3 3 0 0 1 .229-.198l-.263-.606 1.09-.46.263.605a2.4 2.4 0 0 1 .662-.008l.248-.612 1.1.436-.248.612a2.4 2.4 0 0 1 .473.458l.614-.26.466 1.076-.613.26a2.3 2.3 0 0 1 .008.654Zm-1.934-1.591a1.495 1.495 0 0 0-2.085.011 1.454 1.454 0 0 0 .01 2.081 1.5 1.5 0 0 0 .486.313 1.5 1.5 0 0 0 1.6-.324 1.454 1.454 0 0 0-.01-2.081M9.036 8.33l-1.189.99-.564-.661a3.1 3.1 0 0 1-.827.26l-.075.86-1.547-.13.074-.862a3 3 0 0 1-.77-.394l-.671.557-1.001-1.174.67-.557a3 3 0 0 1-.264-.817L2 6.328 2.132 4.8l.872.074a3 3 0 0 1 .4-.762l-.564-.66 1.188-.99.565.66a3.2 3.2 0 0 1 .827-.26L5.494 2l1.548.131-.074.861a3 3 0 0 1 .402.172 3 3 0 0 1 .369.223l.669-.557L9.41 4.004l-.67.557a3 3 0 0 1 .264.818l.871.073-.132 1.53-.872-.074a3 3 0 0 1-.4.762ZM7.874 6.054a1.92 1.92 0 0 0-1.04-1.868 1.965 1.965 0 0 0-2.27.348 1.907 1.907 0 0 0 .478 3.06 1.965 1.965 0 0 0 2.27-.347 1.9 1.9 0 0 0 .562-1.193m3.376 4.467a.6.6 0 0 0-.64.13.6.6 0 0 0-.131.196.584.584 0 0 0 .33.761.6.6 0 0 0 .64-.13.6.6 0 0 0 .13-.195.58.58 0 0 0-.135-.637.6.6 0 0 0-.194-.125" class="cls-1"/></svg>'},Ku={name:"cog_zoomed_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m14 3.11-1.178-.632-1.875 2.133a5.4 5.4 0 0 0-.716-.094L8.766 2l-2.138.627.2 2.863a5 5 0 0 0-.527.47l-2.77-.738-1.056 1.95L4.656 9.04a5 5 0 0 0-.087.704L2 11.144l.659 2.1 2.914-.197a5 5 0 0 0 .453.525l-.13.427h7.232a.82.82 0 0 0 .87-.759L14 13.2Zm-1.335 7.876a2.877 2.877 0 0 1-3.741 1.477 2.77 2.77 0 0 1-1.51-3.66 2.876 2.876 0 0 1 3.729-1.482 2.76 2.76 0 0 1 1.535 3.637Z" class="cls-1"/></svg>'},Yu={name:"comment_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14 3.5v6a1.5 1.5 0 0 1-1.5 1.5H8.75L3.5 14l.75-3H3.5A1.5 1.5 0 0 1 2 9.5v-6A1.5 1.5 0 0 1 3.5 2h9A1.5 1.5 0 0 1 14 3.5" class="cls-1"/></svg>'},Xu={name:"computer_and_monitor_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14 12V6H5v6h4v1H7v1h5v-1h-2v-1Zm-8-1V7h7v4Zm1-6H4V4h3Zm1 0V3H3v7h1v3h2v1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v2Z" class="cls-1"/></svg>'},Ju={name:"copy_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5h5V2H2v8h3Zm1 1v8h8V6Zm7 7H7V7h6Z" class="cls-1"/></svg>'},Qu={name:"copy_text_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5h5V2H2v8h3Zm1 1v8h8V6Zm7 7H7V7h6Zm-1-4H8V8h4Zm-1 2H8v-1h3Z" class="cls-1"/></svg>'},tp={name:"dashboard_builder_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.646 6.646 7 4.293l2 2 1.646-1.646.707.707L9 7.707l-2-2-1.646 1.647ZM14 2v12H2V2ZM8 9H4v3h4Zm4 2H9v1h3Zm0-2H9v1h3Zm0-5H4v4h8zm-5 6H5v1h2Z" class="cls-1"/></svg>'},ep={name:"dashboard_builder_legend_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2 2v12h12V2Zm10 10H4v-1.293l2.04-2.04 3.804 2.983L12 9.74Zm0-7h-2v1h2v2.405L9.805 10.35 5.96 7.333 4 9.293V6h2V5H4V4h8ZM9 6H7V5h2Z" class="cls-1"/></svg>'},np={name:"dashboard_builder_templates_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2 2v12h12V2Zm11 11H3V3h10Z" class="cls-1"/><path d="M9 9h3v1H9zM12 4H4v4h8Zm-1 3H5V5h6ZM8 9H4v3h4Zm-1 2H5v-1h2ZM9 11h3v1H9z" class="cls-1"/></svg>'},ip={name:"dashboard_builder_tile_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.646 10.646 7 8.293l2 2 1.646-1.646.707.707L9 11.707l-2-2-1.646 1.647ZM14 2v12H2V2ZM4 7h3V4H4Zm8 1H4v4h8zm0-4H8v3h4Z" class="cls-1"/></svg>'},sp={name:"database_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.588 11.46a3 3 0 0 0 .36-.257c.015-.012.036-.023.051-.036v1.093c0 .395-.57.81-1.551 1.137a9.133 9.133 0 0 1-.757.212A16.2 16.2 0 0 1 7.997 14a16 16 0 0 1-3.69-.391 9 9 0 0 1-.757-.213C2.57 13.069 2 12.655 2 12.26v-1.093c.013.013.033.023.049.036a2.6 2.6 0 0 0 .362.26q.017.01.033.02a4 4 0 0 0 .502.241l.01.005.11.046c.058.02.121.039.18.06q.15.055.308.106c.037.012.07.026.11.037.018.006.042.011.063.017.2.06.412.11.633.159l.142.031q.352.073.727.13.073.011.146.02a17 17 0 0 0 .82.1 25 25 0 0 0 .98.065c.273.01.55.019.822.019q.41-.001.824-.02.09-.005.179-.007.403-.022.801-.057l.112-.014q.36-.035.708-.086.073-.009.147-.02.374-.057.725-.13.074-.017.144-.031.328-.072.63-.157.034-.01.069-.02c.037-.01.07-.024.108-.036.107-.034.206-.07.309-.107.057-.02.12-.038.176-.06q.056-.02.111-.045l.013-.005a4 4 0 0 0 .5-.241zm0-2.845-.035.022a5 5 0 0 1-.5.241l-.013.005q-.055.023-.111.045l-.176.06c-.103.037-.202.073-.31.107-.037.012-.07.025-.107.036q-.035.01-.069.02a11 11 0 0 1-.774.187q-.35.075-.725.13-.074.012-.147.021-.348.051-.708.086L9.8 9.59q-.398.037-.801.057l-.18.008q-.413.019-.823.02a19 19 0 0 1-.823-.02l-.18-.008a21 21 0 0 1-.8-.057l-.113-.013q-.36-.035-.706-.086-.073-.008-.146-.02a13 13 0 0 1-1.502-.32c-.021-.006-.045-.01-.063-.017-.04-.012-.073-.025-.11-.037a8 8 0 0 1-.309-.107c-.058-.02-.121-.039-.179-.06l-.11-.045-.01-.005a4 4 0 0 1-.502-.241c-.012-.007-.02-.014-.033-.02a2.5 2.5 0 0 1-.362-.26c-.016-.013-.036-.023-.049-.036v1.093c0 .394.57.81 1.55 1.136q.167.056.354.108.191.054.402.105a16 16 0 0 0 3.691.39 16.2 16.2 0 0 0 3.694-.39 9 9 0 0 0 .757-.213c.98-.327 1.551-.742 1.551-1.136V8.322c-.015.013-.036.024-.05.036a3 3 0 0 1-.361.258m0-2.845-.035.022a5 5 0 0 1-.5.241l-.013.005q-.055.023-.111.045l-.176.06c-.103.037-.202.073-.31.107-.037.012-.07.026-.107.036q-.034.01-.069.02-.302.084-.63.156l-.144.031q-.351.075-.725.132-.074.009-.147.02-.348.049-.708.085l-.112.013a19 19 0 0 1-.98.066q-.414.016-.824.018a21 21 0 0 1-1.802-.084l-.114-.013q-.36-.036-.706-.086l-.146-.02q-.375-.057-.727-.13c-.05-.01-.094-.022-.142-.032q-.33-.072-.633-.157l-.063-.018c-.04-.011-.073-.025-.11-.037a8 8 0 0 1-.309-.107l-.179-.06-.11-.045-.01-.005a4 4 0 0 1-.502-.241c-.012-.007-.02-.014-.033-.02a2.5 2.5 0 0 1-.362-.26C2.033 5.5 2.013 5.488 2 5.476V6.57c0 .394.57.81 1.55 1.136q.167.056.354.108.191.054.402.105a16 16 0 0 0 3.691.39 16.2 16.2 0 0 0 3.694-.39 9 9 0 0 0 .757-.213c.98-.327 1.551-.742 1.551-1.136V5.477c-.015.013-.036.024-.05.036a3 3 0 0 1-.361.258M14 3.738C14 2.915 11.535 2 7.998 2 4.463 2 2 2.915 2 3.738c0 .394.57.81 1.55 1.135q.168.057.355.11.192.053.402.103a16.2 16.2 0 0 0 3.69.39 16.2 16.2 0 0 0 3.692-.39 9 9 0 0 0 .759-.213C13.429 4.548 14 4.132 14 3.738" class="cls-1"/></svg>'},op={name:"database_check_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5.919 12.103a12 12 0 0 1-1.594-.26 8 8 0 0 1-.644-.182c-.835-.28-1.32-.635-1.32-.973v-.936c.011.01.029.02.042.031a2 2 0 0 0 .308.222l.028.018a4 4 0 0 0 .428.206l.009.005.093.038c.049.019.103.034.153.051q.129.048.262.092c.032.01.06.022.094.032l.054.014q.256.075.538.136l.121.027q.301.062.62.111.062.01.124.018.295.042.6.073l.038.005-.613.613Zm-2.238-7.74q.145.049.303.093.163.045.343.09a13.7 13.7 0 0 0 3.142.333 13.7 13.7 0 0 0 3.144-.334 8 8 0 0 0 .646-.182c.835-.28 1.32-.635 1.32-.973 0-.704-2.098-1.488-5.11-1.488-3.01 0-5.107.784-5.107 1.488 0 .338.486.694 1.32.973m5.047 6.495.008.007.008-.008Zm-5.047-4.07q.142.049.301.093.164.046.343.09a13.7 13.7 0 0 0 3.143.334 13.7 13.7 0 0 0 3.146-.335 8 8 0 0 0 .644-.181c.835-.28 1.321-.636 1.321-.973v-.937c-.013.012-.03.02-.043.032a2.3 2.3 0 0 1-.307.22l-.03.02a4 4 0 0 1-.426.206l-.01.004q-.047.02-.096.039c-.047.017-.101.033-.15.05q-.128.049-.263.092-.046.017-.092.032l-.058.016q-.257.073-.537.134l-.122.027q-.3.063-.618.112l-.124.017q-.297.043-.604.074l-.095.01a16 16 0 0 1-.835.057q-.352.015-.701.016a17 17 0 0 1-1.535-.072l-.097-.011a15 15 0 0 1-.6-.074l-.125-.017q-.319-.05-.62-.112l-.12-.027a9 9 0 0 1-.54-.134q-.028-.008-.053-.016c-.034-.01-.062-.022-.094-.032a7 7 0 0 1-.262-.091c-.05-.018-.104-.034-.153-.052l-.093-.038-.01-.004a4 4 0 0 1-.427-.207l-.028-.017a2 2 0 0 1-.308-.223c-.013-.011-.031-.02-.042-.03v.936c0 .337.485.692 1.32.972m0 2.436q.142.049.301.093.164.046.343.09a13 13 0 0 0 2.644.327l.318-.318.323.324a14.4 14.4 0 0 0 2.473-.222l1.753-1.753-.063.028-.01.004q-.047.02-.096.04c-.047.017-.101.033-.15.05-.087.032-.171.063-.263.091-.032.01-.06.022-.092.032q-.029.008-.058.017a9 9 0 0 1-.66.16q-.298.064-.617.112l-.124.017q-.297.044-.604.074l-.095.011q-.339.03-.682.049l-.153.007q-.352.016-.701.016-.35 0-.7-.016l-.155-.007a17 17 0 0 1-.68-.049l-.097-.011a15 15 0 0 1-.6-.074q-.063-.008-.125-.017a11 11 0 0 1-1.28-.274l-.053-.015c-.034-.01-.062-.021-.094-.032a7 7 0 0 1-.262-.09c-.05-.018-.104-.034-.153-.053q-.046-.017-.093-.038l-.01-.004a4 4 0 0 1-.427-.207l-.028-.017a2 2 0 0 1-.308-.223c-.014-.01-.031-.02-.042-.03v.936c0 .337.485.693 1.32.972m9.269-1.6L8.736 11.84l-1.449-1.45-1.053 1.055 2.458 2.458 5.268-5.268Z" class="cls-1"/></svg>'},rp={name:"debug_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.875 11.673a1 1 0 0 1-2 0c0-.02.01-.038.012-.058l-.741-.494C9.97 12.783 8 14 8 14s-2.003-1.36-3.174-3.027l-.963.642c.002.02.012.037.012.058a1 1 0 1 1-1-1 1 1 0 0 1 .435.109l1.01-.674C4.124 9.685 4 9.255 4 8.832v-.16h-.528a.99.99 0 0 1-.847.5 1 1 0 0 1 0-2c.366 0 .673.207.847.5H4V5h1.375v-.903a.99.99 0 0 1-.5-.847 1 1 0 0 1 2 0 .99.99 0 0 1-.5.847V5h3.25v-.903a.99.99 0 0 1-.5-.847 1 1 0 0 1 2 0 .99.99 0 0 1-.5.847V5H12v2.673h.278c.174-.294.48-.5.847-.5a1 1 0 1 1 0 2 .99.99 0 0 1-.847-.5H12v.159c0 .488-.133.967-.346 1.426l.786.524a1 1 0 0 1 .435-.11 1 1 0 0 1 1 1" class="cls-1"/></svg>'},ap={name:"desktop_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13 3H2v8h5v1H5v1h6v-1H9v-1h5V3Zm0 7H3V4h10Z" class="cls-1"/></svg>'},lp={name:"donut_chart_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M10.872 10.956a4.123 4.123 0 0 1-6.997-2.962v-.007H2v.007a5.995 5.995 0 0 0 10.301 4.182ZM8.372 2v1.884a4.13 4.13 0 0 1 2.992 6.501l1.429 1.224A6.008 6.008 0 0 0 8.37 2M2.048 7.236h1.897a4.12 4.12 0 0 1 3.675-3.352V2A6.01 6.01 0 0 0 2.05 7.236" class="cls-1"/></svg>'},cp={name:"dot_solid_dot_stroke_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M7 8a3 3 0 1 1-3-3 3 3 0 0 1 3 3m5-2a2 2 0 1 0 2 2 2 2 0 0 0-2-2m0-1a3 3 0 1 1-3 3 3 3 0 0 1 3-3" class="cls-1"/></svg>'},dp={name:"dot_solid_dot_stroke_measurement_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 3h1v3H5zM6 4h4v1H6zM10 3h1v3h-1zM7 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0m5-2c-1.103 0-2 .897-2 2s.897 2 2 2 2-.897 2-2-.897-2-2-2m0-1a3 3 0 1 1 0 6 3 3 0 0 1 0-6" class="cls-1"/></svg>'},hp={name:"down_right_from_square_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m5.958 10.03 2.063-6.281.49 2.344 4.117-4.122 1.414 1.414L9.94 7.487l2.324.504z" class="cls-1"/><path d="M8 10.42V12H4V8h1.572l.657-2H2v8h8V9.774z" class="cls-1"/></svg>'},up={name:"download_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14 9v5H2V9h1v4h10V9Zm-5.982 2L11 5.1 8.996 6.412 9 2H7v4.387L5 5.1Z" class="cls-1"/></svg>'},pp={name:"electronic_chip_zoomed_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13 14H7.333V9.333a2 2 0 0 1 2-2H14V13a1 1 0 0 1-1 1M12 2a.667.667 0 0 0-.667.667v2h1.334v-2A.667.667 0 0 0 12 2M8.444 2a.667.667 0 0 0-.666.667v2H9.11v-2A.667.667 0 0 0 8.444 2M2 8.444a.667.667 0 0 0 .667.667h2V7.778h-2A.667.667 0 0 0 2 8.444M2 12a.667.667 0 0 0 .667.667h2v-1.334h-2A.667.667 0 0 0 2 12m11.556-8.222v.889a.444.444 0 0 1-.445.444H10.89a.444.444 0 0 1-.445-.444v-.89H10v.89a.444.444 0 0 1-.444.444H7.333a.444.444 0 0 1-.444-.444v-.89H4.667a.89.89 0 0 0-.89.89v2.222h.89a.444.444 0 0 1 .444.444v2.223a.444.444 0 0 1-.444.444h-.89v.444h.89a.444.444 0 0 1 .444.445v2.222a.444.444 0 0 1-.444.445h-.89V14H6.89V8.222A1.333 1.333 0 0 1 8.222 6.89H14V3.778Z" class="cls-1"/></svg>'},fp={name:"exclamation_mark_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.371 11.873h3.256V14H6.37ZM6.316 2l.37 8.542h2.628L9.684 2Z" class="cls-1"/></svg>'},mp={name:"eye_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M7.856 3.657A7 7 0 0 0 1 8.001a7.59 7.59 0 0 0 7.146 4.342A7 7 0 0 0 15 8a7.59 7.59 0 0 0-7.144-4.344m-1.199 7.289A5.11 5.11 0 0 1 2.443 8s.665-2.585 4.33-3.037a2.8 2.8 0 0 0-1.414 1.223l2.787 1.22H4.977a3.5 3.5 0 0 0-.053.576 3.35 3.35 0 0 0 1.734 2.962m2.85.02a3.4 3.4 0 0 0 .107-5.908 5 5 0 0 1 3.942 2.944s-.603 2.44-4.05 2.963" class="cls-1"/></svg>'},gp={name:"eye_dash_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5.832 3.902a9.5 9.5 0 0 1 2.024-.245c3.264.09 5.676 1.427 7.144 4.344-.543 1.222-1.279 2.157-2.173 2.852l-.83-.825c1.277-.888 1.56-2.027 1.56-2.027a5 5 0 0 0-3.942-2.944 3.36 3.36 0 0 1 1.664 2.926 3.3 3.3 0 0 1-.196 1.137zm-.674 3.505h-.18q-.052.286-.054.576a3.35 3.35 0 0 0 1.734 2.962 5.11 5.11 0 0 1-4.215-2.944s.252-.981 1.303-1.84c.029-.024.067-.046.097-.069l-.828-.828C2.19 5.947 1.512 6.849 1 8c1.469 2.916 3.882 4.252 7.146 4.342a9.7 9.7 0 0 0 1.754-.194zm-1.77-4.733-.708.708 9.9 9.9.707-.708z" class="cls-1"/></svg>'},vp={name:"fancy_a_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M10.597 9.844H7.865A7.5 7.5 0 0 1 6.19 11.96a3.32 3.32 0 0 1-2.042.667 2.84 2.84 0 0 1-1.964-.753L2 11.706l1.153-1.152.157.251a1.35 1.35 0 0 0 1.2.716 1.98 1.98 0 0 0 1.385-.625 11.6 11.6 0 0 0 1.722-2.403l2.252-3.88a8 8 0 0 0-.679-.037 2.37 2.37 0 0 0-1.66.54 1.97 1.97 0 0 0-.556 1.51V6.7l-.067.106-1.564.762.045-.423a3.85 3.85 0 0 1 .645-1.874 3.3 3.3 0 0 1 1.34-1.177 6.7 6.7 0 0 1 2.208-.443c.127 0 .277-.013.471-.029l.369-.03 1.387-.257.087 2.154.33 3.886a4.9 4.9 0 0 0 .29 1.701.5.5 0 0 0 .528.31c.057 0 .277 0 .641-.03L14 11.33l-.172.83-3.003.506Zm-.086-.896-.275-3.22-1.855 3.22Z" class="cls-1"/></svg>'},bp={name:"file_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4 3v10h8V7H8V3Zm5 0v3h3Z" class="cls-1"/></svg>'},yp={name:"file_arrow_curved_right_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m7 2 3 3H7zM6 6V2H2v12h4.282l.03-.187A4.51 4.51 0 0 1 10 10.065V6zm8 5.5L11 9v2c-1.817-.091-3.412 1.137-3.701 2.97.576-.672 2.077-2.065 3.701-1.82V14z" class="cls-1"/></svg>'},wp={name:"file_drawer_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2 4v10h12V4Zm8 4H6V6h4Zm4-5H2V2h12Z" class="cls-1"/></svg>'},xp={name:"file_search_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14 6v6h-3.333a3.7 3.7 0 0 0 .249-1.302A3.7 3.7 0 0 0 7.22 7 3.7 3.7 0 0 0 6 7.223V2h4v4Zm-3-4v3h3Zm-1.126 8.698a2.697 2.697 0 0 1-4.73 1.772L2.521 14l-.48-.823 2.613-1.523a2.698 2.698 0 1 1 5.22-.956m-.952 0a1.745 1.745 0 1 0-1.745 1.745 1.747 1.747 0 0 0 1.745-1.745" class="cls-1"/></svg>'},Cp={name:"filter_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2 3.045v1.29h.787a2.069 2.069 0 1 0 2.907 2.903l1.32 2.173v4.522l1.973-1.846V9.411l3.878-5.076h1.134v-1.29Zm2.033 4.059a1.154 1.154 0 0 1 0-2.308c.023 0 .045.006.068.007l1.002 1.575a1.15 1.15 0 0 1-1.07.726" class="cls-1"/></svg>'},kp={name:"floppy_disk_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12.455 4H3.583A.585.585 0 0 0 3 4.598V11.5l1.5 1.497 7.858.003c.33 0 .6-.27.6-.6L13 4.545c0-.33-.215-.546-.545-.546M11 12H8v-2H6v2H5V9h6zm1-4H4V5h8z" class="cls-1"/></svg>'},Sp={name:"floppy_disk_checkmark_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12.455 5h-1.041l-1.005 1H12v3H4V6h3.782L6.79 5H3.583A.585.585 0 0 0 3 5.598V12.5l1.5 1.497 7.858.003a.6.6 0 0 0 .6-.6L13 5.545A.513.513 0 0 0 12.455 5M11 13H8v-2H6v2H5v-3h6Zm2-10.99L9.091 5.9 7 3.79l.919-.89 1.164 1.208L12.128 1.1z" class="cls-1"/></svg>'},_p={name:"floppy_disk_pen_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M7.803 11H7V9H5v2H4V8h6v.617l1.469-1.471q.227-.224.514-.347L12 3.546c0-.33-.215-.546-.545-.546H2.583A.585.585 0 0 0 2 3.598V10.5l1.5 1.497L7.372 12zM3 7V4h8v3zm11.166 1.935L13.09 7.859a.64.64 0 0 0-.908 0l-3.388 3.393-1.503 3.483 3.487-1.5 3.388-3.392a.64.64 0 0 0 0-.908m-5.683 4.803-.198-.199.916-2.116.34 1.06 1.058.35z" class="cls-1"/></svg>'},Ip={name:"floppy_disk_star_arrow_right_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5.5 2.5a1 1 0 1 0-1 1 1 1 0 0 0 1-1m7.5.002L9.638.819l.496 1.293H7v.828h3.134L9.638 4.18ZM12.455 5H3.583A.585.585 0 0 0 3 5.598V12.5l1.5 1.497 7.858.003a.6.6 0 0 0 .6-.6L13 5.545A.513.513 0 0 0 12.455 5M11 13H8v-2H6v2H5v-3h6Zm1-4H4V6h8Z" class="cls-1"/></svg>'},Mp={name:"floppy_disk_three_dots_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6 3a1 1 0 1 0-1 1 1 1 0 0 0 1-1m3 0a1 1 0 1 0-1 1 1 1 0 0 0 1-1m3 0a1 1 0 1 0-1 1 1 1 0 0 0 1-1m.455 2H3.583A.585.585 0 0 0 3 5.598V12.5l1.5 1.497 7.858.003a.6.6 0 0 0 .6-.6L13 5.545A.513.513 0 0 0 12.455 5M11 13H8v-2H6v2H5v-3h6Zm1-4H4V6h8Z" class="cls-1"/></svg>'},$p={name:"folder_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M7 4V3H2v10h12V4Zm6 2H3V5h10Z" class="cls-1"/></svg>'},Dp={name:"folder_open_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M7 3v1.002h6V6h-1V5H3v1H2V3ZM2 13h11l1-6H2Z" class="cls-1"/></svg>'},Ep={name:"forward_slash_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m6.027 14 2.5-12h1.5l-2.5 12z" class="cls-1"/></svg>'},Ap={name:"four_dots_square_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.5 11A1.5 1.5 0 1 1 5 9.5 1.5 1.5 0 0 1 6.5 11M5 3.5A1.5 1.5 0 1 0 6.5 5 1.5 1.5 0 0 0 5 3.5m7.5 7.5A1.5 1.5 0 1 1 11 9.5a1.5 1.5 0 0 1 1.5 1.5M11 3.5A1.5 1.5 0 1 0 12.5 5 1.5 1.5 0 0 0 11 3.5" class="cls-1"/></svg>'},Tp={name:"function_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14 12.643h-1.572l-.898-1.283-.923 1.283h-1.54l1.658-2.146-1.632-2.14h1.572l.883 1.258.888-1.258h1.545l-1.635 2.111ZM9.544 4.667H9.31a3 3 0 0 0-.394-.1 2.5 2.5 0 0 0-.483-.05 1.32 1.32 0 0 0-.832.241 1.33 1.33 0 0 0-.405.895l-.128.937h1.846v1.282H6.812l-.376 2.462a3.6 3.6 0 0 1-.462 1.357 2.6 2.6 0 0 1-.784.808 3 3 0 0 1-.938.387A4.8 4.8 0 0 1 3.184 13q-.275 0-.629-.03A3.5 3.5 0 0 1 2 12.892v-1.815h.12a.56.56 0 0 0 .424.244 2.5 2.5 0 0 0 .5.052 1.3 1.3 0 0 0 .898-.29 1.6 1.6 0 0 0 .424-.985l.33-2.226H3.256V6.59H5.05l.178-1.162a2.94 2.94 0 0 1 .444-1.244 2.5 2.5 0 0 1 .76-.734 2.6 2.6 0 0 1 .94-.356A5.6 5.6 0 0 1 8.357 3q.294 0 .588.025t.599.076Z" class="cls-1"/></svg>'},Op={name:"gauge_simple_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M10.969 5.196a1.76 1.76 0 0 1 1.142-.49 1.76 1.76 0 0 1-.49 1.142L9.205 8.263l.008.025.065.184.03.093a1.4 1.4 0 0 1 .032.295 1.385 1.385 0 0 1-2.769 0 1.3 1.3 0 0 1 .033-.294l.034-.11.055-.16.012-.033.014-.014a1.4 1.4 0 0 1 .625-.625l.015-.015.033-.011.16-.055.11-.035a1.3 1.3 0 0 1 .588 0l.11.035.16.055.033.011ZM14 8.86a5.98 5.98 0 0 1-1.799 4.28l-1.309-1.308a4.085 4.085 0 0 0 .83-4.78l.55-.55a2.6 2.6 0 0 0 .64-1.082A5.97 5.97 0 0 1 14 8.86m-6-6a5.998 5.998 0 0 0-4.201 10.28l1.309-1.308a4.14 4.14 0 0 1 4.644-6.725l.564-.564a2.6 2.6 0 0 1 1.07-.635A5.97 5.97 0 0 0 8 2.86" class="cls-1"/></svg>'},Rp={name:"grid_three_by_three_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2 3v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1m4 9H4v-2h2Zm.001-2.999H4V7h2.001Zm0-3.001H4V4h2.001ZM9 12H7v-2h2Zm0-2.999H7V7h2ZM9 6H7V4h2Zm3 6h-2v-2h2Zm.001-2.999H10V7h2.001Zm0-3.001H10V4h2.001Z" class="cls-1"/></svg>'},Fp={name:"grid_two_by_two_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4 9h3v3H4Zm5 0h3v3H9ZM4 4h3v3H4Zm5 0h3v3H9ZM2 14h12V2H2Z" class="cls-1"/></svg>'},Np={name:"hammer_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9 14H6V8h3ZM8.875 2H6.723A1.99 1.99 0 0 1 5 3a2.49 2.49 0 0 1-2-1H2v4h1a1.8 1.8 0 0 1 1.5-1C5.551 5 5.997 6.99 6 7h3c.333-1.539 1-2.436 1.741-2.436C12.222 4.564 14 6.615 14 6.615S13 2 8.875 2" class="cls-1"/></svg>'},Lp={name:"hashtag_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m7.76 14 .752-2.914H6.045L5.299 14H3.532l.746-2.914H2v-1.72h2.712l.701-2.807H2.947v-1.72h2.91L6.567 2h1.766l-.71 2.838h2.46L10.8 2h1.768l-.717 2.838H14v1.72h-2.599l-.706 2.807h2.374v1.72h-2.807L9.501 14ZM6.447 9.392h2.506l.72-2.85H7.167Z" class="cls-1"/></svg>'},Bp={name:"home_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M7.988 2 2.5 9H4v5h3v-3h2v3h3V9h1.5z" class="cls-1"/></svg>'},Pp={name:"horizontal_triangle_outline_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.05 2v12l11.4-6zM4 5.313 9.156 8 4 10.688z" class="cls-1"/></svg>'},zp={name:"hourglass_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M10.774 13.4h-.047v-.49h-.404a2.5 2.5 0 0 0 .355-1.258c0-1.826-2.083-2.886-2.083-3.652s2.083-1.826 2.083-3.652a2.5 2.5 0 0 0-.355-1.257h.404V2.6h.047a.556.556 0 0 0 .499-.6H4.727a.556.556 0 0 0 .499.6h.047v.49h.404a2.5 2.5 0 0 0-.355 1.258c0 1.826 2.083 2.87 2.083 3.652s-2.083 1.826-2.083 3.652a2.5 2.5 0 0 0 .355 1.257h-.404v.491h-.047a.556.556 0 0 0-.499.6h6.546a.556.556 0 0 0-.499-.6M8 12.957c-1.565 0-1.975-.585-1.975-1.305a7.2 7.2 0 0 1 1.723-.656c.268 0 .289-3.513 0-3.779l-.988-1h2.454l-.962 1c-.268.286-.275 3.779 0 3.779a7.7 7.7 0 0 1 1.738.656c0 .72-.409 1.305-1.99 1.305" class="cls-1"/></svg>'},Vp={name:"indent_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m2.5 7.5 1 2.5-1 2.5 5-2.5zM2 3h12v2H2zM9 7h5v2H9zM9 11h5v2H9z" class="cls-1"/></svg>'},Hp={name:"indeterminant_checkbox_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12 3a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm0-1H4a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2M4 4v8h8V4Zm6 6H6V6h4Z" class="cls-1"/></svg>'},Up={name:"info_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M7.415 7.75v3.69H6.376v1.576h4.24V11.44H9.6V6.175H6.376V7.75Zm.276-2.698a1.19 1.19 0 0 0 2.035-.838 1.16 1.16 0 0 0-.346-.846 1.193 1.193 0 0 0-1.693 0 1.16 1.16 0 0 0-.35.846 1.14 1.14 0 0 0 .354.838" class="cls-1"/></svg>'},qp={name:"info_circle_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 2a6 6 0 1 0 6 6 6 6 0 0 0-6-6m-.697 2.28a.95.95 0 0 1 1.35 0 .93.93 0 0 1 .276.675.952.952 0 0 1-1.905 0 .92.92 0 0 1 .279-.674M9.7 12H6.3v-1.264h.833V7.777H6.3V6.513h2.584v4.223H9.7Z" class="cls-1"/></svg>'},jp={name:"inward_squares_three_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4 10h2v2H4zm-1 3h1v-1H3zm7-7H6v4h4zM3 3v4h2V5h6v6H9v2h4V3z" class="cls-1"/></svg>'},Wp={name:"italic_i_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 16 16"><path d="M8.99 13.802H4.38l.258-1.133h1.523l2.17-9.367H6.808l.258-1.133h4.61l-.258 1.133H9.895l-2.17 9.367h1.523z"/></svg>'},Gp={name:"key_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m12.045 7.348-.652-.652 1.444-.14Zm-3.818.698-4.912 4.912-.395-.396 4.12-4.12Zm4.734-2.918-1.697.136-.395-.395L11 3.176l.72-.067 1.304 1.304Zm-3.524-.386-.651-.653.791-.791Zm-1.955-.653v2.607l-5.074 5.075L2 12.946l.791.791 1.432.129.326-.326v-.652l.652-.652h.652l.326-.325v-.652h.651l.978-.978.014-.652.312-.326h.652l.652-.651h2.607l1.676-1.676L14 4.089l-1.955-1.955-2.887.28Z" class="cls-1"/></svg>'},Zp={name:"laptop_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13 11V3H3v8H2v2h12v-2Zm-2 1H5v-1h6Zm1-1.996H4V4h8Z" class="cls-1"/></svg>'},Kp={name:"layer_group_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m3.555 9.546.89-.445 5.333 2.667 1.778-.89.889.449v1.33L9.778 13.99l-6.223-3.11Zm0-6.222L6.222 1.99l6.223 3.112v1.333L9.778 7.768l-6.223-3.11Zm0 3.11.89-.444 5.333 2.667 1.778-.89.889.448v1.33L9.778 10.88 3.555 7.768Z" class="cls-1"/></svg>'},Yp={name:"lightbulb_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12 5.53C12 3.584 10.206 2 8 2S4 3.583 4 5.53c0 .736.256 1.44.74 2.04.801.99 1.285 2.456 1.555 3.427h3.41c.27-.97.754-2.437 1.556-3.428.483-.598.739-1.303.739-2.038M9.138 14H6.862l-.569-1.001v-.3l.285-.15-.285-.15v-.401h3.414v.4l-.285.15.285.15V13z" class="cls-1"/></svg>'},Xp={name:"lightning_bolt_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.732 7.953 6.909 2h3.636L8.364 7.013h2.909L4.727 14l2.21-6.049Z" class="cls-1"/></svg>'},Jp={name:"link_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M7.465 5.592A2.91 2.91 0 0 1 9.963 7.02l-1.06 1.065c-.053-.103-.095-.192-.144-.276a1.48 1.48 0 0 0-1.277-.769 1.43 1.43 0 0 0-.977.394c-.75.694-1.469 1.421-2.165 2.168a1.43 1.43 0 0 0 .054 2.038 1.5 1.5 0 0 0 1.039.432 1.28 1.28 0 0 0 .953-.417c.103-.11.435-.44.81-.805a3.46 3.46 0 0 0 1.908.188c-1.006 1.035-2.179 2.187-2.996 2.38a3 3 0 0 1-.693.082 2.91 2.91 0 0 1-2.182-4.842A47 47 0 0 1 5.53 6.356a2.83 2.83 0 0 1 1.935-.764M10.583 2.5a3 3 0 0 0-.69.081 10.4 10.4 0 0 0-2.996 2.377 3.5 3.5 0 0 1 .568-.054 3.6 3.6 0 0 1 1.31.249c.38-.332.701-.646.875-.834a1.22 1.22 0 0 1 .913-.395 1.51 1.51 0 0 1 1.074.469 1.433 1.433 0 0 1 .022 2.005c-.7.743-1.42 1.47-2.165 2.167a1.42 1.42 0 0 1-.975.395 1.48 1.48 0 0 1-1.28-.768c-.048-.085-.089-.175-.151-.298L6.043 8.987a2.88 2.88 0 0 0 2.493 1.42 2.8 2.8 0 0 0 1.93-.76 54 54 0 0 0 2.266-2.266A2.911 2.911 0 0 0 10.583 2.5" class="cls-1"/></svg>'},Qp={name:"link_cancel_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.202 9.45a2.64 2.64 0 0 1 .687 2.519l-1.364.002c.032-.1.062-.183.085-.269a1.34 1.34 0 0 0-.326-1.312 1.3 1.3 0 0 0-.88-.374 38 38 0 0 0-2.779.002 1.3 1.3 0 0 0-1.273 1.341 1.37 1.37 0 0 0 .39.944 1.16 1.16 0 0 0 .878.344c.137-.005.562-.002 1.036.004a3.14 3.14 0 0 0 1.104 1.344 8.1 8.1 0 0 1-3.45-.395 2.7 2.7 0 0 1-.496-.392A2.64 2.64 0 0 1 4.52 8.702a43 43 0 0 1 2.951-.003 2.56 2.56 0 0 1 1.731.751m3.984.017a2.7 2.7 0 0 0-.495-.39 9.4 9.4 0 0 0-3.447-.398 3 3 0 0 1 .4.33 3.3 3.3 0 0 1 .68 1c.457.031.864.035 1.096.027a1.1 1.1 0 0 1 .839.331 1.37 1.37 0 0 1 .389.99 1.3 1.3 0 0 1-1.272 1.3c-.926.028-1.854.033-2.78.002a1.3 1.3 0 0 1-.878-.372 1.35 1.35 0 0 1-.328-1.313c.023-.086.054-.17.093-.289l-1.371.031a2.61 2.61 0 0 0 .688 2.51 2.55 2.55 0 0 0 1.726.751c.968.033 1.94.025 2.908 0a2.641 2.641 0 0 0 1.752-4.51m-2.701-3.208L8.71 4.485l1.775-1.775-.71-.71L8 3.775 6.225 2l-.71.71L7.29 4.485 5.515 6.259l.71.71L8 5.195l1.775 1.774Z" class="cls-1"/></svg>'},tf={name:"list_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4 13H2v-2h2Zm10-2H6v2h8ZM4 7H2v2h2Zm10 0H6v2h8ZM4 3H2v2h2Zm10 0H6v2h8Z" class="cls-1"/></svg>'},ef={name:"list_tree_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M10 5v2h4v2h-4v2h4v2H8V5H5V3h9v2ZM2 5h2V3H2Zm5 6H5v2h2Zm0-4H5v2h2Z" class="cls-1"/></svg>'},nf={name:"list_tree_database_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.953 11.81c.013-.011.032-.02.046-.031v.917c0 .33-.523.678-1.42.953a8 8 0 0 1-.694.178 16 16 0 0 1-3.382.328 16 16 0 0 1-3.38-.328 9 9 0 0 1-.693-.179c-.898-.274-1.42-.622-1.42-.952v-.917c.012.01.031.02.045.03a2.3 2.3 0 0 0 .332.218l.03.017a4 4 0 0 0 .46.202l.01.005.1.037q.081.026.164.05.139.047.283.09.048.016.1.031l.058.015q.277.072.58.132.063.014.13.026.322.063.666.11l.134.017q.315.041.646.072l.104.01q.364.031.731.049l.166.007q.378.015.754.016.375-.001.754-.016l.164-.007q.37-.018.734-.048l.102-.011q.33-.03.649-.072.067-.008.134-.017.343-.048.664-.11.068-.012.132-.026.3-.06.577-.13.031-.01.063-.017c.034-.009.064-.021.099-.031.098-.028.189-.059.283-.09.052-.017.11-.032.16-.05q.053-.018.103-.037l.012-.005a4 4 0 0 0 .457-.202q.018-.01.032-.018a2.5 2.5 0 0 0 .33-.216m-5.45-2.946c-3.237 0-5.492.767-5.492 1.457 0 .33.523.679 1.42.952q.153.048.325.091.176.046.368.088a16 16 0 0 0 3.38.327 16 16 0 0 0 3.38-.327 9 9 0 0 0 .695-.18C13.477 11 14 10.652 14 10.322c0-.69-2.257-1.457-5.497-1.457M14 6V5H5V3h2V2H2v1h2v5.581a10 10 0 0 1 1-.255V6h3v2h6V7H9V6Z" class="cls-1"/></svg>'},sf={name:"lock_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12 8V7a3.89 3.89 0 0 0-4-4 3.82 3.82 0 0 0-2.81 1.078A4.35 4.35 0 0 0 4.062 7v1H3v6h10V8ZM6.062 6.986a2.4 2.4 0 0 1 .566-1.516A1.83 1.83 0 0 1 8 5a1.883 1.883 0 0 1 2 2v1H6.062Z" class="cls-1"/></svg>'},of={name:"magnifying_glass_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m13.073 12.29-2.926-2.926a3.971 3.971 0 1 0-.783.783l2.927 2.926ZM7.01 9.84a2.83 2.83 0 1 1 2.83-2.83 2.833 2.833 0 0 1-2.83 2.83" class="cls-1"/></svg>'},rf={name:"markdown_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14.25 3H1.75a.74.74 0 0 0-.75.73v8.54a.74.74 0 0 0 .75.73h12.5a.74.74 0 0 0 .75-.73V3.73a.74.74 0 0 0-.75-.73m-6.285 7.059h-.991V7.773L5.982 9.35l-.99-1.577v2.286H4V5.934h.91L5.982 7.51l1.073-1.576h.91Zm2.459.007L8.848 7.945h1.1V5.934h.99v2.01H12Z" class="cls-1"/></svg>'},af={name:"message_bot_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14.985 2.016c.286.284.645.44 1.015.485-.369.044-.728.2-1.012.484a1.7 1.7 0 0 0-.487 1.013c-.044-.37-.2-.73-.487-1.015A1.7 1.7 0 0 0 13 2.498c.369-.044.728-.2 1.012-.484.286-.285.442-.644.487-1.013.044.37.2.73.486 1.015M13 7.994c0 2.208-2.239 3.997-5 3.997S3 10.2 3 7.994s2.239-3.996 5-3.996 5 1.79 5 3.996m-7 0a1 1 0 1 0 0-1.999 1 1 0 0 0 0 2m4.5 1.008h-5s.917 1.481 2.5 1.481c1.514 0 2.5-1.48 2.5-1.48m.5-2.007a1 1 0 1 0-1.999.001 1 1 0 0 0 1.999 0m3.692 2.759c-.878 2.452-3.541 4.235-6.692 4.235a8 8 0 0 1-1.782-.204L3 15.5v-3.3c-.764-.673-1.363-1.527-1.692-2.446C.696 9.418 0 8.76 0 7.994S.696 6.57 1.308 6.235C2.186 3.783 4.849 2 8 2c1.075 0 2.09.214 3 .585V1h1v2.078c1.267.758 2.23 1.862 2.692 3.156.612.335 1.308.993 1.308 1.76s-.696 1.423-1.308 1.759M14 7.994C14 5.24 11.308 3 8 3S2 5.24 2 7.994s2.692 4.996 6 4.996 6-2.241 6-4.996" class="cls-1"/></svg>'},lf={name:"microphone_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6 8V4a2 2 0 1 1 4 0v4a2 2 0 0 1-4 0m6 0v-.5a.5.5 0 1 0-1 0V8a3 3 0 1 1-6 0v-.5a.5.5 0 1 0-1 0V8c0 1.859 1.28 3.411 3 3.858V14h2v-2.142c1.72-.447 3-2 3-3.858" class="cls-1"/><path d="M6 8V4a2 2 0 1 1 4 0v4a2 2 0 0 1-4 0m6 0v-.5a.5.5 0 1 0-1 0V8a3 3 0 1 1-6 0v-.5a.5.5 0 1 0-1 0V8c0 1.859 1.28 3.411 3 3.858V14h2v-2.142c1.72-.447 3-2 3-3.858" class="cls-1"/></svg>'},cf={name:"minus_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4 7h8v2H4z" class="cls-1"/></svg>'},df={name:"minus_wide_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3 7h10v2H3z" class="cls-1"/></svg>'},hf={name:"mobile_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M10.462 2.077H4.538A.54.54 0 0 0 4 2.615v10.77a.54.54 0 0 0 .538.538h5.924a.54.54 0 0 0 .538-.538V2.615a.54.54 0 0 0-.538-.538M10 12H5V3h5Z" class="cls-1"/></svg>'},uf={name:"mountain_sun_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m13.457 10.097-1.468-3.011-1.195-1.026-.677.48-2.343-3.556L4.688 8.14l-1.204-.678-1.468 1.543L1 13h14zm-10.478-.2-.939 1.047.372-1.652.975-.993 2.722 3.04zm5.924.764L7.181 9.335l.17-1.958-2.192.896L7.605 4.19 9.4 7.06l-.11.943 1.197-1.038 2.228 4.345zM4.5 4.487a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0" class="cls-1"/></svg>'},pf={name:"ni_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M7.172 4c1.675 0 3 1.354 3 3.103V13h-3V7h-3V4zm-3 9h-3V7h3zm10.656-9v9c-1.681 0-3-1.378-3-3V4z" class="cls-1"/></svg>'},ff={name:"notebook_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13 2h1v3h-1Zm0 8h1V6h-1Zm0 4h1v-3h-1ZM4 7h6V6H4Zm0-2h6V4H4ZM2 2h10v12H2Z" class="cls-1"/></svg>'},mf={name:"number_list_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 16 16"><path d="M14 11H6v2h8zm0-4H6v2h8zm0-4H6v2h8zM1.999 4.644h.73V2.302h-.585v-.271c.295-.05.505-.13.681-.235h.32v2.848h.656v.346H1.999zM1.804 9.509c.951-.932 1.501-1.521 1.501-2.037 0-.365-.2-.621-.605-.621-.265 0-.496.17-.676.381l-.235-.226c.265-.3.551-.495.961-.495.591 0 .961.375.961.936 0 .621-.561 1.196-1.336 1.987.174-.016.37-.026.535-.026h.956v.355H1.804zM1.733 13.884l.21-.271c.19.201.44.376.816.376.385 0 .661-.226.661-.581 0-.38-.26-.635-1.021-.635v-.315c.676 0 .906-.261.906-.596 0-.306-.21-.501-.55-.501-.266 0-.491.136-.681.32l-.221-.26c.246-.23.541-.4.916-.4.556 0 .956.295.956.811 0 .386-.23.631-.576.761v.021c.385.09.691.37.691.811 0 .565-.471.91-1.056.91a1.36 1.36 0 0 1-1.051-.451"/></svg>'},gf={name:"outdent_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m7.5 12.5-1-2.5 1-2.5-5 2.5zM2 3h12v2H2zM9 7h5v2H9zM9 11h5v2H9z" class="cls-1"/></svg>'},vf={name:"outward_squares_three_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9 9H7V7h2zm-6 4h4V9H3zM3 3v4h2V5h6v6H9v2h4V3zm7 3H9v1h1z" class="cls-1"/></svg>'},bf={name:"paper_plane_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m1 12.5 2-4 6-1-6-1-2-4 14 5z" class="cls-1"/></svg>'},yf={name:"paperclip_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8.5 14C6.406 14 5 12.393 5 10V5c0-1.822.981-3 2.5-3S10 3.178 10 5v3.98c0 1.328-.505 2-1.5 2s-1.5-.672-1.5-2V6h1v2.98c0 1 .266 1 .5 1s.5 0 .5-1V5c0-.602-.146-2-1.5-2S6 4.398 6 5v5c0 1.384.654 3 2.5 3s2.5-1.616 2.5-3V6h1v4c0 2.393-1.406 4-3.5 4"/></svg>'},wf={name:"paste_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9 5V3H3v6h2v1H2V2h8v3ZM6 6v8h8V6Z" class="cls-1"/></svg>'},xf={name:"pause_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4 3h3v10H4zM9 3h3v10H9z" class="cls-1"/></svg>'},Cf={name:"pencil_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M10.118 2.793 4.84 8.076 2.5 13.5l5.43-2.335 5.278-5.284a1 1 0 0 0-.001-1.414l-1.675-1.674a1 1 0 0 0-1.414 0m-5.76 9.154-.31-.309 1.427-3.296.53 1.652 1.648.543z" class="cls-1"/></svg>'},kf={name:"play",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.05 2v12l11.4-6z" class="cls-1"/></svg>'},Sf={name:"pot_with_lid_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M11 4V2H5v2H2v1h12V4ZM6 4V3h4v1Zm-4 9h1v1h10v-1h1V6H2Z" class="cls-1"/></svg>'},_f={name:"question_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M11.303 5.594a3.3 3.3 0 0 1-.195 1.176 2.6 2.6 0 0 1-.549.885 4 4 0 0 1-.852.672 7.5 7.5 0 0 1-1.121.54v1.501H6.27V8.15q.467-.125.845-.256a3.2 3.2 0 0 0 .793-.429 2.1 2.1 0 0 0 .608-.612 1.45 1.45 0 0 0 .22-.791 1.04 1.04 0 0 0-.423-.939 2.16 2.16 0 0 0-1.195-.28 3.3 3.3 0 0 0-1.068.204 4.9 4.9 0 0 0-1.09.526h-.263V3.566a8 8 0 0 1 1.296-.372A8.2 8.2 0 0 1 7.77 3a4.2 4.2 0 0 1 2.579.718 2.24 2.24 0 0 1 .954 1.876M8.77 13H6.112v-1.737H8.77Z" class="cls-1"/></svg>'},If={name:"rectangle_check_lines_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3 2v12h10V2zm9 11H4V3h8z" class="cls-2"/><path d="M5 9h6v1H5zM5 11h3v1H5z" class="cls-2"/><path d="M11 4.643 7.591 8 6 6.434l.682-.672.937.923L10.347 4z" class="cls-1"/></svg>'},Mf={name:"rectangle_lines_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3 2v12h10V2zm6 7H5V8h4zm2-2H5V6h6zm0-2H5V4h6z" class="cls-1"/></svg>'},$f={name:"running_arrow_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m13.45 7.985-7.602 4.013L7.75 8 5.848 3.987zM3.945 2.997 2.05 2 4.9 8l-2.85 6 1.902-1.005L6.325 8z" class="cls-1"/></svg>'},Df={name:"screen_check_lines_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3 3H2v8h5v1H5v1h6v-1H9v-1h5V3zm10 7H3V4h10z" class="cls-1"/><path d="M5.743 9 4 7.242l.766-.742.97 1.007L8.273 5 9 5.758zM10 6h2v1h-2zM8 8h4v1H8z" class="cls-1"/></svg>'},Ef={name:"screen_check_lines_calendar_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6 9H3V3h10v3h1V2H2v8h4zM4 11h2v1H4z" class="cls-1"/><path d="M13 8V7h-1v1H9V7H8v1H7v6h7V8zm0 5H8v-3h5zM5.465 8.052 3.723 6.295l.765-.743.97 1.007 2.538-2.507.727.758zM9.723 5.052h2v1h-2z" class="cls-1"/></svg>'},Af={name:"server_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13 3H3v3h10ZM9 5H4V4h5ZM3 7v3h10V7Zm6 2H4V8h5Zm3 4H3v-2h10v1a1 1 0 0 1-1 1" class="cls-1"/></svg>'},Tf={name:"share_nodes_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12 10c-.601 0-1.134.27-1.5.69L5.954 8.419a2 2 0 0 0 0-.836l4.544-2.273c.367.42.9.691 1.501.691a2 2 0 1 0-1.955-1.582L5.501 6.691C5.134 6.27 4.6 6 4 6a2 2 0 1 0 0 4c.601 0 1.134-.27 1.5-.69l4.545 2.272A2 2 0 1 0 12 10"/></svg>'},Of={name:"shield_check_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2 2v5.11C2 10.39 8 14 8 14s6-3.281 6-6.89V2Zm4.788 8.2L4 7.388 5.225 6.2l1.553 1.61 4.06-4.01L12 5.013Z" class="cls-1"/></svg>'},Rf={name:"shield_xmark_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2 2v5.11C2 10.39 8 14 8 14s6-3.281 6-6.89V2Zm9.5 7.346L10.346 10.5 8 8.154 5.654 10.5 4.5 9.346 6.846 7 4.5 4.654 5.654 3.5 8 5.846 10.346 3.5 11.5 4.654 9.154 7Z" class="cls-1"/></svg>'},Ff={name:"signal_bars_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4 14H2V2h2Zm3-9H5v9h2Zm3 3H8v6h2Zm3 3h-2v3h2Z" class="cls-1"/></svg>'},Nf={name:"sine_graph_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14 12H2v-1.63a4.6 4.6 0 0 0 1.766-1.967c.636-1.06 1.082-1.705 1.902-1.705s1.266.644 1.902 1.705c.615 1.026 1.312 2.189 2.766 2.189s2.15-1.163 2.764-2.189a6.5 6.5 0 0 1 .9-1.267Zm0-6.054a4.6 4.6 0 0 0-1.764 1.967c-.635 1.061-1.08 1.705-1.9 1.705S9.07 8.974 8.434 7.913c-.615-1.026-1.312-2.189-2.766-2.189S3.517 6.887 2.902 7.913A6.5 6.5 0 0 1 2 9.18V4h12Z" class="cls-1"/></svg>'},Lf={name:"skip_arrow_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14 2h-2v12h2zm-4 6.5-8 4v-8z" class="cls-1"/></svg>'},Bf={name:"sparkle_swirls_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><defs><linearGradient id="a" x1="2.044" x2="13.956" y1="8" y2="8" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#009b65"/><stop offset=".5" stop-color="#00a7d2"/><stop offset="1" stop-color="#bb3bff"/></linearGradient></defs><path d="m13.956 7.972-.001.066c-.001.023-.006.068-.006.068a1.038 1.038 0 0 1-2.068-.126c0-.107.045-.33.044-.34.034-.229.07-.458.07-.696A4.735 4.735 0 0 0 5.45 2.571 5.9 5.9 0 0 1 7.968 2a5.99 5.99 0 0 1 5.988 5.972M4.005 9.056c0-.238.036-.467.07-.696-.001-.01.044-.233.044-.34a1.038 1.038 0 0 0-2.068-.126s-.005.045-.006.068l-.001.066A5.99 5.99 0 0 0 8.032 14c.903 0 1.751-.214 2.518-.571a4.735 4.735 0 0 1-6.546-4.373M8 9.594c.915 0 1.706.198 2.078.484-.286-.372-.484-1.163-.484-2.078s.198-1.706.484-2.078c-.372.286-1.163.484-2.078.484s-1.706-.198-2.078-.484c.286.372.484 1.163.484 2.078s-.198 1.706-.484 2.078c.372-.286 1.163-.484 2.078-.484" style="fill:url(#a);stroke-width:0"/></svg>'},Pf={name:"sparkles_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M11.498 2a2.85 2.85 0 0 1-.811 1.69A2.85 2.85 0 0 1 9 4.498a2.85 2.85 0 0 1 1.69.809c.477.476.739 1.076.812 1.693a2.85 2.85 0 0 1 .811-1.69A2.85 2.85 0 0 1 14 4.502a2.85 2.85 0 0 1-1.69-.809A2.84 2.84 0 0 1 11.497 2M7.495 3c-.163 1.355-.737 2.674-1.784 3.719C4.668 7.76 3.352 8.332 2 8.496c1.355.163 2.674.736 3.72 1.78C6.768 11.321 7.343 12.642 7.505 14c.162-1.355.736-2.674 1.784-3.719C10.332 9.24 11.648 8.668 13 8.504c-1.356-.163-2.674-.736-3.72-1.78C8.231 5.679 7.656 4.358 7.495 3" class="cls-1"/></svg>'},zf={name:"spinner",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.967 7.143h-.762a4.885 4.885 0 0 1 3.938-3.94v.771a4.12 4.12 0 0 0-3.176 3.169M8 2v1.875A4.125 4.125 0 1 1 3.875 8H2a6 6 0 1 0 6-6" class="cls-1"/></svg>'},Vf={name:"square_check_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2 2v12h12V2Zm4.788 9.2L4 8.388 5.225 7.2l1.553 1.61 4.06-4.01L12 6.013Z" class="cls-1"/></svg>'},Hf={name:"square_t_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2 2v12h12V2Zm9.033 4.199-.016-.076a2.34 2.34 0 0 0-.497-1.18 2.1 2.1 0 0 0-1.281-.26h-.56v5.941c0 .552.11.718.176.768a1.8 1.8 0 0 0 .88.196l.09.006V12H6.193v-.405l.09-.007c.59-.046.8-.144.87-.218.06-.06.158-.255.158-.884V4.683h-.565a2.2 2.2 0 0 0-1.274.262 2 2 0 0 0-.498 1.174l-.015.08H4.49L4.565 4h6.859l.07 2.199Z" class="cls-1"/></svg>'},Uf={name:"square_x_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3 3v10h10V3zm8 7.01-.99.99L8 8.99 5.99 11 5 10.01 7.01 8 5 5.99 5.99 5 8 7.01 10.01 5l.99.99L8.99 8z" class="cls-1"/></svg>'},qf={name:"star_8_point_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M10.756 6.872 15 8.002 10.754 9.13l1.722 3.335-3.31-1.74L8.046 15l-1.118-4.276-3.312 1.736 1.727-3.332L1 7.996 5.343 6.87 3.621 3.535l3.308 1.74L8.052 1l1.12 4.276 3.31-1.734z" class="cls-1"/></svg>'},jf={name:"stop_square_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3 3h10v10H3z" class="cls-1"/></svg>'},Wf={name:"systemlink_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M7.357 9.143H4.786V6.79c0-.927.442-1.714 1.262-2.211C6.674 4.2 7.505 4 8.451 4h5.335v2.571H8.69c-.911.124-1.262.548-1.333 1.267z" class="cls-1"/><path d="M8.643 7.857h2.571v2.352c0 .927-.442 1.714-1.262 2.211-.626.38-1.457.58-2.403.58H2.214v-2.571H7.31c.911-.124 1.262-.548 1.333-1.267z" class="cls-1"/></svg>'},Gf={name:"t_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5.684 13v-.729l.221-.018c.764-.058.947-.19.985-.229.026-.026.157-.202.157-.992V4.078H6.48a2.46 2.46 0 0 0-1.477.291 2.26 2.26 0 0 0-.563 1.36l-.038.196h-.797L3.704 3h8.6l.092 2.925h-.784l-.021-.095a2.8 2.8 0 0 0-.589-1.466c-.147-.131-.523-.286-1.48-.286H8.96V11.2c0 .679.138.819.165.84a2.1 2.1 0 0 0 1.01.213l.223.018V13Z" class="cls-1"/></svg>'},Zf={name:"tablet_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12.5 2h-9a.5.5 0 0 0-.5.5v11a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-11a.5.5 0 0 0-.5-.5M8 13.25a.75.75 0 1 1 .75-.75.75.75 0 0 1-.75.75M12 11H4V3h8Z" class="cls-1"/></svg>'},Kf={name:"tag_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 16"><path d="M8.044 3.588 5.23 3 3 5.229l.588 2.816L8.543 13 13 8.543ZM6.5 6.499a1.082 1.082 0 1 1-.013-1.516A1.07 1.07 0 0 1 6.499 6.5" class="cls-1"/></svg>'},Yf={name:"tags_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 16"><path d="M8.044 2.338 5.23 1.75 3 3.979l.588 2.816 4.955 4.955L13 7.293ZM6.5 5.249a1.082 1.082 0 1 1-.013-1.516 1.07 1.07 0 0 1 .013 1.516m6.251 4.794L8.543 14.25 4.257 9.964l-.283-1.369 4.569 4.57L12.207 9.5Z" class="cls-1"/></svg>'},Xf={name:"target_crosshairs_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 6.01a2 2 0 1 0 2 2 2 2 0 0 0-2-2m4.9.99A5 5 0 0 0 9 3.1V1H7v2.1A5 5 0 0 0 3.1 7H1v2h2.1A5 5 0 0 0 7 12.9V15h2v-2.1A5 5 0 0 0 12.9 9H15V7ZM8 12a4 4 0 1 1 4-4 4.005 4.005 0 0 1-4 4" class="cls-1"/></svg>'},Jf={name:"target_crosshairs_progress_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M15 7v2h-2.1A5 5 0 0 1 9 12.9V15H7v-2.108a4.99 4.99 0 0 1-3.898-3.985l-1.52.583 2.003-4 1.998 4L4.11 8.9A3.999 3.999 0 1 0 7 4.13V1h2v2.1A5 5 0 0 1 12.9 7Zm-5 1.01a2 2 0 1 1-2-2 2 2 0 0 1 2 2" class="cls-1"/></svg>'},Qf={name:"three_circles_ascending_container_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12 4H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2M4 8.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5m3 .5a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5m4 .5a1.75 1.75 0 1 1 0-3.5 1.75 1.75 0 0 1 0 3.5" class="cls-1"/></svg>'},tm={name:"three_dots_line_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 6.5A1.5 1.5 0 1 1 6.5 8 1.5 1.5 0 0 1 8 6.5M.5 8A1.5 1.5 0 1 0 2 6.5 1.5 1.5 0 0 0 .5 8m12 0A1.5 1.5 0 1 0 14 6.5 1.5 1.5 0 0 0 12.5 8" class="cls-1"/></svg>'},em={name:"three_vertical_lines_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M11 3h2v10h-2zM7 3h2v10H7zM3 3h2v10H3z" class="cls-1"/></svg>'},nm={name:"thumb_down_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14 10h-2V3h2zM2 6.554c0 .488.558.923.581 1.158s-.194.503-.194.796c0 .635.51 1.492 1.315 1.492H5.75c.336 0 .525.327.426.648C6.08 10.96 6 11 6 11.5 6 13 7.001 14 8 14a.5.5 0 0 0 .5-.5V12c0-1.5 1.317-1.13 2.5-3V3S8.255 2 6.5 2H5.064C3.68 2 4.034 3.334 3.839 3.404c-.453.162-1.023.676-1.023 1.35 0 .172.145.393.084.486-.123.186-.9.689-.9 1.314" class="cls-1"/></svg>'},im={name:"thumb_up_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2 7h2v7H2zm12 2.446c0-.488-.558-.923-.581-1.158s.194-.503.194-.796c0-.635-.51-1.492-1.315-1.492H10.25c-.336 0-.525-.327-.426-.648C9.92 5.04 10 5 10 4.5 10 3 8.999 2 8 2a.5.5 0 0 0-.5.5V4c0 1.5-1.317 1.13-2.5 3v6s2.745 1 4.5 1h1.436c1.383 0 1.03-1.334 1.225-1.404.453-.162 1.023-.676 1.023-1.35 0-.172-.145-.393-.084-.486.123-.186.9-.689.9-1.314" class="cls-1"/></svg>'},sm={name:"thumbtack_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m10 7-.625-5H10V1H5v1h.625L5 7a2 2 0 0 0-2 2h4v4l.5 2 .5-2V9h4a2 2 0 0 0-2-2" class="cls-1"/></svg>'},om={name:"tile_size_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2 8h6v6H2Zm0-6v5h2V4h8v8H9v2h5V2Z" class="cls-1"/></svg>'},rm={name:"times_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 9.103 5.102 12 4 10.897 6.898 8 4 5.103 5.102 4 8 6.897 10.898 4 12 5.103 9.102 8 12 10.897 10.898 12z" class="cls-1"/></svg>'},am={name:"trash_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M10 4V2H6v2H3v2h1v8h8V6h1V4Zm-3 9H6V6h1Zm2-9H7V3h2Zm1 9H9V6h1Z" class="cls-1"/></svg>'},lm={name:"triangle_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 2 2 14h12Zm0 4.875 2.438 4.875H5.586Z" class="cls-1"/></svg>'},cm={name:"triangle_filled_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 2 2 14h12z" class="cls-1"/></svg>'},dm={name:"triangle_two_lines_horizontal",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.625 8 8 2l4.375 6zM14 12H2v2h12zm0-3H2v2h12z" class="cls-1"/></svg>'},hm={name:"true_false_rectangle_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.4 3.003H2.6a1.6 1.6 0 0 0-1.6 1.6v6.8a1.595 1.595 0 0 0 1.6 1.594h10.8a1.595 1.595 0 0 0 1.6-1.594v-6.8a1.6 1.6 0 0 0-1.6-1.6M7.587 6.58H6.141v3.736H4.946V6.58H3.5v-.896h4.087Zm4.913 0h-2.13v.862h1.974v.896H10.37v1.978H9.181V5.684H12.5Z" class="cls-1"/></svg>'},um={name:"two_squares_in_brackets",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4 4h5v5H4zm6 3v3H7v2h5V7zM5 3V2H2v12h3v-1H3V3zm8-1h-2v1h2v10h-2v1h3V2z" class="cls-1"/></svg>'},pm={name:"two_triangles_between_lines",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.11 2.11v12h2v-12zm12 0v12h2v-12zm-6 8.974-3-3 3-3zm1.925-5.948 3 3-3 3z" class="cls-1"/></svg>'},fm={name:"unlink_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.126 8.585c-.581.123-1.117.241-1.362.303a1.55 1.55 0 0 0-1.182 1.51l.01.155.021.193a1.7 1.7 0 0 0 .216.54l.02.038.105.134.127.144.054.047a1.5 1.5 0 0 0 .992.36h.049a1.3 1.3 0 0 0 .224-.034l.03.015.006-.001q.694-.134 1.387-.287l.343 1.538c-.488.11-.976.221-1.467.314a3 3 0 0 1-.571.053 3.15 3.15 0 0 1-2.99-2.258l-.011-.045a3 3 0 0 1-.076-.35 3 3 0 0 1-.03-.206l-.004-.089a3 3 0 0 1-.016-.336A3.16 3.16 0 0 1 4.35 7.356c.272-.068.808-.203.802-.206l.623-.137Zm4.31-1.544-.353 1.575c.737.176 1.38.334 1.413.346a1.51 1.51 0 0 1 .789.768l.029.066.053.185.038.164.002.045a1.7 1.7 0 0 1-.035.58l-.064.185-.056.142a1.55 1.55 0 0 1-1.4.893 1.7 1.7 0 0 1-.313-.03 55 55 0 0 1-1.15-.24l-.347 1.55.406.097-.013-.017c.276.057.55.118.826.173a3 3 0 0 0 .578.056 3.19 3.19 0 0 0 2.811-1.74 3 3 0 0 0 .129-.311l.033-.083.061-.197a3 3 0 0 0 .082-.351l.008-.044a3.13 3.13 0 0 0-2.281-3.513c-.297-.077-.777-.19-1.245-.299M7.932 2.393 6.875 6.075h.75l.3 3.032 1.2-3.782h-.75Z" class="cls-1"/></svg>'},mm={name:"unlock_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.062 8V5.986a2.4 2.4 0 0 1 .566-1.516A1.83 1.83 0 0 1 8 4a1.883 1.883 0 0 1 2 2h2a3.89 3.89 0 0 0-4-4 3.82 3.82 0 0 0-2.81 1.078A4.35 4.35 0 0 0 4.062 6v2H3v6h10V8Z" class="cls-1"/></svg>'},gm={name:"up_right_from_square_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 10.828V12H4V8h1.172l2-2H2v8h8V8.828z" class="cls-1"/><path d="m14.042 1.97-2.063 6.281-.49-2.344-4.117 4.122-1.414-1.414 4.102-4.102-2.324-.504z" class="cls-1"/></svg>'},vm={name:"upload_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14 9v5H2V9h1v4h10V9ZM7.982 2 5 7.9l2.004-1.312L7 11h2V6.613L11 7.9Z" class="cls-1"/></svg>'},bm={name:"user_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8.004 2a2.18 2.18 0 0 1 2.184 2.182v1.09c.647 0 .378.932 0 1.455a4 4 0 0 1-.335.364 9 9 0 0 1-.31.742l.208 1.076h.437l2.75 1.527A2.15 2.15 0 0 1 14 12.291V14H2v-1.673a2.16 2.16 0 0 1 1.063-1.869l2.758-1.55h.437l.21-1.068a9 9 0 0 1-.312-.749 4 4 0 0 1-.335-.364c-.378-.523-.647-1.454 0-1.454v-1.09A2.18 2.18 0 0 1 8.004 2" class="cls-1"/></svg>'},ym={name:"watch_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m12.57 7.28-.06.013a4.56 4.56 0 0 0-1.38-2.609V3.44a.48.48 0 0 0-.48-.48h-.48V2H5.85v.96h-.48a.48.48 0 0 0-.48.48v1.24a4.545 4.545 0 0 0 0 6.64v1.24a.48.48 0 0 0 .48.48h.48V14h4.32v-.96h.48a.48.48 0 0 0 .48-.48v-1.24a4.55 4.55 0 0 0 1.379-2.612l.061.012a.48.48 0 0 0 .48-.48v-.48a.48.48 0 0 0-.48-.48m-2.3 2.662a1.6 1.6 0 0 0-.182-.26L8.747 8.338a.79.79 0 0 0 0-.666c.132-.133.894-.899.965-1a1.2 1.2 0 0 0 .14-.485 1 1 0 0 0-.515.157l-.955.957a.784.784 0 1 0 0 1.408c.163.167.956.974 1.236 1.254a1.5 1.5 0 0 0 .36.276 3.055 3.055 0 1 1 .291-.297" class="cls-1"/></svg>'},wm={name:"waveform_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.77 11.225c-1.582 0-2.076-1.262-2.512-2.376l-.17-.426a26 26 0 0 1-.218-.595c-.32-.9-.41-1.046-.652-1.046-.24 0-.308.065-.612.88-.088.237-.188.504-.317.801l-.098.238c-.486 1.178-1.037 2.513-2.747 2.513H2V9.221h.444c.318 0 .48-.316.9-1.292l.133-.307c.06-.148.121-.304.181-.457.435-1.116.927-2.382 2.56-2.382 1.59 0 2.063 1.274 2.48 2.398l.168.443q.123.308.221.572c.345.905.427 1.03.684 1.03.259 0 .409-.317.742-1.157q.119-.303.266-.652l.097-.228c.477-1.127 1.016-2.405 2.668-2.412l.444-.002L14 6.782h-.447c-.367 0-.506.245-.994 1.387 0 0-.179.434-.238.584-.433 1.101-.973 2.472-2.55 2.472" class="cls-1"/></svg>'},xm={name:"webvi_custom_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 2a6 6 0 1 0 6 6 6 6 0 0 0-6-6m4.089 2.526h-1.868a5.6 5.6 0 0 0-.854-1.712 5.36 5.36 0 0 1 2.722 1.712m-2.722 8.66a5.6 5.6 0 0 0 .854-1.712h1.868a5.36 5.36 0 0 1-2.722 1.712m3.181-2.344h-2.146a11 11 0 0 0 .208-1.187L9.923 10c-.05.294-.106.58-.176.843h-1.51l-1.263.632h2.583C9.145 12.647 8.554 13.368 8 13.368c-.517 0-1.065-.633-1.47-1.672l-.56.28a5 5 0 0 0 .663 1.21 5.36 5.36 0 0 1-2.722-1.712h.317a1 1 0 0 1-.017-.17v-.462h-.76a5.3 5.3 0 0 1-.804-2.526h1.564v-.632H2.646a5.3 5.3 0 0 1 .805-2.526h.759V4.69a1 1 0 0 1 .016-.164h-.316a5.36 5.36 0 0 1 2.722-1.712 5 5 0 0 0-.663 1.207l.56.28c.406-1.037.953-1.67 1.47-1.67.554 0 1.145.722 1.557 1.895H6.98l1.261.632h1.507c.07.263.126.548.176.842l.687.344a11 11 0 0 0-.208-1.186h2.146a5.3 5.3 0 0 1 .804 2.526h-.67a.92.92 0 0 1-.001.632h.671a5.3 5.3 0 0 1-.804 2.526M12.105 8a.33.33 0 0 1-.19.296l-6.598 3.3-.148.036a.327.327 0 0 1-.327-.328V4.69a.327.327 0 0 1 .492-.281l6.595 3.302a.33.33 0 0 1 .176.29" class="cls-1"/></svg>'},Cm={name:"webvi_host_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 2a6 6 0 1 0 6 6 6 6 0 0 0-6-6m4.09 2.526H10.22a5.6 5.6 0 0 0-.854-1.712 5.36 5.36 0 0 1 2.722 1.712m-2.723 8.66a5.6 5.6 0 0 0 .854-1.712h1.868a5.36 5.36 0 0 1-2.722 1.712m3.181-2.344h-2.146a11 11 0 0 0 .208-1.187L9.923 10a10 10 0 0 1-.176.843h-1.51l-1.263.632h2.583C9.145 12.647 8.554 13.368 8 13.368c-.517 0-1.064-.633-1.47-1.672l-.56.28a5 5 0 0 0 .663 1.21 5.36 5.36 0 0 1-2.722-1.712h.317a1 1 0 0 1-.017-.17v-.462h-.76a5.3 5.3 0 0 1-.804-2.526H4.21v-.632H2.647a5.3 5.3 0 0 1 .805-2.526h.759V4.69a1 1 0 0 1 .016-.164h-.316a5.36 5.36 0 0 1 2.722-1.712 5 5 0 0 0-.663 1.207l.56.28c.406-1.037.953-1.67 1.47-1.67.554 0 1.145.722 1.557 1.895H6.98l1.262.632h1.506c.07.263.126.548.176.842l.687.344a11 11 0 0 0-.208-1.186h2.146a5.3 5.3 0 0 1 .804 2.526h-.67a.92.92 0 0 1-.001.632h.671a5.3 5.3 0 0 1-.804 2.526m-.619-3.131L5.334 4.409a.327.327 0 0 0-.492.281v6.613a.327.327 0 0 0 .327.328l.148-.035 6.598-3.3a.326.326 0 0 0 .014-.585m-6.087 2.505V5.78L10.274 8Z" class="cls-1"/></svg>'},km={name:"window_code_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2 2v12h12V2Zm11 11H3V5h10ZM4 9.135l2.698-1.118v.75l-1.588.65 1.588.646v.75l-2.694-1.12Zm4.42-1.49h.792l-1.565 3.71h-.783ZM12 9.135v.557l-2.694 1.12v-.75l.062-.024 1.526-.626-1.588-.648v-.747Z" class="cls-1"/></svg>'},Sm={name:"window_text_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2 2v12h12V2Zm11 11H3V5h10ZM7 8H4V6h3Zm5 2H4V9h8Zm0 2H4v-1h8Z" class="cls-1"/></svg>'},_m={name:"wrench_hammer_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m12.286 11.714-5.791-5.79a2.5 2.5 0 0 0 .17-.755 2.2 2.2 0 0 0-.095-.814 2.1 2.1 0 0 0-.55-.904 2.33 2.33 0 0 0-1.76-.685h-.045a2.1 2.1 0 0 0-.718.155l1.102 1.104.32.32.244.245a1.86 1.86 0 0 1-.22.854 1 1 0 0 1-.114.145 1.65 1.65 0 0 1-1.003.335L2.61 4.704l-.449-.449a2 2 0 0 0-.135.545l-.015.105a2.34 2.34 0 0 0 .384 1.518 2.5 2.5 0 0 0 .295.36 2.2 2.2 0 0 0 1.576.65 2.5 2.5 0 0 0 .898-.175l4.793 4.796 1.203 1.2h.668l.663-.665v-.67ZM5.75 8.908l1.367 1.367-2.988 2.987h-.923l-.45-.45v-.916ZM14 5.906l-1.81 1.809-1.298-1.216-1.38 1.38-1.367-1.365 1.374-1.382-1.622-1.62.683-.774 2.252.45Z" class="cls-1"/></svg>'},Im={name:"xmark_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13 4.667 9.667 7.999 13 11.333 11.333 13 8 9.667 4.667 13 3 11.333 6.333 8 3 4.667 4.667 3 8 6.333 11.333 3Z" class="cls-1"/></svg>'},Mm={name:"xmark_check_16_x_16",data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8.033 14.026 4.9 10.866 6.277 9.53l1.744 1.81 4.562-4.507 1.307 1.363Zm1.155-10.68-1.321-1.32-2.312 2.311-2.311-2.311-1.321 1.32 2.311 2.312L1.923 7.97l1.32 1.32 2.312-2.31 2.312 2.31 1.32-1.32-2.31-2.312Z" class="cls-1"/></svg>'},$m=Q`<div
    class="icon"
    aria-hidden="true"
    :innerHTML=${t=>t.icon.data}
></div>`,Dm=Dt`
    user-select: none;
    -webkit-user-select: none;
`,Em=Mt`
    ${qs("inline-flex")}

    :host {
        align-items: center;
        ${Dm}
        width: ${Ol};
        height: ${Ol};
    }

    .icon {
        display: contents;
    }

    :host([severity='error']) {
        ${ml.cssCustomProperty}: ${dl};
    }

    :host([severity='warning']) {
        ${ml.cssCustomProperty}: ${hl};
    }

    :host([severity='success']) {
        ${ml.cssCustomProperty}: ${ul};
    }

    :host([severity='information']) {
        ${ml.cssCustomProperty}: ${pl};
    }

    .icon svg {
        display: inline-flex;
        fill: ${ml};
        width: 100%;
        height: 100%;
    }
`
class Am extends je{constructor(t){super(),this.icon=t}}t([ft],Am.prototype,"severity",void 0)
const Tm=(t,e)=>{const n=e.compose({baseName:t,template:$m,styles:Em})
Di.getOrCreate().withPrefix("nimble").register(n())}
Tm("icon-arrow-expander-left",class extends Am{constructor(){super(Lh)}})
const Om="nimble-icon-arrow-expander-left"
Tm("icon-arrow-expander-right",class extends Am{constructor(){super(Bh)}})
const Rm="nimble-icon-arrow-expander-right",Fm="Close",Nm="Increment",Lm="Decrement",Bm="Error",Pm="Warning",zm="Information",Vm="Search",Hm="No items found",Um="Loading",qm="Scroll backward",jm="Scroll forward",Wm=ki.create({name:"popup-dismiss-label",cssCustomPropertyName:null}).withDefault(Fm),Gm=ki.create({name:"numeric-decrement-label",cssCustomPropertyName:null}).withDefault(Lm),Zm=ki.create({name:"numeric-increment-label",cssCustomPropertyName:null}).withDefault(Nm),Km=ki.create({name:"popup-icon-error-label",cssCustomPropertyName:null}).withDefault(Bm),Ym=ki.create({name:"popup-icon-warning-label",cssCustomPropertyName:null}).withDefault(Pm),Xm=ki.create({name:"popup-icon-information-label",cssCustomPropertyName:null}).withDefault(zm),Jm=ki.create({name:"filter-search-label",cssCustomPropertyName:null}).withDefault(Vm),Qm=ki.create({name:"filter-no-results-label",cssCustomPropertyName:null}).withDefault(Hm),tg=ki.create({name:"loading-label",cssCustomPropertyName:null}).withDefault(Um),eg=ki.create({name:"scroll-backward-label",cssCustomPropertyName:null}).withDefault(qm),ng=ki.create({name:"scroll-forward-label",cssCustomPropertyName:null}).withDefault(jm),ig=(t,e)=>Q`
    <div
        class="tab-bar"
    >
        ${le(0,e)}
        ${Gt((t=>t.showScrollButtons),Q`
            <${Eh} 
                content-hidden
                class="scroll-button left"
                appearance="${dh}"
                tabindex="-1"
                @click="${t=>t.onScrollLeftClick()}"
                ${Ut("leftScrollButton")}
            >
                ${t=>ng.getValueFor(t)}
                <${Om} slot="start"></${Om}>
            </${Eh}>
        `)}
        <div
            class="tablist"
            part="tablist"
            role="tablist"
            ${Ut("tablist")}
        >
            <slot class="tab" name="${t=>t.tabSlotName}" part="tab" ${ie("tabs")}>
            </slot>
        </div>
        ${Gt((t=>t.showScrollButtons),Q`
            <${Eh}
                content-hidden
                class="scroll-button right"
                appearance="${dh}"
                tabindex="-1"
                @click="${t=>t.onScrollRightClick()}"
            >
                ${t=>eg.getValueFor(t)}
                <${Rm} slot="start"></${Rm}>
            </${Eh}>
        `)}
        ${ae(0,e)}
    </div>
    ${Gt((t=>"tabpanels"in t),Q`
        <div class="tabpanel" part="tabpanel">
            <slot name="tabpanel" ${ie("tabpanels")}></slot>
        </div>
    `)}
`
class sg extends je{constructor(){super(),this.showScrollButtons=!1,this.tabSlotName="anchortab",this.tabIds=[],this.isDisabledElement=t=>"true"===t.getAttribute("aria-disabled"),this.isHiddenElement=t=>t.hasAttribute("hidden"),this.isFocusableElement=t=>!this.isDisabledElement(t)&&!this.isHiddenElement(t),this.setTabs=()=>{let t
this.activetab=void 0,this.tabs.forEach(((e,n)=>{const i=this.tabIds[n],s=this.activeid===i
!t&&this.isFocusableElement(e)&&(t=e)
const o=this.activeid===i&&this.isFocusableElement(e)
e.setAttribute("id",i),s?e.setAttribute("aria-current","page"):e.removeAttribute("aria-current"),e.removeEventListener("click",this.handleTabClick),e.addEventListener("click",this.handleTabClick),e.removeEventListener("keydown",this.handleTabKeyDown),e.addEventListener("keydown",this.handleTabKeyDown),e.setAttribute("tabindex",o?"0":"-1"),s&&(this.activetab=e),e.style.gridRow="",e.style.gridColumn=`${n+1}`})),!t||this.activetab&&this.isFocusableElement(this.activetab)||t.setAttribute("tabindex","0")},this.handleTabClick=t=>{const e=t.currentTarget
1===e.nodeType&&this.isFocusableElement(e)&&this.tabs.forEach((t=>{t.setAttribute("tabindex",t===e?"0":"-1")}))},this.handleTabKeyDown=t=>{let e
switch(t.key){case an:t.preventDefault(),this.adjustBackward()
break
case ln:t.preventDefault(),this.adjustForward()
break
case un:t.preventDefault(),this.focusFirstOrLast(!1)
break
case pn:t.preventDefault(),this.focusFirstOrLast(!0)
break
case gn:case dn:t.preventDefault(),this.getTabAnchor(t.target).click()
break
case"ContextMenu":t.preventDefault(),e=this.getTabAnchor(t.target),e.focus(),e.dispatchEvent(new KeyboardEvent("keydown",{key:t.key,bubbles:!1}))}},this.adjustForward=()=>{const t=this.tabs
let e=0
const n=t.find((t=>t===document.activeElement))
for(e=n?t.indexOf(n)+1:1,e===t.length&&(e=0);e<t.length&&t.length>1;){if(this.isFocusableElement(t[e])){this.focusTabByIndex(t,e)
break}if(n&&e===t.indexOf(n))break
e+1>=t.length?e=0:e+=1}},this.adjustBackward=()=>{const t=this.tabs
let e=0
const n=t.find((t=>t===document.activeElement))
for(e=n?t.indexOf(n)-1:0,e=e<0?t.length-1:e;e>=0&&t.length>1;){if(this.isFocusableElement(t[e])){this.focusTabByIndex(t,e)
break}e-1<0?e=t.length-1:e-=1}},this.focusTabByIndex=(t,e)=>{const n=t[e]
n.focus(),this.tabs.forEach((t=>{t.setAttribute("tabindex",t===n?"0":"-1"),t.setAttribute("aria-selected",t===n?"true":"false")})),n.scrollIntoView({block:"nearest",inline:"start"})},this.tabListResizeObserver=new ResizeObserver((t=>{let e=t[0]?.contentRect.width
if(void 0!==e){const t=this.leftScrollButton?.clientWidth??0
e=Math.ceil(e),this.showScrollButtons&&(e+=2*t),this.showScrollButtons=e<this.tablist.scrollWidth}}))}activeidChanged(t,e){this.$fastController.isConnected&&(this.setTabs(),this.activetab?.scrollIntoView({block:"nearest",inline:"start"}))}tabsChanged(){this.$fastController.isConnected&&(this.tabIds=this.getTabIds(),this.setTabs())}onScrollLeftClick(){this.tablist.scrollBy({left:-this.tablist.clientWidth,behavior:"smooth"})}onScrollRightClick(){this.tablist.scrollBy({left:this.tablist.clientWidth,behavior:"smooth"})}connectedCallback(){super.connectedCallback(),this.tabListResizeObserver.observe(this.tablist),this.tabIds=this.getTabIds()}disconnectedCallback(){super.disconnectedCallback(),this.tabListResizeObserver.disconnect()}getTabIds(){return this.tabs.map((t=>t.getAttribute("id")??`tab-${kn()}`))}focusFirstOrLast(t){const e=this.tabs.filter((t=>this.isFocusableElement(t))),n=t?e.length-1:0,i=this.tabs.indexOf(e[n])
i>-1&&this.focusTabByIndex(this.tabs,i)}getTabAnchor(t){return t.shadowRoot.querySelector("a")}}t([ft],sg.prototype,"activeid",void 0),t([C],sg.prototype,"tabs",void 0),t([C],sg.prototype,"showScrollButtons",void 0),Ze(sg,re)
const og=sg.compose({baseName:"anchor-tabs",template:ig,styles:Ih,shadowOptions:{delegatesFocus:!1}})
Di.getOrCreate().withPrefix("nimble").register(og())
const rg=Mt`
    ${qs("block")}

    :host {
        ${""}
        font-family: ${Zc};
        font-weight: ${Kc};
        contain: content;
        position: relative;
        outline: none;
        color: ${Wc};
        cursor: pointer;
        --ni-private-tree-item-nested-width: 0;
    }

    :host([disabled]) {
        color: ${Gc};
        cursor: default;
    }

    .control {
        display: flex;
        text-decoration: none;
        color: inherit;
    }

    .control${js} {
        box-shadow: 0px 0px 0px ${Tl} ${fl} inset;
        outline: ${Tl} solid ${fl};
        outline-offset: -2px;
    }

    .positioning-region {
        display: flex;
        position: relative;
        height: calc(${Ol} * 2);
        width: 100%;
    }

    .positioning-region:hover {
        background: ${al};
    }

    :host([disabled]) .positioning-region:hover {
        background: transparent;
    }

    :host([selected]) .positioning-region {
        background: ${sl};
    }

    :host([selected]) .positioning-region:hover {
        background: ${rl};
    }

    .positioning-region::before {
        content: '';
        display: block;
        width: var(--ni-private-tree-item-nested-width);
        flex-shrink: 0;
    }

    .content-region {
        display: inline-flex;
        align-items: center;
        white-space: nowrap;
        width: 100%;
        padding-left: 10px;
        font: inherit;
        font-size: ${Yc};
        ${Dm}
        position: relative;
        margin-inline-start: ${Ol};
    }

    ${""}
    [part="start"] {
        width: ${Ol};
        pointer-events: none;
    }

    ${""}
    .start {
        display: flex;
        margin-inline-start: ${Ol};
        margin-inline-end: ${Ol};
    }

    slot[name='start']::slotted(*) {
        ${ml.cssCustomProperty}: currentcolor;
        width: ${Ol};
        height: ${Ol};
    }

    .content {
        pointer-events: none;
    }

    [part='end'] {
        display: none;
    }
`
class ag extends Us{constructor(){super(...arguments),this.selected=!1,this.disabled=!1}isNestedItem(){return Ps(this.parentElement)}handleFocus(t){this.setAttribute("tabindex","0")}handleBlur(t){this.setAttribute("tabindex","-1")}keydownHandler(t){if(t.defaultPrevented)return!1
switch(t.key){case dn:t.stopPropagation()
break
case an:this.parentElement&&this.isNestedItem()&&zs.focusItem(this.parentElement)}return!0}clickHandler(t){return!t.defaultPrevented&&(t.stopPropagation(),!0)}selectedChanged(t,e){this.$fastController.isConnected&&this.$emit("selected-change",this)}}t([ft({mode:"boolean"})],ag.prototype,"selected",void 0),t([ft({mode:"boolean"})],ag.prototype,"disabled",void 0)
const lg=ag.compose({baseName:"anchor-tree-item",template:(t,e)=>Q`
    <template
        role="treeitem"
        slot="${t=>t.isNestedItem()?"item":null}"
        tabindex="-1"
        aria-disabled="${t=>t.disabled}"
        aria-selected="${t=>t.selected}"
        @focusin="${(t,e)=>t.handleFocus(e.event)}"
        @focusout="${(t,e)=>t.handleBlur(e.event)}"
        @keydown="${(t,e)=>t.keydownHandler(e.event)}"
        @click="${(t,e)=>t.clickHandler(e.event)}"
    >
        <a
            class="control"
            part="control"
            tabindex="0"
            download="${t=>t.download}"
            href=${t=>t.disabled?null:t.href}
            hreflang="${t=>t.hreflang}"
            ping="${t=>t.ping}"
            referrerpolicy="${t=>t.referrerpolicy}"
            rel="${t=>t.rel}"
            target="${t=>t.target}"
            type="${t=>t.type}"
            ${Ut("control")}
        >
            <div class="positioning-region" part="positioning-region">
                <div class="content-region" part="content-region">
                    ${le(0,e)}
                    <span class="content" part="content">
                        <slot></slot>
                    </span>
                    ${ae(0,e)}
                </div>
            </div>
        </a>
    </template>
`,styles:rg,shadowOptions:{delegatesFocus:!0}})
Di.getOrCreate().withPrefix("nimble").register(lg())
const cg="1",dg="1000",hg=Mt`
    ${qs("block")}

    :host {
        contain: layout;
        z-index: ${dg};
    }

    ${""}
    :host([hidden]) {
        display: block;
        visibility: hidden;
    }
`
const ug=class extends $n{}.compose({baseName:"anchored-region",baseClass:$n,template:(t,e)=>Q`
    <template class="${t=>t.initialLayoutComplete?"loaded":""}">
        ${Gt((t=>t.initialLayoutComplete),Q`
                <slot></slot>
            `)}
    </template>
`,styles:hg})
Di.getOrCreate().withPrefix("nimble").register(ug())
const pg="nimble-anchored-region"
class fg{constructor(t,e,n){this.value=t,this.styles=e,this.source=n}handleChange(){const t=Xa.getValueFor(this.source);(Array.isArray(this.value)?this.value.includes(t):this.value===t)?this.source.$fastController.addStyles(this.styles):this.source.$fastController.removeStyles(this.styles)}}class mg{constructor(t,e){this.theme=t,this.styles=e,this.cache=new WeakMap}bind(t){const e=this.cache.get(t)||new fg(this.theme,this.styles,t)
Xa.subscribe(e,t),e.handleChange(),this.cache.set(t,e)}unbind(t){const e=this.cache.get(t)
e&&Xa.unsubscribe(e)}}const gg=(t,e)=>new mg(t,e),vg=Mt`
    ${qs("flex")}

    :host {
        font: ${jc};
        font-size: 12.8px;
        align-items: top;
        overflow: hidden;
        overflow-wrap: anywhere;
    }

    :host(:not([open])) {
        display: none;
    }

    .container {
        color: ${Wc};
        display: flex;
        width: 100%;
    }

    .icon {
        width: 48px;
        display: flex;
        justify-content: center;
        margin-top: 8px;
        flex: 0 0 auto;
        opacity: 0.6;
    }

    .text {
        display: inline;
        margin-top: 7px;
        margin-bottom: 7px;
    }

    slot[name='title'] {
        display: inline;
        font-weight: bold;
        padding-right: 8px;
    }

    :host([title-hidden]) slot[name='title'] {
        ${fh}
    }

    .controls {
        height: ${Il};
        margin-left: auto;
        display: flex;
        align-items: center;
        justify-content: center;
        align-self: flex-start;
        margin-top: ${$l};
        ${Il.cssCustomProperty}: ${Ml};
    }

    slot[name='action'] {
        display: flex;
        align-content: center;
        margin-left: ${El};
        white-space: nowrap;
    }

    slot[name='action']::slotted(nimble-anchor) {
        font-size: 12.8px;
    }

    .dismiss {
        width: 48px;
        display: flex;
        justify-content: center;
    }
`.withBehaviors(gg(Ho.light,Mt`
            :host {
                background: ${uo};
            }

            :host([severity='error']) {
                background: ${ho};
            }

            :host([severity='warning']) {
                background: ${ko};
            }

            :host([severity='information']) {
                background: ${ro};
            }
        `),gg(Ho.dark,Mt`
            :host {
                background: ${uo};
            }

            :host([severity='error']) {
                background: ${Co};
            }

            :host([severity='warning']) {
                background: ${ao};
            }

            :host([severity='information']) {
                background: ${oo};
            }
        `),gg(Ho.color,Mt`
            :host {
                background: ${il};
            }

            .container {
                background: ${el(mo,.3)};
            }
        `))
Tm("icon-exclamation-mark",class extends Am{constructor(){super(fp)}})
const bg="nimble-icon-exclamation-mark"
Tm("icon-info",class extends Am{constructor(){super(Up)}})
const yg="nimble-icon-info"
Tm("icon-triangle-filled",class extends Am{constructor(){super(cm)}})
const wg="nimble-icon-triangle-filled"
Tm("icon-times",class extends Am{constructor(){super(rm)}})
const xg="nimble-icon-times",Cg={default:void 0,error:"error",warning:"warning",information:"information"},kg=Q`
    <${tl} theme="${Ho.color}">
        <div class="container"
            role="status"
            aria-atomic="${t=>t.ariaAtomic}"
            aria-busy="${t=>t.ariaBusy}"
            aria-controls="${t=>t.ariaControls}"
            aria-current="${t=>t.ariaCurrent}"
            aria-describedby="${t=>t.ariaDescribedby}"
            aria-details="${t=>t.ariaDetails}"
            aria-disabled="${t=>t.ariaDisabled}"
            aria-errormessage="${t=>t.ariaErrormessage}"
            aria-expanded="${t=>t.ariaExpanded}"
            aria-flowto="${t=>t.ariaFlowto}"
            aria-haspopup="${t=>t.ariaHaspopup}"
            aria-hidden="${t=>t.ariaHidden}"
            aria-invalid="${t=>t.ariaInvalid}"
            aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
            aria-label="${t=>t.ariaLabel}"
            aria-labelledby="titleSlot"
            aria-live="${t=>t.ariaLive}"
            aria-owns="${t=>t.ariaOwns}"
            aria-relevant="${t=>t.ariaRelevant}"
            aria-roledescription="${t=>t.ariaRoledescription}"
        >
            <div class="icon">
                ${Gt((t=>t.severity===Cg.error),Q`
                    <${bg} role="img" aria-label="${t=>Km.getValueFor(t)}"></${bg}>
                `)}
                ${Gt((t=>t.severity===Cg.warning),Q`
                    <${wg} role="img" aria-label="${t=>Ym.getValueFor(t)}"></${wg}>
                `)}
                ${Gt((t=>t.severity===Cg.information),Q`
                    <${yg} role="img" aria-label="${t=>Xm.getValueFor(t)}"></${yg}>
                `)}
            </div>
            <div class="text">
                <slot name="title" id="titleSlot"></slot>
                <slot></slot>
            </div>
            <div class="controls">
                <slot name="action"></slot>
                <div class="dismiss">
                    ${Gt((t=>!t.preventDismiss),Q`
                        <${Eh} appearance="${dh}" appearance-variant="${"primary"}" content-hidden @click="${t=>t.dismissBanner()}">
                            <${xg} slot="start"></${xg}>
                            ${t=>Wm.getValueFor(t)}
                        </${Eh}>
                    `)}
                </div>
            </div>
        </div>
    </${tl}>
`
class Sg extends je{constructor(){super(...arguments),this.open=!1,this.severity=Cg.default,this.titleHidden=!1,this.preventDismiss=!1}openChanged(){const t={newState:this.open,oldState:!this.open}
this.$emit("toggle",t)}dismissBanner(){this.open=!1}}t([ft({mode:"boolean"})],Sg.prototype,"open",void 0),t([ft()],Sg.prototype,"severity",void 0),t([ft({attribute:"title-hidden",mode:"boolean"})],Sg.prototype,"titleHidden",void 0),t([ft({attribute:"prevent-dismiss",mode:"boolean"})],Sg.prototype,"preventDismiss",void 0),Ze(Sg,Sn)
const _g=Sg.compose({baseName:"banner",template:kg,styles:vg})
Di.getOrCreate().withPrefix("nimble").register(_g())
const Ig=Mt`
    ${qs("inline-block")}

    .list {
        display: flex;
        flex-wrap: wrap;
    }

    ::slotted(:last-child) {
        font: ${Jc};
        color: ${hc};
    }

    :host([appearance='prominent']) ::slotted(:last-child) {
        color: ${_c};
    }
`
class Mg extends En{}t([ft],Mg.prototype,"appearance",void 0)
const $g=Mg.compose({baseName:"breadcrumb",baseClass:En,template:(t,e)=>Q`
    <template role="navigation">
        <div role="list" class="list" part="list">
            <slot
                ${ie({property:"slottedBreadcrumbItems",filter:te()})}
            ></slot>
        </div>
    </template>
`,styles:Ig})
Di.getOrCreate().withPrefix("nimble").register($g())
const Dg=Mt`
    @layer base, hover, focusVisible, active, disabled;

    @layer base {
        ${qs("inline-flex")}

        :host {
            height: ${Il};

            ${""}
            color: ${uc};
            font: ${dc};
        }

        .listitem {
            display: flex;
            align-items: center;
        }

        .control {
            color: ${hc};
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
        }

        [part='start'] {
            display: none;
        }

        .content {
            pointer-events: none;
        }

        [part='end'] {
            display: none;
        }

        .separator {
            padding-left: ${Dl};
            padding-right: ${Dl};
        }

        slot[name='separator'] {
            display: flex;
            align-items: center;
        }

        slot[name='separator'] svg {
            width: ${Ol};
            height: ${Ol};
            fill: ${Pc};
        }
    }

    @layer hover {
        .control:any-link:hover {
            text-decoration: underline;
        }
    }

    @layer focusVisible {
        .control${js} {
            outline: none;
            box-shadow: inset 0px -1px;
            text-decoration: underline;
            color: ${fl};
        }
    }

    @layer active {
        .control:active {
            color: ${bc};
            text-decoration: underline;
            box-shadow: none;
        }
    }

    @layer disabled {
        .control:not(:any-link) {
            color: ${uc};
        }
    }
`
const Eg=class extends Dn{}.compose({baseName:"breadcrumb-item",baseClass:Dn,template:(t,e)=>Q`
    <div role="listitem" class="listitem" part="listitem">
        ${Gt((t=>t.href&&t.href.length>0),Q`
                ${((t,e)=>Q`
    <a
        class="control"
        part="control"
        download="${t=>t.download}"
        href="${t=>t.href}"
        hreflang="${t=>t.hreflang}"
        ping="${t=>t.ping}"
        referrerpolicy="${t=>t.referrerpolicy}"
        rel="${t=>t.rel}"
        target="${t=>t.target}"
        type="${t=>t.type}"
        aria-atomic="${t=>t.ariaAtomic}"
        aria-busy="${t=>t.ariaBusy}"
        aria-controls="${t=>t.ariaControls}"
        aria-current="${t=>t.ariaCurrent}"
        aria-describedby="${t=>t.ariaDescribedby}"
        aria-details="${t=>t.ariaDetails}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-errormessage="${t=>t.ariaErrormessage}"
        aria-expanded="${t=>t.ariaExpanded}"
        aria-flowto="${t=>t.ariaFlowto}"
        aria-haspopup="${t=>t.ariaHaspopup}"
        aria-hidden="${t=>t.ariaHidden}"
        aria-invalid="${t=>t.ariaInvalid}"
        aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
        aria-label="${t=>t.ariaLabel}"
        aria-labelledby="${t=>t.ariaLabelledby}"
        aria-live="${t=>t.ariaLive}"
        aria-owns="${t=>t.ariaOwns}"
        aria-relevant="${t=>t.ariaRelevant}"
        aria-roledescription="${t=>t.ariaRoledescription}"
        ${Ut("control")}
    >
        ${le(0,e)}
        <span class="content" part="content">
            <slot ${ie("defaultSlottedContent")}></slot>
        </span>
        ${ae(0,e)}
    </a>
`)(0,e)}
            `)}
        ${Gt((t=>!t.href),Q`
                ${le(0,e)}
                <slot></slot>
                ${ae(0,e)}
            `)}
        ${Gt((t=>t.separator),Q`
                <span class="separator" part="separator" aria-hidden="true">
                    <slot name="separator">${e.separator||""}</slot>
                </span>
            `)}
    </div>
`,styles:Dg,separator:Ep.data})
Di.getOrCreate().withPrefix("nimble").register(Eg())
const Ag=Mt`
    ${qs("flex")}

    :host {
        flex-direction: column;
        gap: ${Al};
        padding: ${Al};
        border: 2px solid ${bl};
        border-radius: 8px;
        font: ${jc};
        color: ${Wc};
    }

    section {
        display: contents;
    }

    slot[name='title'] {
        font: ${Yl};
        font-weight: ${nd};
        color: ${sc};
    }
`,Tg=Q`
    <section aria-labelledby="title-slot">
        <span id="title-slot"><slot name="title"></slot></span>
        <slot></slot>
    </section>
`
const Og=class extends Vn{}.compose({baseName:"card",baseClass:Vn,template:Tg,styles:Ag})
Di.getOrCreate().withPrefix("nimble").register(Og())
const Rg=Mt`
    ${qs("inline-flex")}

    :host {
        background-color: transparent;
        color: ${wd};
        font: ${yd};
        cursor: pointer;
        outline: none;
        border: none;
        transition: box-shadow ${Zd};
    }

    @media (prefers-reduced-motion) {
        :host {
            transition-duration: 0s;
        }
    }

    :host(:hover) {
        box-shadow: 0px 1px 4px ${el(bo,.3)};
    }

    :host(:active) {
        box-shadow: none;
    }

    :host([disabled]) {
        cursor: default;
        box-shadow: none;
    }

    .control {
        background-color: transparent;
        height: 100%;
        width: 100%;
        border: ${Tl} solid transparent;
        color: inherit;
        border-radius: inherit;
        fill: inherit;
        cursor: inherit;
        font: inherit;
        outline: none;
        padding: 0px;
    }

    .control:hover {
        background: var(--ni-private-card-button-background-hover-color);
    }

    .control${js} {
        box-shadow: 0px 0px 0px ${Tl} ${fl} inset;
        border-color: ${fl};
        outline: ${Tl} solid ${fl};
        outline-offset: -4px;
    }

    .control:active {
        background: var(--ni-private-card-button-background-active-color);
        border-color: var(--ni-private-card-button-border-active-color);
        outline: none;
        box-shadow: none;
    }

    :host([selected]) .control {
        background: var(--ni-private-card-button-background-active-color);
        border-color: var(--ni-private-card-button-border-selected-color);
    }

    :host([selected]) .control${js} {
        border-color: ${fl};
    }

    :host([selected]) .control:active {
        border-color: var(--ni-private-card-button-border-active-color);
    }

    :host([selected]) .control${js}:active {
        outline: none;
        box-shadow: none;
    }

    .control[disabled] {
        background: transparent;
        opacity: 0.3;
    }

    .control[disabled]:active {
        border-color: transparent;
    }

    :host([selected]) .control[disabled]:active {
        border-color: var(--ni-private-card-button-border-selected-color);
    }

    .content {
        display: contents;
    }

    [part='start'] {
        display: none;
    }

    [part='end'] {
        display: none;
    }
`.withBehaviors(gg(Ho.light,Mt`
            :host {
                --ni-private-card-button-background-hover-color: ${el(mo,.3)};
                --ni-private-card-button-background-active-color: ${mo};
                --ni-private-card-button-border-active-color: ${el(yo,.2)};
                --ni-private-card-button-border-selected-color: ${el(yo,.6)};
            }
        `),gg(Ho.dark,Mt`
            :host {
                --ni-private-card-button-background-hover-color: ${el(po,.07)};
                --ni-private-card-button-background-active-color: ${el(po,.15)};
                --ni-private-card-button-border-active-color: ${el(po,.2)};
                --ni-private-card-button-border-selected-color: ${po};
            }
        `),gg(Ho.color,Mt`
            :host {
                --ni-private-card-button-background-hover-color: ${el(mo,.07)};
                --ni-private-card-button-background-active-color: ${el(mo,.15)};
                --ni-private-card-button-border-active-color: ${el(mo,.2)};
                --ni-private-card-button-border-selected-color: ${el(mo,.6)};
            }
        `))
class Fg extends Pn{constructor(){super(...arguments),this.selected=!1}}t([ft({mode:"boolean"})],Fg.prototype,"selected",void 0)
const Ng=Fg.compose({baseName:"card-button",template:(t,e)=>Q`
    <button
        class="control"
        part="control"
        ?autofocus="${t=>t.autofocus}"
        ?disabled="${t=>t.disabled}"
        form="${t=>t.formId}"
        formaction="${t=>t.formaction}"
        formenctype="${t=>t.formenctype}"
        formmethod="${t=>t.formmethod}"
        formnovalidate="${t=>t.formnovalidate}"
        formtarget="${t=>t.formtarget}"
        name="${t=>t.name}"
        type="${t=>t.type}"
        value="${t=>t.value}"
        aria-atomic="${t=>t.ariaAtomic}"
        aria-busy="${t=>t.ariaBusy}"
        aria-controls="${t=>t.ariaControls}"
        aria-current="${t=>t.ariaCurrent}"
        aria-describedby="${t=>t.ariaDescribedby}"
        aria-details="${t=>t.ariaDetails}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-errormessage="${t=>t.ariaErrormessage}"
        aria-expanded="${t=>t.ariaExpanded}"
        aria-flowto="${t=>t.ariaFlowto}"
        aria-haspopup="${t=>t.ariaHaspopup}"
        aria-hidden="${t=>t.ariaHidden}"
        aria-invalid="${t=>t.ariaInvalid}"
        aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
        aria-label="${t=>t.ariaLabel}"
        aria-labelledby="${t=>t.ariaLabelledby}"
        aria-live="${t=>t.ariaLive}"
        aria-owns="${t=>t.ariaOwns}"
        aria-pressed="${t=>t.ariaPressed}"
        aria-relevant="${t=>t.ariaRelevant}"
        aria-roledescription="${t=>t.ariaRoledescription}"
        ${Ut("control")}
    >
        ${le(0,e)}
        <span class="content" part="content">
            <slot ${ie("defaultSlottedContent")}></slot>
        </span>
        ${ae(0,e)}
    </button>
`,styles:Rg,shadowOptions:{delegatesFocus:!0}})
Di.getOrCreate().withPrefix("nimble").register(Ng())
const Lg=Mt`
    .error-icon {
        display: none;
    }

    :host([error-visible]) .error-icon {
        display: inline-flex;
        width: ${Ol};
        height: ${Ol};
        flex: none;
    }

    .error-text {
        display: none;
    }

    :host([error-visible]) .error-text {
        display: block;
        font: ${Od};
        color: ${dl};
        width: 100%;
        position: absolute;
        bottom: calc(-1 * (${Pd} + 2px));
        left: 0px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    :host([error-visible]) .error-text:empty {
        display: none;
    }
`,Bg=Mt`
    ${qs("inline-grid")}
    ${Lg}

    :host {
        font: ${jc};
        cursor: pointer;
        outline: none;
        ${Dm}
        min-height: ${Il};
    }

    :host([disabled]) {
        cursor: default;
    }

    .outer-container {
        height: 100%;
        display: flex;
        align-items: center;
        position: relative;
    }

    .container {
        display: grid;
        grid-template-columns: auto 1fr auto;
        grid-template-rows: ${Xc} auto;
        align-items: center;
        width: 100%;
    }

    .control {
        width: ${Ol};
        height: ${Ol};
        border: ${Tl} solid ${ll};
        padding: 2px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        transition: box-shadow ${Zd};
        ${""}
        line-height: 0;
        grid-column: 1;
        grid-row: 1;
    }

    @media (prefers-reduced-motion) {
        .control {
            transition-duration: 0s;
        }
    }

    :host([disabled]) .control {
        background-color: rgba(${cl}, 0.1);
        border-color: rgba(${cl}, 0.2);
    }

    :host(:not([disabled]):not(:active):hover) .control {
        border-color: ${fl};
        box-shadow: 0px 0px 0px ${Tl} ${fl} inset;
    }

    :host(${js}) .control {
        border-color: ${fl};
        outline: 2px solid ${fl};
        outline-offset: 1px;
    }

    .label {
        font: inherit;
        color: ${Wc};
        padding-left: ${Dl};
        grid-column: 2;
        grid-row: 1 / span 2;
        cursor: inherit;
    }

    :host([disabled]) .label {
        color: ${Gc};
    }

    slot[name='checked-indicator'],
    slot[name='indeterminate-indicator'] {
        display: none;
    }

    slot[name='checked-indicator'] svg {
        height: ${Ol};
        width: ${Ol};
        overflow: visible;
        fill: ${ll};
    }

    :host(.checked:not(.indeterminate)) slot[name='checked-indicator'] {
        display: contents;
    }

    :host([disabled]) slot[name='checked-indicator'] svg {
        fill: rgba(${cl}, 0.3);
    }

    slot[name='indeterminate-indicator'] svg {
        height: ${Ol};
        width: ${Ol};
        overflow: visible;
    }

    :host(.indeterminate) slot[name='indeterminate-indicator'] {
        display: contents;
    }

    slot[name='indeterminate-indicator'] svg {
        fill: ${ll};
    }

    :host([disabled]) slot[name='indeterminate-indicator'] svg {
        fill: rgba(${cl}, 0.3);
    }

    .error-icon {
        grid-column: 3;
        grid-row: 1;
        margin: 0px ${$l};
    }
`
class Pg{constructor(t,e){this.target=t,this.propertyName=e}bind(t){this.source=t,this.setSourceValue(!1),this.mouseOverHandler=()=>{const t=this.target.offsetWidth<this.target.scrollWidth
this.setSourceValue(t)},this.mouseOutHandler=()=>{this.setSourceValue(!1)},this.target.addEventListener("mouseover",this.mouseOverHandler),this.target.addEventListener("mouseout",this.mouseOutHandler)}unbind(){this.source=void 0,this.target.removeEventListener("mouseover",this.mouseOverHandler),this.target.removeEventListener("mouseout",this.mouseOutHandler)}setSourceValue(t){this.source[this.propertyName]=t}}function zg(t){return new D("nimble-overflow",Pg,t)}const Vg=Q`
    <div
        class="error-text"
        ${zg("errorHasOverflow")}
        title="${t=>t.errorHasOverflow&&t.errorText?t.errorText:null}"
        aria-live="polite"
    >
        ${t=>t.errorText}
    </div>
`
function Hg(t){class e extends t{constructor(){super(...arguments),this.errorVisible=!1,this.errorHasOverflow=!1}}return ft({attribute:"error-text"})(e.prototype,"errorText"),ft({attribute:"error-visible",mode:"boolean"})(e.prototype,"errorVisible"),C(e.prototype,"errorHasOverflow"),e}class Ug extends(Hg(qn)){get resolvedTabindex(){const t=this.tabIndex??0
return this.disabled?void 0:`${t}`}}t([ft({attribute:"tabindex",converter:ut})],Ug.prototype,"tabIndex",void 0)
const qg=Ug.compose({baseName:"checkbox",baseClass:qn,template:(t,e)=>Q`
    <template
        role="checkbox"
        aria-checked="${t=>t.checked}"
        aria-required="${t=>t.required}"
        aria-disabled="${t=>t.disabled}"
        aria-readonly="${t=>t.readOnly}"
        tabindex="${t=>t.resolvedTabindex}"
        @keypress="${(t,e)=>t.keypressHandler(e.event)}"
        @click="${(t,e)=>t.clickHandler(e.event)}"
        class="${t=>t.readOnly?"readonly":""} ${t=>t.checked?"checked":""} ${t=>t.indeterminate?"indeterminate":""}"
    >
        <div class="outer-container">
            <div part="container" class="container">
                <div part="control" class="control">
                    <slot name="checked-indicator">
                        ${e.checkedIndicator||""}
                    </slot>
                    <slot name="indeterminate-indicator">
                        ${e.indeterminateIndicator||""}
                    </slot>
                </div>
                <label
                    part="label"
                    class="${t=>t.defaultSlottedNodes?.length?"label":"label label__hidden"}"
                >
                    <slot ${ie("defaultSlottedNodes")}></slot>
                </label>
                <${bg}
                    severity="error"
                    class="error-icon"
                ></${bg}>
            </div>
            ${Vg}
        </div>
    </template>
`,styles:Bg,checkedIndicator:Mu.data,indeterminateIndicator:cf.data})
Di.getOrCreate().withPrefix("nimble").register(qg())
const jg="nimble-checkbox",Wg=Mt`
    ${mh}
    ${gh}

    @layer checked {
        .control[aria-pressed='true'] {
            background-color: transparent;
            color: ${wd};
            background-image: linear-gradient(
                ${sl},
                ${sl}
            );
            border-color: rgba(${ol}, 0.3);
        }

        .control[aria-pressed='true'] [part='start'],
        .control[aria-pressed='true'] [part='end'] {
            ${ml.cssCustomProperty}: ${wd};
        }
    }

    @layer disabled {
        :host([disabled]) .control[aria-pressed='true'] {
            background-image: linear-gradient(
                ${sl},
                ${sl}
            );
            border-color: rgba(${ol}, 0.3);
        }
    }
`.withBehaviors(ph(ch,Mt`
            @layer checked {
                :host([appearance-variant='accent'])
                    .control[aria-pressed='true'] {
                    color: ${Sl};
                }

                :host([appearance-variant='accent'])
                    .control[aria-pressed='true']
                    [part='start'],
                :host([appearance-variant='accent'])
                    .control[aria-pressed='true']
                    [part='end'] {
                    ${ml.cssCustomProperty}: ${Sl};
                }
            }
        `))
class Gg extends us{constructor(){super(...arguments),this.appearance=ch,this.contentHidden=!1}get resolvedTabindex(){const t=this.tabIndex??0
return this.disabled?void 0:`${t}`}}t([ft],Gg.prototype,"appearance",void 0),t([ft({attribute:"appearance-variant"})],Gg.prototype,"appearanceVariant",void 0),t([ft({attribute:"content-hidden",mode:"boolean"})],Gg.prototype,"contentHidden",void 0),t([ft({attribute:"tabindex",converter:ut})],Gg.prototype,"tabIndex",void 0),Ze(Gg,re,zn)
const Zg=Gg.compose({baseName:"toggle-button",template:(t,e)=>Q`
    <div
        role="button"
        part="control"
        tabindex="${t=>t.resolvedTabindex}"
        @keypress="${(t,e)=>t.keypressHandler(e.event)}"
        @click="${(t,e)=>t.clickHandler(e.event)}"
        class="control ${t=>t.checked?"checked":""}"
        ${""}
        aria-disabled="${t=>t.disabled}"
        aria-readonly="${t=>t.readOnly}"
        aria-pressed="${t=>t.checked}"
        ${""}
        aria-atomic="${t=>t.ariaAtomic}"
        aria-busy="${t=>t.ariaBusy}"
        aria-controls="${t=>t.ariaControls}"
        aria-current="${t=>t.ariaCurrent}"
        aria-describedby="${t=>t.ariaDescribedby}"
        aria-details="${t=>t.ariaDetails}"
        aria-errormessage="${t=>t.ariaErrormessage}"
        aria-expanded="${t=>t.ariaExpanded}"
        aria-flowto="${t=>t.ariaFlowto}"
        aria-haspopup="${t=>t.ariaHaspopup}"
        aria-hidden="${t=>t.ariaHidden}"
        aria-invalid="${t=>t.ariaInvalid}"
        aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
        aria-label="${t=>t.ariaLabel}"
        aria-labelledby="${t=>t.ariaLabelledby}"
        aria-live="${t=>t.ariaLive}"
        aria-owns="${t=>t.ariaOwns}"
        aria-relevant="${t=>t.ariaRelevant}"
        aria-roledescription="${t=>t.ariaRoledescription}"
        ${Ut("control")}
    >
        ${le(0,e)}
        <span class="content" part="content">
            <slot></slot>
        </span>
        ${ae(0,e)}
    </div>
`,styles:Wg,shadowOptions:{delegatesFocus:!0}})
Di.getOrCreate().withPrefix("nimble").register(Zg())
const Kg="nimble-toggle-button"
Tm("icon-arrow-expander-down",class extends Am{constructor(){super(Nh)}})
const Yg="nimble-icon-arrow-expander-down",Xg="above",Jg="underline",Qg="outline",tv="block",ev=Mt`
    ${qs("inline-flex")}

    :host {
        color: ${Wc};
        font: ${jc};
        position: relative;
        flex-direction: column;
        justify-content: flex-start;
        ${Dm}
        min-width: ${Bl};
        outline: none;
        vertical-align: top;
        --ni-private-hover-indicator-width: calc(${Tl} + 1px);
        --ni-private-focus-indicator-width: 1px;
        --ni-private-indicator-lines-gap: 1px;
    }

    :host::before {
        content: '';
        position: absolute;
        bottom: calc(${Tl} + var(--ni-private-indicator-lines-gap));
        width: 0px;
        height: 0px;
        align-self: center;
        border-bottom: ${fl}
            var(--ni-private-focus-indicator-width) solid;
        transition: width ${Zd} ease-in;
    }

    @media (prefers-reduced-motion) {
        :host::before {
            transition-duration: 0s;
        }
    }

    :host(${js})::before {
        width: calc(100% - 8px);
    }

    :host([error-visible]):before {
        border-bottom-color: ${dl};
    }

    :host::after {
        content: '';
        position: absolute;
        bottom: calc(-1 * ${Tl});
        width: 0px;
        height: 0px;
        align-self: center;
        border-bottom: ${fl}
            var(--ni-private-hover-indicator-width) solid;
        transition: width ${Zd} ease-in;
    }

    @media (prefers-reduced-motion) {
        :host::after {
            transition-duration: 0s;
        }
    }

    :host(:hover)::after,
    :host(${js})::after {
        width: 100%;
    }

    :host([error-visible]):after {
        border-bottom-color: ${dl};
    }

    :host([disabled]:hover)::after {
        width: 0px;
    }

    .label {
        display: flex;
        color: ${pd};
        font: ${ud};
    }

    :host([disabled]) .label {
        color: ${fd};
    }

    .control {
        align-items: center;
        cursor: pointer;
        display: flex;
        width: 100%;
        height: ${Il};
        border: 0px solid rgba(${cl}, 0.3);
        background-color: transparent;
        padding: ${Tl};
    }

    :host([open]:not(:hover)) .control {
        border-bottom-color: ${fl};
    }

    :host([disabled]) .control {
        cursor: default;
        color: ${Gc};
        border-color: rgba(${cl}, 0.1);
    }

    :host([error-visible]) .control,
    :host([error-visible][open]) .control,
    :host([error-visible][disabled]) .control {
        border-bottom-color: ${dl};
    }

    [part='start'] {
        display: none;
    }

    .selected-value {
        flex: auto;
        font-family: inherit;
        text-align: start;
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
        padding: 0px;
        padding-left: ${Dl};
    }

    .selected-value[disabled]::placeholder {
        color: ${Gc};
    }

    .indicator {
        flex: none;
        margin-left: ${$l};
        padding-right: 8px;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .indicator slot[name='indicator'] svg {
        width: ${Ol};
        height: ${Ol};
        fill: ${Wc};
    }

    :host([disabled]) .indicator slot[name='indicator'] svg {
        fill: ${Gc};
    }

    [part='end'] {
        margin-inline-start: auto;
    }

    :host([open][position='above']) .anchored-region {
        padding-bottom: ${$l};
    }

    :host([open][position='below']) .anchored-region {
        padding-top: ${$l};
    }

    .listbox {
        display: inline-flex;
        flex-direction: column;
        width: 100%;
        --ni-private-listbox-visible-option-count: 10.5;
        --ni-private-listbox-anchor-element-gap: ${$l};
        --ni-private-listbox-padding: ${$l};
        --ni-private-listbox-filter-height: 0px;
        --ni-private-listbox-loading-indicator-height: 0px;
        max-height: min(
            calc(
                var(--ni-private-listbox-anchor-element-gap) + 
                2 * ${Tl} + 
                var(--ni-private-listbox-padding) +
                ${Il} * var(--ni-private-listbox-visible-option-count) +
                var(--ni-private-listbox-filter-height) +
                var(--ni-private-listbox-loading-indicator-height)
            ),
            calc(
                var(--ni-private-listbox-available-viewport-height) - 
                var(--ni-private-listbox-anchor-element-gap)
            )
        );
        box-shadow: ${Vl};
        border: ${Tl} solid ${vl};
        background-color: ${il};
    }

    .listbox:has(.filter-field) {
        --ni-private-listbox-filter-height: ${Il};
    }

    .listbox:has(.loading-container) {
        --ni-private-listbox-loading-indicator-height: ${Il};
    }

    :host([open][position='above']) .listbox {
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
    }

    :host([open][position='below']) .listbox {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
    }

    .scrollable-region {
        overflow-y: auto;
    }

    .listbox slot {
        display: block;
        background: transparent;
        padding: var(--ni-private-listbox-padding);
    }

    .listbox.empty slot {
        display: none;
    }

    ::slotted([role='option']),
    ::slotted(option) {
        flex: none;
    }

    .no-results-label {
        color: ${Pc};
        height: ${Il};
        display: inline-flex;
        display: flex;
        flex: 1 0 auto;
        align-items: center;
        padding: ${$l} ${Dl};
    }
`.withBehaviors(ph(Jg,Mt`
            .control {
                border-bottom-width: ${Tl};
                padding-bottom: 0;
            }

            :host([disabled]) .control {
                border-color: rgba(${cl}, 0.1);
            }
        `),ph(Qg,Mt`
            .control {
                border-width: ${Tl};
                padding: 0;
            }
        `),ph(tv,Mt`
            .control {
                background-color: rgba(${cl}, 0.1);
            }

            .control:focus-within {
                border-bottom-width: ${Tl};
                padding-bottom: 0;
            }

            :host([disabled]) .control {
                background-color: rgba(${cl}, 0.07);
            }
        `),gg(Ho.color,Mt`
            .listbox slot {
                background: ${el(mo,.15)};
            }
        `)),nv=Mt`
    .annotated-label {
        display: flex;
        flex-direction: row;
    }

    .required-icon {
        flex: none;
        width: 5px;
        height: 5px;
        margin-top: 3px;
        margin-left: ${$l};
    }
`,iv={none:void 0,standard:"standard"},sv=Mt`
    ${ev}
    ${Lg}
    ${nv}

    :host {
        --ni-private-hover-bottom-border-width: 2px;
        --ni-private-bottom-border-width: 1px;
        --ni-private-height-within-border: calc(
            ${Il} - 2 * ${Tl}
        );
    }

    :host([disabled]) *,
    :host([disabled]) {
        ${Dm}
        color: ${Gc};
    }

    .control {
        bottom-border-width: var(--ni-private-bottom-border-width);
    }

    .control:focus-within {
        border-bottom-color: ${fl};
    }

    .selected-value {
        -webkit-appearance: none;
        background: transparent;
        border: none;
        color: inherit;
        margin: auto 0;
        width: 100%;
        font: inherit;
        height: var(--ni-private-height-within-border);
    }

    .selected-value:hover,
    .selected-value:disabled,
    .selected-value:active,
    .selected-value${js} {
        outline: none;
    }

    [part='indicator'] {
        display: none;
    }

    .end-slot-container {
        display: flex;
        align-items: baseline;
        padding-right: ${$l};
    }

    .separator {
        display: inline;
        width: 2px;
        border-right: 2px solid rgba(${cl}, 0.15);
        height: calc(${Il} - 12px);
        align-self: center;
        margin-left: 4px;
    }

    .dropdown-button {
        ${Il.cssCustomProperty}: 24px;
        margin-left: ${$l};
    }

    :host([disabled]) .dropdown-icon {
        fill: ${Gc};
    }
`.withBehaviors(ph(tv,Mt`
            :host([error-visible]) .control {
                border-bottom-width: ${Tl};
                padding-bottom: 0;
            }
        `))
Tm("icon-asterisk",class extends Am{constructor(){super(iu)}})
const ov="nimble-icon-asterisk"
function rv(t){return Q`
        <div class="annotated-label">
            ${t}
            ${Gt((t=>t.requiredVisible),Q`
                <${ov} class="required-icon" severity="error"></${ov}>
            `)}
        </div>
    `}const av=rv(Q`
    <label part="label" class="label">
        <slot></slot>
    </label>
`)
let lv=class extends Vi{}
class cv extends(Fn(lv)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}function dv(t){class e extends t{constructor(){super(...arguments),this.requiredVisible=!1}}return ft({attribute:"required-visible",mode:"boolean"})(e.prototype,"requiredVisible"),e}class hv extends(Hg(dv(cv))){constructor(){super(...arguments),this.appearance=Jg,this.open=!1,this.filteredOptions=[],this.hasOverflow=!1,this.listboxId=kn("listbox-"),this.availableViewportHeight=0,this.valueUpdatedByInput=!1,this._value="",this.filter="",this.forcedPosition=!1}get value(){return x.track(this,"value"),this._value}set value(t){const e=this._value
let n=t
if(this.$fastController.isConnected&&this.options){const e=this.findIndexOfValidOption(t),i=this.options[this.selectedIndex]?.text,s=this.options[e]?.text
i!==s&&(this.selectedIndex=e),n=this.firstSelectedOption?.text||n}e!==n&&(this._value=n,super.valueChanged(e,n),x.notify(this,"value")),this.filter=t,this.filterOptions(),this.selectedIndex=this.findIndexOfValidOption(this.value)}get options(){return x.track(this,"options"),this.filteredOptions&&this.filter?this.filteredOptions:this._options}set options(t){this._options=t,x.notify(this,"options")}get isAutocompleteInline(){return this.autocomplete===ti||this.isAutocompleteBoth}get isAutocompleteList(){return this.autocomplete===ei||this.isAutocompleteBoth}get isAutocompleteBoth(){return this.autocomplete===ni}slottedOptionsChanged(t,e){const n=this.value
super.slottedOptionsChanged(t,e),this.updateValue(),n&&(this.value=n)}connectedCallback(){super.connectedCallback(),this.forcedPosition=!!this.positionAttribute,this.value&&(this.initialValue=this.value),this.setPositioning(),this.updateInputAriaLabel()}clickHandler(t){if(this.disabled)return!1
if(this.open){const e=t.target.closest("option,[role=option]")
if(!e||e.disabled)return!1
this.selectedOptions=[e],this.control.value=e.text,this.clearSelectionRange(),this.updateValue(!0)}return this.open=!this.open,this.open&&this.control.focus(),!0}toggleButtonClickHandler(t){t.stopImmediatePropagation()}toggleButtonChangeHandler(t){this.open=this.dropdownButton.checked,t.stopImmediatePropagation()}toggleButtonKeyDownHandler(t){switch(t.key){case cn:case rn:case gn:case dn:return this.open=!0,this.stopPropagation(t),!1
default:return!0}}filterOptions(){this.autocomplete&&this.autocomplete!==ii||(this.filter="")
const t=this.filter.toLowerCase()
this.filteredOptions=this._options.filter((e=>e.text.toLowerCase().startsWith(t)&&!e.hidden)),this.isAutocompleteList&&this._options.forEach((t=>{t.visuallyHidden=!this.filteredOptions.includes(t)}))}inputHandler(t){return this.filter=this.control.value,this.filterOptions(),this.isAutocompleteInline||(this.selectedIndex=this.findIndexOfValidOption(this.control.value)),!t.inputType.includes("deleteContent")&&this.filter.length&&(this.isAutocompleteList&&!this.open&&(this.open=!0),this.isAutocompleteInline&&(this.filteredOptions.length?(this.selectedOptions=[this.filteredOptions[0]],this.selectedIndex=this.options.indexOf(this.firstSelectedOption),this.setInlineSelection()):this.selectedIndex=-1)),this.valueUpdatedByInput||(this.valueBeforeTextUpdate=this.value),this.valueUpdatedByInput=!0,this.value!==this.control.value&&this.focusAndScrollOptionIntoView(),this.value=this.control.value,!0}keydownHandler(t){if(t.ctrlKey||t.altKey)return!0
switch(t.key){case dn:this.syncValue(),this.isAutocompleteInline&&(this.filter=this.value),this.open=!1,this.clearSelectionRange(),this.emitChangeIfValueUpdated()
break
case hn:if(this.isAutocompleteInline||(this.selectedIndex=-1),this.open){this.open=!1
break}this.value="",this.control.value="",this.filter="",this.filterOptions()
break
case vn:if(this.setInputToSelection(),!this.open)return!0
t.preventDefault(),this.open=!1
break
case rn:case cn:if(this.filterOptions(),!this.open){this.open=!0
break}this.filteredOptions.length>0&&super.keydownHandler(t),this.isAutocompleteInline&&this.setInlineSelection(),this.open&&this.valueUpdatedByInput&&(this.valueUpdatedByInput=!1)
break
default:return!0}return!0}keyupHandler(t){switch(t.key){case"ArrowLeft":case"ArrowRight":case"Backspace":case"Delete":case"Home":case"End":this.filter=this.control.value,this.selectedIndex=-1,this.filterOptions()}return!0}focusoutHandler(t){if(this.syncValue(),this.open){const e=t.relatedTarget
this.isSameNode(e)&&this.focus()}return this.open=!1,this.emitChangeIfValueUpdated(),!0}formResetCallback(){super.formResetCallback(),this.setDefaultSelectedOption(),this.updateValue()}validate(){super.validate(this.control)}setDefaultSelectedOption(){if(this.$fastController.isConnected&&this.options){const t=this.options.findIndex((t=>!t.disabled&&(null!==t.getAttribute("selected")||t.selected)))
this.selectedIndex=t,!this.dirtyValue&&this.firstSelectedOption&&(this.value=this.firstSelectedOption.text),this.setSelectedOptions()}}selectedIndexChanged(t,e){if(this.$fastController.isConnected){let n=wn(-1,this.options.length-1,e)
if(this.options[n]?.disabled&&(n=-1),n!==this.selectedIndex)return void(this.selectedIndex=n)
super.selectedIndexChanged(t,n),this.setSelectedOptions()}}disabledChanged(t,e){super.disabledChanged&&super.disabledChanged(t,e),this.ariaDisabled=this.disabled?"true":"false"}selectNextOption(){if(!this.disabled){let t=this.selectedIndex
do{if(t+1>=this.options.length)return
t+=1}while(this.options[t].disabled)
this.selectedIndex=t}}selectPreviousOption(){if(!this.disabled){let t=this.selectedIndex
do{if(t-=1,t<0)break}while(this.options[t].disabled)
this.selectedIndex=t}}setPositioning(){if(!this.$fastController.isConnected)return
const t=this.getBoundingClientRect(),e=window.innerHeight-t.bottom
this.forcedPosition?this.position=this.positionAttribute:t.top>e?this.position=Yn:this.position=Xn,this.positionAttribute=this.forcedPosition?this.positionAttribute:this.position,this.availableViewportHeight=this.position===Yn?Math.trunc(t.top):Math.trunc(e)}focusAndScrollOptionIntoView(){this.open&&this.contains(document.activeElement)&&(this.control.focus(),this.firstSelectedOption&&requestAnimationFrame((()=>{this.firstSelectedOption?.scrollIntoView({block:"nearest"})})))}openChanged(){this.open?(this.ariaControls=this.listboxId,this.ariaExpanded="true",this.setPositioning(),this.focusAndScrollOptionIntoView(),b.queueUpdate((()=>this.focus()))):(this.ariaControls="",this.ariaExpanded="false"),this.dropdownButton&&(this.dropdownButton.checked=this.open)}placeholderChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.placeholder=this.placeholder??"")}setSelectedOptions(){this.selectedOptions=this.selectedIndex>-1?[this.options[this.selectedIndex]]:[],this.ariaActiveDescendant=this.firstSelectedOption?.id??"",this.focusAndScrollOptionIntoView()}selectedOptionsChanged(t,e){this.$fastController.isConnected&&this._options.forEach((t=>{t.selected=e.includes(t)}))}positionChanged(t,e){this.positionAttribute=e,this.setPositioning()}regionChanged(t,e){this.region&&this.controlWrapper&&(this.region.anchorElement=this.controlWrapper)}controlWrapperChanged(t,e){this.region&&this.controlWrapper&&(this.region.anchorElement=this.controlWrapper)}ariaLabelChanged(t,e){this.updateInputAriaLabel()}updateValue(t){this.$fastController.isConnected&&(this.value=this.firstSelectedOption?.text||this.control.value,this.control.value=this.value),t&&this.$emit("change")}setInputToSelection(){this.firstSelectedOption&&(this.control.value=this.firstSelectedOption.text,this.control.focus())}setInlineSelection(){this.firstSelectedOption&&(this.setInputToSelection(),this.control.setSelectionRange(this.filter.length,this.control.value.length,"backward"))}clearSelectionRange(){const t=this.control.value.length
this.control.setSelectionRange(t,t)}syncValue(){const t=this.selectedIndex>-1?this.firstSelectedOption?.text:this.control.value
this.updateValue(this.value!==t)}updateInputAriaLabel(){const t=this.shadowRoot?.querySelector(".selected-value")
this.ariaLabel?t?.setAttribute("aria-label",this.ariaLabel):t?.removeAttribute("aria-label")}emitChangeIfValueUpdated(){this.valueUpdatedByInput&&(this.value!==this.valueBeforeTextUpdate&&this.$emit("change"),this.valueUpdatedByInput=!1)}findIndexOfValidOption(t){return this.options.findIndex((e=>!e.disabled&&e.text===t))}}t([ft],hv.prototype,"appearance",void 0),t([ft({attribute:"autocomplete",mode:"fromView"})],hv.prototype,"autocomplete",void 0),t([ft({attribute:"position"})],hv.prototype,"positionAttribute",void 0),t([ft({attribute:"open",mode:"boolean"})],hv.prototype,"open",void 0),t([ft],hv.prototype,"placeholder",void 0),t([C],hv.prototype,"position",void 0),t([C],hv.prototype,"region",void 0),t([C],hv.prototype,"controlWrapper",void 0),t([C],hv.prototype,"control",void 0),t([C],hv.prototype,"listbox",void 0),t([C],hv.prototype,"dropdownButton",void 0),t([C],hv.prototype,"filteredOptions",void 0),t([C],hv.prototype,"hasOverflow",void 0),t([C],hv.prototype,"availableViewportHeight",void 0)
const uv=hv.compose({baseName:"combobox",baseClass:cv,template:(t,e)=>Q`
    <template
        aria-disabled="${t=>t.ariaDisabled}"
        autocomplete="${t=>t.autocomplete}"
        class="${t=>t.open?"open":""} ${t=>t.disabled?"disabled":""} ${t=>t.position}"
        ?open="${t=>t.open}"
        tabindex="${t=>t.disabled?null:"0"}"
        @click="${(t,e)=>t.clickHandler(e.event)}"
        @focusout="${(t,e)=>t.focusoutHandler(e.event)}"
        @keydown="${(t,e)=>t.keydownHandler(e.event)}"
    >
        ${av}
        <div class="control" part="control" ${Ut("controlWrapper")}>
            ${le(0,e)}
            <slot name="control">
                <input
                    aria-activedescendant="${t=>t.open?t.ariaActiveDescendant:null}"
                    aria-autocomplete="${t=>t.ariaAutoComplete}"
                    aria-controls="${t=>t.ariaControls}"
                    aria-disabled="${t=>t.ariaDisabled}"
                    aria-expanded="${t=>t.ariaExpanded}"
                    aria-required="${t=>t.requiredVisible}"
                    aria-haspopup="listbox"
                    class="selected-value"
                    part="selected-value"
                    placeholder="${t=>t.placeholder}"
                    role="combobox"
                    type="text"
                    ?disabled="${t=>t.disabled}"
                    :value="${t=>t.value}"
                    @input="${(t,e)=>t.inputHandler(e.event)}"
                    @keyup="${(t,e)=>t.keyupHandler(e.event)}"
                    ${Ut("control")}
                    ${zg("hasOverflow")}
                    title=${t=>t.hasOverflow&&t.value?t.value:null}
                />
                <div class="indicator" part="indicator" aria-hidden="true">
                    <slot name="indicator">
                        ${e.indicator||""}
                    </slot>
                </div>
            </slot>
            ${ae(0,e)}
        </div>
        <${pg}
            ${Ut("region")}
            class="anchored-region"
            fixed-placement
            auto-update-mode="auto"
            vertical-default-position="${t=>t.positionAttribute===Xg?"top":"bottom"}"
            vertical-positioning-mode="${t=>t.positionAttribute?"locktodefault":"dynamic"}"
            horizontal-default-position="center"
            horizontal-positioning-mode="locktodefault"
            horizontal-scaling="anchor"
            ?hidden="${t=>!t.open}">
            <div
                class="
                    listbox
                    scrollable-region
                    ${t=>0===t.filteredOptions.length?"empty":""}
                "
                id="${t=>t.listboxId}"
                part="listbox"
                role="listbox"
                ?disabled="${t=>t.disabled}"
                style="--ni-private-listbox-available-viewport-height: ${t=>t.availableViewportHeight}px;"
                ${Ut("listbox")}
            >
                <slot name="option"
                    ${ie({filter:t=>t instanceof HTMLElement&&Zn.slottedOptionFilter(t),flatten:!0,property:"slottedOptions"})}
                ></slot>
                ${Gt((t=>0===t.filteredOptions.length),Q`
                    <span class="no-results-label">
                        ${t=>Qm.getValueFor(t)}
                    </span>
                `)}
            </div>
        </${pg}>
    </template>
`,styles:sv,shadowOptions:{delegatesFocus:!0},end:Q`
        <div class="end-slot-container">
            <${bg}
                severity="error"
                class="error-icon"
            ></${bg}>
            <div class="separator"></div>
            <${Kg}
                ${Ut("dropdownButton")}
                appearance="ghost"
                ?checked="${t=>t.open}"
                ?disabled="${t=>t.disabled}"
                content-hidden="true"
                @click="${(t,e)=>t.toggleButtonClickHandler(e.event)}"
                @change="${(t,e)=>t.toggleButtonChangeHandler(e.event)}"
                @keydown="${(t,e)=>t.toggleButtonKeyDownHandler(e.event)}"
                class="dropdown-button"
                part="button"
                aria-hidden="true"
                tabindex="-1"
            >
                <${Yg}
                    slot="start"
                    class="dropdown-icon"
                >
                </${Yg}>
            </${Kg}>
        </div>
        ${Vg}
    `})
Ze(hv,re,oi),Di.getOrCreate().withPrefix("nimble").register(uv())
const pv=Symbol("user dismissed"),fv=Mt`
    ${qs("grid")}

    dialog {
        flex-direction: column;
        background-color: ${il};
        border: none;
        box-shadow: ${Hl};
        padding: 0px;
        width: ${Fl};
        height: ${Nl};
        max-height: ${Ll};
    }

    dialog[open] {
        display: flex;
    }

    dialog${js} {
        outline: 2px solid ${fl};
    }

    dialog::backdrop {
        background: ${gl};
    }

    header {
        min-height: 48px;
        padding: 24px 24px 0px 24px;
        flex: none;
        display: flex;
        flex-direction: column;
        gap: ${$l};
    }

    :host([header-hidden]) header {
        ${fh}
    }

    .title {
        font: ${Ul};
        color: ${ql};
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .subtitle {
        font: ${ic};
        color: ${sc};
    }

    section {
        flex: auto;
        overflow-y: auto;
        font: ${jc};
        color: ${Wc};
        display: flex;
        flex-direction: column;
        gap: ${El};

        ${""}
        padding: 0px 24px 24px 24px;
        margin-top: 24px;
    }

    footer {
        border-top: 2px solid rgba(${nl}, 0.1);
        padding: 24px;
        flex: none;
        display: flex;
        justify-content: flex-end;
        gap: ${El};
    }

    footer.empty {
        padding: 0px;
        height: 72px;
        border-top: none;
    }

    :host([footer-hidden]) footer {
        display: none;
    }
`,mv=Q`
    <template>
        <dialog
            ${Ut("dialogElement")}
            role="dialog"
            part="control"
            @cancel="${(t,e)=>t.cancelHandler(e.event)}"
            @close="${(t,e)=>t.closeHandler(e.event)}"
            aria-labelledby="header"
        >
            <header id="header">
                <div class="title">
                    <slot name="title"></slot>
                </div>
                <div class="subtitle">
                    <slot name="subtitle"></slot>
                </div>
            </header>
            <section>
                <slot></slot>
            </section>
            <footer class="${t=>t.footerIsEmpty?"empty":""}">
                <slot
                    name="footer"
                    ${ie({property:"slottedFooterElements"})}
                ></slot>
            </footer>
        </dialog>
    </template>
`
class gv extends je{constructor(){super(...arguments),this.preventDismiss=!1,this.headerHidden=!1,this.footerHidden=!1,this.footerIsEmpty=!0}get open(){return void 0!==this.resolveShow}async show(){if(this.open)throw new Error("Dialog is already open")
return this.dialogElement.showModal(),await new Promise(((t,e)=>{this.resolveShow=t}))}close(t){if(!this.open)throw new Error("Dialog is not open")
this.dialogElement.close(),this.doResolveShow(t)}slottedFooterElementsChanged(t,e){this.footerIsEmpty=!e?.length}cancelHandler(t){return this.preventDismiss?t.preventDefault():this.doResolveShow(pv),!0}closeHandler(t){t.target===this.dialogElement&&this.resolveShow&&this.doResolveShow(pv)}doResolveShow(t){if(!this.resolveShow)throw new Error("Do not call doResolveShow unless there is a promise to resolve")
this.resolveShow(t),this.resolveShow=void 0}}gv.UserDismissed=pv,t([ft({attribute:"prevent-dismiss",mode:"boolean"})],gv.prototype,"preventDismiss",void 0),t([ft({attribute:"header-hidden",mode:"boolean"})],gv.prototype,"headerHidden",void 0),t([ft({attribute:"footer-hidden",mode:"boolean"})],gv.prototype,"footerHidden",void 0),t([C],gv.prototype,"footerIsEmpty",void 0),t([C],gv.prototype,"slottedFooterElements",void 0),Ze(gv,Sn)
const vv=gv.compose({baseName:"dialog",template:mv,styles:fv,baseClass:gv})
Di.getOrCreate().withPrefix("nimble").register(vv())
const bv=Mt`
    ${qs("block")}

    :host {
        position: absolute;
        width: auto;
        height: 100%;
        outline: none;
        font: ${jc};
        color: ${Wc};
    }

    dialog {
        color: inherit;
        font: inherit;
        background-color: transparent;
        width: auto;
        top: 0px;
        bottom: 0px;
        border-radius: 0px;
        border-width: 0px;
        height: 100%;
        margin: 0px;
        padding: 0px;
        max-width: none;
        max-height: none;
        overflow: hidden;
    }

    @keyframes ni-private-drawer-fade-in-keyframes {
        0% {
            opacity: 0;
        }
        100% {
            opacity: 1;
        }
    }

    dialog::backdrop {
        background: ${gl};
    }

    dialog.animating::backdrop {
        animation: ni-private-drawer-fade-in-keyframes ${Yd} ease-in;
    }

    dialog.closing::backdrop {
        animation-direction: reverse;
    }

    .dialog-contents {
        display: flex;
        flex-direction: column;
        position: absolute;
        width: ${Rl};
        height: 100%;
        background-color: ${il};
    }

    @keyframes ni-private-drawer-slide-in-left-keyframes {
        0% {
            transform: translate(-100%);
        }
        100% {
            transform: translate(0%);
        }
    }

    :host([location='left']) .dialog-contents {
        box-shadow: 3px 0px 8px #00000033;
    }

    :host([location='left']) dialog.animating .dialog-contents {
        animation: ni-private-drawer-slide-in-left-keyframes ${Yd}
            ease-in;
    }

    @keyframes ni-private-drawer-slide-in-right-keyframes {
        0% {
            ${""}
            transform: translate(95%);
        }
        100% {
            transform: translate(0%);
        }
    }

    :host([location='right']) .dialog-contents {
        right: 0px;
        box-shadow: -3px 0px 8px #00000033;
    }

    :host([location='right']) dialog.animating .dialog-contents {
        animation: ni-private-drawer-slide-in-right-keyframes ${Yd}
            ease-in;
    }

    @media (prefers-reduced-motion) {
        :host([location='left']) dialog.animating .dialog-contents,
        :host([location='right']) dialog.animating .dialog-contents {
            animation: ni-private-drawer-fade-in-keyframes ${Yd} ease-in;
        }
    }

    :host([location='left']) dialog.closing .dialog-contents {
        animation-direction: reverse;
    }

    :host([location='right']) dialog.closing .dialog-contents {
        animation-direction: reverse;
    }

    ${""}

    ::slotted(header) {
        padding: ${El};
        flex: none;
        font: ${Ul};
    }

    ::slotted(section) {
        padding: ${El};
        flex: auto;
        overflow-y: auto;
    }

    ::slotted(footer) {
        padding: ${El};
        flex: none;
        display: flex;
        justify-content: flex-end;
        border-top: 2px solid rgba(${nl}, 0.1);
    }
`,yv=Q`
    <dialog
        ${Ut("dialog")}
        aria-label="${t=>t.ariaLabel}"
        @cancel="${(t,e)=>t.cancelHandler(e.event)}"
        @close="${(t,e)=>t.closeHandler(e.event)}"
    >
        <div class="dialog-contents">
            <slot></slot>
        </div>
    </dialog>
`,wv="right"
class xv extends je{constructor(){super(...arguments),this.location=wv,this.preventDismiss=!1,this.closing=!1,this.animationEndHandlerFunction=()=>this.animationEndHandler()}get open(){return void 0!==this.resolveShow}async show(){if(this.open)throw new Error("Drawer is already open")
return this.openDialog(),await new Promise(((t,e)=>{this.resolveShow=t}))}close(t){if(!this.open||this.closing)throw new Error("Drawer is not open or already closing")
this.closeReason=t,this.closeDialog()}cancelHandler(t){return t.preventDefault(),this.preventDismiss||(this.closeReason=pv,this.closeDialog()),!0}closeHandler(t){t.target===this.dialog&&this.resolveShow&&this.doResolveShow(pv)}doResolveShow(t){if(!this.resolveShow)throw new Error("Do not call doResolveShow unless there is a promise to resolve")
this.resolveShow(t),this.resolveShow=void 0}openDialog(){this.dialog.showModal(),this.triggerAnimation()}closeDialog(){this.closing=!0,this.triggerAnimation()}triggerAnimation(){this.dialog.offsetHeight,this.dialog.classList.add("animating"),this.closing&&this.dialog.classList.add("closing"),this.dialog.addEventListener(tn,this.animationEndHandlerFunction)}animationEndHandler(){this.dialog.removeEventListener(tn,this.animationEndHandlerFunction),this.dialog.classList.remove("animating"),this.closing&&(this.dialog.classList.remove("closing"),this.dialog.close(),this.closing=!1,this.doResolveShow(this.closeReason))}}xv.UserDismissed=pv,t([ft],xv.prototype,"location",void 0),t([ft({attribute:"prevent-dismiss",mode:"boolean"})],xv.prototype,"preventDismiss",void 0),Ze(xv,Sn)
const Cv=xv.compose({baseName:"drawer",template:yv,styles:bv})
Di.getOrCreate().withPrefix("nimble").register(Cv())
Tm("icon-add",class extends Am{constructor(){super(Ah)}})
const kv="nimble-icon-add"
Tm("icon-arrow-down",class extends Am{constructor(){super(Th)}})
const Sv="nimble-icon-arrow-down"
Tm("icon-arrow-down-left-and-arrow-up-right",class extends Am{constructor(){super(Oh)}})
Tm("icon-arrow-down-rectangle",class extends Am{constructor(){super(Rh)}})
Tm("icon-arrow-down-right-and-arrow-up-left",class extends Am{constructor(){super(Fh)}})
Tm("icon-arrow-expander-up",class extends Am{constructor(){super(Ph)}})
Tm("icon-arrow-in-circle",class extends Am{constructor(){super(zh)}})
Tm("icon-arrow-left-from-line",class extends Am{constructor(){super(Vh)}})
Tm("icon-arrow-out-circle",class extends Am{constructor(){super(Hh)}})
Tm("icon-arrow-partial-rotate-left",class extends Am{constructor(){super(Uh)}})
Tm("icon-arrow-right-thin",class extends Am{constructor(){super(qh)}})
Tm("icon-arrow-right-to-line",class extends Am{constructor(){super(jh)}})
Tm("icon-arrow-rotate-right",class extends Am{constructor(){super(Wh)}})
Tm("icon-arrow-u-left",class extends Am{constructor(){super(Gh)}})
Tm("icon-arrow-u-right",class extends Am{constructor(){super(Zh)}})
Tm("icon-arrow-u-up",class extends Am{constructor(){super(Kh)}})
Tm("icon-arrow-up",class extends Am{constructor(){super(Yh)}})
const _v="nimble-icon-arrow-up"
Tm("icon-arrow-up-left-and-arrow-down-right",class extends Am{constructor(){super(Xh)}})
Tm("icon-arrow-up-rectangle",class extends Am{constructor(){super(Jh)}})
Tm("icon-arrow-up-right-and-arrow-down-left",class extends Am{constructor(){super(Qh)}})
Tm("icon-arrow-up-right-from-square",class extends Am{constructor(){super(tu)}})
Tm("icon-arrows-maximize",class extends Am{constructor(){super(eu)}})
Tm("icon-arrows-repeat",class extends Am{constructor(){super(nu)}})
Tm("icon-at",class extends Am{constructor(){super(su)}})
Tm("icon-bars",class extends Am{constructor(){super(ou)}})
Tm("icon-bell",class extends Am{constructor(){super(ru)}})
Tm("icon-bell-and-comment",class extends Am{constructor(){super(au)}})
Tm("icon-bell-check",class extends Am{constructor(){super(lu)}})
Tm("icon-bell-circle",class extends Am{constructor(){super(cu)}})
Tm("icon-bell-on",class extends Am{constructor(){super(du)}})
Tm("icon-bell-solid-circle",class extends Am{constructor(){super(hu)}})
Tm("icon-block-with-ribbon",class extends Am{constructor(){super(uu)}})
Tm("icon-bold-b",class extends Am{constructor(){super(pu)}})
const Iv="nimble-icon-bold-b"
Tm("icon-book-magnifying-glass",class extends Am{constructor(){super(fu)}})
Tm("icon-calendar-check-lines",class extends Am{constructor(){super(mu)}})
Tm("icon-calendar-clock",class extends Am{constructor(){super(gu)}})
Tm("icon-calendar-day",class extends Am{constructor(){super(vu)}})
Tm("icon-calendar-day-outline",class extends Am{constructor(){super(bu)}})
Tm("icon-calendar-days",class extends Am{constructor(){super(yu)}})
Tm("icon-calendar-lines",class extends Am{constructor(){super(wu)}})
Tm("icon-calendar-rectangle",class extends Am{constructor(){super(xu)}})
Tm("icon-calendar-week",class extends Am{constructor(){super(Cu)}})
Tm("icon-chart-diagram",class extends Am{constructor(){super(ku)}})
Tm("icon-chart-diagram-child-focus",class extends Am{constructor(){super(Su)}})
Tm("icon-chart-diagram-parent-focus",class extends Am{constructor(){super(_u)}})
Tm("icon-chart-diagram-parent-focus-two-child",class extends Am{constructor(){super(Iu)}})
Tm("icon-check",class extends Am{constructor(){super(Mu)}})
Tm("icon-check-dot",class extends Am{constructor(){super($u)}})
Tm("icon-circle",class extends Am{constructor(){super(Du)}})
Tm("icon-circle-broken",class extends Am{constructor(){super(Au)}})
Tm("icon-circle-check",class extends Am{constructor(){super(Tu)}})
Tm("icon-circle-filled",class extends Am{constructor(){super(Eu)}})
Tm("icon-circle-partial-broken",class extends Am{constructor(){super(Ou)}})
Tm("icon-circle-slash",class extends Am{constructor(){super(Ru)}})
Tm("icon-circle-x",class extends Am{constructor(){super(Fu)}})
Tm("icon-clipboard",class extends Am{constructor(){super(Nu)}})
Tm("icon-clock",class extends Am{constructor(){super(Lu)}})
Tm("icon-clock-cog",class extends Am{constructor(){super(Bu)}})
Tm("icon-clock-exclamation",class extends Am{constructor(){super(Pu)}})
Tm("icon-clock-triangle",class extends Am{constructor(){super(zu)}})
Tm("icon-clone",class extends Am{constructor(){super(Vu)}})
Tm("icon-cloud",class extends Am{constructor(){super(Hu)}})
Tm("icon-cloud-upload",class extends Am{constructor(){super(Uu)}})
Tm("icon-cloud-with-arrow",class extends Am{constructor(){super(qu)}})
Tm("icon-cog",class extends Am{constructor(){super(ju)}})
Tm("icon-cog-database",class extends Am{constructor(){super(Wu)}})
Tm("icon-cog-database-inset",class extends Am{constructor(){super(Gu)}})
Tm("icon-cog-small-cog",class extends Am{constructor(){super(Zu)}})
Tm("icon-cog-zoomed",class extends Am{constructor(){super(Ku)}})
Tm("icon-comment",class extends Am{constructor(){super(Yu)}})
Tm("icon-computer-and-monitor",class extends Am{constructor(){super(Xu)}})
Tm("icon-copy",class extends Am{constructor(){super(Ju)}})
Tm("icon-copy-text",class extends Am{constructor(){super(Qu)}})
Tm("icon-dashboard-builder",class extends Am{constructor(){super(tp)}})
Tm("icon-dashboard-builder-legend",class extends Am{constructor(){super(ep)}})
Tm("icon-dashboard-builder-templates",class extends Am{constructor(){super(np)}})
Tm("icon-dashboard-builder-tile",class extends Am{constructor(){super(ip)}})
Tm("icon-database",class extends Am{constructor(){super(sp)}})
Tm("icon-database-check",class extends Am{constructor(){super(op)}})
Tm("icon-debug",class extends Am{constructor(){super(rp)}})
Tm("icon-desktop",class extends Am{constructor(){super(ap)}})
Tm("icon-donut-chart",class extends Am{constructor(){super(lp)}})
Tm("icon-dot-solid-dot-stroke",class extends Am{constructor(){super(cp)}})
Tm("icon-dot-solid-dot-stroke-measurement",class extends Am{constructor(){super(dp)}})
Tm("icon-down-right-from-square",class extends Am{constructor(){super(hp)}})
Tm("icon-download",class extends Am{constructor(){super(up)}})
Tm("icon-electronic-chip-zoomed",class extends Am{constructor(){super(pp)}})
Tm("icon-eye",class extends Am{constructor(){super(mp)}})
Tm("icon-eye-dash",class extends Am{constructor(){super(gp)}})
Tm("icon-fancy-a",class extends Am{constructor(){super(vp)}})
Tm("icon-file",class extends Am{constructor(){super(bp)}})
Tm("icon-file-arrow-curved-right",class extends Am{constructor(){super(yp)}})
Tm("icon-file-drawer",class extends Am{constructor(){super(wp)}})
Tm("icon-file-search",class extends Am{constructor(){super(xp)}})
Tm("icon-filter",class extends Am{constructor(){super(Cp)}})
Tm("icon-floppy-disk",class extends Am{constructor(){super(kp)}})
Tm("icon-floppy-disk-checkmark",class extends Am{constructor(){super(Sp)}})
Tm("icon-floppy-disk-pen",class extends Am{constructor(){super(_p)}})
Tm("icon-floppy-disk-star-arrow-right",class extends Am{constructor(){super(Ip)}})
Tm("icon-floppy-disk-three-dots",class extends Am{constructor(){super(Mp)}})
Tm("icon-folder",class extends Am{constructor(){super($p)}})
Tm("icon-folder-open",class extends Am{constructor(){super(Dp)}})
Tm("icon-forward-slash",class extends Am{constructor(){super(Ep)}})
Tm("icon-four-dots-square",class extends Am{constructor(){super(Ap)}})
Tm("icon-function",class extends Am{constructor(){super(Tp)}})
Tm("icon-gauge-simple",class extends Am{constructor(){super(Op)}})
Tm("icon-grid-three-by-three",class extends Am{constructor(){super(Rp)}})
Tm("icon-grid-two-by-two",class extends Am{constructor(){super(Fp)}})
Tm("icon-hammer",class extends Am{constructor(){super(Np)}})
Tm("icon-hashtag",class extends Am{constructor(){super(Lp)}})
Tm("icon-home",class extends Am{constructor(){super(Bp)}})
Tm("icon-horizontal-triangle-outline",class extends Am{constructor(){super(Pp)}})
Tm("icon-hourglass",class extends Am{constructor(){super(zp)}})
Tm("icon-indent",class extends Am{constructor(){super(Vp)}})
Tm("icon-indeterminant-checkbox",class extends Am{constructor(){super(Hp)}})
Tm("icon-info-circle",class extends Am{constructor(){super(qp)}})
Tm("icon-inward-squares-three",class extends Am{constructor(){super(jp)}})
Tm("icon-italic-i",class extends Am{constructor(){super(Wp)}})
const Mv="nimble-icon-italic-i"
Tm("icon-key",class extends Am{constructor(){super(Gp)}})
Tm("icon-laptop",class extends Am{constructor(){super(Zp)}})
Tm("icon-layer-group",class extends Am{constructor(){super(Kp)}})
Tm("icon-lightbulb",class extends Am{constructor(){super(Yp)}})
Tm("icon-lightning-bolt",class extends Am{constructor(){super(Xp)}})
Tm("icon-link",class extends Am{constructor(){super(Jp)}})
Tm("icon-link-cancel",class extends Am{constructor(){super(Qp)}})
Tm("icon-list",class extends Am{constructor(){super(tf)}})
const $v="nimble-icon-list"
Tm("icon-list-tree",class extends Am{constructor(){super(ef)}})
Tm("icon-list-tree-database",class extends Am{constructor(){super(nf)}})
Tm("icon-lock",class extends Am{constructor(){super(sf)}})
Tm("icon-magnifying-glass",class extends Am{constructor(){super(of)}})
const Dv="nimble-icon-magnifying-glass"
Tm("icon-markdown",class extends Am{constructor(){super(rf)}})
Tm("icon-message-bot",class extends Am{constructor(){super(af)}})
Tm("icon-microphone",class extends Am{constructor(){super(lf)}})
Tm("icon-minus",class extends Am{constructor(){super(cf)}})
Tm("icon-minus-wide",class extends Am{constructor(){super(df)}})
const Ev="nimble-icon-minus-wide"
Tm("icon-mobile",class extends Am{constructor(){super(hf)}})
Tm("icon-mountain-sun",class extends Am{constructor(){super(uf)}})
Tm("icon-ni",class extends Am{constructor(){super(pf)}})
Tm("icon-notebook",class extends Am{constructor(){super(ff)}})
Tm("icon-number-list",class extends Am{constructor(){super(mf)}})
const Av="nimble-icon-number-list"
Tm("icon-outdent",class extends Am{constructor(){super(gf)}})
Tm("icon-outward-squares-three",class extends Am{constructor(){super(vf)}})
Tm("icon-paper-plane",class extends Am{constructor(){super(bf)}})
Tm("icon-paperclip",class extends Am{constructor(){super(yf)}})
Tm("icon-paste",class extends Am{constructor(){super(wf)}})
Tm("icon-pause",class extends Am{constructor(){super(xf)}})
Tm("icon-pencil",class extends Am{constructor(){super(Cf)}})
Tm("icon-play",class extends Am{constructor(){super(kf)}})
Tm("icon-pot-with-lid",class extends Am{constructor(){super(Sf)}})
Tm("icon-question",class extends Am{constructor(){super(_f)}})
Tm("icon-rectangle-check-lines",class extends Am{constructor(){super(If)}})
Tm("icon-rectangle-lines",class extends Am{constructor(){super(Mf)}})
Tm("icon-running-arrow",class extends Am{constructor(){super($f)}})
Tm("icon-screen-check-lines",class extends Am{constructor(){super(Df)}})
Tm("icon-screen-check-lines-calendar",class extends Am{constructor(){super(Ef)}})
Tm("icon-server",class extends Am{constructor(){super(Af)}})
Tm("icon-share-nodes",class extends Am{constructor(){super(Tf)}})
Tm("icon-shield-check",class extends Am{constructor(){super(Of)}})
Tm("icon-shield-xmark",class extends Am{constructor(){super(Rf)}})
Tm("icon-signal-bars",class extends Am{constructor(){super(Ff)}})
Tm("icon-sine-graph",class extends Am{constructor(){super(Nf)}})
Tm("icon-skip-arrow",class extends Am{constructor(){super(Lf)}})
Tm("icon-sparkle-swirls",class extends Am{constructor(){super(Bf)}})
Tm("icon-sparkles",class extends Am{constructor(){super(Pf)}})
Tm("icon-spinner",class extends Am{constructor(){super(zf)}})
Tm("icon-square-check",class extends Am{constructor(){super(Vf)}})
Tm("icon-square-t",class extends Am{constructor(){super(Hf)}})
Tm("icon-square-x",class extends Am{constructor(){super(Uf)}})
Tm("icon-star-8-point",class extends Am{constructor(){super(qf)}})
Tm("icon-stop-square",class extends Am{constructor(){super(jf)}})
Tm("icon-systemlink",class extends Am{constructor(){super(Wf)}})
Tm("icon-t",class extends Am{constructor(){super(Gf)}})
Tm("icon-tablet",class extends Am{constructor(){super(Zf)}})
Tm("icon-tag",class extends Am{constructor(){super(Kf)}})
Tm("icon-tags",class extends Am{constructor(){super(Yf)}})
Tm("icon-target-crosshairs",class extends Am{constructor(){super(Xf)}})
Tm("icon-target-crosshairs-progress",class extends Am{constructor(){super(Jf)}})
Tm("icon-three-circles-ascending-container",class extends Am{constructor(){super(Qf)}})
Tm("icon-three-dots-line",class extends Am{constructor(){super(tm)}})
const Tv="nimble-icon-three-dots-line"
Tm("icon-three-vertical-lines",class extends Am{constructor(){super(em)}})
Tm("icon-thumb-down",class extends Am{constructor(){super(nm)}})
Tm("icon-thumb-up",class extends Am{constructor(){super(im)}})
Tm("icon-thumbtack",class extends Am{constructor(){super(sm)}})
Tm("icon-tile-size",class extends Am{constructor(){super(om)}})
Tm("icon-trash",class extends Am{constructor(){super(am)}})
Tm("icon-triangle",class extends Am{constructor(){super(lm)}})
Tm("icon-triangle-two-lines-horizontal",class extends Am{constructor(){super(dm)}})
const Ov="nimble-icon-triangle-two-lines-horizontal"
Tm("icon-true-false-rectangle",class extends Am{constructor(){super(hm)}})
Tm("icon-two-squares-in-brackets",class extends Am{constructor(){super(um)}})
const Rv="nimble-icon-two-squares-in-brackets"
Tm("icon-two-triangles-between-lines",class extends Am{constructor(){super(pm)}})
Tm("icon-unlink",class extends Am{constructor(){super(fm)}})
Tm("icon-unlock",class extends Am{constructor(){super(mm)}})
Tm("icon-up-right-from-square",class extends Am{constructor(){super(gm)}})
Tm("icon-upload",class extends Am{constructor(){super(vm)}})
Tm("icon-user",class extends Am{constructor(){super(bm)}})
Tm("icon-watch",class extends Am{constructor(){super(ym)}})
Tm("icon-waveform",class extends Am{constructor(){super(wm)}})
Tm("icon-webvi-custom",class extends Am{constructor(){super(xm)}})
Tm("icon-webvi-host",class extends Am{constructor(){super(Cm)}})
Tm("icon-window-code",class extends Am{constructor(){super(km)}})
Tm("icon-window-text",class extends Am{constructor(){super(Sm)}})
Tm("icon-wrench-hammer",class extends Am{constructor(){super(_m)}})
Tm("icon-xmark",class extends Am{constructor(){super(Im)}})
Tm("icon-xmark-check",class extends Am{constructor(){super(Mm)}})
class Fv extends je{constructor(){super(...arguments),this.propertyNotifier=x.getNotifier(this)}connectedCallback(){super.connectedCallback(),this.initializeThemeProvider(),this.propertyNotifier.subscribe(this)}disconnectedCallback(){if(super.disconnectedCallback(),this.propertyNotifier.unsubscribe(this),this.themeProvider){for(const t of Object.values(this.supportedLabels))t.deleteValueFor(this.themeProvider)
this.themeProvider=void 0}}handleChange(t,e){if(this.supportedLabels[e]){const t=this.supportedLabels[e],n=this[e]
this.themeProvider&&(null==n?t.deleteValueFor(this.themeProvider):t.setValueFor(this.themeProvider,n))}}initializeThemeProvider(){if(this.themeProvider=this.closest(tl)??void 0,this.themeProvider)for(const[t,e]of Object.entries(this.supportedLabels)){const n=this[t]
null==n?e.deleteValueFor(this.themeProvider):e.setValueFor(this.themeProvider,n)}}}const Nv=Mt`
    ${qs("none")}
`,Lv={popupDismiss:Wm,numericDecrement:Gm,numericIncrement:Zm,popupIconError:Km,popupIconWarning:Ym,popupIconInformation:Xm,filterSearch:Jm,filterNoResults:Qm,loading:tg,scrollBackward:eg,scrollForward:ng}
class Bv extends Fv{constructor(){super(...arguments),this.supportedLabels=Lv}}t([ft({attribute:"popup-dismiss"})],Bv.prototype,"popupDismiss",void 0),t([ft({attribute:"numeric-decrement"})],Bv.prototype,"numericDecrement",void 0),t([ft({attribute:"numeric-increment"})],Bv.prototype,"numericIncrement",void 0),t([ft({attribute:"popup-icon-error"})],Bv.prototype,"popupIconError",void 0),t([ft({attribute:"popup-icon-warning"})],Bv.prototype,"popupIconWarning",void 0),t([ft({attribute:"popup-icon-information"})],Bv.prototype,"popupIconInformation",void 0),t([ft({attribute:"filter-search"})],Bv.prototype,"filterSearch",void 0),t([ft({attribute:"filter-no-results"})],Bv.prototype,"filterNoResults",void 0),t([ft({attribute:"loading"})],Bv.prototype,"loading",void 0),t([ft({attribute:"scroll-backward"})],Bv.prototype,"scrollBackward",void 0),t([ft({attribute:"scroll-forward"})],Bv.prototype,"scrollForward",void 0)
const Pv=Bv.compose({baseName:"label-provider-core",styles:Nv})
Di.getOrCreate().withPrefix("nimble").register(Pv())
const zv="Collapse group",Vv="Expand group",Hv="Collapse row",Uv="Expand row",qv="Collapse all",jv="Options",Wv="Grouped",Gv="Sorted ascending",Zv="Sorted descending",Kv="Select all rows",Yv="Select all rows in group",Xv="Select row",Jv="Row operations",Qv="Loading",tb="No value",eb="Empty",nb=ki.create({name:"table-group-collapse-label",cssCustomPropertyName:null}).withDefault(zv),ib=ki.create({name:"table-group-expand-label",cssCustomPropertyName:null}).withDefault(Vv),sb=ki.create({name:"table-row-collapse-label",cssCustomPropertyName:null}).withDefault(Hv),ob=ki.create({name:"table-row-expand-label",cssCustomPropertyName:null}).withDefault(Uv),rb=ki.create({name:"table-collapse-all-label",cssCustomPropertyName:null}).withDefault(qv),ab=ki.create({name:"table-cell-action-menu-label",cssCustomPropertyName:null}).withDefault(jv),lb=ki.create({name:"table-column-header-grouped-label",cssCustomPropertyName:null}).withDefault(Wv),cb=ki.create({name:"table-column-header-sorted-ascending-label",cssCustomPropertyName:null}).withDefault(Gv),db=ki.create({name:"table-column-header-sorted-descending-label",cssCustomPropertyName:null}).withDefault(Zv),hb=ki.create({name:"table-select-all-label",cssCustomPropertyName:null}).withDefault(Kv),ub=ki.create({name:"table-group-select-all-label",cssCustomPropertyName:null}).withDefault(Yv),pb=ki.create({name:"table-row-select-label",cssCustomPropertyName:null}).withDefault(Xv),fb=ki.create({name:"table-row-operation-column-label",cssCustomPropertyName:null}).withDefault(Jv),mb=ki.create({name:"table-row-loading-label",cssCustomPropertyName:null}).withDefault(Qv),gb=ki.create({name:"table-group-row-placeholder-no-value-label",cssCustomPropertyName:null}).withDefault(tb),vb=ki.create({name:"table-group-row-placeholder-empty-label",cssCustomPropertyName:null}).withDefault(eb),bb={groupCollapse:nb,groupExpand:ib,rowCollapse:sb,rowExpand:ob,collapseAll:rb,cellActionMenu:ab,columnHeaderGrouped:lb,columnHeaderSortedAscending:cb,columnHeaderSortedDescending:db,selectAll:hb,groupSelectAll:ub,rowSelect:pb,rowOperationColumn:fb,rowLoading:mb,groupRowPlaceholderNoValue:gb,groupRowPlaceholderEmpty:vb}
class yb extends Fv{constructor(){super(...arguments),this.supportedLabels=bb}}t([ft({attribute:"group-collapse"})],yb.prototype,"groupCollapse",void 0),t([ft({attribute:"group-expand"})],yb.prototype,"groupExpand",void 0),t([ft({attribute:"row-collapse"})],yb.prototype,"rowCollapse",void 0),t([ft({attribute:"row-expand"})],yb.prototype,"rowExpand",void 0),t([ft({attribute:"collapse-all"})],yb.prototype,"collapseAll",void 0),t([ft({attribute:"cell-action-menu"})],yb.prototype,"cellActionMenu",void 0),t([ft({attribute:"column-header-grouped"})],yb.prototype,"columnHeaderGrouped",void 0),t([ft({attribute:"column-header-sorted-ascending"})],yb.prototype,"columnHeaderSortedAscending",void 0),t([ft({attribute:"column-header-sorted-descending"})],yb.prototype,"columnHeaderSortedDescending",void 0),t([ft({attribute:"select-all"})],yb.prototype,"selectAll",void 0),t([ft({attribute:"group-select-all"})],yb.prototype,"groupSelectAll",void 0),t([ft({attribute:"row-select"})],yb.prototype,"rowSelect",void 0),t([ft({attribute:"row-operation-column"})],yb.prototype,"rowOperationColumn",void 0),t([ft({attribute:"row-loading"})],yb.prototype,"rowLoading",void 0),t([ft({attribute:"group-row-placeholder-no-value"})],yb.prototype,"groupRowPlaceholderNoValue",void 0),t([ft({attribute:"group-row-placeholder-empty"})],yb.prototype,"groupRowPlaceholderEmpty",void 0)
const wb=yb.compose({baseName:"label-provider-table",styles:Nv})
Di.getOrCreate().withPrefix("nimble").register(wb())
const xb=Mt`
    ${qs("flex")}

    :host {
        font: ${jc};
        cursor: pointer;
        justify-content: left;
        height: ${Il};
    }

    :host([aria-selected='true']) {
        box-shadow: none;
        outline: none;
        background-color: ${sl};
    }

    :host([aria-selected='true']:hover) {
        background-color: ${rl};
    }

    :host(:hover) {
        background-color: ${al};
    }

    :host(:hover):host([disabled]) {
        box-shadow: none;
        background-color: transparent;
    }

    :host(:${js}) {
        box-shadow: 0px 0px 0px 1px ${fl} inset;
        outline: 1px solid ${fl};
        outline-offset: -4px;
    }

    :host(:active) {
        box-shadow: none;
        outline: none;
        background-color: ${sl};
    }

    :host([disabled]) {
        color: ${Gc};
        cursor: default;
    }

    :host([visually-hidden]) {
        display: none;
    }

    [part='start'] {
        display: none;
    }

    .content {
        padding: 8px 4px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .content[disabled] {
        box-shadow: none;
        outline: none;
    }

    [part='end'] {
        display: none;
    }
`,Cb=t=>t.assignedNodes().map((t=>t.textContent?.trim())).filter((t=>void 0!==t&&""!==t)).join(" ")
class kb extends Wn{constructor(){super(...arguments),this.hidden=!1,this.visuallyHidden=!1,this.activeOption=!1,this.hasOverflow=!1}get elementTextContent(){return Cb(this.contentSlot)}connectedCallback(){super.connectedCallback()
const t=this.getListOptionOwner()
t?.registerOption(this)}getListOptionOwner(){let t=this.parentElement
for(;t;){if(this.isListOptionOwner(t))return t
t=t.parentElement}}isListOptionOwner(t){return!!t&&"function"==typeof t.registerOption}}t([ft({mode:"boolean"})],kb.prototype,"hidden",void 0),t([ft({attribute:"visually-hidden",mode:"boolean"})],kb.prototype,"visuallyHidden",void 0),t([ft({attribute:"active-option",mode:"boolean"})],kb.prototype,"activeOption",void 0),t([C],kb.prototype,"hasOverflow",void 0)
const Sb=kb.compose({baseName:"list-option",baseClass:Wn,template:(t,e)=>Q`
    <template
        aria-checked="${t=>t.ariaChecked}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-posinset="${t=>t.ariaPosInSet}"
        aria-selected="${t=>t.ariaSelected}"
        aria-setsize="${t=>t.ariaSetSize}"
        class="${t=>[t.checked&&"checked",t.selected&&"selected",t.disabled&&"disabled"].filter(Boolean).join(" ")}"
        role="option"
        slot="option"
    >
        ${le(0,e)}
        <span
            class="content"
            part="content"
            ${zg("hasOverflow")}
            title=${t=>t.hasOverflow&&t.elementTextContent?t.elementTextContent:null}
        >
            <slot ${Ut("contentSlot")} ${ie("content")}></slot>
        </span>
        ${ae(0,e)}
    </template>
`,styles:xb})
Di.getOrCreate().withPrefix("nimble").register(Sb())
const _b="nimble-list-option",Ib=Mt`
    ${qs("flex")}

    :host {
        cursor: default;
        flex-direction: column;
    }

    :host([visually-hidden]) {
        display: none;
    }

    :host::after,
    :host::before {
        content: ' ';
        margin-top: ${$l};
        margin-bottom: ${$l};
        border-bottom: ${ll} 2px solid;
        opacity: 0.1;
        display: none;
    }

    :host([top-separator-visible])::before,
    :host([bottom-separator-visible])::after {
        display: block;
    }

    slot[name='option']::slotted([role='option']) {
        background-color: transparent;
    }

    slot[name='option']::slotted([role='option']:hover) {
        background-color: ${al};
    }

    slot[name='option']::slotted([role='option'][active-option]) {
        background-color: ${sl};
    }

    slot[name='option']::slotted([role='option'][active-option]:hover) {
        background-color: ${rl};
    }

    .label-display {
        font: ${od};
        text-transform: ${Gd};
        color: ${rd};
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        margin-left: ${$l};
        margin-bottom: ${$l};
    }

    .label-slot.hidden {
        display: none;
    }
`,Mb=Q`
<template
    role="group"
    aria-label="${t=>t.labelContent}"
    slot="option"
>
    <span ${zg("hasOverflow")} 
        class="label-display"
        aria-hidden="true"
        title=${t=>t.hasOverflow&&t.labelContent?t.labelContent:null}
        @click="${(t,e)=>t.clickHandler(e.event)}"
    >
        ${Gt((t=>"string"==typeof t.label),Q`${t=>t.label}`)} 
        <slot ${Ut("labelSlot")}
            class="label-slot ${t=>"string"==typeof t.label?"hidden":""}"
        >
        </slot>
    </span>
    <span class="content" part="content" role="none">
        <slot name="option"
        ${ie({flatten:!0,filter:t=>(t=>t instanceof kb)(t),property:"listOptions"})}
></slot>
    </span>
</template>
`
class $b extends je{constructor(){super(...arguments),this.hidden=!1,this.visuallyHidden=!1,this.topSeparatorVisible=!1,this.bottomSeparatorVisible=!1,this.hasOverflow=!1,this.hiddenOptions=new Set}get labelContent(){return this.label?this.label:this.$fastController.isConnected?Cb(this.labelSlot):""}clickHandler(t){t.preventDefault(),t.stopImmediatePropagation()}handleChange(t,e){t instanceof kb&&("hidden"===e||"visuallyHidden"===e)&&(t.hidden||t.visuallyHidden?this.hiddenOptions.add(t):this.hiddenOptions.delete(t),this.visuallyHidden=this.hiddenOptions.size===this.listOptions.length)}listOptionsChanged(t,e){this.hiddenOptions.clear(),e.filter((t=>t.hidden||t.visuallyHidden)).forEach((t=>this.hiddenOptions.add(t))),t?.forEach((t=>{const e=x.getNotifier(t)
e.unsubscribe(this,"hidden"),e.unsubscribe(this,"visuallyHidden")}))
let n=!0
e?.forEach((t=>{const e=x.getNotifier(t)
e.subscribe(this,"hidden"),e.subscribe(this,"visuallyHidden"),n=n&&(t.hidden||t.visuallyHidden)})),this.visuallyHidden=0===e.length||n}}t([ft],$b.prototype,"label",void 0),t([ft({mode:"boolean"})],$b.prototype,"hidden",void 0),t([ft({attribute:"visually-hidden",mode:"boolean"})],$b.prototype,"visuallyHidden",void 0),t([ft({attribute:"top-separator-visible",mode:"boolean"})],$b.prototype,"topSeparatorVisible",void 0),t([ft({attribute:"bottom-separator-visible",mode:"boolean"})],$b.prototype,"bottomSeparatorVisible",void 0),t([C],$b.prototype,"hasOverflow",void 0),t([C],$b.prototype,"listOptions",void 0),t([k],$b.prototype,"labelContent",null)
const Db=$b.compose({baseName:"list-option-group",baseClass:je,template:Mb,styles:Ib})
Di.getOrCreate().withPrefix("nimble").register(Db())
let Eb=class extends je{}
t([ft()],Eb.prototype,"key",void 0)
const Ab=Q`<template slot="mapping"></template>`,Tb=Mt`
    ${qs("none")}
`
class Ob extends Eb{}t([ft()],Ob.prototype,"text",void 0)
const Rb=Ob.compose({baseName:"mapping-empty",template:Ab,styles:Tb})
function Fb(t){return t.prototype instanceof Am}Di.getOrCreate().withPrefix("nimble").register(Rb())
class Nb extends Eb{constructor(){super(...arguments),this.textHidden=!1}async resolveIconAsync(t){try{this.resolvedIcon=void 0,await customElements.whenDefined(t)}catch(t){return}if(t!==this.icon)return
const e=customElements.get(t)
this.resolvedIcon=Fb(e)?t:void 0}iconChanged(){const t=this.icon
if(!t)return void(this.resolvedIcon=void 0)
const e=customElements.get(t)
e?this.resolvedIcon=Fb(e)?t:void 0:this.resolveIconAsync(t)}}t([ft()],Nb.prototype,"icon",void 0),t([ft()],Nb.prototype,"severity",void 0),t([ft()],Nb.prototype,"text",void 0),t([ft({attribute:"text-hidden",mode:"boolean"})],Nb.prototype,"textHidden",void 0),t([C],Nb.prototype,"resolvedIcon",void 0)
const Lb=Nb.compose({baseName:"mapping-icon",template:Ab,styles:Tb})
Di.getOrCreate().withPrefix("nimble").register(Lb())
class Bb extends Eb{constructor(){super(...arguments),this.textHidden=!1}}t([ft()],Bb.prototype,"text",void 0),t([ft({attribute:"text-hidden",mode:"boolean"})],Bb.prototype,"textHidden",void 0)
const Pb=Bb.compose({baseName:"mapping-spinner",template:Ab,styles:Tb})
Di.getOrCreate().withPrefix("nimble").register(Pb())
class zb extends Eb{}t([ft()],zb.prototype,"text",void 0)
const Vb=zb.compose({baseName:"mapping-text",template:Ab,styles:Tb})
Di.getOrCreate().withPrefix("nimble").register(Vb())
let Hb=class t extends je{constructor(){super(...arguments),this.expandedItem=null,this.focusIndex=-1,this.isNestedMenu=()=>null!==this.parentElement&&Je(this.parentElement)&&"menuitem"===this.parentElement.getAttribute("role"),this.handleFocusOut=t=>{if(!this.contains(t.relatedTarget)&&void 0!==this.menuItems){this.collapseExpandedItem()
const t=this.menuItems.findIndex(this.isFocusableElement)
this.menuItems[this.focusIndex]?.setAttribute("tabindex","-1"),this.menuItems[t]?.setAttribute("tabindex","0"),this.focusIndex=t}},this.handleItemFocus=t=>{const e=t.target
void 0!==this.menuItems&&e!==this.menuItems[this.focusIndex]&&(this.menuItems[this.focusIndex]?.setAttribute("tabindex","-1"),this.focusIndex=this.menuItems.indexOf(e),e.setAttribute("tabindex","0"))},this.handleExpandedChanged=t=>{if(t.defaultPrevented||null===t.target||!this.menuItems?.includes(t.target))return
t.preventDefault()
const e=t.target
null===this.expandedItem||e!==this.expandedItem||!1!==e.expanded?e.expanded&&(null!==this.expandedItem&&this.expandedItem!==e&&(this.expandedItem.expanded=!1),this.menuItems[this.focusIndex]?.setAttribute("tabindex","-1"),this.expandedItem=e,this.focusIndex=this.menuItems.indexOf(e),e.setAttribute("tabindex","0")):this.expandedItem=null},this.removeItemListeners=()=>{void 0!==this.menuItems&&this.menuItems.forEach((t=>{t.removeEventListener("expanded-change",this.handleExpandedChanged),t.removeEventListener("focus",this.handleItemFocus)}))},this.setItems=()=>{const t=this.domChildren()
this.removeItemListeners(),this.menuItems=t
const e=this.menuItems.filter(this.isMenuItemElement)
e.length&&(this.focusIndex=0)
const n=e.reduce(((t,e)=>{const n=function(t){const e=t.getAttribute("role"),n=t.querySelector("[slot=start]")
return e!==Hi&&null===n||e===Hi&&null!==n?1:e!==Hi&&null!==n?2:0}(e)
return t>n?t:n}),0)
e.forEach(((t,e)=>{t.setAttribute("tabindex",0===e?"0":"-1"),t.addEventListener("expanded-change",this.handleExpandedChanged),t.addEventListener("focus",this.handleItemFocus),(t instanceof Wi||"startColumnCount"in t)&&(t.startColumnCount=n)}))},this.changeHandler=t=>{if(void 0===this.menuItems)return
const e=t.target,n=this.menuItems.indexOf(e)
if(-1!==n&&"menuitemradio"===e.role&&!0===e.checked){for(let t=n-1;t>=0;--t){const e=this.menuItems[t],n=e.getAttribute("role")
if(n===qi&&(e.checked=!1),"separator"===n)break}const t=this.menuItems.length-1
for(let e=n+1;e<=t;++e){const t=this.menuItems[e],n=t.getAttribute("role")
if(n===qi&&(t.checked=!1),"separator"===n)break}}},this.isMenuItemElement=e=>Je(e)&&Object.prototype.hasOwnProperty.call(t.focusableElementRoles,e.getAttribute("role")),this.isFocusableElement=t=>this.isMenuItemElement(t)}connectedCallback(){super.connectedCallback(),b.queueUpdate((()=>{this.setItems()})),this.addEventListener("change",this.changeHandler)}disconnectedCallback(){super.disconnectedCallback(),this.removeItemListeners(),this.menuItems=void 0,this.removeEventListener("change",this.changeHandler)}focus(){this.setFocus(0,1)}collapseExpandedItem(){null!==this.expandedItem&&(this.expandedItem.expanded=!1,this.expandedItem=null)}handleMenuKeyDown(t){if(t.defaultPrevented||void 0===this.menuItems)return!1
switch(t.key){case rn:return this.setFocus(this.focusIndex+1,1),!1
case cn:return this.setFocus(this.focusIndex-1,-1),!1
case pn:return this.setFocus(this.menuItems.length-1,-1),!1
case un:return this.setFocus(0,1),!1
default:return!0}}itemsChanged(){this.$fastController.isConnected&&void 0!==this.menuItems&&this.setItems()}itemIconsChanged(t,e){!this.$fastController.isConnected||void 0===this.menuItems||t.length===e.length&&new Set(t.concat(e)).size===t.length||this.setItems()}domChildren(){return Array.from(this.children).filter((t=>!t.hasAttribute("hidden")))}setFocus(t,e){if(void 0===this.menuItems)return
let n=t
for(;n>=0&&n<this.menuItems.length;){const t=this.menuItems[n]
if(this.isFocusableElement(t)){this.focusIndex>-1&&this.menuItems.length>=this.focusIndex-1&&this.menuItems[this.focusIndex]?.setAttribute("tabindex","-1"),this.focusIndex=n,t.setAttribute("tabindex","0"),t.focus()
break}n+=e}}}
Hb.focusableElementRoles=ji,t([C],Hb.prototype,"items",void 0),t([C],Hb.prototype,"itemIcons",void 0)
const Ub=Mt`
    ${qs("grid")}

    :host {
        background: ${il};
        border: ${Tl} solid ${vl};
        margin: 0;
        min-width: ${Bl};
        width: max-content;
        box-shadow: ${Vl};
    }

    slot {
        padding: 4px;
        display: block;
    }

    :host([slot='submenu']) {
        margin: 0 ${Dl};
        cursor: default;
    }

    ::slotted(*) {
        padding-left: 8px;
        padding-right: 8px;
    }

    ::slotted(hr) {
        box-sizing: border-box;
        height: 2px;
        margin: ${$l};
        border: none;
        background: ${ll};
        opacity: 0.1;
    }

    ::slotted(header) {
        display: flex;
        font: ${od};
        color: ${rd};
        text-transform: ${Gd};
        padding-top: ${$l};
        padding-bottom: ${$l};
    }

    ::slotted(${"nimble-anchor-menu-item"}) {
        padding: 0px;
    }
`.withBehaviors(gg(Ho.color,Mt`
            slot {
                background: ${el(mo,.15)};
            }
        `))
const qb=class extends Hb{}.compose({baseName:"menu",baseClass:Hb,template:()=>Q`
    <template
        slot="${t=>t.slot?t.slot:t.isNestedMenu()?"submenu":void 0}"
        role="menu"
        @keydown="${(t,e)=>t.handleMenuKeyDown(e.event)}"
        @focusout="${(t,e)=>t.handleFocusOut(e.event)}"
        ${oe({property:"itemIcons",subtree:!0,attributeFilter:["slot"],selector:':scope > * > [slot="start"]'})}
    >
        <slot ${ie("items")}></slot>
    </template>
`,styles:Ub})
Di.getOrCreate().withPrefix("nimble").register(qb())
const jb="auto",Wb=Mt`
    ${qs("inline-block")}

    :host {
        height: ${Il};
    }

    [part='button'] {
        width: 100%;
        height: 100%;
    }

    slot[name='menu']::slotted(*) {
        margin-top: ${$l};
        margin-bottom: ${$l};
    }
`,Gb=Q`
    <template
        ?open="${t=>t.open}"
        @focusout="${(t,e)=>t.focusoutHandler(e.event)}"
    >
        <${Kg}
            part="button"
            appearance="${t=>t.appearance}"
            appearance-variant="${t=>t.appearanceVariant}"
            ?content-hidden="${t=>t.contentHidden}"
            ?checked="${t=>t.open}"
            ?disabled="${t=>t.disabled}"
            tabindex="${t=>t.tabIndex}"
            aria-haspopup="true"
            aria-expanded="${t=>t.open}"
            @change="${(t,e)=>t.toggleButtonCheckedChangeHandler(e.event)}"
            @keydown="${(t,e)=>t.toggleButtonKeyDownHandler(e.event)}"
            ${Ut("toggleButton")}
            exportparts="start,end"
        >
            ${""}
            <slot slot="start" name="start"></slot>
            <slot></slot>
            <slot slot="end" name="end"></slot>
        </${Kg}>
        ${Gt((t=>t.open),Q`
            <${pg}
                fixed-placement="true"
                auto-update-mode="auto"
                horizontal-inset="true"
                horizontal-positioning-mode="dynamic"
                vertical-positioning-mode="${t=>"auto"===t.position?"dynamic":"locktodefault"}"
                vertical-default-position="${t=>"above"===t.position?"top":"bottom"}"
                @loaded="${t=>t.regionLoadedHandler()}"
                @keydown="${(t,e)=>t.menuKeyDownHandler(e.event)}"
                ${Ut("region")}
            >
                <span part="menu">
                    <slot name="menu" ${ie({property:"slottedMenus"})}></slot>
                </span>
            </${pg}>
        `)}
    </template>
`
class Zb extends je{constructor(){super(...arguments),this.appearance=ch,this.disabled=!1,this.contentHidden=!1,this.open=!1,this.position=jb,this.focusLastItemWhenOpened=!1,this.menuChangeHandler=()=>{this.setOpen(!1),this.toggleButton.focus()}}disconnectedCallback(){super.disconnectedCallback(),this.region&&this.region.removeEventListener(en,this.menuChangeHandler)}toggleButtonChanged(t,e){this.region&&this.toggleButton&&(this.region.anchorElement=this.toggleButton)}regionChanged(t,e){t&&t.removeEventListener(en,this.menuChangeHandler),this.region&&(this.toggleButton&&(this.region.anchorElement=this.toggleButton),this.region.addEventListener(en,this.menuChangeHandler,{capture:!0}))}openChanged(t,e){if(this.toggleButton&&(this.toggleButton.checked=this.open),!this.open){const t={oldState:!0,newState:!1}
this.$emit("toggle",t)}}regionLoadedHandler(){this.focusLastItemWhenOpened?(this.focusLastMenuItem(),this.focusLastItemWhenOpened=!1):this.focusMenu()
this.$emit("toggle",{oldState:!1,newState:!0})}focusoutHandler(t){if(!this.open)return!0
const e=t.relatedTarget
return!(!this.contains(e)&&!this.getMenu()?.contains(e))||(this.setOpen(!1),!1)}toggleButtonCheckedChangeHandler(t){return this.setOpen(this.toggleButton.checked),t.stopPropagation(),!1}toggleButtonKeyDownHandler(t){switch(t.key){case cn:return this.focusLastItemWhenOpened=!0,this.setOpen(!0),!1
case rn:return this.setOpen(!0),!1
default:return!0}}menuKeyDownHandler(t){return t.key!==hn||(this.setOpen(!1),this.toggleButton.focus(),!1)}setOpen(t){if(this.open===t)return
const e={oldState:this.open,newState:t}
this.$emit("beforetoggle",e),this.open=t}getMenu(){if(!this.slottedMenus?.length)return
let t=this.slottedMenus[0]
for(;t;){if("menu"===t.getAttribute("role"))return t
if(!this.isSlotElement(t))return
{const e=t.assignedNodes()[0]
t=e instanceof HTMLElement?e:void 0}}}isSlotElement(t){return"SLOT"===t?.nodeName}focusMenu(){this.getMenu()?.focus()}focusLastMenuItem(){const t=this.getMenu()?.querySelectorAll("[role=menuitem]")
if(t?.length){t[t.length-1].focus()}}}t([ft],Zb.prototype,"appearance",void 0),t([ft({attribute:"appearance-variant"})],Zb.prototype,"appearanceVariant",void 0),t([ft({mode:"boolean"})],Zb.prototype,"disabled",void 0),t([ft({attribute:"content-hidden",mode:"boolean"})],Zb.prototype,"contentHidden",void 0),t([ft({attribute:"tabindex",converter:ut})],Zb.prototype,"tabIndex",void 0),t([ft({mode:"boolean"})],Zb.prototype,"open",void 0),t([ft({attribute:"position"})],Zb.prototype,"position",void 0),t([C],Zb.prototype,"toggleButton",void 0),t([C],Zb.prototype,"region",void 0),t([C],Zb.prototype,"slottedMenus",void 0)
const Kb=Zb.compose({baseName:"menu-button",template:Gb,styles:Wb,shadowOptions:{delegatesFocus:!0}})
Di.getOrCreate().withPrefix("nimble").register(Kb())
const Yb="nimble-menu-button",Xb=Mt`
    ${qs("grid")}

    :host {
        contain: layout;
        overflow: visible;
        height: ${Il};
        grid-template-columns: 1fr;
        column-gap: 8px;
        grid-template-rows: 1fr;
        justify-items: start;
        align-items: center;
        padding-left: 8px;
        padding-right: 8px;
        margin: 0 0;
        white-space: nowrap;
        color: ${Wc};
        fill: currentcolor;
        cursor: pointer;
        font: ${jc};
    }
    :host(${js}) {
        outline: 2px solid ${fl};
        outline-offset: -2px;
    }
    :host([expanded]) {
        background: ${al};
    }
    :host(:hover) {
        background: ${al};
    }
    :host(:active:not([expanded])) {
        background: ${sl};
    }
    :host([disabled]) {
        color: ${Gc};
        fill: currentcolor;
        cursor: default;
    }
    :host([disabled]:hover) {
        background: transparent;
    }
    :host(.indent-0[aria-haspopup='menu']) {
        grid-template-columns: 1fr ${Ol};
    }
    :host(.indent-1) {
        grid-template-columns: ${Ol} 1fr;
    }
    :host(.indent-1[aria-haspopup='menu']) {
        grid-template-columns: ${Ol} 1fr ${Ol};
    }
    [part='start'] {
        display: contents;
    }
    slot[name='start']::slotted(*) {
        ${ml.cssCustomProperty}: currentcolor;
        width: ${Ol};
        height: ${Ol};
    }
    :host(.indent-1) [part='start'] {
        grid-column: 1;
    }
    :host(.indent-1) .content {
        grid-column: 2;
    }
    .expand-collapse-glyph-container {
        grid-row: 1;
        fill: currentcolor;
        width: ${Ol};
        height: ${Ol};
    }
    :host(.indent-0) .expand-collapse-glyph-container {
        grid-column: 2;
    }
    :host(.indent-1) .expand-collapse-glyph-container {
        grid-column: 3;
    }
`
const Jb=class extends Wi{}.compose({baseName:"menu-item",baseClass:Wi,template:(t,e)=>Q`
    <template
        role="${t=>t.role}"
        aria-haspopup="${t=>t.hasSubmenu?"menu":void 0}"
        aria-checked="${t=>t.role!==Hi?t.checked:void 0}"
        aria-disabled="${t=>t.disabled}"
        aria-expanded="${t=>t.expanded}"
        @keydown="${(t,e)=>t.handleMenuItemKeyDown(e.event)}"
        @click="${(t,e)=>t.handleMenuItemClick(e.event)}"
        @mouseover="${(t,e)=>t.handleMouseOver(e.event)}"
        @mouseout="${(t,e)=>t.handleMouseOut(e.event)}"
        class="${t=>t.disabled?"disabled":""} ${t=>t.expanded?"expanded":""} ${t=>`indent-${t.startColumnCount}`}"
    >
            ${Gt((t=>t.role===Ui),Q`
                    <div part="input-container" class="input-container">
                        <span part="checkbox" class="checkbox">
                            <slot name="checkbox-indicator">
                                ${e.checkboxIndicator||""}
                            </slot>
                        </span>
                    </div>
                `)}
            ${Gt((t=>t.role===qi),Q`
                    <div part="input-container" class="input-container">
                        <span part="radio" class="radio">
                            <slot name="radio-indicator">
                                ${e.radioIndicator||""}
                            </slot>
                        </span>
                    </div>
                `)}
        </div>
        ${le(0,e)}
        <span class="content" part="content">
            <slot></slot>
        </span>
        ${ae(0,e)}
        ${Gt((t=>t.hasSubmenu),Q`
                <div
                    part="expand-collapse-glyph-container"
                    class="expand-collapse-glyph-container"
                >
                    <span part="expand-collapse" class="expand-collapse">
                        <slot name="expand-collapse-indicator">
                            ${e.expandCollapseGlyph||""}
                        </slot>
                    </span>
                </div>
            `)}
        ${Gt((t=>t.expanded),Q`
                <${t.tagFor($n)}
                    :anchorElement="${t=>t}"
                    vertical-positioning-mode="dynamic"
                    vertical-default-position="bottom"
                    vertical-inset="true"
                    horizontal-positioning-mode="dynamic"
                    horizontal-default-position="end"
                    class="submenu-region"
                    dir="${t=>t.currentDirection}"
                    @loaded="${t=>t.submenuLoaded()}"
                    ${Ut("submenuRegion")}
                    part="submenu-region"
                >
                    <slot name="submenu"></slot>
                </${t.tagFor($n)}>
            `)}
    </template>
`,styles:Xb,expandCollapseGlyph:Bh.data})
Di.getOrCreate().withPrefix("nimble").register(Jb())
const Qb="underline",ty="outline",ey="block",ny=Mt`
    ${qs("inline-block")}
    ${Lg}
    ${nv}

    :host {
        font: ${jc};
        outline: none;
        ${Dm}
        color: ${Wc};
        --ni-private-hover-indicator-width: calc(${Tl} + 1px);
        --ni-private-height-within-border: calc(
            ${Il} - 2 * ${Tl}
        );
    }

    :host([disabled]) {
        color: ${Gc};
        cursor: default;
    }

    .label {
        display: flex;
        color: ${pd};
        font: ${ud};
    }

    :host([disabled]) .label {
        color: ${fd};
    }

    .root {
        position: relative;
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        border-radius: 0px;
        border: 0px solid rgba(${cl}, 0.3);
        padding: ${Tl};
    }

    .root:focus-within {
        border-bottom-color: ${fl};
    }

    :host([readonly]) .root,
    :host([disabled]) .root {
        border-color: rgba(${cl}, 0.1);
    }

    :host([error-visible]) .root {
        border-bottom-color: ${dl};
    }

    .root::before {
        ${""}
        content: ' ';
        color: transparent;
        width: 0px;
        ${Dm}
    }

    .root::after {
        content: '';
        position: absolute;
        bottom: calc(-1 * ${Tl});
        width: 0px;
        height: 0px;
        border-bottom: ${fl}
            var(--ni-private-hover-indicator-width) solid;
        transition: width ${Zd} ease-in;
    }

    @media (prefers-reduced-motion) {
        .root::after {
            transition-duration: 0s;
        }
    }

    :host([error-visible]) .root::after {
        border-bottom-color: ${dl};
    }

    :host(:hover) .root::after {
        width: 100%;
    }

    :host([readonly]:hover) .root::after,
    :host([disabled]:hover) .root::after {
        width: 0px;
    }

    [part='start'] {
        display: none;
    }

    .control {
        -webkit-appearance: none;
        font: inherit;
        background: transparent;
        color: inherit;
        height: var(--ni-private-height-within-border);
        width: 100%;
        border: none;
        padding: 0px;
        padding-left: ${Dl};
    }

    .control:hover,
    .control:focus,
    .control:disabled,
    .control:active {
        outline: none;
    }

    .control::placeholder {
        color: ${pd};
    }

    .control[disabled]::placeholder {
        color: ${Gc};
    }

    .controls {
        display: contents;
    }

    ${""}
    .step-up {
        order: 3;
        padding-right: ${$l};
    }

    .step-down {
        order: 2;
    }

    .step-up-down-button {
        ${Il.cssCustomProperty}: 24px;
    }

    [part='end'] {
        display: contents;
    }

    .error-icon {
        order: 1;
        margin-right: ${$l};
    }
`.withBehaviors(ph(Qb,Mt`
            .root {
                border-bottom-width: ${Tl};
                padding-bottom: 0;
            }
        `),ph(ey,Mt`
            .root {
                background-color: rgba(${cl}, 0.1);
            }

            .root:focus-within,
            :host([error-visible]) .root {
                border-bottom-width: ${Tl};
                padding-bottom: 0;
            }

            :host(:hover) .root {
                border-bottom-width: ${Tl};
                padding-bottom: 0;
            }

            :host([readonly]) .root,
            :host([disabled]) .root {
                background-color: rgba(${cl}, 0.07);
                border-color: transparent;
            }

            :host([error-visible][readonly]) .root,
            :host([error-visible][disabled]) .root {
                padding-bottom: 0;
                border-bottom-color: ${dl};
            }
        `),ph(ty,Mt`
            .root {
                border-width: ${Tl};
                padding: 0;
            }
        `)),iy=rv(Q`<label
        part="label"
        for="control"
        class="${t=>t.defaultSlottedNodes?.length?"label":"label label__hidden"}"
    >
        <slot ${ie("defaultSlottedNodes")}></slot>
    </label>`)
class sy extends(Hg(dv(ts))){constructor(){super(...arguments),this.appearance=Qb}connectedCallback(){super.connectedCallback(),this.control.setAttribute("role","spinbutton")}}t([ft],sy.prototype,"appearance",void 0)
const oy=sy.compose({baseName:"number-field",baseClass:ts,template:(t,e)=>Q`
    <template class="${t=>t.readOnly?"readonly":""}">
        ${iy}
        <div class="root" part="root">
            ${le(0,e)}
            <input
                class="control"
                part="control"
                id="control"
                @input="${t=>t.handleTextInput()}"
                @change="${t=>t.handleChange()}"
                @keydown="${(t,e)=>t.handleKeyDown(e.event)}"
                @blur="${t=>t.handleBlur()}"
                ?autofocus="${t=>t.autofocus}"
                ?disabled="${t=>t.disabled}"
                list="${t=>t.list}"
                maxlength="${t=>t.maxlength}"
                minlength="${t=>t.minlength}"
                placeholder="${t=>t.placeholder}"
                ?readonly="${t=>t.readOnly}"
                ?required="${t=>t.required}"
                size="${t=>t.size}"
                type="text"
                inputmode="numeric"
                min="${t=>t.min}"
                max="${t=>t.max}"
                step="${t=>t.step}"
                aria-atomic="${t=>t.ariaAtomic}"
                aria-busy="${t=>t.ariaBusy}"
                aria-controls="${t=>t.ariaControls}"
                aria-current="${t=>t.ariaCurrent}"
                aria-describedby="${t=>t.ariaDescribedby}"
                aria-details="${t=>t.ariaDetails}"
                aria-disabled="${t=>t.ariaDisabled}"
                aria-errormessage="${t=>t.ariaErrormessage}"
                aria-flowto="${t=>t.ariaFlowto}"
                aria-haspopup="${t=>t.ariaHaspopup}"
                aria-hidden="${t=>t.ariaHidden}"
                aria-invalid="${t=>t.ariaInvalid}"
                aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
                aria-label="${t=>t.ariaLabel}"
                aria-labelledby="${t=>t.ariaLabelledby}"
                aria-live="${t=>t.ariaLive}"
                aria-owns="${t=>t.ariaOwns}"
                aria-relevant="${t=>t.ariaRelevant}"
                aria-roledescription="${t=>t.ariaRoledescription}"
                aria-required="${t=>t.requiredVisible}"
                ${Ut("control")}
            />
            ${Gt((t=>!t.hideStep&&!t.readOnly&&!t.disabled),Q`
                    <div class="controls" part="controls">
                        <div
                            class="step-up"
                            part="step-up"
                            @click="${t=>t.stepUp()}"
                        >
                            <slot name="step-up-glyph">
                                ${e.stepUpGlyph||""}
                            </slot>
                        </div>
                        <div
                            class="step-down"
                            part="step-down"
                            @click="${t=>t.stepDown()}"
                        >
                            <slot name="step-down-glyph">
                                ${e.stepDownGlyph||""}
                            </slot>
                        </div>
                    </div>
                `)}
            ${ae(0,e)}
        </div>
    </template>
`,styles:ny,shadowOptions:{delegatesFocus:!0},stepDownGlyph:Q`
        <${Eh}
            class="step-up-down-button"
            appearance="ghost"
            content-hidden
            tabindex="-1"
            aria-hidden="true"
        >
            ${t=>Gm.getValueFor(t)}
            <${Ev}
                slot="start"
            >
            </${Ev}>
        </${Eh}>
    `,stepUpGlyph:Q`
        <${Eh}
            class="step-up-down-button"
            appearance="ghost"
            content-hidden
            tabindex="-1"
            aria-hidden="true"
        >
            ${t=>Zm.getValueFor(t)}
            <${kv}
                slot="start">
            </${kv}>
        </${Eh}>
    `,end:Q`
        <${bg}
            severity="error"
            class="error-icon"
        ></${bg}>
        ${Vg}
    `})
Di.getOrCreate().withPrefix("nimble").register(oy())
const ry=Mt`
    ${qs("inline-flex")}

    :host {
        font: ${jc};
        align-items: center;
        outline: none;
        width: fit-content;
        cursor: pointer;
    }

    :host([disabled]) {
        cursor: default;
    }

    .control {
        position: relative;
        width: calc(${Il} / 2);
        height: calc(${Il} / 2);
        flex-shrink: 0;
        border: ${Tl} solid ${ll};
        border-radius: 100%;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        transition: box-shadow ${Zd};
        ${""}
        line-height: 0;
    }

    :host([disabled]) .control {
        background-color: rgba(${cl}, 0.1);
        border-color: rgba(${cl}, 0.2);
    }

    :host(:not([disabled]):not(:active):hover) .control {
        border-color: ${fl};
        box-shadow: 0px 0px 0px ${Tl} ${fl} inset;
    }

    :host(${js}) .control {
        border-color: ${fl};
    }

    :host(${js}) .control::after {
        content: '';
        position: absolute;
        width: calc(2px + ${Il} / 2);
        height: calc(2px + ${Il} / 2);
        border: 2px solid ${fl};
        border-radius: 100%;
    }

    .label {
        font: inherit;
        color: ${Wc};
        padding-left: 1ch;
        cursor: inherit;
    }

    :host([disabled]) .label {
        color: ${Gc};
    }

    slot[name='checked-indicator'] {
        display: none;
    }

    slot[name='checked-indicator'] svg {
        height: ${Ol};
        width: ${Ol};
        overflow: visible;
    }

    :host(.checked) slot[name='checked-indicator'] {
        display: contents;
    }

    slot[name='checked-indicator'] circle {
        fill: ${ll};
    }

    :host([disabled]) slot[name='checked-indicator'] circle {
        fill: rgba(${cl}, 0.3);
    }
`
const ay=class extends ss{}.compose({baseName:"radio",baseClass:ss,template:(t,e)=>Q`
    <template
        role="radio"
        class="${t=>t.checked?"checked":""} ${t=>t.readOnly?"readonly":""}"
        aria-checked="${t=>t.checked}"
        aria-required="${t=>t.required}"
        aria-disabled="${t=>t.disabled}"
        aria-readonly="${t=>t.readOnly}"
        @keypress="${(t,e)=>t.keypressHandler(e.event)}"
        @click="${(t,e)=>t.clickHandler(e.event)}"
    >
        <div part="control" class="control">
            <slot name="checked-indicator">
                ${e.checkedIndicator||""}
            </slot>
        </div>
        <label
            part="label"
            class="${t=>t.defaultSlottedNodes&&t.defaultSlottedNodes.length?"label":"label label__hidden"}"
        >
            <slot ${ie("defaultSlottedNodes")}></slot>
        </label>
    </template>
`,styles:ry,checkedIndicator:Eu.data})
Di.getOrCreate().withPrefix("nimble").register(ay())
const ly=Mt`
    ${qs("inline-block")}
    ${Lg}
    ${nv}

    .positioning-region {
        display: flex;
        gap: ${El};
        position: relative;
    }

    :host([orientation='vertical']) .positioning-region {
        flex-direction: column;
    }

    :host([orientation='horizontal']) .positioning-region {
        flex-direction: row;
    }

    .label-container {
        display: flex;
        min-height: ${bd};
        gap: ${$l};
        margin-bottom: ${$l};
    }

    slot[name='label'] {
        font: ${ud};
        color: ${pd};
    }

    :host([disabled]) slot[name='label'] {
        color: ${fd};
    }

    .error-icon {
        margin-left: auto;
        margin-right: ${$l};
    }
`,cy=Q`
    <template
        role="radiogroup"
        aria-disabled="${t=>t.disabled}"
        aria-readonly="${t=>t.readOnly}"
        aria-required="${t=>t.requiredVisible}"
        @click="${(t,e)=>t.clickHandler(e.event)}"
        @keydown="${(t,e)=>t.keydownHandler(e.event)}"
        @focusout="${(t,e)=>t.focusOutHandler(e.event)}"
    >
        <div class="label-container">
            ${rv(Q`<slot name="label"></slot>`)}
            <${bg}
                severity="error"
                class="error-icon"
            ></${bg}>
        </div>
        <div
            class="positioning-region ${t=>t.orientation===Ke?"horizontal":"vertical"}"
            part="positioning-region"
        >
            <slot
                ${ie({property:"slottedRadioButtons",filter:te("[role=radio]")})}
            ></slot>
            ${Vg}
        </div>
    </template>
`
class dy extends(Hg(dv(es))){}const hy=dy.compose({baseName:"radio-group",baseClass:es,template:cy,styles:ly,shadowOptions:{delegatesFocus:!0}})
function uy(t){this.content=t}function py(t,e,n){for(let i=0;;i++){if(i==t.childCount||i==e.childCount)return t.childCount==e.childCount?null:n
let s=t.child(i),o=e.child(i)
if(s!=o){if(!s.sameMarkup(o))return n
if(s.isText&&s.text!=o.text){for(let t=0;s.text[t]==o.text[t];t++)n++
return n}if(s.content.size||o.content.size){let t=py(s.content,o.content,n+1)
if(null!=t)return t}n+=s.nodeSize}else n+=s.nodeSize}}function fy(t,e,n,i){for(let s=t.childCount,o=e.childCount;;){if(0==s||0==o)return s==o?null:{a:n,b:i}
let r=t.child(--s),a=e.child(--o),l=r.nodeSize
if(r!=a){if(!r.sameMarkup(a))return{a:n,b:i}
if(r.isText&&r.text!=a.text){let t=0,e=Math.min(r.text.length,a.text.length)
for(;t<e&&r.text[r.text.length-t-1]==a.text[a.text.length-t-1];)t++,n--,i--
return{a:n,b:i}}if(r.content.size||a.content.size){let t=fy(r.content,a.content,n-1,i-1)
if(t)return t}n-=l,i-=l}else n-=l,i-=l}}Di.getOrCreate().withPrefix("nimble").register(hy()),uy.prototype={constructor:uy,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e
return-1},get:function(t){var e=this.find(t)
return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,s=i.find(t),o=i.content.slice()
return-1==s?o.push(n||t,e):(o[s+1]=e,n&&(o[s]=n)),new uy(o)},remove:function(t){var e=this.find(t)
if(-1==e)return this
var n=this.content.slice()
return n.splice(e,2),new uy(n)},addToStart:function(t,e){return new uy([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice()
return n.push(t,e),new uy(n)},addBefore:function(t,e,n){var i=this.remove(e),s=i.content.slice(),o=i.find(t)
return s.splice(-1==o?s.length:o,0,e,n),new uy(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=uy.from(t)).size?new uy(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=uy.from(t)).size?new uy(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this
t=uy.from(t)
for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n])
return e},toObject:function(){var t={}
return this.forEach((function(e,n){t[e]=n})),t},get size(){return this.content.length>>1}},uy.from=function(t){if(t instanceof uy)return t
var e=[]
if(t)for(var n in t)e.push(n,t[n])
return new uy(e)}
class my{constructor(t,e){if(this.content=t,this.size=e||0,null==e)for(let e=0;e<t.length;e++)this.size+=t[e].nodeSize}nodesBetween(t,e,n,i=0,s){for(let o=0,r=0;r<e;o++){let a=this.content[o],l=r+a.nodeSize
if(l>t&&!1!==n(a,i+r,s||null,o)&&a.content.size){let s=r+1
a.nodesBetween(Math.max(0,t-s),Math.min(a.content.size,e-s),n,i+s)}r=l}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,n,i){let s="",o=!0
return this.nodesBetween(t,e,((r,a)=>{let l=r.isText?r.text.slice(Math.max(t,a)-a,e-a):r.isLeaf?i?"function"==typeof i?i(r):i:r.type.spec.leafText?r.type.spec.leafText(r):"":""
r.isBlock&&(r.isLeaf&&l||r.isTextblock)&&n&&(o?o=!1:s+=n),s+=l}),0),s}append(t){if(!t.size)return this
if(!this.size)return t
let e=this.lastChild,n=t.firstChild,i=this.content.slice(),s=0
for(e.isText&&e.sameMarkup(n)&&(i[i.length-1]=e.withText(e.text+n.text),s=1);s<t.content.length;s++)i.push(t.content[s])
return new my(i,this.size+t.size)}cut(t,e=this.size){if(0==t&&e==this.size)return this
let n=[],i=0
if(e>t)for(let s=0,o=0;o<e;s++){let r=this.content[s],a=o+r.nodeSize
a>t&&((o<t||a>e)&&(r=r.isText?r.cut(Math.max(0,t-o),Math.min(r.text.length,e-o)):r.cut(Math.max(0,t-o-1),Math.min(r.content.size,e-o-1))),n.push(r),i+=r.nodeSize),o=a}return new my(n,i)}cutByIndex(t,e){return t==e?my.empty:0==t&&e==this.content.length?this:new my(this.content.slice(t,e))}replaceChild(t,e){let n=this.content[t]
if(n==e)return this
let i=this.content.slice(),s=this.size+e.nodeSize-n.nodeSize
return i[t]=e,new my(i,s)}addToStart(t){return new my([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new my(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1
for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1
return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t]
if(!e)throw new RangeError("Index "+t+" out of range for "+this)
return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,n=0;e<this.content.length;e++){let i=this.content[e]
t(i,n,e),n+=i.nodeSize}}findDiffStart(t,e=0){return py(this,t,e)}findDiffEnd(t,e=this.size,n=t.size){return fy(this,t,e,n)}findIndex(t,e=-1){if(0==t)return vy(0,t)
if(t==this.size)return vy(this.content.length,t)
if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`)
for(let n=0,i=0;;n++){let s=i+this.child(n).nodeSize
if(s>=t)return s==t||e>0?vy(n+1,s):vy(n,i)
i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((t=>t.toJSON())):null}static fromJSON(t,e){if(!e)return my.empty
if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON")
return new my(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return my.empty
let e,n=0
for(let i=0;i<t.length;i++){let s=t[i]
n+=s.nodeSize,i&&s.isText&&t[i-1].sameMarkup(s)?(e||(e=t.slice(0,i)),e[e.length-1]=s.withText(e[e.length-1].text+s.text)):e&&e.push(s)}return new my(e||t,n)}static from(t){if(!t)return my.empty
if(t instanceof my)return t
if(Array.isArray(t))return this.fromArray(t)
if(t.attrs)return new my([t],t.nodeSize)
throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}my.empty=new my([],0)
const gy={index:0,offset:0}
function vy(t,e){return gy.index=t,gy.offset=e,gy}function by(t,e){if(t===e)return!0
if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1
let n=Array.isArray(t)
if(Array.isArray(e)!=n)return!1
if(n){if(t.length!=e.length)return!1
for(let n=0;n<t.length;n++)if(!by(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!by(t[n],e[n]))return!1
for(let n in e)if(!(n in t))return!1}return!0}let yy=class t{constructor(t,e){this.type=t,this.attrs=e}addToSet(t){let e,n=!1
for(let i=0;i<t.length;i++){let s=t[i]
if(this.eq(s))return t
if(this.type.excludes(s.type))e||(e=t.slice(0,i))
else{if(s.type.excludes(this.type))return t
!n&&s.type.rank>this.type.rank&&(e||(e=t.slice(0,i)),e.push(this),n=!0),e&&e.push(s)}}return e||(e=t.slice()),n||e.push(this),e}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1))
return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0
return!1}eq(t){return this==t||this.type==t.type&&by(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name}
for(let e in this.attrs){t.attrs=this.attrs
break}return t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON")
let n=t.marks[e.type]
if(!n)throw new RangeError(`There is no mark type ${e.type} in this schema`)
let i=n.create(e.attrs)
return n.checkAttrs(i.attrs),i}static sameSet(t,e){if(t==e)return!0
if(t.length!=e.length)return!1
for(let n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1
return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return t.none
if(e instanceof t)return[e]
let n=e.slice()
return n.sort(((t,e)=>t.type.rank-e.type.rank)),n}}
yy.none=[]
class wy extends Error{}class xy{constructor(t,e,n){this.content=t,this.openStart=e,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let n=ky(this.content,t+this.openStart,e)
return n&&new xy(n,this.openStart,this.openEnd)}removeBetween(t,e){return new xy(Cy(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null
let t={content:this.content.toJSON()}
return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return xy.empty
let n=e.openStart||0,i=e.openEnd||0
if("number"!=typeof n||"number"!=typeof i)throw new RangeError("Invalid input for Slice.fromJSON")
return new xy(my.fromJSON(t,e.content),n,i)}static maxOpen(t,e=!0){let n=0,i=0
for(let i=t.firstChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.firstChild)n++
for(let n=t.lastChild;n&&!n.isLeaf&&(e||!n.type.spec.isolating);n=n.lastChild)i++
return new xy(t,n,i)}}function Cy(t,e,n){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i),{index:r,offset:a}=t.findIndex(n)
if(s==e||o.isText){if(a!=n&&!t.child(r).isText)throw new RangeError("Removing non-flat range")
return t.cut(0,e).append(t.cut(n))}if(i!=r)throw new RangeError("Removing non-flat range")
return t.replaceChild(i,o.copy(Cy(o.content,e-s-1,n-s-1)))}function ky(t,e,n,i){let{index:s,offset:o}=t.findIndex(e),r=t.maybeChild(s)
if(o==e||r.isText)return t.cut(0,e).append(n).append(t.cut(e))
let a=ky(r.content,e-o-1,n)
return a&&t.replaceChild(s,r.copy(a))}function Sy(t,e,n){if(n.openStart>t.depth)throw new wy("Inserted content deeper than insertion position")
if(t.depth-n.openStart!=e.depth-n.openEnd)throw new wy("Inconsistent open depths")
return _y(t,e,n,0)}function _y(t,e,n,i){let s=t.index(i),o=t.node(i)
if(s==e.index(i)&&i<t.depth-n.openStart){let r=_y(t,e,n,i+1)
return o.copy(o.content.replaceChild(s,r))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=i||e.depth!=i){let{start:s,end:r}=function(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content)
for(let t=n-1;t>=0;t--)i=e.node(t).copy(my.from(i))
return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}(n,t)
return Ey(o,Ay(t,s,r,e,i))}{let i=t.parent,s=i.content
return Ey(i,s.cut(0,t.parentOffset).append(n.content).append(s.cut(e.parentOffset)))}}return Ey(o,Ty(t,e,i))}function Iy(t,e){if(!e.type.compatibleContent(t.type))throw new wy("Cannot join "+e.type.name+" onto "+t.type.name)}function My(t,e,n){let i=t.node(n)
return Iy(i,e.node(n)),i}function $y(t,e){let n=e.length-1
n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Dy(t,e,n,i){let s=(e||t).node(n),o=0,r=e?e.index(n):s.childCount
t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&($y(t.nodeAfter,i),o++))
for(let t=o;t<r;t++)$y(s.child(t),i)
e&&e.depth==n&&e.textOffset&&$y(e.nodeBefore,i)}function Ey(t,e){return t.type.checkContent(e),t.copy(e)}function Ay(t,e,n,i,s){let o=t.depth>s&&My(t,e,s+1),r=i.depth>s&&My(n,i,s+1),a=[]
return Dy(null,t,s,a),o&&r&&e.index(s)==n.index(s)?(Iy(o,r),$y(Ey(o,Ay(t,e,n,i,s+1)),a)):(o&&$y(Ey(o,Ty(t,e,s+1)),a),Dy(e,n,s,a),r&&$y(Ey(r,Ty(n,i,s+1)),a)),Dy(i,null,s,a),new my(a)}function Ty(t,e,n){let i=[]
if(Dy(null,t,n,i),t.depth>n){$y(Ey(My(t,e,n+1),Ty(t,e,n+1)),i)}return Dy(e,null,n,i),new my(i)}xy.empty=new xy(my.empty,0,0)
class Oy{constructor(t,e,n){this.pos=t,this.path=e,this.parentOffset=n,this.depth=e.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node")
return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node")
return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth)
if(e==t.childCount)return null
let n=this.pos-this.path[this.path.length-1],i=t.child(e)
return n?t.child(e).cut(n):i}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1]
return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e)
let n=this.path[3*e],i=0==e?0:this.path[3*e-1]+1
for(let e=0;e<t;e++)i+=n.child(e).nodeSize
return i}marks(){let t=this.parent,e=this.index()
if(0==t.content.size)return yy.none
if(this.textOffset)return t.child(e).marks
let n=t.maybeChild(e-1),i=t.maybeChild(e)
if(!n){let t=n
n=i,i=t}let s=n.marks
for(var o=0;o<s.length;o++)!1!==s[o].type.spec.inclusive||i&&s[o].isInSet(i.marks)||(s=s[o--].removeFromSet(s))
return s}marksAcross(t){let e=this.parent.maybeChild(this.index())
if(!e||!e.isInline)return null
let n=e.marks,i=t.parent.maybeChild(t.index())
for(var s=0;s<n.length;s++)!1!==n[s].type.spec.inclusive||i&&n[s].isInSet(i.marks)||(n=n[s--].removeFromSet(n))
return n}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e
return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this)
for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new Ly(this,t,n)
return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t=""
for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1)
return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range")
let n=[],i=0,s=e
for(let e=t;;){let{index:t,offset:o}=e.content.findIndex(s),r=s-o
if(n.push(e,t,i+o),!r)break
if(e=e.child(t),e.isText)break
s=r-1,i+=o+1}return new Oy(e,n,s)}static resolveCached(t,e){let n=Ny.get(t)
if(n)for(let t=0;t<n.elts.length;t++){let i=n.elts[t]
if(i.pos==e)return i}else Ny.set(t,n=new Ry)
let i=n.elts[n.i]=Oy.resolve(t,e)
return n.i=(n.i+1)%Fy,i}}class Ry{constructor(){this.elts=[],this.i=0}}const Fy=12,Ny=new WeakMap
class Ly{constructor(t,e,n){this.$from=t,this.$to=e,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const By=Object.create(null)
let Py=class t{constructor(t,e,n,i=yy.none){this.type=t,this.attrs=e,this.marks=i,this.content=n||my.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,n,i=0){this.content.nodesBetween(t,e,n,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,n,i){return this.content.textBetween(t,e,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,n){return this.type==t&&by(this.attrs,e||t.defaultAttrs||By)&&yy.sameSet(this.marks,n||yy.none)}copy(e=null){return e==this.content?this:new t(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new t(this.type,this.attrs,this.content,e)}cut(t,e=this.content.size){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,n=!1){if(t==e)return xy.empty
let i=this.resolve(t),s=this.resolve(e),o=n?0:i.sharedDepth(e),r=i.start(o),a=i.node(o).content.cut(i.pos-r,s.pos-r)
return new xy(a,i.depth-o,s.depth-o)}replace(t,e,n){return Sy(this.resolve(t),this.resolve(e),n)}nodeAt(t){for(let e=this;;){let{index:n,offset:i}=e.content.findIndex(t)
if(e=e.maybeChild(n),!e)return null
if(i==t||e.isText)return e
t-=i+1}}childAfter(t){let{index:e,offset:n}=this.content.findIndex(t)
return{node:this.content.maybeChild(e),index:e,offset:n}}childBefore(t){if(0==t)return{node:null,index:0,offset:0}
let{index:e,offset:n}=this.content.findIndex(t)
if(n<t)return{node:this.content.child(e),index:e,offset:n}
let i=this.content.child(e-1)
return{node:i,index:e-1,offset:n-i.nodeSize}}resolve(t){return Oy.resolveCached(this,t)}resolveNoCache(t){return Oy.resolve(this,t)}rangeHasMark(t,e,n){let i=!1
return e>t&&this.nodesBetween(t,e,(t=>(n.isInSet(t.marks)&&(i=!0),!i))),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this)
let t=this.type.name
return this.content.size&&(t+="("+this.content.toStringInner()+")"),Vy(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t)
if(!e)throw new Error("Called contentMatchAt on a node with invalid content")
return e}canReplace(t,e,n=my.empty,i=0,s=n.childCount){let o=this.contentMatchAt(t).matchFragment(n,i,s),r=o&&o.matchFragment(this.content,e)
if(!r||!r.validEnd)return!1
for(let t=i;t<s;t++)if(!this.type.allowsMarks(n.child(t).marks))return!1
return!0}canReplaceWith(t,e,n,i){if(i&&!this.type.allowsMarks(i))return!1
let s=this.contentMatchAt(t).matchType(n),o=s&&s.matchFragment(this.content,e)
return!!o&&o.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs)
let t=yy.none
for(let e=0;e<this.marks.length;e++){let n=this.marks[e]
n.type.checkAttrs(n.attrs),t=n.addToSet(t)}if(!yy.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((t=>t.type.name))}`)
this.content.forEach((t=>t.check()))}toJSON(){let t={type:this.type.name}
for(let e in this.attrs){t.attrs=this.attrs
break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((t=>t.toJSON()))),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON")
let n
if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON")
n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON")
return t.text(e.text,n)}let i=my.fromJSON(t,e.content),s=t.nodeType(e.type).create(e.attrs,i,n)
return s.type.checkAttrs(s.attrs),s}}
Py.prototype.text=void 0
class zy extends Py{constructor(t,e,n,i){if(super(t,e,null,i),!n)throw new RangeError("Empty text nodes are not allowed")
this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Vy(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new zy(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new zy(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return 0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON()
return t.text=this.text,t}}function Vy(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")"
return e}class Hy{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let n=new Uy(t,e)
if(null==n.next)return Hy.empty
let i=qy(n)
n.next&&n.err("Unexpected trailing text")
let s=function(t){let e=Object.create(null)
return n(Yy(t,0))
function n(i){let s=[]
i.forEach((e=>{t[e].forEach((({term:e,to:n})=>{if(!e)return
let i
for(let t=0;t<s.length;t++)s[t][0]==e&&(i=s[t][1])
Yy(t,n).forEach((t=>{i||s.push([e,i=[]]),-1==i.indexOf(t)&&i.push(t)}))}))}))
let o=e[i.join(",")]=new Hy(i.indexOf(t.length-1)>-1)
for(let t=0;t<s.length;t++){let i=s[t][1].sort(Ky)
o.next.push({type:s[t][0],next:e[i.join(",")]||n(i)})}return o}}(function(t){let e=[[]]
return s(o(t,0),n()),e
function n(){return e.push([])-1}function i(t,n,i){let s={term:i,to:n}
return e[t].push(s),s}function s(t,e){t.forEach((t=>t.to=e))}function o(t,e){if("choice"==t.type)return t.exprs.reduce(((t,n)=>t.concat(o(n,e))),[])
if("seq"!=t.type){if("star"==t.type){let r=n()
return i(e,r),s(o(t.expr,r),r),[i(r)]}if("plus"==t.type){let r=n()
return s(o(t.expr,e),r),s(o(t.expr,r),r),[i(r)]}if("opt"==t.type)return[i(e)].concat(o(t.expr,e))
if("range"==t.type){let r=e
for(let e=0;e<t.min;e++){let e=n()
s(o(t.expr,r),e),r=e}if(-1==t.max)s(o(t.expr,r),r)
else for(let e=t.min;e<t.max;e++){let e=n()
i(r,e),s(o(t.expr,r),e),r=e}return[i(r)]}if("name"==t.type)return[i(e,void 0,t.value)]
throw new Error("Unknown expr type")}for(let i=0;;i++){let r=o(t.exprs[i],e)
if(i==t.exprs.length-1)return r
s(r,e=n())}}}(i))
return function(t,e){for(let n=0,i=[t];n<i.length;n++){let t=i[n],s=!t.validEnd,o=[]
for(let e=0;e<t.next.length;e++){let{type:n,next:r}=t.next[e]
o.push(n.name),!s||n.isText||n.hasRequiredAttrs()||(s=!1),-1==i.indexOf(r)&&i.push(r)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(s,n),s}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next
return null}matchFragment(t,e=0,n=t.childCount){let i=this
for(let s=e;i&&s<n;s++)i=i.matchType(t.child(s).type)
return i}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t]
if(!e.isText&&!e.hasRequiredAttrs())return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let n=0;n<t.next.length;n++)if(this.next[e].type==t.next[n].type)return!0
return!1}fillBefore(t,e=!1,n=0){let i=[this]
return function s(o,r){let a=o.matchFragment(t,n)
if(a&&(!e||a.validEnd))return my.from(r.map((t=>t.createAndFill())))
for(let t=0;t<o.next.length;t++){let{type:e,next:n}=o.next[t]
if(!e.isText&&!e.hasRequiredAttrs()&&-1==i.indexOf(n)){i.push(n)
let t=s(n,r.concat(e))
if(t)return t}}return null}(this,[])}findWrapping(t){for(let e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1]
let e=this.computeWrapping(t)
return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),n=[{match:this,type:null,via:null}]
for(;n.length;){let i=n.shift(),s=i.match
if(s.matchType(t)){let t=[]
for(let e=i;e.type;e=e.via)t.push(e.type)
return t.reverse()}for(let t=0;t<s.next.length;t++){let{type:o,next:r}=s.next[t]
o.isLeaf||o.hasRequiredAttrs()||o.name in e||i.type&&!r.validEnd||(n.push({match:o.contentMatch,type:o,via:i}),e[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`)
return this.next[t]}toString(){let t=[]
return function e(n){t.push(n)
for(let i=0;i<n.next.length;i++)-1==t.indexOf(n.next[i].next)&&e(n.next[i].next)}(this),t.map(((e,n)=>{let i=n+(e.validEnd?"*":" ")+" "
for(let n=0;n<e.next.length;n++)i+=(n?", ":"")+e.next[n].type.name+"->"+t.indexOf(e.next[n].next)
return i})).join("\n")}}Hy.empty=new Hy(!0)
class Uy{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function qy(t){let e=[]
do{e.push(jy(t))}while(t.eat("|"))
return 1==e.length?e[0]:{type:"choice",exprs:e}}function jy(t){let e=[]
do{e.push(Wy(t))}while(t.next&&")"!=t.next&&"|"!=t.next)
return 1==e.length?e[0]:{type:"seq",exprs:e}}function Wy(t){let e=function(t){if(t.eat("(")){let e=qy(t)
return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){let e=function(t,e){let n=t.nodeTypes,i=n[e]
if(i)return[i]
let s=[]
for(let t in n){let i=n[t]
i.isInGroup(e)&&s.push(i)}0==s.length&&t.err("No node type or group '"+e+"' found")
return s}(t,t.next).map((e=>(null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e})))
return t.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}t.err("Unexpected token '"+t.next+"'")}(t)
for(;;)if(t.eat("+"))e={type:"plus",expr:e}
else if(t.eat("*"))e={type:"star",expr:e}
else if(t.eat("?"))e={type:"opt",expr:e}
else{if(!t.eat("{"))break
e=Zy(t,e)}return e}function Gy(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'")
let e=Number(t.next)
return t.pos++,e}function Zy(t,e){let n=Gy(t),i=n
return t.eat(",")&&(i="}"!=t.next?Gy(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:e}}function Ky(t,e){return e-t}function Yy(t,e){let n=[]
return function e(i){let s=t[i]
if(1==s.length&&!s[0].term)return e(s[0].to)
n.push(i)
for(let t=0;t<s.length;t++){let{term:i,to:o}=s[t]
i||-1!=n.indexOf(o)||e(o)}}(e),n.sort(Ky)}function Xy(t){let e=Object.create(null)
for(let n in t){let i=t[n]
if(!i.hasDefault)return null
e[n]=i.default}return e}function Jy(t,e){let n=Object.create(null)
for(let i in t){let s=e&&e[i]
if(void 0===s){let e=t[i]
if(!e.hasDefault)throw new RangeError("No value supplied for attribute "+i)
s=e.default}n[i]=s}return n}function Qy(t,e,n,i){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`)
for(let n in t){let i=t[n]
i.validate&&i.validate(e[n])}}function tw(t,e){let n=Object.create(null)
if(e)for(let i in e)n[i]=new nw(t,i,e[i])
return n}let ew=class t{constructor(t,e,n){this.name=t,this.schema=e,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=tw(t,n.attrs),this.defaultAttrs=Xy(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Hy.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0
return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:Jy(this.attrs,t)}create(t=null,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes")
return new Py(this,this.computeAttrs(t),my.from(e),yy.setFrom(n))}createChecked(t=null,e,n){return e=my.from(e),this.checkContent(e),new Py(this,this.computeAttrs(t),e,yy.setFrom(n))}createAndFill(t=null,e,n){if(t=this.computeAttrs(t),(e=my.from(e)).size){let t=this.contentMatch.fillBefore(e)
if(!t)return null
e=t.append(e)}let i=this.contentMatch.matchFragment(e),s=i&&i.fillBefore(my.empty,!0)
return s?new Py(this,t,e.append(s),yy.setFrom(n)):null}validContent(t){let e=this.contentMatch.matchFragment(t)
if(!e||!e.validEnd)return!1
for(let e=0;e<t.childCount;e++)if(!this.allowsMarks(t.child(e).marks))return!1
return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){Qy(this.attrs,t,"node",this.name)}allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1}allowsMarks(t){if(null==this.markSet)return!0
for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1
return!0}allowedMarks(t){if(null==this.markSet)return t
let e
for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n))
return e?e.length?e:yy.none:t}static compile(e,n){let i=Object.create(null)
e.forEach(((e,s)=>i[e]=new t(e,n,s)))
let s=n.spec.topNode||"doc"
if(!i[s])throw new RangeError("Schema is missing its top node type ('"+s+"')")
if(!i.text)throw new RangeError("Every schema needs a 'text' type")
for(let t in i.text.attrs)throw new RangeError("The text node type should not have attributes")
return i}}
class nw{constructor(t,e,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate="string"==typeof n.validate?function(t,e,n){let i=n.split("|")
return n=>{let s=null===n?"null":typeof n
if(i.indexOf(s)<0)throw new RangeError(`Expected value of type ${i} for attribute ${e} on type ${t}, got ${s}`)}}(t,e,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class iw{constructor(t,e,n,i){this.name=t,this.rank=e,this.schema=n,this.spec=i,this.attrs=tw(t,i.attrs),this.excluded=null
let s=Xy(this.attrs)
this.instance=s?new yy(this,s):null}create(t=null){return!t&&this.instance?this.instance:new yy(this,Jy(this.attrs,t))}static compile(t,e){let n=Object.create(null),i=0
return t.forEach(((t,s)=>n[t]=new iw(t,i++,e,s))),n}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--)
return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}checkAttrs(t){Qy(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}let sw=class{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null)
let e=this.spec={}
for(let n in t)e[n]=t[n]
e.nodes=uy.from(t.nodes),e.marks=uy.from(t.marks||{}),this.nodes=ew.compile(this.spec.nodes,this),this.marks=iw.compile(this.spec.marks,this)
let n=Object.create(null)
for(let t in this.nodes){if(t in this.marks)throw new RangeError(t+" can not be both a node and a mark")
let e=this.nodes[t],i=e.spec.content||"",s=e.spec.marks
if(e.contentMatch=n[i]||(n[i]=Hy.parse(i,this.nodes)),e.inlineContent=e.contentMatch.inlineContent,e.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined")
if(!e.isInline||!e.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes")
this.linebreakReplacement=e}e.markSet="_"==s?null:s?ow(this,s.split(" ")):""!=s&&e.inlineContent?null:[]}for(let t in this.marks){let e=this.marks[t],n=e.spec.excludes
e.excluded=null==n?[e]:""==n?[]:ow(this,n.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,n,i){if("string"==typeof t)t=this.nodeType(t)
else{if(!(t instanceof ew))throw new RangeError("Invalid node type: "+t)
if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,i)}text(t,e){let n=this.nodes.text
return new zy(n,n.defaultAttrs,t,yy.setFrom(e))}mark(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)}nodeFromJSON(t){return Py.fromJSON(this,t)}markFromJSON(t){return yy.fromJSON(this,t)}nodeType(t){let e=this.nodes[t]
if(!e)throw new RangeError("Unknown node type: "+t)
return e}}
function ow(t,e){let n=[]
for(let i=0;i<e.length;i++){let s=e[i],o=t.marks[s],r=o
if(o)n.push(o)
else for(let e in t.marks){let i=t.marks[e];("_"==s||i.spec.group&&i.spec.group.split(" ").indexOf(s)>-1)&&n.push(r=i)}if(!r)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return n}class rw{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[]
let n=this.matchedStyles=[]
e.forEach((t=>{if(function(t){return null!=t.tag}(t))this.tags.push(t)
else if(function(t){return null!=t.style}(t)){let e=/[^=]*/.exec(t.style)[0]
n.indexOf(e)<0&&n.push(e),this.styles.push(t)}})),this.normalizeLists=!this.tags.some((e=>{if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1
let n=t.nodes[e.node]
return n.contentMatch.matchType(n)}))}parse(t,e={}){let n=new uw(this,e,!1)
return n.addAll(t,yy.none,e.from,e.to),n.finish()}parseSlice(t,e={}){let n=new uw(this,e,!0)
return n.addAll(t,yy.none,e.from,e.to),xy.maxOpen(n.finish())}matchTag(t,e,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let n=this.tags[i]
if(pw(t,n.tag)&&(void 0===n.namespace||t.namespaceURI==n.namespace)&&(!n.context||e.matchesContext(n.context))){if(n.getAttrs){let e=n.getAttrs(t)
if(!1===e)continue
n.attrs=e||void 0}return n}}}matchStyle(t,e,n,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let i=this.styles[s],o=i.style
if(!(0!=o.indexOf(t)||i.context&&!n.matchesContext(i.context)||o.length>t.length&&(61!=o.charCodeAt(t.length)||o.slice(t.length+1)!=e))){if(i.getAttrs){let t=i.getAttrs(e)
if(!1===t)continue
i.attrs=t||void 0}return i}}}static schemaRules(t){let e=[]
function n(t){let n=null==t.priority?50:t.priority,i=0
for(;i<e.length;i++){let t=e[i]
if((null==t.priority?50:t.priority)<n)break}e.splice(i,0,t)}for(let e in t.marks){let i=t.marks[e].spec.parseDOM
i&&i.forEach((t=>{n(t=fw(t)),t.mark||t.ignore||t.clearMark||(t.mark=e)}))}for(let e in t.nodes){let i=t.nodes[e].spec.parseDOM
i&&i.forEach((t=>{n(t=fw(t)),t.node||t.ignore||t.mark||(t.node=e)}))}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new rw(t,rw.schemaRules(t)))}}const aw={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},lw={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},cw={ol:!0,ul:!0}
function dw(t,e,n){return null!=e?(e?1:0)|("full"===e?2:0):t&&"pre"==t.whitespace?3:-5&n}class hw{constructor(t,e,n,i,s,o){this.type=t,this.attrs=e,this.marks=n,this.solid=i,this.options=o,this.content=[],this.activeMarks=yy.none,this.match=s||(4&o?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[]
let e=this.type.contentMatch.fillBefore(my.from(t))
if(!e){let e,n=this.type.contentMatch
return(e=n.findWrapping(t.type))?(this.match=n,e):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)}finish(t){if(!(1&this.options)){let t,e=this.content[this.content.length-1]
if(e&&e.isText&&(t=/[ \t\r\n\u000c]+$/.exec(e.text))){let n=e
e.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length))}}let e=my.from(this.content)
return!t&&this.match&&(e=e.append(this.match.fillBefore(my.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!aw.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class uw{constructor(t,e,n){this.parser=t,this.options=e,this.isOpen=n,this.open=0,this.localPreserveWS=!1
let i,s=e.topNode,o=dw(null,e.preserveWhitespace,0)|(n?4:0)
i=s?new hw(s.type,s.attrs,yy.none,!0,e.topMatch||s.type.contentMatch,o):new hw(n?null:t.schema.topNodeType,null,yy.none,!0,null,o),this.nodes=[i],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,e){3==t.nodeType?this.addTextNode(t,e):1==t.nodeType&&this.addElement(t,e)}addTextNode(t,e){let n=t.nodeValue,i=this.top,s=2&i.options?"full":this.localPreserveWS||(1&i.options)>0
if("full"===s||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(s)n="full"!==s?n.replace(/\r?\n|\r/g," "):n.replace(/\r\n?/g,"\n")
else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let e=i.content[i.content.length-1],s=t.previousSibling;(!e||s&&"BR"==s.nodeName||e.isText&&/[ \t\r\n\u000c]$/.test(e.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),e),this.findInText(t)}else this.findInside(t)}addElement(t,e,n){let i=this.localPreserveWS,s=this.top;("PRE"==t.tagName||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0)
let o,r=t.nodeName.toLowerCase()
cw.hasOwnProperty(r)&&this.parser.normalizeLists&&function(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let t=1==e.nodeType?e.nodeName.toLowerCase():null
t&&cw.hasOwnProperty(t)&&n?(n.appendChild(e),e=n):"li"==t?n=e:t&&(n=null)}}(t)
let a=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(o=this.parser.matchTag(t,this,n))
t:if(a?a.ignore:lw.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t,e)
else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(t=a.skip)
let n,i=this.needsBlock
if(aw.hasOwnProperty(r))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),n=!0,s.type||(this.needsBlock=!0)
else if(!t.firstChild){this.leafFallback(t,e)
break t}let o=a&&a.skip?e:this.readStyles(t,e)
o&&this.addAll(t,o),n&&this.sync(s),this.needsBlock=i}else{let n=this.readStyles(t,e)
n&&this.addElementByRule(t,a,n,!1===a.consuming?o:void 0)}this.localPreserveWS=i}leafFallback(t,e){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"),e)}ignoreFallback(t,e){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),e)}readStyles(t,e){let n=t.style
if(n&&n.length)for(let t=0;t<this.parser.matchedStyles.length;t++){let i=this.parser.matchedStyles[t],s=n.getPropertyValue(i)
if(s)for(let t;;){let n=this.parser.matchStyle(i,s,this,t)
if(!n)break
if(n.ignore)return null
if(e=n.clearMark?e.filter((t=>!n.clearMark(t))):e.concat(this.parser.schema.marks[n.mark].create(n.attrs)),!1!==n.consuming)break
t=n}}return e}addElementByRule(t,e,n,i){let s,o
if(e.node)if(o=this.parser.schema.nodes[e.node],o.isLeaf)this.insertNode(o.create(e.attrs),n)||this.leafFallback(t,n)
else{let t=this.enter(o,e.attrs||null,n,e.preserveWhitespace)
t&&(s=!0,n=t)}else{let t=this.parser.schema.marks[e.mark]
n=n.concat(t.create(e.attrs))}let r=this.top
if(o&&o.isLeaf)this.findInside(t)
else if(i)this.addElement(t,n,i)
else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((t=>this.insertNode(t,n)))
else{let i=t
"string"==typeof e.contentElement?i=t.querySelector(e.contentElement):"function"==typeof e.contentElement?i=e.contentElement(t):e.contentElement&&(i=e.contentElement),this.findAround(t,i,!0),this.addAll(i,n),this.findAround(t,i,!1)}s&&this.sync(r)&&this.open--}addAll(t,e,n,i){let s=n||0
for(let o=n?t.childNodes[n]:t.firstChild,r=null==i?null:t.childNodes[i];o!=r;o=o.nextSibling,++s)this.findAtPoint(t,s),this.addDOM(o,e)
this.findAtPoint(t,s)}findPlace(t,e){let n,i
for(let e=this.open;e>=0;e--){let s=this.nodes[e],o=s.findWrapping(t)
if(o&&(!n||n.length>o.length)&&(n=o,i=s,!o.length))break
if(s.solid)break}if(!n)return null
this.sync(i)
for(let t=0;t<n.length;t++)e=this.enterInner(n[t],null,e,!1)
return e}insertNode(t,e){if(t.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext()
t&&(e=this.enterInner(t,null,e))}let n=this.findPlace(t,e)
if(n){this.closeExtra()
let e=this.top
e.match&&(e.match=e.match.matchType(t.type))
let i=yy.none
for(let s of n.concat(t.marks))(e.type?e.type.allowsMarkType(s.type):mw(s.type,t.type))&&(i=s.addToSet(i))
return e.content.push(t.mark(i)),!0}return!1}enter(t,e,n,i){let s=this.findPlace(t.create(e),n)
return s&&(s=this.enterInner(t,e,n,!0,i)),s}enterInner(t,e,n,i=!1,s){this.closeExtra()
let o=this.top
o.match=o.match&&o.match.matchType(t)
let r=dw(t,s,o.options)
4&o.options&&0==o.content.length&&(r|=4)
let a=yy.none
return n=n.filter((e=>!(o.type?o.type.allowsMarkType(e.type):mw(e.type,t))||(a=e.addToSet(a),!1))),this.nodes.push(new hw(t,e,a,i,null,r)),this.open++,n}closeExtra(t=!1){let e=this.nodes.length-1
if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t))
this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!(!this.isOpen&&!this.options.topOpen))}sync(t){for(let e=this.open;e>=0;e--){if(this.nodes[e]==t)return this.open=e,!0
this.localPreserveWS&&(this.nodes[e].options|=1)}return!1}get currentPos(){this.closeExtra()
let t=0
for(let e=this.open;e>=0;e--){let n=this.nodes[e].content
for(let e=n.length-1;e>=0;e--)t+=n[e].nodeSize
e&&t++}return t}findAtPoint(t,e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,n){if(t!=e&&this.find)for(let i=0;i<this.find.length;i++)if(null==this.find[i].pos&&1==t.nodeType&&t.contains(this.find[i].node)){e.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this)
let e=t.split("/"),n=this.options.context,i=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),s=-(n?n.depth+1:0)+(i?0:1),o=(t,r)=>{for(;t>=0;t--){let a=e[t]
if(""==a){if(t==e.length-1||0==t)continue
for(;r>=s;r--)if(o(t-1,r))return!0
return!1}{let t=r>0||0==r&&i?this.nodes[r].type:n&&r>=s?n.node(r-s).type:null
if(!t||t.name!=a&&!t.isInGroup(a))return!1
r--}}return!0}
return o(e.length-1,this.open)}textblockFromContext(){let t=this.options.context
if(t)for(let e=t.depth;e>=0;e--){let n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType
if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t]
if(e.isTextblock&&e.defaultAttrs)return e}}}function pw(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function fw(t){let e={}
for(let n in t)e[n]=t[n]
return e}function mw(t,e){let n=e.schema.nodes
for(let i in n){let s=n[i]
if(!s.allowsMarkType(t))continue
let o=[],r=t=>{o.push(t)
for(let n=0;n<t.edgeCount;n++){let{type:i,next:s}=t.edge(n)
if(i==e)return!0
if(o.indexOf(s)<0&&r(s))return!0}}
if(r(s.contentMatch))return!0}}class gw{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},n){n||(n=bw(e).createDocumentFragment())
let i=n,s=[]
return t.forEach((t=>{if(s.length||t.marks.length){let n=0,o=0
for(;n<s.length&&o<t.marks.length;){let e=t.marks[o]
if(this.marks[e.type.name]){if(!e.eq(s[n][0])||!1===e.type.spec.spanning)break
n++,o++}else o++}for(;n<s.length;)i=s.pop()[1]
for(;o<t.marks.length;){let n=t.marks[o++],r=this.serializeMark(n,t.isInline,e)
r&&(s.push([n,i]),i.appendChild(r.dom),i=r.contentDOM||r.dom)}}i.appendChild(this.serializeNodeInner(t,e))})),n}serializeNodeInner(t,e){let{dom:n,contentDOM:i}=xw(bw(e),this.nodes[t.type.name](t),null,t.attrs)
if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec")
this.serializeFragment(t.content,e,i)}return n}serializeNode(t,e={}){let n=this.serializeNodeInner(t,e)
for(let i=t.marks.length-1;i>=0;i--){let s=this.serializeMark(t.marks[i],t.isInline,e)
s&&((s.contentDOM||s.dom).appendChild(n),n=s.dom)}return n}serializeMark(t,e,n={}){let i=this.marks[t.type.name]
return i&&xw(bw(n),i(t,e),null,t.attrs)}static renderSpec(t,e,n=null,i){return xw(t,e,n,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new gw(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=vw(t.nodes)
return e.text||(e.text=t=>t.text),e}static marksFromSchema(t){return vw(t.marks)}}function vw(t){let e={}
for(let n in t){let i=t[n].spec.toDOM
i&&(e[n]=i)}return e}function bw(t){return t.document||window.document}const yw=new WeakMap
function ww(t){let e=yw.get(t)
return void 0===e&&yw.set(t,e=function(t){let e=null
function n(t){if(t&&"object"==typeof t)if(Array.isArray(t))if("string"==typeof t[0])e||(e=[]),e.push(t)
else for(let e=0;e<t.length;e++)n(t[e])
else for(let e in t)n(t[e])}return n(t),e}(t)),e}function xw(t,e,n,i){if("string"==typeof e)return{dom:t.createTextNode(e)}
if(null!=e.nodeType)return{dom:e}
if(e.dom&&null!=e.dom.nodeType)return e
let s,o=e[0]
if("string"!=typeof o)throw new RangeError("Invalid array passed to renderSpec")
if(i&&(s=ww(i))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.")
let r,a=o.indexOf(" ")
a>0&&(n=o.slice(0,a),o=o.slice(a+1))
let l=n?t.createElementNS(n,o):t.createElement(o),c=e[1],d=1
if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c)){d=2
for(let t in c)if(null!=c[t]){let e=t.indexOf(" ")
e>0?l.setAttributeNS(t.slice(0,e),t.slice(e+1),c[t]):l.setAttribute(t,c[t])}}for(let s=d;s<e.length;s++){let o=e[s]
if(0===o){if(s<e.length-1||s>d)throw new RangeError("Content hole must be the only child of its parent node")
return{dom:l,contentDOM:l}}{let{dom:e,contentDOM:s}=xw(t,o,n,i)
if(l.appendChild(e),s){if(r)throw new RangeError("Multiple content holes")
r=s}}}return{dom:l,contentDOM:r}}const Cw=Math.pow(2,16)
function kw(t){return 65535&t}class Sw{constructor(t,e,n){this.pos=t,this.delInfo=e,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class _w{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&_w.empty)return _w.empty}recover(t){let e=0,n=kw(t)
if(!this.inverted)for(let t=0;t<n;t++)e+=this.ranges[3*t+2]-this.ranges[3*t+1]
return this.ranges[3*n]+e+function(t){return(t-(65535&t))/Cw}(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,n){let i=0,s=this.inverted?2:1,o=this.inverted?1:2
for(let r=0;r<this.ranges.length;r+=3){let a=this.ranges[r]-(this.inverted?i:0)
if(a>t)break
let l=this.ranges[r+s],c=this.ranges[r+o],d=a+l
if(t<=d){let s=a+i+((l?t==a?-1:t==d?1:e:e)<0?0:c)
if(n)return s
let o=t==(e<0?a:d)?null:r/3+(t-a)*Cw,h=t==a?2:t==d?1:4
return(e<0?t!=a:t!=d)&&(h|=8),new Sw(s,h,o)}i+=c-l}return n?t+i:new Sw(t+i,0,null)}touches(t,e){let n=0,i=kw(e),s=this.inverted?2:1,o=this.inverted?1:2
for(let e=0;e<this.ranges.length;e+=3){let r=this.ranges[e]-(this.inverted?n:0)
if(r>t)break
let a=this.ranges[e+s]
if(t<=r+a&&e==3*i)return!0
n+=this.ranges[e+o]-a}return!1}forEach(t){let e=this.inverted?2:1,n=this.inverted?1:2
for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],r=o-(this.inverted?s:0),a=o+(this.inverted?0:s),l=this.ranges[i+e],c=this.ranges[i+n]
t(r,r+l,a,a+c),s+=c-l}}invert(){return new _w(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?_w.empty:new _w(t<0?[0,-t,0]:[0,0,t])}}_w.empty=new _w([])
class Iw{constructor(t=[],e,n=0,i=t.length){this.maps=t,this.mirror=e,this.from=n,this.to=i}slice(t=0,e=this.maps.length){return new Iw(this.maps,this.mirror,t,e)}copy(){return new Iw(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)}appendMapping(t){for(let e=0,n=this.maps.length;e<t.maps.length;e++){let i=t.getMirror(e)
this.appendMap(t.maps[e],null!=i&&i<e?n+i:void 0)}}getMirror(t){if(this.mirror)for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){let i=t.getMirror(e)
this.appendMap(t.maps[e].invert(),null!=i&&i>e?n-i-1:void 0)}}invert(){let t=new Iw
return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0)
for(let n=this.from;n<this.to;n++)t=this.maps[n].map(t,e)
return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,n){let i=0
for(let n=this.from;n<this.to;n++){let s=this.maps[n].mapResult(t,e)
if(null!=s.recover){let e=this.getMirror(n)
if(null!=e&&e>n&&e<this.to){n=e,t=this.maps[e].recover(s.recover)
continue}}i|=s.delInfo,t=s.pos}return n?t:new Sw(t,i,null)}}const Mw=Object.create(null)
class $w{getMap(){return _w.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON")
let n=Mw[e.stepType]
if(!n)throw new RangeError(`No step type ${e.stepType} defined`)
return n.fromJSON(t,e)}static jsonID(t,e){if(t in Mw)throw new RangeError("Duplicate use of step JSON ID "+t)
return Mw[t]=e,e.prototype.jsonID=t,e}}class Dw{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new Dw(t,null)}static fail(t){return new Dw(null,t)}static fromReplace(t,e,n,i){try{return Dw.ok(t.replace(e,n,i))}catch(t){if(t instanceof wy)return Dw.fail(t.message)
throw t}}}function Ew(t,e,n){let i=[]
for(let s=0;s<t.childCount;s++){let o=t.child(s)
o.content.size&&(o=o.copy(Ew(o.content,e,o))),o.isInline&&(o=e(o,n,s)),i.push(o)}return my.fromArray(i)}class Aw extends $w{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=t.resolve(this.from),i=n.node(n.sharedDepth(this.to)),s=new xy(Ew(e.content,((t,e)=>t.isAtom&&e.type.allowsMarkType(this.mark.type)?t.mark(this.mark.addToSet(t.marks)):t),i),e.openStart,e.openEnd)
return Dw.fromReplace(t,this.from,this.to,s)}invert(){return new Tw(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1)
return e.deleted&&n.deleted||e.pos>=n.pos?null:new Aw(e.pos,n.pos,this.mark)}merge(t){return t instanceof Aw&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Aw(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON")
return new Aw(e.from,e.to,t.markFromJSON(e.mark))}}$w.jsonID("addMark",Aw)
class Tw extends $w{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=new xy(Ew(e.content,(t=>t.mark(this.mark.removeFromSet(t.marks))),t),e.openStart,e.openEnd)
return Dw.fromReplace(t,this.from,this.to,n)}invert(){return new Aw(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1)
return e.deleted&&n.deleted||e.pos>=n.pos?null:new Tw(e.pos,n.pos,this.mark)}merge(t){return t instanceof Tw&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Tw(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON")
return new Tw(e.from,e.to,t.markFromJSON(e.mark))}}$w.jsonID("removeMark",Tw)
class Ow extends $w{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos)
if(!e)return Dw.fail("No node at mark step's position")
let n=e.type.create(e.attrs,null,this.mark.addToSet(e.marks))
return Dw.fromReplace(t,this.pos,this.pos+1,new xy(my.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos)
if(e){let t=this.mark.addToSet(e.marks)
if(t.length==e.marks.length){for(let n=0;n<e.marks.length;n++)if(!e.marks[n].isInSet(t))return new Ow(this.pos,e.marks[n])
return new Ow(this.pos,this.mark)}}return new Rw(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1)
return e.deletedAfter?null:new Ow(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON")
return new Ow(e.pos,t.markFromJSON(e.mark))}}$w.jsonID("addNodeMark",Ow)
class Rw extends $w{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos)
if(!e)return Dw.fail("No node at mark step's position")
let n=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks))
return Dw.fromReplace(t,this.pos,this.pos+1,new xy(my.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos)
return e&&this.mark.isInSet(e.marks)?new Ow(this.pos,this.mark):this}map(t){let e=t.mapResult(this.pos,1)
return e.deletedAfter?null:new Rw(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON")
return new Rw(e.pos,t.markFromJSON(e.mark))}}$w.jsonID("removeNodeMark",Rw)
class Fw extends $w{constructor(t,e,n,i=!1){super(),this.from=t,this.to=e,this.slice=n,this.structure=i}apply(t){return this.structure&&Lw(t,this.from,this.to)?Dw.fail("Structure replace would overwrite content"):Dw.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new _w([this.from,this.to-this.from,this.slice.size])}invert(t){return new Fw(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1)
return e.deletedAcross&&n.deletedAcross?null:new Fw(e.pos,Math.max(e.pos,n.pos),this.slice)}merge(t){if(!(t instanceof Fw)||t.structure||this.structure)return null
if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null
{let e=this.slice.size+t.slice.size==0?xy.empty:new xy(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd)
return new Fw(t.from,this.to,e,this.structure)}}{let e=this.slice.size+t.slice.size==0?xy.empty:new xy(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd)
return new Fw(this.from,this.to+(t.to-t.from),e,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to}
return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON")
return new Fw(e.from,e.to,xy.fromJSON(t,e.slice),!!e.structure)}}$w.jsonID("replace",Fw)
class Nw extends $w{constructor(t,e,n,i,s,o,r=!1){super(),this.from=t,this.to=e,this.gapFrom=n,this.gapTo=i,this.slice=s,this.insert=o,this.structure=r}apply(t){if(this.structure&&(Lw(t,this.from,this.gapFrom)||Lw(t,this.gapTo,this.to)))return Dw.fail("Structure gap-replace would overwrite content")
let e=t.slice(this.gapFrom,this.gapTo)
if(e.openStart||e.openEnd)return Dw.fail("Gap is not a flat range")
let n=this.slice.insertAt(this.insert,e.content)
return n?Dw.fromReplace(t,this.from,this.to,n):Dw.fail("Content does not fit in gap")}getMap(){return new _w([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom
return new Nw(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),i=this.from==this.gapFrom?e.pos:t.map(this.gapFrom,-1),s=this.to==this.gapTo?n.pos:t.map(this.gapTo,1)
return e.deletedAcross&&n.deletedAcross||i<e.pos||s>n.pos?null:new Nw(e.pos,n.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert}
return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON")
return new Nw(e.from,e.to,e.gapFrom,e.gapTo,xy.fromJSON(t,e.slice),e.insert,!!e.structure)}}function Lw(t,e,n){let i=t.resolve(e),s=n-e,o=i.depth
for(;s>0&&o>0&&i.indexAfter(o)==i.node(o).childCount;)o--,s--
if(s>0){let t=i.node(o).maybeChild(i.indexAfter(o))
for(;s>0;){if(!t||t.isLeaf)return!0
t=t.firstChild,s--}}return!1}function Bw(t,e,n,i=n.contentMatch,s=!0){let o=t.doc.nodeAt(e),r=[],a=e+1
for(let e=0;e<o.childCount;e++){let l=o.child(e),c=a+l.nodeSize,d=i.matchType(l.type)
if(d){i=d
for(let e=0;e<l.marks.length;e++)n.allowsMarkType(l.marks[e].type)||t.step(new Tw(a,c,l.marks[e]))
if(s&&l.isText&&"pre"!=n.whitespace){let t,e,i=/\r?\n|\r/g
for(;t=i.exec(l.text);)e||(e=new xy(my.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),r.push(new Fw(a+t.index,a+t.index+t[0].length,e))}}else r.push(new Fw(a,c,xy.empty))
a=c}if(!i.validEnd){let e=i.fillBefore(my.empty,!0)
t.replace(a,a,new xy(e,0,0))}for(let e=r.length-1;e>=0;e--)t.step(r[e])}function Pw(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function zw(t){let e=t.parent.content.cutByIndex(t.startIndex,t.endIndex)
for(let n=t.depth;;--n){let i=t.$from.node(n),s=t.$from.index(n),o=t.$to.indexAfter(n)
if(n<t.depth&&i.canReplace(s,o,e))return n
if(0==n||i.type.spec.isolating||!Pw(i,s,o))break}return null}function Vw(t,e,n=null,i=t){let s=function(t,e){let{parent:n,startIndex:i,endIndex:s}=t,o=n.contentMatchAt(i).findWrapping(e)
if(!o)return null
let r=o.length?o[0]:e
return n.canReplaceWith(i,s,r)?o:null}(t,e),o=s&&function(t,e){let{parent:n,startIndex:i,endIndex:s}=t,o=n.child(i),r=e.contentMatch.findWrapping(o.type)
if(!r)return null
let a=(r.length?r[r.length-1]:e).contentMatch
for(let t=i;a&&t<s;t++)a=a.matchType(n.child(t).type)
return a&&a.validEnd?r:null}(i,e)
return o?s.map(Hw).concat({type:e,attrs:n}).concat(o.map(Hw)):null}function Hw(t){return{type:t,attrs:null}}function Uw(t,e,n,i){e.forEach(((s,o)=>{if(s.isText){let r,a=/\r?\n|\r/g
for(;r=a.exec(s.text);){let s=t.mapping.slice(i).map(n+1+o+r.index)
t.replaceWith(s,s+1,e.type.schema.linebreakReplacement.create())}}}))}function qw(t,e,n,i){e.forEach(((s,o)=>{if(s.type==s.type.schema.linebreakReplacement){let s=t.mapping.slice(i).map(n+1+o)
t.replaceWith(s,s+1,e.type.schema.text("\n"))}}))}function jw(t,e,n=1,i){let s=t.resolve(e),o=s.depth-n,r=i&&i[i.length-1]||s.parent
if(o<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!r.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1
for(let t=s.depth-1,e=n-2;t>o;t--,e--){let n=s.node(t),o=s.index(t)
if(n.type.spec.isolating)return!1
let r=n.content.cutByIndex(o,n.childCount),a=i&&i[e+1]
a&&(r=r.replaceChild(0,a.type.create(a.attrs)))
let l=i&&i[e]||n
if(!n.canReplace(o+1,n.childCount)||!l.type.validContent(r))return!1}let a=s.indexAfter(o),l=i&&i[0]
return s.node(o).canReplaceWith(a,a,l?l.type:s.node(o+1).type)}function Ww(t,e){let n=t.resolve(e),i=n.index()
return Gw(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function Gw(t,e){return!(!t||!e||t.isLeaf||!function(t,e){e.content.size||t.type.compatibleContent(e.type)
let n=t.contentMatchAt(t.childCount),{linebreakReplacement:i}=t.type.schema
for(let s=0;s<e.childCount;s++){let o=e.child(s),r=o.type==i?t.type.schema.nodes.text:o.type
if(n=n.matchType(r),!n)return!1
if(!t.type.allowsMarks(o.marks))return!1}return n.validEnd}(t,e))}function Zw(t,e,n=-1){let i=t.resolve(e)
for(let t=i.depth;;t--){let s,o,r=i.index(t)
if(t==i.depth?(s=i.nodeBefore,o=i.nodeAfter):n>0?(s=i.node(t+1),r++,o=i.node(t).maybeChild(r)):(s=i.node(t).maybeChild(r-1),o=i.node(t+1)),s&&!s.isTextblock&&Gw(s,o)&&i.node(t).canReplace(r,r+1))return e
if(0==t)break
e=n<0?i.before(t):i.after(t)}}function Kw(t,e,n=e,i=xy.empty){if(e==n&&!i.size)return null
let s=t.resolve(e),o=t.resolve(n)
return Yw(s,o,i)?new Fw(e,n,i):new Xw(s,o,i).fit()}function Yw(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}$w.jsonID("replaceAround",Nw)
class Xw{constructor(t,e,n){this.$from=t,this.$to=e,this.unplaced=n,this.frontier=[],this.placed=my.empty
for(let e=0;e<=t.depth;e++){let n=t.node(e)
this.frontier.push({type:n.type,match:n.contentMatchAt(t.indexAfter(e))})}for(let e=t.depth;e>0;e--)this.placed=my.from(t.node(e).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let t=this.findFittable()
t?this.placeNodes(t):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(t<0?this.$to:n.doc.resolve(t))
if(!i)return null
let s=this.placed,o=n.depth,r=i.depth
for(;o&&r&&1==s.childCount;)s=s.firstChild.content,o--,r--
let a=new xy(s,o,r)
return t>-1?new Nw(n.pos,t,this.$to.pos,this.$to.end(),a,e):a.size||n.pos!=this.$to.pos?new Fw(n.pos,i.pos,a):null}findFittable(){let t=this.unplaced.openStart
for(let e=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<t;n++){let s=e.firstChild
if(e.childCount>1&&(i=0),s.type.spec.isolating&&i<=n){t=n
break}e=s.content}for(let e=1;e<=2;e++)for(let n=1==e?t:this.unplaced.openStart;n>=0;n--){let t,i=null
n?(i=tx(this.unplaced.content,n-1).firstChild,t=i.content):t=this.unplaced.content
let s=t.firstChild
for(let t=this.depth;t>=0;t--){let o,{type:r,match:a}=this.frontier[t],l=null
if(1==e&&(s?a.matchType(s.type)||(l=a.fillBefore(my.from(s),!1)):i&&r.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:t,parent:i,inject:l}
if(2==e&&s&&(o=a.findWrapping(s.type)))return{sliceDepth:n,frontierDepth:t,parent:i,wrap:o}
if(i&&a.matchType(i.type))break}}}openMore(){let{content:t,openStart:e,openEnd:n}=this.unplaced,i=tx(t,e)
return!(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new xy(t,e+1,Math.max(n,i.size+e>=t.size-n?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:n}=this.unplaced,i=tx(t,e)
if(i.childCount<=1&&e>0){let s=t.size-e<=e+i.size
this.unplaced=new xy(Jw(t,e-1,1),e-1,s?e-1:n)}else this.unplaced=new xy(Jw(t,e,1),e,n)}placeNodes({sliceDepth:t,frontierDepth:e,parent:n,inject:i,wrap:s}){for(;this.depth>e;)this.closeFrontierNode()
if(s)for(let t=0;t<s.length;t++)this.openFrontierNode(s[t])
let o=this.unplaced,r=n?n.content:o.content,a=o.openStart-t,l=0,c=[],{match:d,type:h}=this.frontier[e]
if(i){for(let t=0;t<i.childCount;t++)c.push(i.child(t))
d=d.matchFragment(i)}let u=r.size+t-(o.content.size-o.openEnd)
for(;l<r.childCount;){let t=r.child(l),e=d.matchType(t.type)
if(!e)break
l++,(l>1||0==a||t.content.size)&&(d=e,c.push(ex(t.mark(h.allowedMarks(t.marks)),1==l?a:0,l==r.childCount?u:-1)))}let p=l==r.childCount
p||(u=-1),this.placed=Qw(this.placed,e,my.from(c)),this.frontier[e].match=d,p&&u<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode()
for(let t=0,e=r;t<u;t++){let t=e.lastChild
this.frontier.push({type:t.type,match:t.contentMatchAt(t.childCount)}),e=t.content}this.unplaced=p?0==t?xy.empty:new xy(Jw(o.content,t-1,1),t-1,u<0?o.openEnd:t-1):new xy(Jw(o.content,t,l),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1
let t,e=this.frontier[this.depth]
if(!e.type.isTextblock||!nx(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1
let{depth:n}=this.$to,i=this.$to.after(n)
for(;n>1&&i==this.$to.end(--n);)++i
return i}findCloseLevel(t){t:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:n,type:i}=this.frontier[e],s=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),o=nx(t,e,i,n,s)
if(o){for(let n=e-1;n>=0;n--){let{match:e,type:i}=this.frontier[n],s=nx(t,n,i,e,!0)
if(!s||s.childCount)continue t}return{depth:e,fit:o,move:s?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t)
if(!e)return null
for(;this.depth>e.depth;)this.closeFrontierNode()
e.fit.childCount&&(this.placed=Qw(this.placed,e.depth,e.fit)),t=e.move
for(let n=e.depth+1;n<=t.depth;n++){let e=t.node(n),i=e.type.contentMatch.fillBefore(e.content,!0,t.index(n))
this.openFrontierNode(e.type,e.attrs,i)}return t}openFrontierNode(t,e=null,n){let i=this.frontier[this.depth]
i.match=i.match.matchType(t),this.placed=Qw(this.placed,this.depth,my.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(my.empty,!0)
t.childCount&&(this.placed=Qw(this.placed,this.frontier.length,t))}}function Jw(t,e,n){return 0==e?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Jw(t.firstChild.content,e-1,n)))}function Qw(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Qw(t.lastChild.content,e-1,n)))}function tx(t,e){for(let n=0;n<e;n++)t=t.firstChild.content
return t}function ex(t,e,n){if(e<=0)return t
let i=t.content
return e>1&&(i=i.replaceChild(0,ex(i.firstChild,e-1,1==i.childCount?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(my.empty,!0)))),t.copy(i)}function nx(t,e,n,i,s){let o=t.node(e),r=s?t.indexAfter(e):t.index(e)
if(r==o.childCount&&!n.compatibleContent(o.type))return null
let a=i.fillBefore(o.content,!0,r)
return a&&!function(t,e,n){for(let i=n;i<e.childCount;i++)if(!t.allowsMarks(e.child(i).marks))return!0
return!1}(n,o.content,r)?a:null}function ix(t,e,n,i,s){if(e<n){let s=t.firstChild
t=t.replaceChild(0,s.copy(ix(s.content,e+1,n,i,s)))}if(e>i){let e=s.contentMatchAt(0),n=e.fillBefore(t).append(t)
t=n.append(e.matchFragment(n).fillBefore(my.empty,!0))}return t}function sx(t,e){let n=[]
for(let i=Math.min(t.depth,e.depth);i>=0;i--){let s=t.start(i)
if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class ox extends $w{constructor(t,e,n){super(),this.pos=t,this.attr=e,this.value=n}apply(t){let e=t.nodeAt(this.pos)
if(!e)return Dw.fail("No node at attribute step's position")
let n=Object.create(null)
for(let t in e.attrs)n[t]=e.attrs[t]
n[this.attr]=this.value
let i=e.type.create(n,null,e.marks)
return Dw.fromReplace(t,this.pos,this.pos+1,new xy(my.from(i),0,e.isLeaf?0:1))}getMap(){return _w.empty}invert(t){return new ox(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1)
return e.deletedAfter?null:new ox(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if("number"!=typeof e.pos||"string"!=typeof e.attr)throw new RangeError("Invalid input for AttrStep.fromJSON")
return new ox(e.pos,e.attr,e.value)}}$w.jsonID("attr",ox)
class rx extends $w{constructor(t,e){super(),this.attr=t,this.value=e}apply(t){let e=Object.create(null)
for(let n in t.attrs)e[n]=t.attrs[n]
e[this.attr]=this.value
let n=t.type.create(e,t.content,t.marks)
return Dw.ok(n)}getMap(){return _w.empty}invert(t){return new rx(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,e){if("string"!=typeof e.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON")
return new rx(e.attr,e.value)}}$w.jsonID("docAttr",rx)
let ax=class extends Error{}
ax=function t(e){let n=Error.call(this,e)
return n.__proto__=t.prototype,n},(ax.prototype=Object.create(Error.prototype)).constructor=ax,ax.prototype.name="TransformError"
let lx=class{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Iw}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t)
if(e.failed)throw new ax(e.failed)
return this}maybeStep(t){let e=t.apply(this.doc)
return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,n=xy.empty){let i=Kw(this.doc,t,e,n)
return i&&this.step(i),this}replaceWith(t,e,n){return this.replace(t,e,new xy(my.from(n),0,0))}delete(t,e){return this.replace(t,e,xy.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,n){return function(t,e,n,i){if(!i.size)return t.deleteRange(e,n)
let s=t.doc.resolve(e),o=t.doc.resolve(n)
if(Yw(s,o,i))return t.step(new Fw(e,n,i))
let r=sx(s,t.doc.resolve(n))
0==r[r.length-1]&&r.pop()
let a=-(s.depth+1)
r.unshift(a)
for(let t=s.depth,e=s.pos-1;t>0;t--,e--){let n=s.node(t).type.spec
if(n.defining||n.definingAsContext||n.isolating)break
r.indexOf(t)>-1?a=t:s.before(t)==e&&r.splice(1,0,-t)}let l=r.indexOf(a),c=[],d=i.openStart
for(let t=i.content,e=0;;e++){let n=t.firstChild
if(c.push(n),e==i.openStart)break
t=n.content}for(let t=d-1;t>=0;t--){let e=c[t],n=(h=e.type).spec.defining||h.spec.definingForContent
if(n&&!e.sameMarkup(s.node(Math.abs(a)-1)))d=t
else if(n||!e.type.isTextblock)break}var h
for(let e=i.openStart;e>=0;e--){let a=(e+d+1)%(i.openStart+1),h=c[a]
if(h)for(let e=0;e<r.length;e++){let c=r[(e+l)%r.length],d=!0
c<0&&(d=!1,c=-c)
let u=s.node(c-1),p=s.index(c-1)
if(u.canReplaceWith(p,p,h.type,h.marks))return t.replace(s.before(c),d?o.after(c):n,new xy(ix(i.content,0,i.openStart,a),a,i.openEnd))}}let u=t.steps.length
for(let a=r.length-1;a>=0&&(t.replace(e,n,i),!(t.steps.length>u));a--){let t=r[a]
t<0||(e=s.before(t),n=o.after(t))}}(this,t,e,n),this}replaceRangeWith(t,e,n){return function(t,e,n,i){if(!i.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=function(t,e,n){let i=t.resolve(e)
if(i.parent.canReplaceWith(i.index(),i.index(),n))return e
if(0==i.parentOffset)for(let t=i.depth-1;t>=0;t--){let e=i.index(t)
if(i.node(t).canReplaceWith(e,e,n))return i.before(t+1)
if(e>0)return null}if(i.parentOffset==i.parent.content.size)for(let t=i.depth-1;t>=0;t--){let e=i.indexAfter(t)
if(i.node(t).canReplaceWith(e,e,n))return i.after(t+1)
if(e<i.node(t).childCount)return null}return null}(t.doc,e,i.type)
null!=s&&(e=n=s)}t.replaceRange(e,n,new xy(my.from(i),0,0))}(this,t,e,n),this}deleteRange(t,e){return function(t,e,n){let i=t.doc.resolve(e),s=t.doc.resolve(n),o=sx(i,s)
for(let e=0;e<o.length;e++){let n=o[e],r=e==o.length-1
if(r&&0==n||i.node(n).type.contentMatch.validEnd)return t.delete(i.start(n),s.end(n))
if(n>0&&(r||i.node(n-1).canReplace(i.index(n-1),s.indexAfter(n-1))))return t.delete(i.before(n),s.after(n))}for(let o=1;o<=i.depth&&o<=s.depth;o++)if(e-i.start(o)==i.depth-o&&n>i.end(o)&&s.end(o)-n!=s.depth-o&&i.start(o-1)==s.start(o-1)&&i.node(o-1).canReplace(i.index(o-1),s.index(o-1)))return t.delete(i.before(o),n)
t.delete(e,n)}(this,t,e),this}lift(t,e){return function(t,e,n){let{$from:i,$to:s,depth:o}=e,r=i.before(o+1),a=s.after(o+1),l=r,c=a,d=my.empty,h=0
for(let t=o,e=!1;t>n;t--)e||i.index(t)>0?(e=!0,d=my.from(i.node(t).copy(d)),h++):l--
let u=my.empty,p=0
for(let t=o,e=!1;t>n;t--)e||s.after(t+1)<s.end(t)?(e=!0,u=my.from(s.node(t).copy(u)),p++):c++
t.step(new Nw(l,c,r,a,new xy(d.append(u),h,p),d.size-h,!0))}(this,t,e),this}join(t,e=1){return function(t,e,n){let i=null,{linebreakReplacement:s}=t.doc.type.schema,o=t.doc.resolve(e-n),r=o.node().type
if(s&&r.inlineContent){let t="pre"==r.whitespace,e=!!r.contentMatch.matchType(s)
t&&!e?i=!1:!t&&e&&(i=!0)}let a=t.steps.length
if(!1===i){let i=t.doc.resolve(e+n)
qw(t,i.node(),i.before(),a)}r.inlineContent&&Bw(t,e+n-1,r,o.node().contentMatchAt(o.index()),null==i)
let l=t.mapping.slice(a),c=l.map(e-n)
if(t.step(new Fw(c,l.map(e+n,-1),xy.empty,!0)),!0===i){let e=t.doc.resolve(c)
Uw(t,e.node(),e.before(),t.steps.length)}}(this,t,e),this}wrap(t,e){return function(t,e,n){let i=my.empty
for(let t=n.length-1;t>=0;t--){if(i.size){let e=n[t].type.contentMatch.matchFragment(i)
if(!e||!e.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=my.from(n[t].type.create(n[t].attrs,i))}let s=e.start,o=e.end
t.step(new Nw(s,o,s,o,new xy(i,0,0),n.length,!0))}(this,t,e),this}setBlockType(t,e=t,n,i=null){return function(t,e,n,i,s){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock")
let o=t.steps.length
t.doc.nodesBetween(e,n,((e,n)=>{let r="function"==typeof s?s(e):s
if(e.isTextblock&&!e.hasMarkup(i,r)&&function(t,e,n){let i=t.resolve(e),s=i.index()
return i.parent.canReplaceWith(s,s+1,n)}(t.doc,t.mapping.slice(o).map(n),i)){let s=null
if(i.schema.linebreakReplacement){let t="pre"==i.whitespace,e=!!i.contentMatch.matchType(i.schema.linebreakReplacement)
t&&!e?s=!1:!t&&e&&(s=!0)}!1===s&&qw(t,e,n,o),Bw(t,t.mapping.slice(o).map(n,1),i,void 0,null===s)
let a=t.mapping.slice(o),l=a.map(n,1),c=a.map(n+e.nodeSize,1)
return t.step(new Nw(l,c,l+1,c-1,new xy(my.from(i.create(r,null,e.marks)),0,0),1,!0)),!0===s&&Uw(t,e,n,o),!1}}))}(this,t,e,n,i),this}setNodeMarkup(t,e,n=null,i){return function(t,e,n,i,s){let o=t.doc.nodeAt(e)
if(!o)throw new RangeError("No node at given position")
n||(n=o.type)
let r=n.create(i,null,s||o.marks)
if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,r)
if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name)
t.step(new Nw(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new xy(my.from(r),0,0),1,!0))}(this,t,e,n,i),this}setNodeAttribute(t,e,n){return this.step(new ox(t,e,n)),this}setDocAttribute(t,e){return this.step(new rx(t,e)),this}addNodeMark(t,e){return this.step(new Ow(t,e)),this}removeNodeMark(t,e){if(!(e instanceof yy)){let n=this.doc.nodeAt(t)
if(!n)throw new RangeError("No node at position "+t)
if(!(e=e.isInSet(n.marks)))return this}return this.step(new Rw(t,e)),this}split(t,e=1,n){return function(t,e,n=1,i){let s=t.doc.resolve(e),o=my.empty,r=my.empty
for(let t=s.depth,e=s.depth-n,a=n-1;t>e;t--,a--){o=my.from(s.node(t).copy(o))
let e=i&&i[a]
r=my.from(e?e.type.create(e.attrs,r):s.node(t).copy(r))}t.step(new Fw(e,e,new xy(o.append(r),n,n),!0))}(this,t,e,n),this}addMark(t,e,n){return function(t,e,n,i){let s,o,r=[],a=[]
t.doc.nodesBetween(e,n,((t,l,c)=>{if(!t.isInline)return
let d=t.marks
if(!i.isInSet(d)&&c.type.allowsMarkType(i.type)){let c=Math.max(l,e),h=Math.min(l+t.nodeSize,n),u=i.addToSet(d)
for(let t=0;t<d.length;t++)d[t].isInSet(u)||(s&&s.to==c&&s.mark.eq(d[t])?s.to=h:r.push(s=new Tw(c,h,d[t])))
o&&o.to==c?o.to=h:a.push(o=new Aw(c,h,i))}})),r.forEach((e=>t.step(e))),a.forEach((e=>t.step(e)))}(this,t,e,n),this}removeMark(t,e,n){return function(t,e,n,i){let s=[],o=0
t.doc.nodesBetween(e,n,((t,r)=>{if(!t.isInline)return
o++
let a=null
if(i instanceof iw){let e,n=t.marks
for(;e=i.isInSet(n);)(a||(a=[])).push(e),n=e.removeFromSet(n)}else i?i.isInSet(t.marks)&&(a=[i]):a=t.marks
if(a&&a.length){let i=Math.min(r+t.nodeSize,n)
for(let t=0;t<a.length;t++){let n,l=a[t]
for(let t=0;t<s.length;t++){let e=s[t]
e.step==o-1&&l.eq(s[t].style)&&(n=e)}n?(n.to=i,n.step=o):s.push({style:l,from:Math.max(r,e),to:i,step:o})}}})),s.forEach((e=>t.step(new Tw(e.from,e.to,e.style))))}(this,t,e,n),this}clearIncompatible(t,e,n){return Bw(this,t,e,n),this}}
const cx=Object.create(null)
let dx=class{constructor(t,e,n){this.$anchor=t,this.$head=e,this.ranges=n||[new hx(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges
for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1
return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=xy.empty){let n=e.content.lastChild,i=null
for(let t=0;t<e.openEnd;t++)i=n,n=n.lastChild
let s=t.steps.length,o=this.ranges
for(let r=0;r<o.length;r++){let{$from:a,$to:l}=o[r],c=t.mapping.slice(s)
t.replaceRange(c.map(a.pos),c.map(l.pos),r?xy.empty:e),0==r&&xx(t,s,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,e){let n=t.steps.length,i=this.ranges
for(let s=0;s<i.length;s++){let{$from:o,$to:r}=i[s],a=t.mapping.slice(n),l=a.map(o.pos),c=a.map(r.pos)
s?t.deleteRange(l,c):(t.replaceRangeWith(l,c,e),xx(t,n,e.isInline?-1:1))}}static findFrom(t,e,n=!1){let i=t.parent.inlineContent?new fx(t):wx(t.node(0),t.parent,t.pos,t.index(),e,n)
if(i)return i
for(let i=t.depth-1;i>=0;i--){let s=e<0?wx(t.node(0),t.node(i),t.before(i+1),t.index(i),e,n):wx(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,e,n)
if(s)return s}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new bx(t.node(0))}static atStart(t){return wx(t,t,0,0,1)||new bx(t)}static atEnd(t){return wx(t,t,t.content.size,t.childCount,-1)||new bx(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON")
let n=cx[e.type]
if(!n)throw new RangeError(`No selection type ${e.type} defined`)
return n.fromJSON(t,e)}static jsonID(t,e){if(t in cx)throw new RangeError("Duplicate use of selection JSON ID "+t)
return cx[t]=e,e.prototype.jsonID=t,e}getBookmark(){return fx.between(this.$anchor,this.$head).getBookmark()}}
dx.prototype.visible=!0
class hx{constructor(t,e){this.$from=t,this.$to=e}}let ux=!1
function px(t){ux||t.parent.inlineContent||(ux=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class fx extends dx{constructor(t,e=t){px(t),px(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let n=t.resolve(e.map(this.head))
if(!n.parent.inlineContent)return dx.near(n)
let i=t.resolve(e.map(this.anchor))
return new fx(i.parent.inlineContent?i:n,n)}replace(t,e=xy.empty){if(super.replace(t,e),e==xy.empty){let e=this.$from.marksAcross(this.$to)
e&&t.ensureMarks(e)}}eq(t){return t instanceof fx&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new mx(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if("number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid input for TextSelection.fromJSON")
return new fx(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,n=e){let i=t.resolve(e)
return new this(i,n==e?i:t.resolve(n))}static between(t,e,n){let i=t.pos-e.pos
if(n&&!i||(n=i>=0?1:-1),!e.parent.inlineContent){let t=dx.findFrom(e,n,!0)||dx.findFrom(e,-n,!0)
if(!t)return dx.near(e,n)
e=t.$head}return t.parent.inlineContent||(0==i||(t=(dx.findFrom(t,-n,!0)||dx.findFrom(t,n,!0)).$anchor).pos<e.pos!=i<0)&&(t=e),new fx(t,e)}}dx.jsonID("text",fx)
class mx{constructor(t,e){this.anchor=t,this.head=e}map(t){return new mx(t.map(this.anchor),t.map(this.head))}resolve(t){return fx.between(t.resolve(this.anchor),t.resolve(this.head))}}class gx extends dx{constructor(t){let e=t.nodeAfter,n=t.node(0).resolve(t.pos+e.nodeSize)
super(t,n),this.node=e}map(t,e){let{deleted:n,pos:i}=e.mapResult(this.anchor),s=t.resolve(i)
return n?dx.near(s):new gx(s)}content(){return new xy(my.from(this.node),0,0)}eq(t){return t instanceof gx&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new vx(this.anchor)}static fromJSON(t,e){if("number"!=typeof e.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON")
return new gx(t.resolve(e.anchor))}static create(t,e){return new gx(t.resolve(e))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}gx.prototype.visible=!1,dx.jsonID("node",gx)
class vx{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:n}=t.mapResult(this.anchor)
return e?new mx(n,n):new vx(n)}resolve(t){let e=t.resolve(this.anchor),n=e.nodeAfter
return n&&gx.isSelectable(n)?new gx(e):dx.near(e)}}class bx extends dx{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=xy.empty){if(e==xy.empty){t.delete(0,t.doc.content.size)
let e=dx.atStart(t.doc)
e.eq(t.selection)||t.setSelection(e)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new bx(t)}map(t){return new bx(t)}eq(t){return t instanceof bx}getBookmark(){return yx}}dx.jsonID("all",bx)
const yx={map(){return this},resolve:t=>new bx(t)}
function wx(t,e,n,i,s,o=!1){if(e.inlineContent)return fx.create(t,n)
for(let r=i-(s>0?0:1);s>0?r<e.childCount:r>=0;r+=s){let i=e.child(r)
if(i.isAtom){if(!o&&gx.isSelectable(i))return gx.create(t,n-(s<0?i.nodeSize:0))}else{let e=wx(t,i,n+s,s<0?i.childCount:0,s,o)
if(e)return e}n+=i.nodeSize*s}return null}function xx(t,e,n){let i=t.steps.length-1
if(i<e)return
let s,o=t.steps[i];(o instanceof Fw||o instanceof Nw)&&(t.mapping.maps[i].forEach(((t,e,n,i)=>{null==s&&(s=i)})),t.setSelection(dx.near(t.doc.resolve(s),n)))}class Cx extends lx{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document")
return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&this.updated|1,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=2,this}ensureMarks(t){return yy.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(t,e){super.addStep(t,e),this.updated=-3&this.updated,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let n=this.selection
return e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||yy.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,n){let i=this.doc.type.schema
if(null==e)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection()
{if(null==n&&(n=e),n=null==n?e:n,!t)return this.deleteRange(e,n)
let s=this.storedMarks
if(!s){let t=this.doc.resolve(e)
s=n==e?t.marks():t.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,i.text(t,s)),this.selection.empty||this.setSelection(dx.near(this.selection.$to)),this}}setMeta(t,e){return this.meta["string"==typeof t?t:t.key]=e,this}getMeta(t){return this.meta["string"==typeof t?t:t.key]}get isGeneric(){for(let t in this.meta)return!1
return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function kx(t,e){return e&&t?t.bind(e):t}class Sx{constructor(t,e,n){this.name=t,this.init=kx(e.init,n),this.apply=kx(e.apply,n)}}const _x=[new Sx("doc",{init:t=>t.doc||t.schema.topNodeType.createAndFill(),apply:t=>t.doc}),new Sx("selection",{init:(t,e)=>t.selection||dx.atStart(e.doc),apply:t=>t.selection}),new Sx("storedMarks",{init:t=>t.storedMarks||null,apply:(t,e,n,i)=>i.selection.$cursor?t.storedMarks:null}),new Sx("scrollToSelection",{init:()=>0,apply:(t,e)=>t.scrolledIntoView?e+1:e})]
let Ix=class{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=_x.slice(),e&&e.forEach((t=>{if(this.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")")
this.plugins.push(t),this.pluginsByKey[t.key]=t,t.spec.state&&this.fields.push(new Sx(t.key,t.spec.state,t))}))}}
class Mx{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=e){let e=this.config.plugins[n]
if(e.spec.filterTransaction&&!e.spec.filterTransaction.call(e,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]}
let e=[t],n=this.applyInner(t),i=null
for(;;){let s=!1
for(let o=0;o<this.config.plugins.length;o++){let r=this.config.plugins[o]
if(r.spec.appendTransaction){let a=i?i[o].n:0,l=i?i[o].state:this,c=a<e.length&&r.spec.appendTransaction.call(r,a?e.slice(a):e,l,n)
if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",t),!i){i=[]
for(let t=0;t<this.config.plugins.length;t++)i.push(t<o?{state:n,n:e.length}:{state:this,n:0})}e.push(c),n=n.applyInner(c),s=!0}i&&(i[o]={state:n,n:e.length})}}if(!s)return{state:n,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction")
let e=new Mx(this.config),n=this.config.fields
for(let i=0;i<n.length;i++){let s=n[i]
e[s.name]=s.apply(t,this[s.name],this,e)}return e}get tr(){return new Cx(this)}static create(t){let e=new Ix(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new Mx(e)
for(let i=0;i<e.fields.length;i++)n[e.fields[i].name]=e.fields[i].init(t,n)
return n}reconfigure(t){let e=new Ix(this.schema,t.plugins),n=e.fields,i=new Mx(e)
for(let e=0;e<n.length;e++){let s=n[e].name
i[s]=this.hasOwnProperty(s)?this[s]:n[e].init(t,i)}return i}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()}
if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((t=>t.toJSON()))),t&&"object"==typeof t)for(let n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved")
let i=t[n],s=i.spec.state
s&&s.toJSON&&(e[n]=s.toJSON.call(i,this[i.key]))}return e}static fromJSON(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON")
if(!t.schema)throw new RangeError("Required config field 'schema' missing")
let i=new Ix(t.schema,t.plugins),s=new Mx(i)
return i.fields.forEach((i=>{if("doc"==i.name)s.doc=Py.fromJSON(t.schema,e.doc)
else if("selection"==i.name)s.selection=dx.fromJSON(s.doc,e.selection)
else if("storedMarks"==i.name)e.storedMarks&&(s.storedMarks=e.storedMarks.map(t.schema.markFromJSON))
else{if(n)for(let o in n){let r=n[o],a=r.spec.state
if(r.key==i.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,o))return void(s[i.name]=a.fromJSON.call(r,t,e[o],s))}s[i.name]=i.init(t,s)}})),s}}function $x(t,e,n){for(let i in t){let s=t[i]
s instanceof Function?s=s.bind(e):"handleDOMEvents"==i&&(s=$x(s,e,{})),n[i]=s}return n}class Dx{constructor(t){this.spec=t,this.props={},t.props&&$x(t.props,this,this.props),this.key=t.key?t.key.key:Ax("plugin")}getState(t){return t[this.key]}}const Ex=Object.create(null)
function Ax(t){return t in Ex?t+"$"+ ++Ex[t]:(Ex[t]=0,t+"$")}class Tx{constructor(t="key"){this.key=Ax(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const Ox=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},Rx=function(t){let e=t.assignedSlot||t.parentNode
return e&&11==e.nodeType?e.host:e}
let Fx=null
const Nx=function(t,e,n){let i=Fx||(Fx=document.createRange())
return i.setEnd(t,null==n?t.nodeValue.length:n),i.setStart(t,e||0),i},Lx=function(t,e,n,i){return n&&(Px(t,e,n,i,-1)||Px(t,e,n,i,1))},Bx=/^(img|br|input|textarea|hr)$/i
function Px(t,e,n,i,s){for(;;){if(t==n&&e==i)return!0
if(e==(s<0?0:zx(t))){let n=t.parentNode
if(!n||1!=n.nodeType||Vx(t)||Bx.test(t.nodeName)||"false"==t.contentEditable)return!1
e=Ox(t)+(s<0?0:1),t=n}else{if(1!=t.nodeType)return!1
if("false"==(t=t.childNodes[e+(s<0?-1:0)]).contentEditable)return!1
e=s<0?zx(t):0}}}function zx(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Vx(t){let e
for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Hx=function(t){return t.focusNode&&Lx(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)}
function Ux(t,e){let n=document.createEvent("Event")
return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}const qx="undefined"!=typeof navigator?navigator:null,jx="undefined"!=typeof document?document:null,Wx=qx&&qx.userAgent||"",Gx=/Edge\/(\d+)/.exec(Wx),Zx=/MSIE \d/.exec(Wx),Kx=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Wx),Yx=!!(Zx||Kx||Gx),Xx=Zx?document.documentMode:Kx?+Kx[1]:Gx?+Gx[1]:0,Jx=!Yx&&/gecko\/(\d+)/i.test(Wx)
Jx&&(/Firefox\/(\d+)/.exec(Wx)||[0,0])[1]
const Qx=!Yx&&/Chrome\/(\d+)/.exec(Wx),tC=!!Qx,eC=Qx?+Qx[1]:0,nC=!Yx&&!!qx&&/Apple Computer/.test(qx.vendor),iC=nC&&(/Mobile\/\w+/.test(Wx)||!!qx&&qx.maxTouchPoints>2),sC=iC||!!qx&&/Mac/.test(qx.platform),oC=!!qx&&/Win/.test(qx.platform),rC=/Android \d/.test(Wx),aC=!!jx&&"webkitFontSmoothing"in jx.documentElement.style,lC=aC?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0
function cC(t){let e=t.defaultView&&t.defaultView.visualViewport
return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function dC(t,e){return"number"==typeof t?t:t[e]}function hC(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,i=e.height/t.offsetHeight||1
return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*i}}function uC(t,e,n){let i=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument
for(let r=n||t.dom;r;r=Rx(r)){if(1!=r.nodeType)continue
let t=r,n=t==o.body,a=n?cC(o):hC(t),l=0,c=0
if(e.top<a.top+dC(i,"top")?c=-(a.top-e.top+dC(s,"top")):e.bottom>a.bottom-dC(i,"bottom")&&(c=e.bottom-e.top>a.bottom-a.top?e.top+dC(s,"top")-a.top:e.bottom-a.bottom+dC(s,"bottom")),e.left<a.left+dC(i,"left")?l=-(a.left-e.left+dC(s,"left")):e.right>a.right-dC(i,"right")&&(l=e.right-a.right+dC(s,"right")),l||c)if(n)o.defaultView.scrollBy(l,c)
else{let n=t.scrollLeft,i=t.scrollTop
c&&(t.scrollTop+=c),l&&(t.scrollLeft+=l)
let s=t.scrollLeft-n,o=t.scrollTop-i
e={left:e.left-s,top:e.top-o,right:e.right-s,bottom:e.bottom-o}}if(n||/^(fixed|sticky)$/.test(getComputedStyle(r).position))break}}function pC(t){let e=[],n=t.ownerDocument
for(let i=t;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),t!=n);i=Rx(i));return e}function fC(t,e){for(let n=0;n<t.length;n++){let{dom:i,top:s,left:o}=t[n]
i.scrollTop!=s+e&&(i.scrollTop=s+e),i.scrollLeft!=o&&(i.scrollLeft=o)}}let mC=null
function gC(t,e){let n,i,s,o,r=2e8,a=0,l=e.top,c=e.top
for(let d=t.firstChild,h=0;d;d=d.nextSibling,h++){let t
if(1==d.nodeType)t=d.getClientRects()
else{if(3!=d.nodeType)continue
t=Nx(d).getClientRects()}for(let u=0;u<t.length;u++){let p=t[u]
if(p.top<=l&&p.bottom>=c){l=Math.max(p.bottom,l),c=Math.min(p.top,c)
let t=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0
if(t<r){n=d,r=t,i=t&&3==n.nodeType?{left:p.right<e.left?p.right:p.left,top:e.top}:e,1==d.nodeType&&t&&(a=h+(e.left>=(p.left+p.right)/2?1:0))
continue}}else p.top>e.top&&!s&&p.left<=e.left&&p.right>=e.left&&(s=d,o={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top})
!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(a=h+1)}}return!n&&s&&(n=s,i=o,r=0),n&&3==n.nodeType?function(t,e){let n=t.nodeValue.length,i=document.createRange()
for(let s=0;s<n;s++){i.setEnd(t,s+1),i.setStart(t,s)
let n=xC(i,1)
if(n.top!=n.bottom&&vC(e,n))return{node:t,offset:s+(e.left>=(n.left+n.right)/2?1:0)}}return{node:t,offset:0}}(n,i):!n||r&&1==n.nodeType?{node:t,offset:a}:gC(n,i)}function vC(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function bC(t,e,n){let i=t.childNodes.length
if(i&&n.top<n.bottom)for(let s=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-n.top)/(n.bottom-n.top))-2)),o=s;;){let n=t.childNodes[o]
if(1==n.nodeType){let t=n.getClientRects()
for(let i=0;i<t.length;i++){let s=t[i]
if(vC(e,s))return bC(n,e,s)}}if((o=(o+1)%i)==s)break}return t}function yC(t,e){let n,i=t.dom.ownerDocument,s=0,o=function(t,e,n){if(t.caretPositionFromPoint)try{let i=t.caretPositionFromPoint(e,n)
if(i)return{node:i.offsetNode,offset:Math.min(zx(i.offsetNode),i.offset)}}catch(t){}if(t.caretRangeFromPoint){let i=t.caretRangeFromPoint(e,n)
if(i)return{node:i.startContainer,offset:Math.min(zx(i.startContainer),i.startOffset)}}}(i,e.left,e.top)
o&&({node:n,offset:s}=o)
let r,a=(t.root.elementFromPoint?t.root:i).elementFromPoint(e.left,e.top)
if(!a||!t.dom.contains(1!=a.nodeType?a.parentNode:a)){let n=t.dom.getBoundingClientRect()
if(!vC(e,n))return null
if(a=bC(t.dom,e,n),!a)return null}if(nC)for(let t=a;n&&t;t=Rx(t))t.draggable&&(n=void 0)
if(a=function(t,e){let n=t.parentNode
return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}(a,e),n){if(Jx&&1==n.nodeType&&(s=Math.min(s,n.childNodes.length),s<n.childNodes.length)){let t,i=n.childNodes[s]
"IMG"==i.nodeName&&(t=i.getBoundingClientRect()).right<=e.left&&t.bottom>e.top&&s++}let i
aC&&s&&1==n.nodeType&&1==(i=n.childNodes[s-1]).nodeType&&"false"==i.contentEditable&&i.getBoundingClientRect().top>=e.top&&s--,n==t.dom&&s==n.childNodes.length-1&&1==n.lastChild.nodeType&&e.top>n.lastChild.getBoundingClientRect().bottom?r=t.state.doc.content.size:0!=s&&1==n.nodeType&&"BR"==n.childNodes[s-1].nodeName||(r=function(t,e,n,i){let s=-1
for(let n=e,o=!1;n!=t.dom;){let e,r=t.docView.nearestDesc(n,!0)
if(!r)return null
if(1==r.dom.nodeType&&(r.node.isBlock&&r.parent||!r.contentDOM)&&((e=r.dom.getBoundingClientRect()).width||e.height)&&(r.node.isBlock&&r.parent&&(!o&&e.left>i.left||e.top>i.top?s=r.posBefore:(!o&&e.right<i.left||e.bottom<i.top)&&(s=r.posAfter),o=!0),!r.contentDOM&&s<0&&!r.node.isText))return(r.node.isBlock?i.top<(e.top+e.bottom)/2:i.left<(e.left+e.right)/2)?r.posBefore:r.posAfter
n=r.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}(t,n,s,e))}null==r&&(r=function(t,e,n){let{node:i,offset:s}=gC(e,n),o=-1
if(1==i.nodeType&&!i.firstChild){let t=i.getBoundingClientRect()
o=t.left!=t.right&&n.left>(t.left+t.right)/2?1:-1}return t.docView.posFromDOM(i,s,o)}(t,a,e))
let l=t.docView.nearestDesc(a,!0)
return{pos:r,inside:l?l.posAtStart-l.border:-1}}function wC(t){return t.top<t.bottom||t.left<t.right}function xC(t,e){let n=t.getClientRects()
if(n.length){let t=n[e<0?0:n.length-1]
if(wC(t))return t}return Array.prototype.find.call(n,wC)||t.getBoundingClientRect()}const CC=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/
function kC(t,e,n){let{node:i,offset:s,atom:o}=t.docView.domFromPos(e,n<0?-1:1),r=aC||Jx
if(3==i.nodeType){if(!r||!CC.test(i.nodeValue)&&(n<0?s:s!=i.nodeValue.length)){let t=s,e=s,o=n<0?1:-1
return n<0&&!s?(e++,o=-1):n>=0&&s==i.nodeValue.length?(t--,o=1):n<0?t--:e++,SC(xC(Nx(i,t,e),o),o<0)}{let t=xC(Nx(i,s,s),n)
if(Jx&&s&&/\s/.test(i.nodeValue[s-1])&&s<i.nodeValue.length){let e=xC(Nx(i,s-1,s-1),-1)
if(e.top==t.top){let n=xC(Nx(i,s,s+1),-1)
if(n.top!=t.top)return SC(n,n.left<e.left)}}return t}}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(null==o&&s&&(n<0||s==zx(i))){let t=i.childNodes[s-1]
if(1==t.nodeType)return _C(t.getBoundingClientRect(),!1)}if(null==o&&s<zx(i)){let t=i.childNodes[s]
if(1==t.nodeType)return _C(t.getBoundingClientRect(),!0)}return _C(i.getBoundingClientRect(),n>=0)}if(null==o&&s&&(n<0||s==zx(i))){let t=i.childNodes[s-1],e=3==t.nodeType?Nx(t,zx(t)-(r?0:1)):1!=t.nodeType||"BR"==t.nodeName&&t.nextSibling?null:t
if(e)return SC(xC(e,1),!1)}if(null==o&&s<zx(i)){let t=i.childNodes[s]
for(;t.pmViewDesc&&t.pmViewDesc.ignoreForCoords;)t=t.nextSibling
let e=t?3==t.nodeType?Nx(t,0,r?0:1):1==t.nodeType?t:null:null
if(e)return SC(xC(e,-1),!0)}return SC(xC(3==i.nodeType?Nx(i):i,-n),n>=0)}function SC(t,e){if(0==t.width)return t
let n=e?t.left:t.right
return{top:t.top,bottom:t.bottom,left:n,right:n}}function _C(t,e){if(0==t.height)return t
let n=e?t.top:t.bottom
return{top:n,bottom:n,left:t.left,right:t.right}}function IC(t,e,n){let i=t.state,s=t.root.activeElement
i!=e&&t.updateState(e),s!=t.dom&&t.focus()
try{return n()}finally{i!=e&&t.updateState(i),s!=t.dom&&s&&s.focus()}}const MC=/[\u0590-\u08ac]/
let $C=null,DC=null,EC=!1
function AC(t,e,n){return $C==e&&DC==n?EC:($C=e,DC=n,EC="up"==n||"down"==n?function(t,e,n){let i=e.selection,s="up"==n?i.$from:i.$to
return IC(t,e,(()=>{let{node:e}=t.docView.domFromPos(s.pos,"up"==n?-1:1)
for(;;){let n=t.docView.nearestDesc(e,!0)
if(!n)break
if(n.node.isBlock){e=n.contentDOM||n.dom
break}e=n.dom.parentNode}let i=kC(t,s.pos,1)
for(let t=e.firstChild;t;t=t.nextSibling){let e
if(1==t.nodeType)e=t.getClientRects()
else{if(3!=t.nodeType)continue
e=Nx(t,0,t.nodeValue.length).getClientRects()}for(let t=0;t<e.length;t++){let s=e[t]
if(s.bottom>s.top+1&&("up"==n?i.top-s.top>2*(s.bottom-i.top):s.bottom-i.bottom>2*(i.bottom-s.top)))return!1}}return!0}))}(t,e,n):function(t,e,n){let{$head:i}=e.selection
if(!i.parent.isTextblock)return!1
let s=i.parentOffset,o=!s,r=s==i.parent.content.size,a=t.domSelection()
return a?MC.test(i.parent.textContent)&&a.modify?IC(t,e,(()=>{let{focusNode:e,focusOffset:s,anchorNode:o,anchorOffset:r}=t.domSelectionRange(),l=a.caretBidiLevel
a.modify("move",n,"character")
let c=i.depth?t.docView.domAfterPos(i.before()):t.dom,{focusNode:d,focusOffset:h}=t.domSelectionRange(),u=d&&!c.contains(1==d.nodeType?d:d.parentNode)||e==d&&s==h
try{a.collapse(o,r),e&&(e!=o||s!=r)&&a.extend&&a.extend(e,s)}catch(t){}return null!=l&&(a.caretBidiLevel=l),u})):"left"==n||"backward"==n?o:r:i.pos==i.start()||i.pos==i.end()}(t,e,n))}class TC{constructor(t,e,n,i){this.parent=t,this.children=e,this.dom=n,this.contentDOM=i,this.dirty=0,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0
for(let e=0;e<this.children.length;e++)t+=this.children[e].size
return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0)
for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,n=this.posAtStart;;e++){let i=this.children[e]
if(i==t)return n
n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){let n,i
if(t==this.contentDOM)n=t.childNodes[e-1]
else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode
n=t.previousSibling}for(;n&&(!(i=n.pmViewDesc)||i.parent!=this);)n=n.previousSibling
return n?this.posBeforeChild(i)+i.size:this.posAtStart}{let n,i
if(t==this.contentDOM)n=t.childNodes[e]
else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode
n=t.nextSibling}for(;n&&(!(i=n.pmViewDesc)||i.parent!=this);)n=n.nextSibling
return n?this.posBeforeChild(i):this.posAtEnd}}let i
if(t==this.dom&&this.contentDOM)i=e>Ox(this.contentDOM)
else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=2&t.compareDocumentPosition(this.contentDOM)
else if(this.dom.firstChild){if(0==e)for(let e=t;;e=e.parentNode){if(e==this.dom){i=!1
break}if(e.previousSibling)break}if(null==i&&e==t.childNodes.length)for(let e=t;;e=e.parentNode){if(e==this.dom){i=!0
break}if(e.nextSibling)break}}return(null==i?n>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let n=!0,i=t;i;i=i.parentNode){let s,o=this.getDesc(i)
if(o&&(!e||o.node)){if(!n||!(s=o.nodeDOM)||(1==s.nodeType?s.contains(1==t.nodeType?t:t.parentNode):s==t))return o
n=!1}}}getDesc(t){let e=t.pmViewDesc
for(let t=e;t;t=t.parent)if(t==this)return e}posFromDOM(t,e,n){for(let i=t;i;i=i.parentNode){let s=this.getDesc(i)
if(s)return s.localPosFromDOM(t,e,n)}return-1}descAt(t){for(let e=0,n=0;e<this.children.length;e++){let i=this.children[e],s=n+i.size
if(n==t&&s!=n){for(;!i.border&&i.children.length;)for(let t=0;t<i.children.length;t++){let e=i.children[t]
if(e.size){i=e
break}}return i}if(t<s)return i.descAt(t-n-i.border)
n=s}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1}
let n=0,i=0
for(let e=0;n<this.children.length;n++){let s=this.children[n],o=e+s.size
if(o>t||s instanceof PC){i=t-e
break}e=o}if(i)return this.children[n].domFromPos(i-this.children[n].border,e)
for(let t;n&&!(t=this.children[n-1]).size&&t instanceof OC&&t.side>=0;n--);if(e<=0){let t,i=!0
for(;t=n?this.children[n-1]:null,t&&t.dom.parentNode!=this.contentDOM;n--,i=!1);return t&&e&&i&&!t.border&&!t.domAtom?t.domFromPos(t.size,e):{node:this.contentDOM,offset:t?Ox(t.dom)+1:0}}{let t,i=!0
for(;t=n<this.children.length?this.children[n]:null,t&&t.dom.parentNode!=this.contentDOM;n++,i=!1);return t&&i&&!t.border&&!t.domAtom?t.domFromPos(0,e):{node:this.contentDOM,offset:t?Ox(t.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,n=0){if(0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length}
let i=-1,s=-1
for(let o=n,r=0;;r++){let n=this.children[r],a=o+n.size
if(-1==i&&t<=a){let s=o+n.border
if(t>=s&&e<=a-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(t,e,s)
t=o
for(let e=r;e>0;e--){let n=this.children[e-1]
if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){i=Ox(n.dom)+1
break}t-=n.size}-1==i&&(i=0)}if(i>-1&&(a>e||r==this.children.length-1)){e=a
for(let t=r+1;t<this.children.length;t++){let n=this.children[t]
if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){s=Ox(n.dom)
break}e+=n.size}-1==s&&(s=this.contentDOM.childNodes.length)
break}o=a}return{node:this.contentDOM,from:t,to:e,fromOffset:i,toOffset:s}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1
let e=this.children[t<0?0:this.children.length-1]
return 0==e.size||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:n}=this.domFromPos(t,0)
if(1!=e.nodeType||n==e.childNodes.length)throw new RangeError("No node after pos "+t)
return e.childNodes[n]}setSelection(t,e,n,i=!1){let s=Math.min(t,e),o=Math.max(t,e)
for(let r=0,a=0;r<this.children.length;r++){let l=this.children[r],c=a+l.size
if(s>a&&o<c)return l.setSelection(t-a-l.border,e-a-l.border,n,i)
a=c}let r=this.domFromPos(t,t?-1:1),a=e==t?r:this.domFromPos(e,e?-1:1),l=n.root.getSelection(),c=n.domSelectionRange(),d=!1
if((Jx||nC)&&t==e){let{node:t,offset:e}=r
if(3==t.nodeType){if(d=!(!e||"\n"!=t.nodeValue[e-1]),d&&e==t.nodeValue.length)for(let e,n=t;n;n=n.parentNode){if(e=n.nextSibling){"BR"==e.nodeName&&(r=a={node:e.parentNode,offset:Ox(e)+1})
break}let t=n.pmViewDesc
if(t&&t.node&&t.node.isBlock)break}}else{let n=t.childNodes[e-1]
d=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(Jx&&c.focusNode&&c.focusNode!=a.node&&1==c.focusNode.nodeType){let t=c.focusNode.childNodes[c.focusOffset]
t&&"false"==t.contentEditable&&(i=!0)}if(!(i||d&&nC)&&Lx(r.node,r.offset,c.anchorNode,c.anchorOffset)&&Lx(a.node,a.offset,c.focusNode,c.focusOffset))return
let h=!1
if((l.extend||t==e)&&!d){l.collapse(r.node,r.offset)
try{t!=e&&l.extend(a.node,a.offset),h=!0}catch(t){}}if(!h){if(t>e){let t=r
r=a,a=t}let n=document.createRange()
n.setEnd(a.node,a.offset),n.setStart(r.node,r.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(t){return!this.contentDOM&&"selection"!=t.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let n=0,i=0;i<this.children.length;i++){let s=this.children[i],o=n+s.size
if(n==o?t<=o&&e>=n:t<o&&e>n){let i=n+s.border,r=o-s.border
if(t>=i&&e<=r)return this.dirty=t==n||e==o?2:1,void(t!=i||e!=r||!s.contentLost&&s.dom.parentNode==this.contentDOM?s.markDirty(t-i,e-i):s.dirty=3)
s.dirty=s.dom!=s.contentDOM||s.dom.parentNode!=this.contentDOM||s.children.length?3:2}n=o}this.dirty=2}markParentsDirty(){let t=1
for(let e=this.parent;e;e=e.parent,t++){let n=1==t?2:1
e.dirty<n&&(e.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class OC extends TC{constructor(t,e,n,i){let s,o=e.type.toDOM
if("function"==typeof o&&(o=o(n,(()=>s?s.parent?s.parent.posBeforeChild(s):void 0:i))),!e.type.spec.raw){if(1!=o.nodeType){let t=document.createElement("span")
t.appendChild(o),o=t}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=e,this.widget=e,s=this}matchesWidget(t){return 0==this.dirty&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent
return!!e&&e(t)}ignoreMutation(t){return"selection"!=t.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class RC extends TC{constructor(t,e,n,i){super(t,[],e,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue}}class FC extends TC{constructor(t,e,n,i,s){super(t,[],n,i),this.mark=e,this.spec=s}static create(t,e,n,i){let s=i.nodeViews[e.type.name],o=s&&s(e,i,n)
return o&&o.dom||(o=gw.renderSpec(document,e.type.spec.toDOM(e,n),null,e.attrs)),new FC(t,e,o.dom,o.contentDOM||o.dom,o)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return 3!=this.dirty&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),0!=this.dirty){let t=this.parent
for(;!t.node;)t=t.parent
t.dirty<this.dirty&&(t.dirty=this.dirty),this.dirty=0}}slice(t,e,n){let i=FC.create(this.parent,this.mark,!0,n),s=this.children,o=this.size
e<o&&(s=JC(s,e,o,n)),t>0&&(s=JC(s,0,t,n))
for(let t=0;t<s.length;t++)s[t].parent=i
return i.children=s,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class NC extends TC{constructor(t,e,n,i,s,o,r,a,l){super(t,[],s,o),this.node=e,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=r}static create(t,e,n,i,s,o){let r,a=s.nodeViews[e.type.name],l=a&&a(e,s,(()=>r?r.parent?r.parent.posBeforeChild(r):void 0:o),n,i),c=l&&l.dom,d=l&&l.contentDOM
if(e.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(e.text)
else if(!c){let t=gw.renderSpec(document,e.type.spec.toDOM(e),null,e.attrs);({dom:c,contentDOM:d}=t)}d||e.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),e.type.spec.draggable&&(c.draggable=!0))
let h=c
return c=GC(c,n,e),l?r=new zC(t,e,n,i,c,d||null,h,l,s,o+1):e.isText?new BC(t,e,n,i,c,h,s):new NC(t,e,n,i,c,d||null,h,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null
let t={node:this.node.type.name,attrs:this.node.attrs}
if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let e=this.children.length-1;e>=0;e--){let n=this.children[e]
if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode
break}}t.contentElement||(t.getContent=()=>my.empty)}else t.contentElement=this.contentDOM
else t.getContent=()=>this.node.content
return t}matchesNode(t,e,n){return 0==this.dirty&&t.eq(this.node)&&ZC(e,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let n=this.node.inlineContent,i=e,s=t.composing?this.localCompositionInfo(t,e):null,o=s&&s.pos>-1?s:null,r=s&&s.pos<0,a=new YC(this,o&&o.node,t)
!function(t,e,n,i){let s=e.locals(t),o=0
if(0==s.length){for(let n=0;n<t.childCount;n++){let r=t.child(n)
i(r,s,e.forChild(o,r),n),o+=r.nodeSize}return}let r=0,a=[],l=null
for(let c=0;;){let d,h,u,p
for(;r<s.length&&s[r].to==o;){let t=s[r++]
t.widget&&(d?(h||(h=[d])).push(t):d=t)}if(d)if(h){h.sort(XC)
for(let t=0;t<h.length;t++)n(h[t],c,!!l)}else n(d,c,!!l)
if(l)p=-1,u=l,l=null
else{if(!(c<t.childCount))break
p=c,u=t.child(c++)}for(let t=0;t<a.length;t++)a[t].to<=o&&a.splice(t--,1)
for(;r<s.length&&s[r].from<=o&&s[r].to>o;)a.push(s[r++])
let f=o+u.nodeSize
if(u.isText){let t=f
r<s.length&&s[r].from<t&&(t=s[r].from)
for(let e=0;e<a.length;e++)a[e].to<t&&(t=a[e].to)
t<f&&(l=u.cut(t-o),u=u.cut(0,t-o),f=t,p=-1)}else for(;r<s.length&&s[r].to<f;)r++
i(u,u.isInline&&!u.isLeaf?a.filter((t=>!t.inline)):a.slice(),e.forChild(o,u),p),o=f}}(this.node,this.innerDeco,((e,s,o)=>{e.spec.marks?a.syncToMarks(e.spec.marks,n,t):e.type.side>=0&&!o&&a.syncToMarks(s==this.node.childCount?yy.none:this.node.child(s).marks,n,t),a.placeWidget(e,t,i)}),((e,o,l,c)=>{let d
a.syncToMarks(e.marks,n,t),a.findNodeMatch(e,o,l,c)||r&&t.state.selection.from>i&&t.state.selection.to<i+e.nodeSize&&(d=a.findIndexWithChild(s.node))>-1&&a.updateNodeAt(e,o,l,d,t)||a.updateNextNode(e,o,l,t,c,i)||a.addNode(e,o,l,t,i),i+=e.nodeSize})),a.syncToMarks([],n,t),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||2==this.dirty)&&(o&&this.protectLocalComposition(t,o),VC(this.contentDOM,this.children,t),iC&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){let e=t.style.cssText
t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}(this.dom))}localCompositionInfo(t,e){let{from:n,to:i}=t.state.selection
if(!(t.state.selection instanceof fx)||n<e||i>e+this.node.content.size)return null
let s=t.input.compositionNode
if(!s||!this.dom.contains(s.parentNode))return null
if(this.node.inlineContent){let t=s.nodeValue,o=function(t,e,n,i){for(let s=0,o=0;s<t.childCount&&o<=i;){let r=t.child(s++),a=o
if(o+=r.nodeSize,!r.isText)continue
let l=r.text
for(;s<t.childCount;){let e=t.child(s++)
if(o+=e.nodeSize,!e.isText)break
l+=e.text}if(o>=n){if(o>=i&&l.slice(i-e.length-a,i-a)==e)return i-e.length
let t=a<i?l.lastIndexOf(e,i-a-1):-1
if(t>=0&&t+e.length+a>=n)return a+t
if(n==i&&l.length>=i+e.length-a&&l.slice(i-a,i-a+e.length)==e)return i}}return-1}(this.node.content,t,n-e,i-e)
return o<0?null:{node:s,pos:o,text:t}}return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:n,text:i}){if(this.getDesc(e))return
let s=e
for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling)
for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling)
s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new RC(this,s,e,i)
t.input.compositionNodes.push(o),this.children=JC(this.children,n,n+i.length,t,o)}update(t,e,n,i){return!(3==this.dirty||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,i),!0)}updateInner(t,e,n,i){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=0}updateOuterDeco(t){if(ZC(t,this.outerDeco))return
let e=1!=this.nodeDOM.nodeType,n=this.dom
this.dom=jC(this.dom,this.nodeDOM,qC(this.outerDeco,this.node,e),qC(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function LC(t,e,n,i,s){GC(i,e,t)
let o=new NC(void 0,t,e,n,i,i,i,s,0)
return o.contentDOM&&o.updateChildren(s,0),o}class BC extends NC{constructor(t,e,n,i,s,o,r){super(t,e,n,i,s,null,o,r,0)}parseRule(){let t=this.nodeDOM.parentNode
for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode
return{skip:t||!0}}update(t,e,n,i){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=0,!0)}inParent(){let t=this.parent.contentDOM
for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0
return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,n){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,n)}ignoreMutation(t){return"characterData"!=t.type&&"selection"!=t.type}slice(t,e,n){let i=this.node.cut(t,e),s=document.createTextNode(i.text)
return new BC(this.parent,i,this.outerDeco,this.innerDeco,s,s,n)}markDirty(t,e){super.markDirty(t,e),this.dom==this.nodeDOM||0!=t&&e!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}isText(t){return this.node.text==t}}class PC extends TC{parseRule(){return{ignore:!0}}matchesHack(t){return 0==this.dirty&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class zC extends NC{constructor(t,e,n,i,s,o,r,a,l,c){super(t,e,n,i,s,o,r,l,c),this.spec=a}update(t,e,n,i){if(3==this.dirty)return!1
if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let s=this.spec.update(t,e,n)
return s&&this.updateInner(t,e,n,i),s}return!(!this.contentDOM&&!t.isLeaf)&&super.update(t,e,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,n,i){this.spec.setSelection?this.spec.setSelection(t,e,n.root):super.setSelection(t,e,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function VC(t,e,n){let i=t.firstChild,s=!1
for(let o=0;o<e.length;o++){let r=e[o],a=r.dom
if(a.parentNode==t){for(;a!=i;)i=KC(i),s=!0
i=i.nextSibling}else s=!0,t.insertBefore(a,i)
if(r instanceof FC){let e=i?i.previousSibling:t.lastChild
VC(r.contentDOM,r.children,n),i=e?e.nextSibling:t.firstChild}}for(;i;)i=KC(i),s=!0
s&&n.trackWrites==t&&(n.trackWrites=null)}const HC=function(t){t&&(this.nodeName=t)}
HC.prototype=Object.create(null)
const UC=[new HC]
function qC(t,e,n){if(0==t.length)return UC
let i=n?UC[0]:new HC,s=[i]
for(let o=0;o<t.length;o++){let r=t[o].type.attrs
if(r){r.nodeName&&s.push(i=new HC(r.nodeName))
for(let t in r){let o=r[t]
null!=o&&(n&&1==s.length&&s.push(i=new HC(e.isInline?"span":"div")),"class"==t?i.class=(i.class?i.class+" ":"")+o:"style"==t?i.style=(i.style?i.style+";":"")+o:"nodeName"!=t&&(i[t]=o))}}}return s}function jC(t,e,n,i){if(n==UC&&i==UC)return e
let s=e
for(let e=0;e<i.length;e++){let o=i[e],r=n[e]
if(e){let e
r&&r.nodeName==o.nodeName&&s!=t&&(e=s.parentNode)&&e.nodeName.toLowerCase()==o.nodeName||(e=document.createElement(o.nodeName),e.pmIsDeco=!0,e.appendChild(s),r=UC[0]),s=e}WC(s,r||UC[0],o)}return s}function WC(t,e,n){for(let i in e)"class"==i||"style"==i||"nodeName"==i||i in n||t.removeAttribute(i)
for(let i in n)"class"!=i&&"style"!=i&&"nodeName"!=i&&n[i]!=e[i]&&t.setAttribute(i,n[i])
if(e.class!=n.class){let i=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[]
for(let e=0;e<i.length;e++)-1==s.indexOf(i[e])&&t.classList.remove(i[e])
for(let e=0;e<s.length;e++)-1==i.indexOf(s[e])&&t.classList.add(s[e])
0==t.classList.length&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let n,i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g
for(;n=i.exec(e.style);)t.style.removeProperty(n[1])}n.style&&(t.style.cssText+=n.style)}}function GC(t,e,n){return jC(t,t,UC,qC(e,n,1!=t.nodeType))}function ZC(t,e){if(t.length!=e.length)return!1
for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1
return!0}function KC(t){let e=t.nextSibling
return t.parentNode.removeChild(t),e}class YC{constructor(t,e,n){this.lock=e,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=function(t,e){let n=e,i=n.children.length,s=t.childCount,o=new Map,r=[]
t:for(;s>0;){let a
for(;;)if(i){let t=n.children[i-1]
if(!(t instanceof FC)){a=t,i--
break}n=t,i=t.children.length}else{if(n==e)break t
i=n.parent.children.indexOf(n),n=n.parent}let l=a.node
if(l){if(l!=t.child(s-1))break;--s,o.set(a,s),r.push(a)}}return{index:s,matched:o,matches:r.reverse()}}(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let n=t;n<e;n++)this.top.children[n].destroy()
this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,n){let i=0,s=this.stack.length>>1,o=Math.min(s,t.length)
for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&!1!==t[i].type.spec.spanning;)i++
for(;i<s;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),s--
for(;s<t.length;){this.stack.push(this.top,this.index+1)
let i=-1
for(let e=this.index;e<Math.min(this.index+3,this.top.children.length);e++){let n=this.top.children[e]
if(n.matchesMark(t[s])&&!this.isLocked(n.dom)){i=e
break}}if(i>-1)i>this.index&&(this.changed=!0,this.destroyBetween(this.index,i)),this.top=this.top.children[this.index]
else{let i=FC.create(this.top,t[s],e,n)
this.top.children.splice(this.index,0,i),this.top=i,this.changed=!0}this.index=0,s++}}findNodeMatch(t,e,n,i){let s,o=-1
if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(t,e,n))o=this.top.children.indexOf(s,this.index)
else for(let i=this.index,s=Math.min(this.top.children.length,i+5);i<s;i++){let s=this.top.children[i]
if(s.matchesNode(t,e,n)&&!this.preMatch.matched.has(s)){o=i
break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,e,n,i,s){let o=this.top.children[i]
return 3==o.dirty&&o.dom==o.contentDOM&&(o.dirty=2),!!o.update(t,e,n,s)&&(this.destroyBetween(this.index,i),this.index++,!0)}findIndexWithChild(t){for(;;){let e=t.parentNode
if(!e)return-1
if(e==this.top.contentDOM){let e=t.pmViewDesc
if(e)for(let t=this.index;t<this.top.children.length;t++)if(this.top.children[t]==e)return t
return-1}t=e}}updateNextNode(t,e,n,i,s,o){for(let r=this.index;r<this.top.children.length;r++){let a=this.top.children[r]
if(a instanceof NC){let l=this.preMatch.matched.get(a)
if(null!=l&&l!=s)return!1
let c,d=a.dom,h=this.isLocked(d)&&!(t.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==t.text&&3!=a.dirty&&ZC(e,a.outerDeco))
if(!h&&a.update(t,e,n,i))return this.destroyBetween(this.index,r),a.dom!=d&&(this.changed=!0),this.index++,!0
if(!h&&(c=this.recreateWrapper(a,t,e,n,i,o)))return this.destroyBetween(this.index,r),this.top.children[this.index]=c,c.contentDOM&&(c.dirty=2,c.updateChildren(i,o+1),c.dirty=0),this.changed=!0,this.index++,!0
break}}return!1}recreateWrapper(t,e,n,i,s,o){if(t.dirty||e.isAtom||!t.children.length||!t.node.content.eq(e.content)||!ZC(n,t.outerDeco)||!i.eq(t.innerDeco))return null
let r=NC.create(this.top,e,n,i,s,o)
if(r.contentDOM){r.children=t.children,t.children=[]
for(let t of r.children)t.parent=r}return t.destroy(),r}addNode(t,e,n,i,s){let o=NC.create(this.top,t,e,n,i,s)
o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,e,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null
if(!i||!i.matchesWidget(t)||t!=i.widget&&i.widget.type.toDOM.parentNode){let i=new OC(this.top,t,e,n)
this.top.children.splice(this.index++,0,i),this.changed=!0}else this.index++}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top
for(;t instanceof FC;)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof BC)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((nC||tC)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++
else{let n=document.createElement(t)
"IMG"==t&&(n.className="ProseMirror-separator",n.alt=""),"BR"==t&&(n.className="ProseMirror-trailingBreak")
let i=new PC(this.top,[],n,null)
e!=this.top?e.children.push(i):e.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||1==t.nodeType&&t.contains(this.lock.parentNode))}}function XC(t,e){return t.type.side-e.type.side}function JC(t,e,n,i,s){let o=[]
for(let r=0,a=0;r<t.length;r++){let l=t[r],c=a,d=a+=l.size
c>=n||d<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,i)),s&&(o.push(s),s=void 0),d>n&&o.push(l.slice(n-c,l.size,i)))}return o}function QC(t,e=null){let n=t.domSelectionRange(),i=t.state.doc
if(!n.focusNode)return null
let s=t.docView.nearestDesc(n.focusNode),o=s&&0==s.size,r=t.docView.posFromDOM(n.focusNode,n.focusOffset,1)
if(r<0)return null
let a,l,c=i.resolve(r)
if(Hx(n)){for(a=r;s&&!s.node;)s=s.parent
let t=s.node
if(s&&t.isAtom&&gx.isSelectable(t)&&s.parent&&(!t.isInline||!function(t,e,n){for(let i=0==e,s=e==zx(t);i||s;){if(t==n)return!0
let e=Ox(t)
if(!(t=t.parentNode))return!1
i=i&&0==e,s=s&&e==zx(t)}}(n.focusNode,n.focusOffset,s.dom))){let t=s.posBefore
l=new gx(r==t?c:i.resolve(t))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let e=r,s=r
for(let i=0;i<n.rangeCount;i++){let o=n.getRangeAt(i)
e=Math.min(e,t.docView.posFromDOM(o.startContainer,o.startOffset,1)),s=Math.max(s,t.docView.posFromDOM(o.endContainer,o.endOffset,-1))}if(e<0)return null;[a,r]=s==t.state.selection.anchor?[s,e]:[e,s],c=i.resolve(r)}else a=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1)
if(a<0)return null}let d=i.resolve(a)
if(!l){l=lk(t,d,c,"pointer"==e||t.state.selection.head<c.pos&&!o?1:-1)}return l}function tk(t){return t.editable?t.hasFocus():dk(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ek(t,e=!1){let n=t.state.selection
if(rk(t,n),tk(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&tC){let e=t.domSelectionRange(),n=t.domObserver.currentSelection
if(e.anchorNode&&n.anchorNode&&Lx(e.anchorNode,e.anchorOffset,n.anchorNode,n.anchorOffset))return t.input.mouseDown.delayedSelectionSync=!0,void t.domObserver.setCurSelection()}if(t.domObserver.disconnectSelection(),t.cursorWrapper)!function(t){let e=t.domSelection(),n=document.createRange()
if(!e)return
let i=t.cursorWrapper.dom,s="IMG"==i.nodeName
s?n.setStart(i.parentNode,Ox(i)+1):n.setStart(i,0)
n.collapse(!0),e.removeAllRanges(),e.addRange(n),!s&&!t.state.selection.visible&&Yx&&Xx<=11&&(i.disabled=!0,i.disabled=!1)}(t)
else{let i,s,{anchor:o,head:r}=n
!nk||n instanceof fx||(n.$from.parent.inlineContent||(i=ik(t,n.from)),n.empty||n.$from.parent.inlineContent||(s=ik(t,n.to))),t.docView.setSelection(o,r,t,e),nk&&(i&&ok(i),s&&ok(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(t){let e=t.dom.ownerDocument
e.removeEventListener("selectionchange",t.input.hideSelectionGuard)
let n=t.domSelectionRange(),i=n.anchorNode,s=n.anchorOffset
e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{n.anchorNode==i&&n.anchorOffset==s||(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout((()=>{tk(t)&&!t.state.selection.visible||t.dom.classList.remove("ProseMirror-hideselection")}),20))})}(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const nk=nC||tC&&eC<63
function ik(t,e){let{node:n,offset:i}=t.docView.domFromPos(e,0),s=i<n.childNodes.length?n.childNodes[i]:null,o=i?n.childNodes[i-1]:null
if(nC&&s&&"false"==s.contentEditable)return sk(s)
if(!(s&&"false"!=s.contentEditable||o&&"false"!=o.contentEditable)){if(s)return sk(s)
if(o)return sk(o)}}function sk(t){return t.contentEditable="true",nC&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function ok(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function rk(t,e){if(e instanceof gx){let n=t.docView.descAt(e.from)
n!=t.lastSelectedViewDesc&&(ak(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else ak(t)}function ak(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function lk(t,e,n,i){return t.someProp("createSelectionBetween",(i=>i(t,e,n)))||fx.between(e,n,i)}function ck(t){return!(t.editable&&!t.hasFocus())&&dk(t)}function dk(t){let e=t.domSelectionRange()
if(!e.anchorNode)return!1
try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function hk(t,e){let{$anchor:n,$head:i}=t.selection,s=e>0?n.max(i):n.min(i),o=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s
return o&&dx.findFrom(o,e)}function uk(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function pk(t,e,n){let i=t.state.selection
if(!(i instanceof fx)){if(i instanceof gx&&i.node.isInline)return uk(t,new fx(e>0?i.$to:i.$from))
{let n=hk(t.state,e)
return!!n&&uk(t,n)}}if(n.indexOf("s")>-1){let{$head:n}=i,s=n.textOffset?null:e<0?n.nodeBefore:n.nodeAfter
if(!s||s.isText||!s.isLeaf)return!1
let o=t.state.doc.resolve(n.pos+s.nodeSize*(e<0?-1:1))
return uk(t,new fx(i.$anchor,o))}if(!i.empty)return!1
if(t.endOfTextblock(e>0?"forward":"backward")){let n=hk(t.state,e)
return!!(n&&n instanceof gx)&&uk(t,n)}if(!(sC&&n.indexOf("m")>-1)){let n,s=i.$head,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter
if(!o||o.isText)return!1
let r=e<0?s.pos-o.nodeSize:s.pos
return!!(o.isAtom||(n=t.docView.descAt(r))&&!n.contentDOM)&&(gx.isSelectable(o)?uk(t,new gx(e<0?t.state.doc.resolve(s.pos-o.nodeSize):s)):!!aC&&uk(t,new fx(t.state.doc.resolve(e<0?r:r+o.nodeSize))))}}function fk(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function mk(t,e){let n=t.pmViewDesc
return n&&0==n.size&&(e<0||t.nextSibling||"BR"!=t.nodeName)}function gk(t,e){return e<0?function(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset
if(!n)return
let s,o,r=!1
Jx&&1==n.nodeType&&i<fk(n)&&mk(n.childNodes[i],-1)&&(r=!0)
for(;;)if(i>0){if(1!=n.nodeType)break
{let t=n.childNodes[i-1]
if(mk(t,-1))s=n,o=--i
else{if(3!=t.nodeType)break
n=t,i=n.nodeValue.length}}}else{if(vk(n))break
{let e=n.previousSibling
for(;e&&mk(e,-1);)s=n.parentNode,o=Ox(e),e=e.previousSibling
if(e)n=e,i=fk(n)
else{if(n=n.parentNode,n==t.dom)break
i=0}}}r?bk(t,n,i):s&&bk(t,s,o)}(t):function(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset
if(!n)return
let s,o,r=fk(n)
for(;;)if(i<r){if(1!=n.nodeType)break
if(!mk(n.childNodes[i],1))break
s=n,o=++i}else{if(vk(n))break
{let e=n.nextSibling
for(;e&&mk(e,1);)s=e.parentNode,o=Ox(e)+1,e=e.nextSibling
if(e)n=e,i=0,r=fk(n)
else{if(n=n.parentNode,n==t.dom)break
i=r=0}}}s&&bk(t,s,o)}(t)}function vk(t){let e=t.pmViewDesc
return e&&e.node&&e.node.isBlock}function bk(t,e,n){if(3!=e.nodeType){let t,i;(i=function(t,e){for(;t&&e==t.childNodes.length&&!Vx(t);)e=Ox(t)+1,t=t.parentNode
for(;t&&e<t.childNodes.length;){let n=t.childNodes[e]
if(3==n.nodeType)return n
if(1==n.nodeType&&"false"==n.contentEditable)break
t=n,e=0}}(e,n))?(e=i,n=0):(t=function(t,e){for(;t&&!e&&!Vx(t);)e=Ox(t),t=t.parentNode
for(;t&&e;){let n=t.childNodes[e-1]
if(3==n.nodeType)return n
if(1==n.nodeType&&"false"==n.contentEditable)break
e=(t=n).childNodes.length}}(e,n))&&(e=t,n=t.nodeValue.length)}let i=t.domSelection()
if(!i)return
if(Hx(i)){let t=document.createRange()
t.setEnd(e,n),t.setStart(e,n),i.removeAllRanges(),i.addRange(t)}else i.extend&&i.extend(e,n)
t.domObserver.setCurSelection()
let{state:s}=t
setTimeout((()=>{t.state==s&&ek(t)}),50)}function yk(t,e){let n=t.state.doc.resolve(e)
if(!tC&&!oC&&n.parent.inlineContent){let i=t.coordsAtPos(e)
if(e>n.start()){let n=t.coordsAtPos(e-1),s=(n.top+n.bottom)/2
if(s>i.top&&s<i.bottom&&Math.abs(n.left-i.left)>1)return n.left<i.left?"ltr":"rtl"}if(e<n.end()){let n=t.coordsAtPos(e+1),s=(n.top+n.bottom)/2
if(s>i.top&&s<i.bottom&&Math.abs(n.left-i.left)>1)return n.left>i.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(t.dom).direction?"rtl":"ltr"}function wk(t,e,n){let i=t.state.selection
if(i instanceof fx&&!i.empty||n.indexOf("s")>-1)return!1
if(sC&&n.indexOf("m")>-1)return!1
let{$from:s,$to:o}=i
if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let n=hk(t.state,e)
if(n&&n instanceof gx)return uk(t,n)}if(!s.parent.inlineContent){let n=e<0?s:o,r=i instanceof bx?dx.near(n,e):dx.findFrom(n,e)
return!!r&&uk(t,r)}return!1}function xk(t,e){if(!(t.state.selection instanceof fx))return!0
let{$head:n,$anchor:i,empty:s}=t.state.selection
if(!n.sameParent(i))return!0
if(!s)return!1
if(t.endOfTextblock(e>0?"forward":"backward"))return!0
let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter)
if(o&&!o.isText){let i=t.state.tr
return e<0?i.delete(n.pos-o.nodeSize,n.pos):i.delete(n.pos,n.pos+o.nodeSize),t.dispatch(i),!0}return!1}function Ck(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function kk(t,e){let n=e.keyCode,i=function(t){let e=""
return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e)
if(8==n||sC&&72==n&&"c"==i)return xk(t,-1)||gk(t,-1)
if(46==n&&!e.shiftKey||sC&&68==n&&"c"==i)return xk(t,1)||gk(t,1)
if(13==n||27==n)return!0
if(37==n||sC&&66==n&&"c"==i){let e=37==n?"ltr"==yk(t,t.state.selection.from)?-1:1:-1
return pk(t,e,i)||gk(t,e)}if(39==n||sC&&70==n&&"c"==i){let e=39==n?"ltr"==yk(t,t.state.selection.from)?1:-1:1
return pk(t,e,i)||gk(t,e)}return 38==n||sC&&80==n&&"c"==i?wk(t,-1,i)||gk(t,-1):40==n||sC&&78==n&&"c"==i?function(t){if(!nC||t.state.selection.$head.parentOffset>0)return!1
let{focusNode:e,focusOffset:n}=t.domSelectionRange()
if(e&&1==e.nodeType&&0==n&&e.firstChild&&"false"==e.firstChild.contentEditable){let n=e.firstChild
Ck(t,n,"true"),setTimeout((()=>Ck(t,n,"false")),20)}return!1}(t)||wk(t,1,i)||gk(t,1):i==(sC?"m":"c")&&(66==n||73==n||89==n||90==n)}function Sk(t,e){t.someProp("transformCopied",(n=>{e=n(e,t)}))
let n=[],{content:i,openStart:s,openEnd:o}=e
for(;s>1&&o>1&&1==i.childCount&&1==i.firstChild.childCount;){s--,o--
let t=i.firstChild
n.push(t.type.name,t.attrs!=t.type.defaultAttrs?t.attrs:null),i=t.content}let r=t.someProp("clipboardSerializer")||gw.fromSchema(t.state.schema),a=Rk(),l=a.createElement("div")
l.appendChild(r.serializeFragment(i,{document:a}))
let c,d=l.firstChild,h=0
for(;d&&1==d.nodeType&&(c=Tk[d.nodeName.toLowerCase()]);){for(let t=c.length-1;t>=0;t--){let e=a.createElement(c[t])
for(;l.firstChild;)e.appendChild(l.firstChild)
l.appendChild(e),h++}d=l.firstChild}return d&&1==d.nodeType&&d.setAttribute("data-pm-slice",`${s} ${o}${h?` -${h}`:""} ${JSON.stringify(n)}`),{dom:l,text:t.someProp("clipboardTextSerializer",(n=>n(e,t)))||e.content.textBetween(0,e.content.size,"\n\n"),slice:e}}function _k(t,e,n,i,s){let o,r,a=s.parent.type.spec.code
if(!n&&!e)return null
let l=e&&(i||a||!n)
if(l){if(t.someProp("transformPastedText",(n=>{e=n(e,a||i,t)})),a)return e?new xy(my.from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):xy.empty
let n=t.someProp("clipboardTextParser",(n=>n(e,s,i,t)))
if(n)r=n
else{let n=s.marks(),{schema:i}=t.state,r=gw.fromSchema(i)
o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach((t=>{let e=o.appendChild(document.createElement("p"))
t&&e.appendChild(r.serializeNode(i.text(t,n)))}))}}else t.someProp("transformPastedHTML",(e=>{n=e(n,t)})),o=function(t){let e=/^(\s*<meta [^>]*>)*/.exec(t)
e&&(t=t.slice(e[0].length))
let n,i=Rk().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(t);(n=s&&Tk[s[1].toLowerCase()])&&(t=n.map((t=>"<"+t+">")).join("")+t+n.map((t=>"</"+t+">")).reverse().join(""))
if(i.innerHTML=function(t){let e=window.trustedTypes
if(!e)return t
Fk||(Fk=e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t}))
return Fk.createHTML(t)}(t),n)for(let t=0;t<n.length;t++)i=i.querySelector(n[t])||i
return i}(n),aC&&function(t){let e=t.querySelectorAll(tC?"span:not([class]):not([style])":"span.Apple-converted-space")
for(let n=0;n<e.length;n++){let i=e[n]
1==i.childNodes.length&&""==i.textContent&&i.parentNode&&i.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),i)}}(o)
let c=o&&o.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"")
if(d&&d[3])for(let t=+d[3];t>0;t--){let t=o.firstChild
for(;t&&1!=t.nodeType;)t=t.nextSibling
if(!t)break
o=t}if(!r){let e=t.someProp("clipboardParser")||t.someProp("domParser")||rw.fromSchema(t.state.schema)
r=e.parseSlice(o,{preserveWhitespace:!(!l&&!d),context:s,ruleFromNode:t=>"BR"!=t.nodeName||t.nextSibling||!t.parentNode||Ik.test(t.parentNode.nodeName)?null:{ignore:!0}})}if(d)r=function(t,e){if(!t.size)return t
let n,i=t.content.firstChild.type.schema
try{n=JSON.parse(e)}catch(e){return t}let{content:s,openStart:o,openEnd:r}=t
for(let t=n.length-2;t>=0;t-=2){let e=i.nodes[n[t]]
if(!e||e.hasRequiredAttrs())break
s=my.from(e.create(n[t+1],s)),o++,r++}return new xy(s,o,r)}(Ak(r,+d[1],+d[2]),d[4])
else if(r=xy.maxOpen(function(t,e){if(t.childCount<2)return t
for(let n=e.depth;n>=0;n--){let i,s=e.node(n).contentMatchAt(e.index(n)),o=[]
if(t.forEach((t=>{if(!o)return
let e,n=s.findWrapping(t.type)
if(!n)return o=null
if(e=o.length&&i.length&&$k(n,i,t,o[o.length-1],0))o[o.length-1]=e
else{o.length&&(o[o.length-1]=Dk(o[o.length-1],i.length))
let e=Mk(t,n)
o.push(e),s=s.matchType(e.type),i=n}})),o)return my.from(o)}return t}(r.content,s),!0),r.openStart||r.openEnd){let t=0,e=0
for(let e=r.content.firstChild;t<r.openStart&&!e.type.spec.isolating;t++,e=e.firstChild);for(let t=r.content.lastChild;e<r.openEnd&&!t.type.spec.isolating;e++,t=t.lastChild);r=Ak(r,t,e)}return t.someProp("transformPasted",(e=>{r=e(r,t)})),r}const Ik=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i
function Mk(t,e,n=0){for(let i=e.length-1;i>=n;i--)t=e[i].create(null,my.from(t))
return t}function $k(t,e,n,i,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let o=$k(t,e,n,i.lastChild,s+1)
if(o)return i.copy(i.content.replaceChild(i.childCount-1,o))
if(i.contentMatchAt(i.childCount).matchType(s==t.length-1?n.type:t[s+1]))return i.copy(i.content.append(my.from(Mk(n,t,s+1))))}}function Dk(t,e){if(0==e)return t
let n=t.content.replaceChild(t.childCount-1,Dk(t.lastChild,e-1)),i=t.contentMatchAt(t.childCount).fillBefore(my.empty,!0)
return t.copy(n.append(i))}function Ek(t,e,n,i,s,o){let r=e<0?t.firstChild:t.lastChild,a=r.content
return t.childCount>1&&(o=0),s<i-1&&(a=Ek(a,e,n,i,s+1,o)),s>=n&&(a=e<0?r.contentMatchAt(0).fillBefore(a,o<=s).append(a):a.append(r.contentMatchAt(r.childCount).fillBefore(my.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,r.copy(a))}function Ak(t,e,n){return e<t.openStart&&(t=new xy(Ek(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new xy(Ek(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Tk={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]}
let Ok=null
function Rk(){return Ok||(Ok=document.implementation.createHTMLDocument("title"))}let Fk=null
const Nk={},Lk={},Bk={touchstart:!0,touchmove:!0}
class Pk{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function zk(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Vk(t){t.someProp("handleDOMEvents",(e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=e=>Hk(t,e))}))}function Hk(t,e){return t.someProp("handleDOMEvents",(n=>{let i=n[e.type]
return!!i&&(i(t,e)||e.defaultPrevented)}))}function Uk(t,e){if(!e.bubbles)return!0
if(e.defaultPrevented)return!1
for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1
return!0}function qk(t){return{left:t.clientX,top:t.clientY}}function jk(t,e,n,i,s){if(-1==i)return!1
let o=t.state.doc.resolve(i)
for(let i=o.depth+1;i>0;i--)if(t.someProp(e,(e=>i>o.depth?e(t,n,o.nodeAfter,o.before(i),s,!0):e(t,n,o.node(i),o.before(i),s,!1))))return!0
return!1}function Wk(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return
let i=t.state.tr.setSelection(e)
i.setMeta("pointer",!0),t.dispatch(i)}function Gk(t,e,n,i,s){return jk(t,"handleClickOn",e,n,i)||t.someProp("handleClick",(n=>n(t,e,i)))||(s?function(t,e){if(-1==e)return!1
let n,i,s=t.state.selection
s instanceof gx&&(n=s.node)
let o=t.state.doc.resolve(e)
for(let t=o.depth+1;t>0;t--){let e=t>o.depth?o.nodeAfter:o.node(t)
if(gx.isSelectable(e)){i=n&&s.$from.depth>0&&t>=s.$from.depth&&o.before(s.$from.depth+1)==s.$from.pos?o.before(s.$from.depth):o.before(t)
break}}return null!=i&&(Wk(t,gx.create(t.state.doc,i)),!0)}(t,n):function(t,e){if(-1==e)return!1
let n=t.state.doc.resolve(e),i=n.nodeAfter
return!!(i&&i.isAtom&&gx.isSelectable(i))&&(Wk(t,new gx(n)),!0)}(t,n))}function Zk(t,e,n,i){return jk(t,"handleDoubleClickOn",e,n,i)||t.someProp("handleDoubleClick",(n=>n(t,e,i)))}function Kk(t,e,n,i){return jk(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",(n=>n(t,e,i)))||function(t,e,n){if(0!=n.button)return!1
let i=t.state.doc
if(-1==e)return!!i.inlineContent&&(Wk(t,fx.create(i,0,i.content.size)),!0)
let s=i.resolve(e)
for(let e=s.depth+1;e>0;e--){let n=e>s.depth?s.nodeAfter:s.node(e),o=s.before(e)
if(n.inlineContent)Wk(t,fx.create(i,o+1,o+1+n.content.size))
else{if(!gx.isSelectable(n))continue
Wk(t,gx.create(i,o))}return!0}}(t,n,i)}function Yk(t){return sS(t)}Lk.keydown=(t,e)=>{let n=e
if(t.input.shiftKey=16==n.keyCode||n.shiftKey,!Qk(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!rC||!tC||13!=n.keyCode))if(229!=n.keyCode&&t.domObserver.forceFlush(),!iC||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)t.someProp("handleKeyDown",(e=>e(t,n)))||kk(t,n)?n.preventDefault():zk(t,"key")
else{let e=Date.now()
t.input.lastIOSEnter=e,t.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{t.input.lastIOSEnter==e&&(t.someProp("handleKeyDown",(e=>e(t,Ux(13,"Enter")))),t.input.lastIOSEnter=0)}),200)}},Lk.keyup=(t,e)=>{16==e.keyCode&&(t.input.shiftKey=!1)},Lk.keypress=(t,e)=>{let n=e
if(Qk(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||sC&&n.metaKey)return
if(t.someProp("handleKeyPress",(e=>e(t,n))))return void n.preventDefault()
let i=t.state.selection
if(!(i instanceof fx&&i.$from.sameParent(i.$to))){let e=String.fromCharCode(n.charCode);/[\r\n]/.test(e)||t.someProp("handleTextInput",(n=>n(t,i.$from.pos,i.$to.pos,e)))||t.dispatch(t.state.tr.insertText(e).scrollIntoView()),n.preventDefault()}}
const Xk=sC?"metaKey":"ctrlKey"
Nk.mousedown=(t,e)=>{let n=e
t.input.shiftKey=n.shiftKey
let i=Yk(t),s=Date.now(),o="singleClick"
s-t.input.lastClick.time<500&&function(t,e){let n=e.x-t.clientX,i=e.y-t.clientY
return n*n+i*i<100}(n,t.input.lastClick)&&!n[Xk]&&("singleClick"==t.input.lastClick.type?o="doubleClick":"doubleClick"==t.input.lastClick.type&&(o="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:o}
let r=t.posAtCoords(qk(n))
r&&("singleClick"==o?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Jk(t,r,n,!!i)):("doubleClick"==o?Zk:Kk)(t,r.pos,r.inside,n)?n.preventDefault():zk(t,"pointer"))}
class Jk{constructor(t,e,n,i){let s,o
if(this.view=t,this.pos=e,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[Xk],this.allowDefault=n.shiftKey,e.inside>-1)s=t.state.doc.nodeAt(e.inside),o=e.inside
else{let n=t.state.doc.resolve(e.pos)
s=n.parent,o=n.depth?n.before():0}const r=i?null:n.target,a=r?t.docView.nearestDesc(r,!0):null
this.target=a&&1==a.dom.nodeType?a.dom:null
let{selection:l}=t.state;(0==n.button&&s.type.spec.draggable&&!1!==s.type.spec.selectable||l instanceof gx&&l.from<=o&&l.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!Jx||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),zk(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>ek(this.view))),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return
let e=this.pos
this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(qk(t))),this.updateAllowDefault(t),this.allowDefault||!e?zk(this.view,"pointer"):Gk(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||nC&&this.mightDrag&&!this.mightDrag.node.isAtom||tC&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(Wk(this.view,dx.near(this.view.state.doc.resolve(e.pos))),t.preventDefault()):zk(this.view,"pointer")}move(t){this.updateAllowDefault(t),zk(this.view,"pointer"),0==t.buttons&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}function Qk(t,e){return!!t.composing||!!(nC&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500)&&(t.input.compositionEndedAt=-2e8,!0)}Nk.touchstart=t=>{t.input.lastTouch=Date.now(),Yk(t),zk(t,"pointer")},Nk.touchmove=t=>{t.input.lastTouch=Date.now(),zk(t,"pointer")},Nk.contextmenu=t=>Yk(t)
const tS=rC?5e3:-1
function eS(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout((()=>sS(t)),e))}function nS(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=function(){let t=document.createEvent("Event")
return t.initEvent("event",!0,!0),t.timeStamp}());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function iS(t){let e=t.domSelectionRange()
if(!e.focusNode)return null
let n=function(t,e){for(;;){if(3==t.nodeType&&e)return t
if(1==t.nodeType&&e>0){if("false"==t.contentEditable)return null
e=zx(t=t.childNodes[e-1])}else{if(!t.parentNode||Vx(t))return null
e=Ox(t),t=t.parentNode}}}(e.focusNode,e.focusOffset),i=function(t,e){for(;;){if(3==t.nodeType&&e<t.nodeValue.length)return t
if(1==t.nodeType&&e<t.childNodes.length){if("false"==t.contentEditable)return null
t=t.childNodes[e],e=0}else{if(!t.parentNode||Vx(t))return null
e=Ox(t)+1,t=t.parentNode}}}(e.focusNode,e.focusOffset)
if(n&&i&&n!=i){let e=i.pmViewDesc,s=t.domObserver.lastChangedTextNode
if(n==s||i==s)return s
if(!e||!e.isText(i.nodeValue))return i
if(t.input.compositionNode==i){let t=n.pmViewDesc
if(t&&t.isText(n.nodeValue))return i}}return n||i}function sS(t,e=!1){if(!(rC&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),nS(t),e||t.docView&&t.docView.dirty){let n=QC(t)
return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):!t.markCursor&&!e||t.state.selection.empty?t.updateState(t.state):t.dispatch(t.state.tr.deleteSelection()),!0}return!1}}Lk.compositionstart=Lk.compositionupdate=t=>{if(!t.composing){t.domObserver.flush()
let{state:e}=t,n=e.selection.$to
if(e.selection instanceof fx&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((t=>!1===t.type.spec.inclusive))))t.markCursor=t.state.storedMarks||n.marks(),sS(t,!0),t.markCursor=null
else if(sS(t,!e.selection.empty),Jx&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let e=t.domSelectionRange()
for(let n=e.focusNode,i=e.focusOffset;n&&1==n.nodeType&&0!=i;){let e=i<0?n.lastChild:n.childNodes[i-1]
if(!e)break
if(3==e.nodeType){let n=t.domSelection()
n&&n.collapse(e,e.nodeValue.length)
break}n=e,i=-1}}t.input.composing=!0}eS(t,tS)},Lk.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then((()=>t.domObserver.flush())),t.input.compositionID++,eS(t,20))}
const oS=Yx&&Xx<15||iC&&lC<604
function rS(t,e,n,i,s){let o=_k(t,e,n,i,t.state.selection.$from)
if(t.someProp("handlePaste",(e=>e(t,s,o||xy.empty))))return!0
if(!o)return!1
let r=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(o),a=r?t.state.tr.replaceSelectionWith(r,i):t.state.tr.replaceSelection(o)
return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function aS(t){let e=t.getData("text/plain")||t.getData("Text")
if(e)return e
let n=t.getData("text/uri-list")
return n?n.replace(/\r?\n/g," "):""}Nk.copy=Lk.cut=(t,e)=>{let n=e,i=t.state.selection,s="cut"==n.type
if(i.empty)return
let o=oS?null:n.clipboardData,r=i.content(),{dom:a,text:l}=Sk(t,r)
o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):function(t,e){if(!t.dom.parentNode)return
let n=t.dom.parentNode.appendChild(document.createElement("div"))
n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px"
let i=getSelection(),s=document.createRange()
s.selectNodeContents(e),t.dom.blur(),i.removeAllRanges(),i.addRange(s),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()}),50)}(t,a),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},Lk.paste=(t,e)=>{let n=e
if(t.composing&&!rC)return
let i=oS?null:n.clipboardData,s=t.input.shiftKey&&45!=t.input.lastKeyCode
i&&rS(t,aS(i),i.getData("text/html"),s,n)?n.preventDefault():function(t,e){if(!t.dom.parentNode)return
let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,i=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"))
n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus()
let s=t.input.shiftKey&&45!=t.input.lastKeyCode
setTimeout((()=>{t.focus(),i.parentNode&&i.parentNode.removeChild(i),n?rS(t,i.value,null,s,e):rS(t,i.textContent,i.innerHTML,s,e)}),50)}(t,n)}
class lS{constructor(t,e,n){this.slice=t,this.move=e,this.node=n}}const cS=sC?"altKey":"ctrlKey"
Nk.dragstart=(t,e)=>{let n=e,i=t.input.mouseDown
if(i&&i.done(),!n.dataTransfer)return
let s,o=t.state.selection,r=o.empty?null:t.posAtCoords(qk(n))
if(r&&r.pos>=o.from&&r.pos<=(o instanceof gx?o.to-1:o.to));else if(i&&i.mightDrag)s=gx.create(t.state.doc,i.mightDrag.pos)
else if(n.target&&1==n.target.nodeType){let e=t.docView.nearestDesc(n.target,!0)
e&&e.node.type.spec.draggable&&e!=t.docView&&(s=gx.create(t.state.doc,e.posBefore))}let a=(s||t.state.selection).content(),{dom:l,text:c,slice:d}=Sk(t,a);(!n.dataTransfer.files.length||!tC||eC>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(oS?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",oS||n.dataTransfer.setData("text/plain",c),t.dragging=new lS(d,!n[cS],s)},Nk.dragend=t=>{let e=t.dragging
window.setTimeout((()=>{t.dragging==e&&(t.dragging=null)}),50)},Lk.dragover=Lk.dragenter=(t,e)=>e.preventDefault(),Lk.drop=(t,e)=>{let n=e,i=t.dragging
if(t.dragging=null,!n.dataTransfer)return
let s=t.posAtCoords(qk(n))
if(!s)return
let o=t.state.doc.resolve(s.pos),r=i&&i.slice
r?t.someProp("transformPasted",(e=>{r=e(r,t)})):r=_k(t,aS(n.dataTransfer),oS?null:n.dataTransfer.getData("text/html"),!1,o)
let a=!(!i||n[cS])
if(t.someProp("handleDrop",(e=>e(t,n,r||xy.empty,a))))return void n.preventDefault()
if(!r)return
n.preventDefault()
let l=r?function(t,e,n){let i=t.resolve(e)
if(!n.content.size)return e
let s=n.content
for(let t=0;t<n.openStart;t++)s=s.firstChild.content
for(let t=1;t<=(0==n.openStart&&n.size?2:1);t++)for(let e=i.depth;e>=0;e--){let n=e==i.depth?0:i.pos<=(i.start(e+1)+i.end(e+1))/2?-1:1,o=i.index(e)+(n>0?1:0),r=i.node(e),a=!1
if(1==t)a=r.canReplace(o,o,s)
else{let t=r.contentMatchAt(o).findWrapping(s.firstChild.type)
a=t&&r.canReplaceWith(o,o,t[0])}if(a)return 0==n?i.pos:n<0?i.before(e+1):i.after(e+1)}return null}(t.state.doc,o.pos,r):o.pos
null==l&&(l=o.pos)
let c=t.state.tr
if(a){let{node:t}=i
t?t.replace(c):c.deleteSelection()}let d=c.mapping.map(l),h=0==r.openStart&&0==r.openEnd&&1==r.content.childCount,u=c.doc
if(h?c.replaceRangeWith(d,d,r.content.firstChild):c.replaceRange(d,d,r),c.doc.eq(u))return
let p=c.doc.resolve(d)
if(h&&gx.isSelectable(r.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(r.content.firstChild))c.setSelection(new gx(p))
else{let e=c.mapping.map(l)
c.mapping.maps[c.mapping.maps.length-1].forEach(((t,n,i,s)=>e=s)),c.setSelection(lk(t,p,c.doc.resolve(e)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))},Nk.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ek(t)}),20))},Nk.blur=(t,e)=>{let n=e
t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},Nk.beforeinput=(t,e)=>{if(tC&&rC&&"deleteContentBackward"==e.inputType){t.domObserver.flushSoon()
let{domChangeCount:e}=t.input
setTimeout((()=>{if(t.input.domChangeCount!=e)return
if(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",(e=>e(t,Ux(8,"Backspace")))))return
let{$cursor:n}=t.state.selection
n&&n.pos>0&&t.dispatch(t.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}}
for(let t in Lk)Nk[t]=Lk[t]
function dS(t,e){if(t==e)return!0
for(let n in t)if(t[n]!==e[n])return!1
for(let n in e)if(!(n in t))return!1
return!0}class hS{constructor(t,e){this.toDOM=t,this.spec=e||gS,this.side=this.spec.side||0}map(t,e,n,i){let{pos:s,deleted:o}=t.mapResult(e.from+i,this.side<0?-1:1)
return o?null:new fS(s-n,s-n,this)}valid(){return!0}eq(t){return this==t||t instanceof hS&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&dS(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class uS{constructor(t,e){this.attrs=t,this.spec=e||gS}map(t,e,n,i){let s=t.map(e.from+i,this.spec.inclusiveStart?-1:1)-n,o=t.map(e.to+i,this.spec.inclusiveEnd?1:-1)-n
return s>=o?null:new fS(s,o,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof uS&&dS(this.attrs,t.attrs)&&dS(this.spec,t.spec)}static is(t){return t.type instanceof uS}destroy(){}}class pS{constructor(t,e){this.attrs=t,this.spec=e||gS}map(t,e,n,i){let s=t.mapResult(e.from+i,1)
if(s.deleted)return null
let o=t.mapResult(e.to+i,-1)
return o.deleted||o.pos<=s.pos?null:new fS(s.pos-n,o.pos-n,this)}valid(t,e){let n,{index:i,offset:s}=t.content.findIndex(e.from)
return s==e.from&&!(n=t.child(i)).isText&&s+n.nodeSize==e.to}eq(t){return this==t||t instanceof pS&&dS(this.attrs,t.attrs)&&dS(this.spec,t.spec)}destroy(){}}class fS{constructor(t,e,n){this.from=t,this.to=e,this.type=n}copy(t,e){return new fS(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,n){return this.type.map(t,this,e,n)}static widget(t,e,n){return new fS(t,t,new hS(e,n))}static inline(t,e,n,i){return new fS(t,e,new uS(n,i))}static node(t,e,n,i){return new fS(t,e,new pS(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof uS}get widget(){return this.type instanceof hS}}const mS=[],gS={}
class vS{constructor(t,e){this.local=t.length?t:mS,this.children=e.length?e:mS}static create(t,e){return e.length?kS(e,t,0,gS):bS}find(t,e,n){let i=[]
return this.findInner(null==t?0:t,null==e?1e9:e,i,0,n),i}findInner(t,e,n,i,s){for(let o=0;o<this.local.length;o++){let r=this.local[o]
r.from<=e&&r.to>=t&&(!s||s(r.spec))&&n.push(r.copy(r.from+i,r.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<e&&this.children[o+1]>t){let r=this.children[o]+1
this.children[o+2].findInner(t-r,e-r,n,i+r,s)}}map(t,e,n){return this==bS||0==t.maps.length?this:this.mapInner(t,e,0,0,n||gS)}mapInner(t,e,n,i,s){let o
for(let r=0;r<this.local.length;r++){let a=this.local[r].map(t,n,i)
a&&a.type.valid(e,a)?(o||(o=[])).push(a):s.onRemove&&s.onRemove(this.local[r].spec)}return this.children.length?function(t,e,n,i,s,o,r){let a=t.slice()
for(let t=0,e=o;t<n.maps.length;t++){let i=0
n.maps[t].forEach(((t,n,s,o)=>{let r=o-s-(n-t)
for(let s=0;s<a.length;s+=3){let o=a[s+1]
if(o<0||t>o+e-i)continue
let l=a[s]+e-i
n>=l?a[s+1]=t<=l?-2:-1:t>=e&&r&&(a[s]+=r,a[s+1]+=r)}i+=r})),e=n.maps[t].map(e,-1)}let l=!1
for(let e=0;e<a.length;e+=3)if(a[e+1]<0){if(-2==a[e+1]){l=!0,a[e+1]=-1
continue}let c=n.map(t[e]+o),d=c-s
if(d<0||d>=i.content.size){l=!0
continue}let h=n.map(t[e+1]+o,-1)-s,{index:u,offset:p}=i.content.findIndex(d),f=i.maybeChild(u)
if(f&&p==d&&p+f.nodeSize==h){let i=a[e+2].mapInner(n,f,c+1,t[e]+o+1,r)
i!=bS?(a[e]=d,a[e+1]=h,a[e+2]=i):(a[e+1]=-2,l=!0)}else l=!0}if(l){let l=function(t,e,n,i,s,o,r){function a(t,e){for(let o=0;o<t.local.length;o++){let a=t.local[o].map(i,s,e)
a?n.push(a):r.onRemove&&r.onRemove(t.local[o].spec)}for(let n=0;n<t.children.length;n+=3)a(t.children[n+2],t.children[n]+e+1)}for(let n=0;n<t.length;n+=3)-1==t[n+1]&&a(t[n+2],e[n]+o+1)
return n}(a,t,e,n,s,o,r),c=kS(l,i,0,r)
e=c.local
for(let t=0;t<a.length;t+=3)a[t+1]<0&&(a.splice(t,3),t-=3)
for(let t=0,e=0;t<c.children.length;t+=3){let n=c.children[t]
for(;e<a.length&&a[e]<n;)e+=3
a.splice(e,0,c.children[t],c.children[t+1],c.children[t+2])}}return new vS(e.sort(SS),a)}(this.children,o||[],t,e,n,i,s):o?new vS(o.sort(SS),mS):bS}add(t,e){return e.length?this==bS?vS.create(t,e):this.addInner(t,e,0):this}addInner(t,e,n){let i,s=0
t.forEach(((t,o)=>{let r,a=o+n
if(r=xS(e,t,a)){for(i||(i=this.children.slice());s<i.length&&i[s]<o;)s+=3
i[s]==o?i[s+2]=i[s+2].addInner(t,r,a+1):i.splice(s,0,o,o+t.nodeSize,kS(r,t,a+1,gS)),s+=3}}))
let o=wS(s?CS(e):e,-n)
for(let e=0;e<o.length;e++)o[e].type.valid(t,o[e])||o.splice(e--,1)
return new vS(o.length?this.local.concat(o).sort(SS):this.local,i||this.children)}remove(t){return 0==t.length||this==bS?this:this.removeInner(t,0)}removeInner(t,e){let n=this.children,i=this.local
for(let i=0;i<n.length;i+=3){let s,o=n[i]+e,r=n[i+1]+e
for(let e,n=0;n<t.length;n++)(e=t[n])&&e.from>o&&e.to<r&&(t[n]=null,(s||(s=[])).push(e))
if(!s)continue
n==this.children&&(n=this.children.slice())
let a=n[i+2].removeInner(s,o+1)
a!=bS?n[i+2]=a:(n.splice(i,3),i-=3)}if(i.length)for(let n,s=0;s<t.length;s++)if(n=t[s])for(let t=0;t<i.length;t++)i[t].eq(n,e)&&(i==this.local&&(i=this.local.slice()),i.splice(t--,1))
return n==this.children&&i==this.local?this:i.length||n.length?new vS(i,n):bS}forChild(t,e){if(this==bS)return this
if(e.isLeaf)return vS.empty
let n,i
for(let e=0;e<this.children.length;e+=3)if(this.children[e]>=t){this.children[e]==t&&(n=this.children[e+2])
break}let s=t+1,o=s+e.content.size
for(let t=0;t<this.local.length;t++){let e=this.local[t]
if(e.from<o&&e.to>s&&e.type instanceof uS){let t=Math.max(s,e.from)-s,n=Math.min(o,e.to)-s
t<n&&(i||(i=[])).push(e.copy(t,n))}}if(i){let t=new vS(i.sort(SS),mS)
return n?new yS([t,n]):t}return n||bS}eq(t){if(this==t)return!0
if(!(t instanceof vS)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1
for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1
for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1
return!0}locals(t){return _S(this.localsInner(t))}localsInner(t){if(this==bS)return mS
if(t.inlineContent||!this.local.some(uS.is))return this.local
let e=[]
for(let t=0;t<this.local.length;t++)this.local[t].type instanceof uS||e.push(this.local[t])
return e}forEachSet(t){t(this)}}vS.empty=new vS([],[]),vS.removeOverlap=_S
const bS=vS.empty
class yS{constructor(t){this.members=t}map(t,e){const n=this.members.map((n=>n.map(t,e,gS)))
return yS.from(n)}forChild(t,e){if(e.isLeaf)return vS.empty
let n=[]
for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(t,e)
s!=bS&&(s instanceof yS?n=n.concat(s.members):n.push(s))}return yS.from(n)}eq(t){if(!(t instanceof yS)||t.members.length!=this.members.length)return!1
for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1
return!0}locals(t){let e,n=!0
for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(t)
if(s.length)if(e){n&&(e=e.slice(),n=!1)
for(let t=0;t<s.length;t++)e.push(s[t])}else e=s}return e?_S(n?e:e.sort(SS)):mS}static from(t){switch(t.length){case 0:return bS
case 1:return t[0]
default:return new yS(t.every((t=>t instanceof vS))?t:t.reduce(((t,e)=>t.concat(e instanceof vS?e:e.members)),[]))}}forEachSet(t){for(let e=0;e<this.members.length;e++)this.members[e].forEachSet(t)}}function wS(t,e){if(!e||!t.length)return t
let n=[]
for(let i=0;i<t.length;i++){let s=t[i]
n.push(new fS(s.from+e,s.to+e,s.type))}return n}function xS(t,e,n){if(e.isLeaf)return null
let i=n+e.nodeSize,s=null
for(let e,o=0;o<t.length;o++)(e=t[o])&&e.from>n&&e.to<i&&((s||(s=[])).push(e),t[o]=null)
return s}function CS(t){let e=[]
for(let n=0;n<t.length;n++)null!=t[n]&&e.push(t[n])
return e}function kS(t,e,n,i){let s=[],o=!1
e.forEach(((e,r)=>{let a=xS(t,e,r+n)
if(a){o=!0
let t=kS(a,e,n+r+1,i)
t!=bS&&s.push(r,r+e.nodeSize,t)}}))
let r=wS(o?CS(t):t,-n).sort(SS)
for(let t=0;t<r.length;t++)r[t].type.valid(e,r[t])||(i.onRemove&&i.onRemove(r[t].spec),r.splice(t--,1))
return r.length||s.length?new vS(r,s):bS}function SS(t,e){return t.from-e.from||t.to-e.to}function _S(t){let e=t
for(let n=0;n<e.length-1;n++){let i=e[n]
if(i.from!=i.to)for(let s=n+1;s<e.length;s++){let o=e[s]
if(o.from!=i.from){o.from<i.to&&(e==t&&(e=t.slice()),e[n]=i.copy(i.from,o.from),IS(e,s,i.copy(o.from,i.to)))
break}o.to!=i.to&&(e==t&&(e=t.slice()),e[s]=o.copy(o.from,i.to),IS(e,s+1,o.copy(i.to,o.to)))}}return e}function IS(t,e,n){for(;e<t.length&&SS(n,t[e])>0;)e++
t.splice(e,0,n)}function MS(t){let e=[]
return t.someProp("decorations",(n=>{let i=n(t.state)
i&&i!=bS&&e.push(i)})),t.cursorWrapper&&e.push(vS.create(t.state.doc,[t.cursorWrapper.deco])),yS.from(e)}const $S={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},DS=Yx&&Xx<=11
class ES{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class AS{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new ES,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver((t=>{for(let e=0;e<t.length;e++)this.queue.push(t[e])
Yx&&Xx<=11&&t.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),DS&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,$S)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords()
if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e])
window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(ck(this.view)){if(this.suppressingSelectionUpdates)return ek(this.view)
if(Yx&&Xx<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange()
if(t.focusNode&&Lx(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0
let e,n=new Set
for(let e=t.focusNode;e;e=Rx(e))n.add(e)
for(let i=t.anchorNode;i;i=Rx(i))if(n.has(i)){e=i
break}let i=e&&this.view.docView.nearestDesc(e)
return i&&i.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t)
return this.queue}flush(){let{view:t}=this
if(!t.docView||this.flushingSoon>-1)return
let e=this.pendingRecords()
e.length&&(this.queue=[])
let n=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&ck(t)&&!this.ignoreSelectionChange(n),s=-1,o=-1,r=!1,a=[]
if(t.editable)for(let t=0;t<e.length;t++){let n=this.registerMutation(e[t],a)
n&&(s=s<0?n.from:Math.min(n.from,s),o=o<0?n.to:Math.max(n.to,o),n.typeOver&&(r=!0))}if(Jx&&a.length){let e=a.filter((t=>"BR"==t.nodeName))
if(2==e.length){let[t,n]=e
t.parentNode&&t.parentNode.parentNode==n.parentNode?n.remove():t.remove()}else{let{focusNode:n}=this.currentSelection
for(let i of e){let e=i.parentNode
!e||"LI"!=e.nodeName||n&&FS(t,n)==e||i.remove()}}}let l=null
s<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Hx(n)&&(l=QC(t))&&l.eq(dx.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,ek(t),this.currentSelection.set(n),t.scrollToSelection()):(s>-1||i)&&(s>-1&&(t.docView.markDirty(s,o),function(t){if(TS.has(t))return
if(TS.set(t,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)){if(t.requiresGeckoHackNode=Jx,OS)return
console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),OS=!0}}(t)),this.handleDOMChange(s,o,r,a),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(n)||ek(t),this.currentSelection.set(n))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null
let n=this.view.docView.nearestDesc(t.target)
if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null
if(!n||n.ignoreMutation(t))return null
if("childList"==t.type){for(let n=0;n<t.addedNodes.length;n++){let i=t.addedNodes[n]
e.push(i),3==i.nodeType&&(this.lastChangedTextNode=i)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter}
let i=t.previousSibling,s=t.nextSibling
if(Yx&&Xx<=11&&t.addedNodes.length)for(let e=0;e<t.addedNodes.length;e++){let{previousSibling:n,nextSibling:o}=t.addedNodes[e];(!n||Array.prototype.indexOf.call(t.addedNodes,n)<0)&&(i=n),(!o||Array.prototype.indexOf.call(t.addedNodes,o)<0)&&(s=o)}let o=i&&i.parentNode==t.target?Ox(i)+1:0,r=n.localPosFromDOM(t.target,o,-1),a=s&&s.parentNode==t.target?Ox(s):t.target.childNodes.length
return{from:r,to:n.localPosFromDOM(t.target,a,1)}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=t.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let TS=new WeakMap,OS=!1
function RS(t,e){let n=e.startContainer,i=e.startOffset,s=e.endContainer,o=e.endOffset,r=t.domAtPos(t.state.selection.anchor)
return Lx(r.node,r.offset,s,o)&&([n,i,s,o]=[s,o,n,i]),{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:o}}function FS(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let e=t.docView.nearestDesc(n,!0)
if(e&&e.node.isBlock)return n}return null}function NS(t){let e=t.pmViewDesc
if(e)return e.parseRule()
if("BR"==t.nodeName&&t.parentNode){if(nC&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let t=document.createElement("div")
return t.appendChild(document.createElement("li")),{skip:t}}if(t.parentNode.lastChild==t||nC&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0}
return null}const LS=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i
function BS(t,e,n,i,s){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0)
if(t.input.compositionPendingChanges=0,e<0){let e=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,n=QC(t,e)
if(n&&!t.state.selection.eq(n)){if(tC&&rC&&13===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",(e=>e(t,Ux(13,"Enter")))))return
let i=t.state.tr.setSelection(n)
"pointer"==e?i.setMeta("pointer",!0):"key"==e&&i.scrollIntoView(),o&&i.setMeta("composition",o),t.dispatch(i)}return}let r=t.state.doc.resolve(e),a=r.sharedDepth(n)
e=r.before(a+1),n=t.state.doc.resolve(n).after(a+1)
let l,c,d=t.state.selection,h=function(t,e,n){let i,{node:s,fromOffset:o,toOffset:r,from:a,to:l}=t.docView.parseRange(e,n),c=t.domSelectionRange(),d=c.anchorNode
if(d&&t.dom.contains(1==d.nodeType?d:d.parentNode)&&(i=[{node:d,offset:c.anchorOffset}],Hx(c)||i.push({node:c.focusNode,offset:c.focusOffset})),tC&&8===t.input.lastKeyCode)for(let t=r;t>o;t--){let e=s.childNodes[t-1],n=e.pmViewDesc
if("BR"==e.nodeName&&!n){r=t
break}if(!n||n.size)break}let h=t.state.doc,u=t.someProp("domParser")||rw.fromSchema(t.state.schema),p=h.resolve(a),f=null,m=u.parse(s,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:o,to:r,preserveWhitespace:"pre"!=p.parent.type.whitespace||"full",findPositions:i,ruleFromNode:NS,context:p})
if(i&&null!=i[0].pos){let t=i[0].pos,e=i[1]&&i[1].pos
null==e&&(e=t),f={anchor:t+a,head:e+a}}return{doc:m,sel:f,from:a,to:l}}(t,e,n),u=t.state.doc,p=u.slice(h.from,h.to)
8===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime?(l=t.state.selection.to,c="end"):(l=t.state.selection.from,c="start"),t.input.lastKeyCode=null
let f=function(t,e,n,i,s){let o=t.findDiffStart(e,n)
if(null==o)return null
let{a:r,b:a}=t.findDiffEnd(e,n+t.size,n+e.size)
if("end"==s){i-=r+Math.max(0,o-Math.min(r,a))-o}if(r<o&&t.size<e.size){let t=i<=o&&i>=r?o-i:0
o-=t,o&&o<e.size&&VS(e.textBetween(o-1,o+1))&&(o+=t?1:-1),a=o+(a-r),r=o}else if(a<o){let e=i<=o&&i>=a?o-i:0
o-=e,o&&o<t.size&&VS(t.textBetween(o-1,o+1))&&(o+=e?1:-1),r=o+(r-a),a=o}return{start:o,endA:r,endB:a}}(p.content,h.doc.content,h.from,l,c)
if(f&&t.input.domChangeCount++,(iC&&t.input.lastIOSEnter>Date.now()-225||rC)&&s.some((t=>1==t.nodeType&&!LS.test(t.nodeName)))&&(!f||f.endA>=f.endB)&&t.someProp("handleKeyDown",(e=>e(t,Ux(13,"Enter")))))return void(t.input.lastIOSEnter=0)
if(!f){if(!(i&&d instanceof fx&&!d.empty&&d.$head.sameParent(d.$anchor))||t.composing||h.sel&&h.sel.anchor!=h.sel.head){if(h.sel){let e=PS(t,t.state.doc,h.sel)
if(e&&!e.eq(t.state.selection)){let n=t.state.tr.setSelection(e)
o&&n.setMeta("composition",o),t.dispatch(n)}}return}f={start:d.from,endA:d.to,endB:d.to}}t.state.selection.from<t.state.selection.to&&f.start==f.endB&&t.state.selection instanceof fx&&(f.start>t.state.selection.from&&f.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?f.start=t.state.selection.from:f.endA<t.state.selection.to&&f.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(f.endB+=t.state.selection.to-f.endA,f.endA=t.state.selection.to)),Yx&&Xx<=11&&f.endB==f.start+1&&f.endA==f.start&&f.start>h.from&&" "==h.doc.textBetween(f.start-h.from-1,f.start-h.from+1)&&(f.start--,f.endA--,f.endB--)
let m,g=h.doc.resolveNoCache(f.start-h.from),v=h.doc.resolveNoCache(f.endB-h.from),b=u.resolve(f.start),y=g.sameParent(v)&&g.parent.inlineContent&&b.end()>=f.endA
if((iC&&t.input.lastIOSEnter>Date.now()-225&&(!y||s.some((t=>"DIV"==t.nodeName||"P"==t.nodeName)))||!y&&g.pos<h.doc.content.size&&!g.sameParent(v)&&(m=dx.findFrom(h.doc.resolve(g.pos+1),1,!0))&&m.head==v.pos)&&t.someProp("handleKeyDown",(e=>e(t,Ux(13,"Enter")))))return void(t.input.lastIOSEnter=0)
if(t.state.selection.anchor>f.start&&function(t,e,n,i,s){if(n-e<=s.pos-i.pos||zS(i,!0,!1)<s.pos)return!1
let o=t.resolve(e)
if(!i.parent.isTextblock){let t=o.nodeAfter
return null!=t&&n==e+t.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1
let r=t.resolve(zS(o,!0,!0))
return!(!r.parent.isTextblock||r.pos>n||zS(r,!0,!1)<n)&&i.parent.content.cut(i.parentOffset).eq(r.parent.content)}(u,f.start,f.endA,g,v)&&t.someProp("handleKeyDown",(e=>e(t,Ux(8,"Backspace")))))return void(rC&&tC&&t.domObserver.suppressSelectionUpdates())
tC&&f.endB==f.start&&(t.input.lastChromeDelete=Date.now()),rC&&!y&&g.start()!=v.start()&&0==v.parentOffset&&g.depth==v.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==f.endA&&(f.endB-=2,v=h.doc.resolveNoCache(f.endB-h.from),setTimeout((()=>{t.someProp("handleKeyDown",(function(e){return e(t,Ux(13,"Enter"))}))}),20))
let w,x,C,k=f.start,S=f.endA
if(y)if(g.pos==v.pos)Yx&&Xx<=11&&0==g.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((()=>ek(t)),20)),w=t.state.tr.delete(k,S),x=u.resolve(f.start).marksAcross(u.resolve(f.endA))
else if(f.endA==f.endB&&(C=function(t,e){let n,i,s,o=t.firstChild.marks,r=e.firstChild.marks,a=o,l=r
for(let t=0;t<r.length;t++)a=r[t].removeFromSet(a)
for(let t=0;t<o.length;t++)l=o[t].removeFromSet(l)
if(1==a.length&&0==l.length)i=a[0],n="add",s=t=>t.mark(i.addToSet(t.marks))
else{if(0!=a.length||1!=l.length)return null
i=l[0],n="remove",s=t=>t.mark(i.removeFromSet(t.marks))}let c=[]
for(let t=0;t<e.childCount;t++)c.push(s(e.child(t)))
if(my.from(c).eq(t))return{mark:i,type:n}}(g.parent.content.cut(g.parentOffset,v.parentOffset),b.parent.content.cut(b.parentOffset,f.endA-b.start()))))w=t.state.tr,"add"==C.type?w.addMark(k,S,C.mark):w.removeMark(k,S,C.mark)
else if(g.parent.child(g.index()).isText&&g.index()==v.index()-(v.textOffset?0:1)){let e=g.parent.textBetween(g.parentOffset,v.parentOffset)
if(t.someProp("handleTextInput",(n=>n(t,k,S,e))))return
w=t.state.tr.insertText(e,k,S)}if(w||(w=t.state.tr.replace(k,S,h.doc.slice(f.start-h.from,f.endB-h.from))),h.sel){let e=PS(t,w.doc,h.sel)
e&&!(tC&&t.composing&&e.empty&&(f.start!=f.endB||t.input.lastChromeDelete<Date.now()-100)&&(e.head==k||e.head==w.mapping.map(S)-1)||Yx&&e.empty&&e.head==k)&&w.setSelection(e)}x&&w.ensureMarks(x),o&&w.setMeta("composition",o),t.dispatch(w.scrollIntoView())}function PS(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:lk(t,e.resolve(n.anchor),e.resolve(n.head))}function zS(t,e,n){let i=t.depth,s=e?t.end():t.pos
for(;i>0&&(e||t.indexAfter(i)==t.node(i).childCount);)i--,s++,e=!1
if(n){let e=t.node(i).maybeChild(t.indexAfter(i))
for(;e&&!e.isLeaf;)e=e.firstChild,s++}return s}function VS(t){if(2!=t.length)return!1
let e=t.charCodeAt(0),n=t.charCodeAt(1)
return e>=56320&&e<=57343&&n>=55296&&n<=56319}class HS{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Pk,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(GS),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=jS(this),qS(this),this.nodeViews=WS(this),this.docView=LC(this.state.doc,US(this),MS(this),this.dom,this),this.domObserver=new AS(this,((t,e,n,i)=>BS(this,t,e,n,i))),this.domObserver.start(),function(t){for(let e in Nk){let n=Nk[e]
t.dom.addEventListener(e,t.input.eventHandlers[e]=e=>{!Uk(t,e)||Hk(t,e)||!t.editable&&e.type in Lk||n(t,e)},Bk[e]?{passive:!0}:void 0)}nC&&t.dom.addEventListener("input",(()=>null)),Vk(t)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props
this._props={}
for(let e in t)this._props[e]=t[e]
this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Vk(this)
let e=this._props
this._props=t,t.plugins&&(t.plugins.forEach(GS),this.directPlugins=t.plugins),this.updateStateInner(t.state,e)}setProps(t){let e={}
for(let t in this._props)e[t]=this._props[t]
e.state=this.state
for(let n in t)e[n]=t[n]
this.update(e)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,e){var n
let i=this.state,s=!1,o=!1
t.storedMarks&&this.composing&&(nS(this),o=!0),this.state=t
let r=i.plugins!=t.plugins||this._props.plugins!=e.plugins
if(r||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let t=WS(this);(function(t,e){let n=0,i=0
for(let i in t){if(t[i]!=e[i])return!0
n++}for(let t in e)i++
return n!=i})(t,this.nodeViews)&&(this.nodeViews=t,s=!0)}(r||e.handleDOMEvents!=this._props.handleDOMEvents)&&Vk(this),this.editable=jS(this),qS(this)
let a=MS(this),l=US(this),c=i.plugins==t.plugins||i.doc.eq(t.doc)?t.scrollToSelection>i.scrollToSelection?"to selection":"preserve":"reset",d=s||!this.docView.matchesNode(t.doc,l,a)
!d&&t.selection.eq(i.selection)||(o=!0)
let h="preserve"==c&&o&&null==this.dom.style.overflowAnchor&&function(t){let e,n,i=t.dom.getBoundingClientRect(),s=Math.max(0,i.top)
for(let o=(i.left+i.right)/2,r=s+1;r<Math.min(innerHeight,i.bottom);r+=5){let i=t.root.elementFromPoint(o,r)
if(!i||i==t.dom||!t.dom.contains(i))continue
let a=i.getBoundingClientRect()
if(a.top>=s-20){e=i,n=a.top
break}}return{refDOM:e,refTop:n,stack:pC(t.dom)}}(this)
if(o){this.domObserver.stop()
let e=d&&(Yx||tC)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&function(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head))
return t.$anchor.start(n)!=e.$anchor.start(n)}(i.selection,t.selection)
if(d){let n=tC?this.trackWrites=this.domSelectionRange().focusNode:null
this.composing&&(this.input.compositionNode=iS(this)),!s&&this.docView.update(t.doc,l,a,this)||(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=LC(t.doc,l,a,this.dom,this)),n&&!this.trackWrites&&(e=!0)}e||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange()
return Lx(e.node,e.offset,n.anchorNode,n.anchorOffset)}(this))?ek(this,e):(rk(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),(null===(n=this.dragging)||void 0===n?void 0:n.node)&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():h&&function({refDOM:t,refTop:e,stack:n}){let i=t?t.getBoundingClientRect().top:0
fC(n,0==i?0:i-e)}(h)}scrollToSelection(){let t=this.domSelectionRange().focusNode
if(t&&this.dom.contains(1==t.nodeType?t:t.parentNode))if(this.someProp("handleScrollToSelection",(t=>t(this))));else if(this.state.selection instanceof gx){let e=this.docView.domAfterPos(this.state.selection.from)
1==e.nodeType&&uC(this,e.getBoundingClientRect(),t)}else uC(this,this.coordsAtPos(this.state.selection.head,1),t)
else;}destroyPluginViews(){let t
for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let e=0;e<this.pluginViews.length;e++){let n=this.pluginViews[e]
n.update&&n.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews()
for(let t=0;t<this.directPlugins.length;t++){let e=this.directPlugins[t]
e.spec.view&&this.pluginViews.push(e.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let e=this.state.plugins[t]
e.spec.view&&this.pluginViews.push(e.spec.view(this))}}}updateDraggedNode(t,e){let n=t.node,i=-1
if(this.state.doc.nodeAt(n.from)==n.node)i=n.from
else{let t=n.from+(this.state.doc.content.size-e.doc.content.size);(t>0&&this.state.doc.nodeAt(t))==n.node&&(i=t)}this.dragging=new lS(t.slice,t.move,i<0?void 0:gx.create(this.state.doc,i))}someProp(t,e){let n,i=this._props&&this._props[t]
if(null!=i&&(n=e?e(i):i))return n
for(let i=0;i<this.directPlugins.length;i++){let s=this.directPlugins[i].props[t]
if(null!=s&&(n=e?e(s):s))return n}let s=this.state.plugins
if(s)for(let i=0;i<s.length;i++){let o=s[i].props[t]
if(null!=o&&(n=e?e(o):o))return n}}hasFocus(){if(Yx){let t=this.root.activeElement
if(t==this.dom)return!0
if(!t||!this.dom.contains(t))return!1
for(;t&&this.dom!=t&&this.dom.contains(t);){if("false"==t.contentEditable)return!1
t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive()
if(mC)return t.focus(mC)
let e=pC(t)
t.focus(null==mC?{get preventScroll(){return mC={preventScroll:!0},!0}}:void 0),mC||(mC=!1,fC(e,0))}(this.dom),ek(this),this.domObserver.start()}get root(){let t=this._root
if(null==t)for(let t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t
return t||document}updateRoot(){this._root=null}posAtCoords(t){return yC(this,t)}coordsAtPos(t,e=1){return kC(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t)
return e?e.nodeDOM:null}posAtDOM(t,e,n=-1){let i=this.docView.posFromDOM(t,e,n)
if(null==i)throw new RangeError("DOM position not inside the editor")
return i}endOfTextblock(t,e){return AC(this,e||this.state,t)}pasteHTML(t,e){return rS(this,"",t,!1,e||new ClipboardEvent("paste"))}pasteText(t,e){return rS(this,t,null,!0,e||new ClipboardEvent("paste"))}destroy(){this.docView&&(!function(t){t.domObserver.stop()
for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e])
clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],MS(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Fx=null)}get isDestroyed(){return null==this.docView}dispatchEvent(t){return function(t,e){Hk(t,e)||!Nk[e.type]||!t.editable&&e.type in Lk||Nk[e.type](t,e)}(this,t)}dispatch(t){let e=this._props.dispatchTransaction
e?e.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection()
return t?nC&&11===this.root.nodeType&&function(t){let e=t.activeElement
for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement
return e}(this.dom.ownerDocument)==this.dom&&function(t,e){if(e.getComposedRanges){let n=e.getComposedRanges(t.root)[0]
if(n)return RS(t,n)}let n
function i(t){t.preventDefault(),t.stopImmediatePropagation(),n=t.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",i,!0),n?RS(t,n):null}(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function US(t){let e=Object.create(null)
return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",(n=>{if("function"==typeof n&&(n=n(t.state)),n)for(let t in n)"class"==t?e.class+=" "+n[t]:"style"==t?e.style=(e.style?e.style+";":"")+n[t]:e[t]||"contenteditable"==t||"nodeName"==t||(e[t]=String(n[t]))})),e.translate||(e.translate="no"),[fS.node(0,t.state.doc.content.size,e)]}function qS(t){if(t.markCursor){let e=document.createElement("img")
e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:fS.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function jS(t){return!t.someProp("editable",(e=>!1===e(t.state)))}function WS(t){let e=Object.create(null)
function n(t){for(let n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function GS(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}for(var ZS={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},KS={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},YS="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),XS="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),JS=0;JS<10;JS++)ZS[48+JS]=ZS[96+JS]=String(JS)
for(JS=1;JS<=24;JS++)ZS[JS+111]="F"+JS
for(JS=65;JS<=90;JS++)ZS[JS]=String.fromCharCode(JS+32),KS[JS]=String.fromCharCode(JS)
for(var QS in ZS)KS.hasOwnProperty(QS)||(KS[QS]=ZS[QS])
const t_="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform)
function e_(t){let e,n,i,s,o=t.split(/-(?!$)/),r=o[o.length-1]
"Space"==r&&(r=" ")
for(let t=0;t<o.length-1;t++){let r=o[t]
if(/^(cmd|meta|m)$/i.test(r))s=!0
else if(/^a(lt)?$/i.test(r))e=!0
else if(/^(c|ctrl|control)$/i.test(r))n=!0
else if(/^s(hift)?$/i.test(r))i=!0
else{if(!/^mod$/i.test(r))throw new Error("Unrecognized modifier name: "+r)
t_?s=!0:n=!0}}return e&&(r="Alt-"+r),n&&(r="Ctrl-"+r),s&&(r="Meta-"+r),i&&(r="Shift-"+r),r}function n_(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function i_(t){let e=function(t){let e=Object.create(null)
for(let n in t)e[e_(n)]=t[n]
return e}(t)
return function(t,n){let i,s=function(t){var e=!(YS&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||XS&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?KS:ZS)[t.keyCode]||t.key||"Unidentified"
return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(n),o=e[n_(s,n)]
if(o&&o(t.state,t.dispatch,t))return!0
if(1==s.length&&" "!=s){if(n.shiftKey){let i=e[n_(s,n,!1)]
if(i&&i(t.state,t.dispatch,t))return!0}if((n.shiftKey||n.altKey||n.metaKey||s.charCodeAt(0)>127)&&(i=ZS[n.keyCode])&&i!=s){let s=e[n_(i,n)]
if(s&&s(t.state,t.dispatch,t))return!0}}return!1}}const s_=(t,e)=>!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)
function o_(t,e){let{$cursor:n}=t.selection
return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const r_=(t,e,n)=>{let i=o_(t,n)
if(!i)return!1
let s=d_(i)
if(!s){let n=i.blockRange(),s=n&&zw(n)
return null!=s&&(e&&e(t.tr.lift(n,s).scrollIntoView()),!0)}let o=s.nodeBefore
if(w_(t,s,e,-1))return!0
if(0==i.parent.content.size&&(l_(o,"end")||gx.isSelectable(o)))for(let n=i.depth;;n--){let r=Kw(t.doc,i.before(n),i.after(n),xy.empty)
if(r&&r.slice.size<r.to-r.from){if(e){let n=t.tr.step(r)
n.setSelection(l_(o,"end")?dx.findFrom(n.doc.resolve(n.mapping.map(s.pos,-1)),-1):gx.create(n.doc,s.pos-o.nodeSize)),e(n.scrollIntoView())}return!0}if(1==n||i.node(n-1).childCount>1)break}return!(!o.isAtom||s.depth!=i.depth-1)&&(e&&e(t.tr.delete(s.pos-o.nodeSize,s.pos).scrollIntoView()),!0)}
function a_(t,e,n){let i=e.nodeBefore,s=e.pos-1
for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1
let t=i.lastChild
if(!t)return!1
i=t}let o=e.nodeAfter,r=e.pos+1
for(;!o.isTextblock;r++){if(o.type.spec.isolating)return!1
let t=o.firstChild
if(!t)return!1
o=t}let a=Kw(t.doc,s,r,xy.empty)
if(!a||a.from!=s||a instanceof Fw&&a.slice.size>=r-s)return!1
if(n){let e=t.tr.step(a)
e.setSelection(fx.create(e.doc,s)),n(e.scrollIntoView())}return!0}function l_(t,e,n=!1){for(let i=t;i;i="start"==e?i.firstChild:i.lastChild){if(i.isTextblock)return!0
if(n&&1!=i.childCount)return!1}return!1}const c_=(t,e,n)=>{let{$head:i,empty:s}=t.selection,o=i
if(!s)return!1
if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):i.parentOffset>0)return!1
o=d_(i)}let r=o&&o.nodeBefore
return!(!r||!gx.isSelectable(r))&&(e&&e(t.tr.setSelection(gx.create(t.doc,o.pos-r.nodeSize)).scrollIntoView()),!0)}
function d_(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1))
if(t.node(e).type.spec.isolating)break}return null}function h_(t,e){let{$cursor:n}=t.selection
return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const u_=(t,e,n)=>{let i=h_(t,n)
if(!i)return!1
let s=f_(i)
if(!s)return!1
let o=s.nodeAfter
if(w_(t,s,e,1))return!0
if(0==i.parent.content.size&&(l_(o,"start")||gx.isSelectable(o))){let n=Kw(t.doc,i.before(),i.after(),xy.empty)
if(n&&n.slice.size<n.to-n.from){if(e){let i=t.tr.step(n)
i.setSelection(l_(o,"start")?dx.findFrom(i.doc.resolve(i.mapping.map(s.pos)),1):gx.create(i.doc,i.mapping.map(s.pos))),e(i.scrollIntoView())}return!0}}return!(!o.isAtom||s.depth!=i.depth-1)&&(e&&e(t.tr.delete(s.pos,s.pos+o.nodeSize).scrollIntoView()),!0)},p_=(t,e,n)=>{let{$head:i,empty:s}=t.selection,o=i
if(!s)return!1
if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1
o=f_(i)}let r=o&&o.nodeAfter
return!(!r||!gx.isSelectable(r))&&(e&&e(t.tr.setSelection(gx.create(t.doc,o.pos)).scrollIntoView()),!0)}
function f_(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e)
if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1))
if(n.type.spec.isolating)break}return null}const m_=(t,e)=>{let{$head:n,$anchor:i}=t.selection
return!(!n.parent.type.spec.code||!n.sameParent(i))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}
function g_(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e)
if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const v_=(t,e)=>{let n=t.selection,{$from:i,$to:s}=n
if(n instanceof bx||i.parent.inlineContent||s.parent.inlineContent)return!1
let o=g_(s.parent.contentMatchAt(s.indexAfter()))
if(!o||!o.isTextblock)return!1
if(e){let n=(!i.parentOffset&&s.index()<s.parent.childCount?i:s).pos,r=t.tr.insert(n,o.createAndFill())
r.setSelection(fx.create(r.doc,n+1)),e(r.scrollIntoView())}return!0},b_=(t,e)=>{let{$cursor:n}=t.selection
if(!n||n.parent.content.size)return!1
if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before()
if(jw(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let i=n.blockRange(),s=i&&zw(i)
return null!=s&&(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)}
const y_=(t,e)=>{let{$from:n,$to:i}=t.selection
if(t.selection instanceof gx&&t.selection.node.isBlock)return!(!n.parentOffset||!jw(t.doc,n.pos)||(e&&e(t.tr.split(n.pos).scrollIntoView()),0))
if(!n.depth)return!1
let s,o,r=[],a=!1,l=!1
for(let t=n.depth;;t--){if(n.node(t).isBlock){a=n.end(t)==n.pos+(n.depth-t),l=n.start(t)==n.pos-(n.depth-t),o=g_(n.node(t-1).contentMatchAt(n.indexAfter(t-1))),r.unshift(a&&o?{type:o}:null),s=t
break}if(1==t)return!1
r.unshift(null)}let c=t.tr;(t.selection instanceof fx||t.selection instanceof bx)&&c.deleteSelection()
let d=c.mapping.map(n.pos),h=jw(c.doc,d,r.length,r)
if(h||(r[0]=o?{type:o}:null,h=jw(c.doc,d,r.length,r)),c.split(d,r.length,r),!a&&l&&n.node(s).type!=o){let t=c.mapping.map(n.before(s)),e=c.doc.resolve(t)
o&&n.node(s-1).canReplaceWith(e.index(),e.index()+1,o)&&c.setNodeMarkup(c.mapping.map(n.before(s)),o)}return e&&e(c.scrollIntoView()),!0}
function w_(t,e,n,i){let s,o,r=e.nodeBefore,a=e.nodeAfter,l=r.type.spec.isolating||a.type.spec.isolating
if(!l&&function(t,e,n){let i=e.nodeBefore,s=e.nodeAfter,o=e.index()
return!(!(i&&s&&i.type.compatibleContent(s.type))||(!i.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),0):!e.parent.canReplace(o,o+1)||!s.isTextblock&&!Ww(t.doc,e.pos)||(n&&n(t.tr.join(e.pos).scrollIntoView()),0)))}(t,e,n))return!0
let c=!l&&e.parent.canReplace(e.index(),e.index()+1)
if(c&&(s=(o=r.contentMatchAt(r.childCount)).findWrapping(a.type))&&o.matchType(s[0]||a.type).validEnd){if(n){let i=e.pos+a.nodeSize,o=my.empty
for(let t=s.length-1;t>=0;t--)o=my.from(s[t].create(null,o))
o=my.from(r.copy(o))
let l=t.tr.step(new Nw(e.pos-1,i,e.pos,i,new xy(o,1,0),s.length,!0)),c=l.doc.resolve(i+2*s.length)
c.nodeAfter&&c.nodeAfter.type==r.type&&Ww(l.doc,c.pos)&&l.join(c.pos),n(l.scrollIntoView())}return!0}let d=a.type.spec.isolating||i>0&&l?null:dx.findFrom(e,1),h=d&&d.$from.blockRange(d.$to),u=h&&zw(h)
if(null!=u&&u>=e.depth)return n&&n(t.tr.lift(h,u).scrollIntoView()),!0
if(c&&l_(a,"start",!0)&&l_(r,"end")){let i=r,s=[]
for(;s.push(i),!i.isTextblock;)i=i.lastChild
let o=a,l=1
for(;!o.isTextblock;o=o.firstChild)l++
if(i.canReplace(i.childCount,i.childCount,o.content)){if(n){let i=my.empty
for(let t=s.length-1;t>=0;t--)i=my.from(s[t].copy(i))
n(t.tr.step(new Nw(e.pos-s.length,e.pos+a.nodeSize,e.pos+l,e.pos+a.nodeSize-l,new xy(i,s.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function x_(t){return function(e,n){let i=e.selection,s=t<0?i.$from:i.$to,o=s.depth
for(;s.node(o).isInline;){if(!o)return!1
o--}return!!s.node(o).isTextblock&&(n&&n(e.tr.setSelection(fx.create(e.doc,t<0?s.start(o):s.end(o)))),!0)}}const C_=x_(-1),k_=x_(1)
function S_(t,e=null){return function(n,i){let s=!1
for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:r}}=n.selection.ranges[i]
n.doc.nodesBetween(o,r,((i,o)=>{if(s)return!1
if(i.isTextblock&&!i.hasMarkup(t,e))if(i.type==t)s=!0
else{let e=n.doc.resolve(o),i=e.index()
s=e.parent.canReplaceWith(i,i+1,t)}}))}if(!s)return!1
if(i){let s=n.tr
for(let i=0;i<n.selection.ranges.length;i++){let{$from:{pos:o},$to:{pos:r}}=n.selection.ranges[i]
s.setBlockType(o,r,t,e)}i(s.scrollIntoView())}return!0}}function __(...t){return function(e,n,i){for(let s=0;s<t.length;s++)if(t[s](e,n,i))return!0
return!1}}function I_(t,e=null){return function(n,i){let{$from:s,$to:o}=n.selection,r=s.blockRange(o)
if(!r)return!1
let a=i?n.tr:null
return!!function(t,e,n,i=null){let s=!1,o=e,r=e.$from.doc
if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&0==e.startIndex){if(0==e.$from.index(e.depth-1))return!1
let t=r.resolve(e.start-2)
o=new Ly(t,t,e.depth),e.endIndex<e.parent.childCount&&(e=new Ly(e.$from,r.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let a=Vw(o,n,i,e)
if(!a)return!1
t&&function(t,e,n,i,s){let o=my.empty
for(let t=n.length-1;t>=0;t--)o=my.from(n[t].type.create(n[t].attrs,o))
t.step(new Nw(e.start-(i?2:0),e.end,e.start,e.end,new xy(o,0,0),n.length,!0))
let r=0
for(let t=0;t<n.length;t++)n[t].type==s&&(r=t+1)
let a=n.length-r,l=e.start+n.length-(i?2:0),c=e.parent
for(let n=e.startIndex,i=e.endIndex,s=!0;n<i;n++,s=!1)!s&&jw(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(n).nodeSize}(t,e,a,s,n)
return!0}(a,r,t,e)&&(i&&i(a.scrollIntoView()),!0)}}function M_(t){return function(e,n){let{$from:i,$to:s}=e.selection,o=i.blockRange(s,(e=>e.childCount>0&&e.firstChild.type==t))
return!!o&&(!n||(i.node(o.depth-1).type==t?function(t,e,n,i){let s=t.tr,o=i.end,r=i.$to.end(i.depth)
o<r&&(s.step(new Nw(o-1,r,o,r,new xy(my.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new Ly(s.doc.resolve(i.$from.pos),s.doc.resolve(r),i.depth))
const a=zw(i)
if(null==a)return!1
s.lift(i,a)
let l=s.mapping.map(o,-1)-1
Ww(s.doc,l)&&s.join(l)
return e(s.scrollIntoView()),!0}(e,n,t,o):function(t,e,n){let i=t.tr,s=n.parent
for(let t=n.end,e=n.endIndex-1,o=n.startIndex;e>o;e--)t-=s.child(e).nodeSize,i.delete(t-1,t+1)
let o=i.doc.resolve(n.start),r=o.nodeAfter
if(i.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1
let a=0==n.startIndex,l=n.endIndex==s.childCount,c=o.node(-1),d=o.index(-1)
if(!c.canReplace(d+(a?0:1),d+1,r.content.append(l?my.empty:my.from(s))))return!1
let h=o.pos,u=h+r.nodeSize
return i.step(new Nw(h-(a?1:0),u+(l?1:0),h+1,u-1,new xy((a?my.empty:my.from(s.copy(my.empty))).append(l?my.empty:my.from(s.copy(my.empty))),a?0:1,l?0:1),a?0:1)),e(i.scrollIntoView()),!0}(e,n,o)))}}function $_(t){const{state:e,transaction:n}=t
let{selection:i}=n,{doc:s}=n,{storedMarks:o}=n
return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return i},get doc(){return s},get tr(){return i=n.selection,s=n.doc,o=n.storedMarks,n}}}__(s_,r_,c_),__(s_,u_,p_),__(m_,v_,b_,y_),"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&os.platform()
class D_{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:i}=e,{tr:s}=n,o=this.buildProps(s)
return Object.fromEntries(Object.entries(t).map((([t,e])=>[t,(...t)=>{const n=e(...t)(o)
return s.getMeta("preventDispatch")||this.hasCustomState||i.dispatch(s),n}])))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:i,state:s}=this,{view:o}=i,r=[],a=!!t,l=t||s.tr,c={...Object.fromEntries(Object.entries(n).map((([t,n])=>[t,(...t)=>{const i=this.buildProps(l,e),s=n(...t)(i)
return r.push(s),c}]))),run:()=>(a||!e||l.getMeta("preventDispatch")||this.hasCustomState||o.dispatch(l),r.every((t=>!0===t)))}
return c}createCan(t){const{rawCommands:e,state:n}=this,i=!1,s=t||n.tr,o=this.buildProps(s,i),r=Object.fromEntries(Object.entries(e).map((([t,e])=>[t,(...t)=>e(...t)({...o,dispatch:void 0})])))
return{...r,chain:()=>this.createChain(s,i)}}buildProps(t,e=!0){const{rawCommands:n,editor:i,state:s}=this,{view:o}=i,r={tr:t,editor:i,view:o,state:$_({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map((([t,e])=>[t,(...t)=>e(...t)(r)])))}}
return r}}class E_{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t]
return n&&n.forEach((t=>t.apply(this,e))),this}off(t,e){const n=this.callbacks[t]
return n&&(e?this.callbacks[t]=n.filter((t=>t!==e)):delete this.callbacks[t]),this}once(t,e){const n=(...i)=>{this.off(t,n),e.apply(this,i)}
return this.on(t,n)}removeAllListeners(){this.callbacks={}}}function A_(t,e,n){if(void 0===t.config[e]&&t.parent)return A_(t.parent,e,n)
if("function"==typeof t.config[e]){return t.config[e].bind({...n,parent:t.parent?A_(t.parent,e,n):null})}return t.config[e]}function T_(t){return{baseExtensions:t.filter((t=>"extension"===t.type)),nodeExtensions:t.filter((t=>"node"===t.type)),markExtensions:t.filter((t=>"mark"===t.type))}}function O_(t){const e=[],{nodeExtensions:n,markExtensions:i}=T_(t),s=[...n,...i],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1}
return t.forEach((t=>{const n=A_(t,"addGlobalAttributes",{name:t.name,options:t.options,storage:t.storage,extensions:s})
if(!n)return
n().forEach((t=>{t.types.forEach((n=>{Object.entries(t.attributes).forEach((([t,i])=>{e.push({type:n,name:t,attribute:{...o,...i}})}))}))}))})),s.forEach((t=>{const n={name:t.name,options:t.options,storage:t.storage},i=A_(t,"addAttributes",n)
if(!i)return
const s=i()
Object.entries(s).forEach((([n,i])=>{const s={...o,...i}
"function"==typeof(null==s?void 0:s.default)&&(s.default=s.default()),(null==s?void 0:s.isRequired)&&void 0===(null==s?void 0:s.default)&&delete s.default,e.push({type:t.name,name:n,attribute:s})}))})),e}function R_(t,e){if("string"==typeof t){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`)
return e.nodes[t]}return t}function F_(...t){return t.filter((t=>!!t)).reduce(((t,e)=>{const n={...t}
return Object.entries(e).forEach((([t,e])=>{if(n[t])if("class"===t){const i=e?String(e).split(" "):[],s=n[t]?n[t].split(" "):[],o=i.filter((t=>!s.includes(t)))
n[t]=[...s,...o].join(" ")}else if("style"===t){const i=e?e.split(";").map((t=>t.trim())).filter(Boolean):[],s=n[t]?n[t].split(";").map((t=>t.trim())).filter(Boolean):[],o=new Map
s.forEach((t=>{const[e,n]=t.split(":").map((t=>t.trim()))
o.set(e,n)})),i.forEach((t=>{const[e,n]=t.split(":").map((t=>t.trim()))
o.set(e,n)})),n[t]=Array.from(o.entries()).map((([t,e])=>`${t}: ${e}`)).join("; ")}else n[t]=e
else n[t]=e})),n}),{})}function N_(t,e){return e.filter((e=>e.type===t.type.name)).filter((t=>t.attribute.rendered)).map((e=>e.attribute.renderHTML?e.attribute.renderHTML(t.attrs)||{}:{[e.name]:t.attrs[e.name]})).reduce(((t,e)=>F_(t,e)),{})}function L_(t){return"function"==typeof t}function B_(t,e=void 0,...n){return L_(t)?e?t.bind(e)(...n):t(...n):t}function P_(t,e){return"style"in t?t:{...t,getAttrs:n=>{const i=t.getAttrs?t.getAttrs(n):t.attrs
if(!1===i)return!1
const s=e.reduce(((t,e)=>{const i=e.attribute.parseHTML?e.attribute.parseHTML(n):function(t){return"string"!=typeof t?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):"true"===t||"false"!==t&&t}(n.getAttribute(e.name))
return null==i?t:{...t,[e.name]:i}}),{})
return{...i,...s}}}}function z_(t){return Object.fromEntries(Object.entries(t).filter((([t,e])=>("attrs"!==t||!function(t={}){return 0===Object.keys(t).length&&t.constructor===Object}(e))&&null!=e)))}function V_(t,e){return e.nodes[t]||e.marks[t]||null}function H_(t,e){return Array.isArray(e)?e.some((e=>("string"==typeof e?e:e.name)===t.name)):e}function U_(t,e){const n=gw.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div")
return i.appendChild(n),i.innerHTML}const q_=(t,e=500)=>{let n=""
const i=t.parentOffset
return t.parent.nodesBetween(Math.max(0,i-e),i,((t,e,s,o)=>{var r,a
const l=(null===(a=(r=t.type.spec).toText)||void 0===a?void 0:a.call(r,{node:t,pos:e,parent:s,index:o}))||t.textContent||"%leaf%"
n+=t.isAtom&&!t.isText?l:l.slice(0,Math.max(0,i-e))})),n}
function j_(t){return"[object RegExp]"===Object.prototype.toString.call(t)}class W_{constructor(t){this.find=t.find,this.handler=t.handler}}const G_=(t,e)=>{if(j_(e))return e.exec(t)
const n=e(t)
if(!n)return null
const i=[n.text]
return i.index=n.index,i.input=t,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i}
function Z_(t){var e
const{editor:n,from:i,to:s,text:o,rules:r,plugin:a}=t,{view:l}=n
if(l.composing)return!1
const c=l.state.doc.resolve(i)
if(c.parent.type.spec.code||(null===(e=c.nodeBefore||c.nodeAfter)||void 0===e?void 0:e.marks.find((t=>t.type.spec.code))))return!1
let d=!1
const h=q_(c)+o
return r.forEach((t=>{if(d)return
const e=G_(h,t.find)
if(!e)return
const r=l.state.tr,c=$_({state:l.state,transaction:r}),u={from:i-(e[0].length-o.length),to:s},{commands:p,chain:f,can:m}=new D_({editor:n,state:c})
null!==t.handler({state:c,range:u,match:e,commands:p,chain:f,can:m})&&r.steps.length&&(r.setMeta(a,{transform:r,from:i,to:s,text:o}),l.dispatch(r),d=!0)})),d}function K_(t){const{editor:e,rules:n}=t,i=new Dx({state:{init:()=>null,apply(t,s,o){const r=t.getMeta(i)
if(r)return r
const a=t.getMeta("applyInputRules")
return!!a&&setTimeout((()=>{let{text:t}=a
"string"==typeof t||(t=U_(my.from(t),o.schema))
const{from:s}=a,r=s+t.length
Z_({editor:e,from:s,to:r,text:t,rules:n,plugin:i})})),t.selectionSet||t.docChanged?null:s}},props:{handleTextInput:(t,s,o,r)=>Z_({editor:e,from:s,to:o,text:r,rules:n,plugin:i}),handleDOMEvents:{compositionend:t=>(setTimeout((()=>{const{$cursor:s}=t.state.selection
s&&Z_({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:i})})),!1)},handleKeyDown(t,s){if("Enter"!==s.key)return!1
const{$cursor:o}=t.state.selection
return!!o&&Z_({editor:e,from:o.pos,to:o.pos,text:"\n",rules:n,plugin:i})}},isInputRules:!0})
return i}function Y_(t){return"Object"===function(t){return Object.prototype.toString.call(t).slice(8,-1)}(t)&&(t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype)}function X_(t,e){const n={...t}
return Y_(t)&&Y_(e)&&Object.keys(e).forEach((i=>{Y_(e[i])&&Y_(t[i])?n[i]=X_(t[i],e[i]):n[i]=e[i]})),n}class J_{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=B_(A_(this,"addOptions",{name:this.name}))),this.storage=B_(A_(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new J_(t)}configure(t={}){const e=this.extend({...this.config,addOptions:()=>X_(this.options,t)})
return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new J_(t)
return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=B_(A_(e,"addOptions",{name:e.name})),e.storage=B_(A_(e,"addStorage",{name:e.name,options:e.options})),e}static handleExit({editor:t,mark:e}){const{tr:n}=t.state,i=t.state.selection.$from
if(i.pos===i.end()){const s=i.marks()
if(!!!s.find((t=>(null==t?void 0:t.type.name)===e.name)))return!1
const o=s.find((t=>(null==t?void 0:t.type.name)===e.name))
return o&&n.removeStoredMark(o),n.insertText(" ",i.pos),t.view.dispatch(n),!0}return!1}}class Q_{constructor(t){this.find=t.find,this.handler=t.handler}}const tI=(t,e,n)=>{if(j_(e))return[...t.matchAll(e)]
const i=e(t,n)
return i?i.map((e=>{const n=[e.text]
return n.index=e.index,n.input=t,n.data=e.data,e.replaceWith&&(e.text.includes(e.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(e.replaceWith)),n})):[]}
let eI=null
function nI(t){const{editor:e,rules:n}=t
let i,s=null,o=!1,r=!1,a="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null
try{i="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{i=null}const l=({state:t,from:n,to:s,rule:o,pasteEvt:r})=>{const l=t.tr,c=$_({state:t,transaction:l}),d=function(t){const{editor:e,state:n,from:i,to:s,rule:o,pasteEvent:r,dropEvent:a}=t,{commands:l,chain:c,can:d}=new D_({editor:e,state:n}),h=[]
return n.doc.nodesBetween(i,s,((t,e)=>{if(!t.isTextblock||t.type.spec.code)return
const u=Math.max(i,e),p=Math.min(s,e+t.content.size),f=t.textBetween(u-e,p-e,void 0,"")
tI(f,o.find,r).forEach((t=>{if(void 0===t.index)return
const e=u+t.index+1,i=e+t[0].length,s={from:n.tr.mapping.map(e),to:n.tr.mapping.map(i)},p=o.handler({state:n,range:s,match:t,commands:l,chain:c,can:d,pasteEvent:r,dropEvent:a})
h.push(p)}))})),h.every((t=>null!==t))}({editor:e,state:c,from:Math.max(n-1,0),to:s.b-1,rule:o,pasteEvent:r,dropEvent:i})
if(d&&l.steps.length){try{i="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{i=null}return a="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,l}},c=n.map((t=>new Dx({view(t){const n=n=>{var i
s=(null===(i=t.dom.parentElement)||void 0===i?void 0:i.contains(n.target))?t.dom.parentElement:null,s&&(eI=e)},i=()=>{eI&&(eI=null)}
return window.addEventListener("dragstart",n),window.addEventListener("dragend",i),{destroy(){window.removeEventListener("dragstart",n),window.removeEventListener("dragend",i)}}},props:{handleDOMEvents:{drop:(t,e)=>{if(r=s===t.dom.parentElement,i=e,!r){const t=eI
t&&setTimeout((()=>{const e=t.state.selection
e&&t.commands.deleteRange({from:e.from,to:e.to})}),10)}return!1},paste:(t,e)=>{var n
const i=null===(n=e.clipboardData)||void 0===n?void 0:n.getData("text/html")
return a=e,o=!!(null==i?void 0:i.includes("data-pm-slice")),!1}}},appendTransaction:(e,n,i)=>{const s=e[0],c="paste"===s.getMeta("uiEvent")&&!o,d="drop"===s.getMeta("uiEvent")&&!r,h=s.getMeta("applyPasteRules"),u=!!h
if(!c&&!d&&!u)return
if(u){let{text:e}=h
"string"==typeof e||(e=U_(my.from(e),i.schema))
const{from:n}=h,s=n+e.length,o=(t=>{var e
const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer})
return null===(e=n.clipboardData)||void 0===e||e.setData("text/html",t),n})(e)
return l({rule:t,state:i,from:n,to:{b:s},pasteEvt:o})}const p=n.doc.content.findDiffStart(i.doc.content),f=n.doc.content.findDiffEnd(i.doc.content)
return"number"==typeof p&&f&&p!==f.b?l({rule:t,state:i,from:p,to:f,pasteEvt:a}):void 0}})))
return c}class iI{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=iI.resolve(t),this.schema=function(t,e){var n
const i=O_(t),{nodeExtensions:s,markExtensions:o}=T_(t),r=null===(n=s.find((t=>A_(t,"topNode"))))||void 0===n?void 0:n.name,a=Object.fromEntries(s.map((n=>{const s=i.filter((t=>t.type===n.name)),o={name:n.name,options:n.options,storage:n.storage,editor:e},r=z_({...t.reduce(((t,e)=>{const i=A_(e,"extendNodeSchema",o)
return{...t,...i?i(n):{}}}),{}),content:B_(A_(n,"content",o)),marks:B_(A_(n,"marks",o)),group:B_(A_(n,"group",o)),inline:B_(A_(n,"inline",o)),atom:B_(A_(n,"atom",o)),selectable:B_(A_(n,"selectable",o)),draggable:B_(A_(n,"draggable",o)),code:B_(A_(n,"code",o)),whitespace:B_(A_(n,"whitespace",o)),linebreakReplacement:B_(A_(n,"linebreakReplacement",o)),defining:B_(A_(n,"defining",o)),isolating:B_(A_(n,"isolating",o)),attrs:Object.fromEntries(s.map((t=>{var e
return[t.name,{default:null===(e=null==t?void 0:t.attribute)||void 0===e?void 0:e.default}]})))}),a=B_(A_(n,"parseHTML",o))
a&&(r.parseDOM=a.map((t=>P_(t,s))))
const l=A_(n,"renderHTML",o)
l&&(r.toDOM=t=>l({node:t,HTMLAttributes:N_(t,s)}))
const c=A_(n,"renderText",o)
return c&&(r.toText=c),[n.name,r]}))),l=Object.fromEntries(o.map((n=>{const s=i.filter((t=>t.type===n.name)),o={name:n.name,options:n.options,storage:n.storage,editor:e},r=z_({...t.reduce(((t,e)=>{const i=A_(e,"extendMarkSchema",o)
return{...t,...i?i(n):{}}}),{}),inclusive:B_(A_(n,"inclusive",o)),excludes:B_(A_(n,"excludes",o)),group:B_(A_(n,"group",o)),spanning:B_(A_(n,"spanning",o)),code:B_(A_(n,"code",o)),attrs:Object.fromEntries(s.map((t=>{var e
return[t.name,{default:null===(e=null==t?void 0:t.attribute)||void 0===e?void 0:e.default}]})))}),a=B_(A_(n,"parseHTML",o))
a&&(r.parseDOM=a.map((t=>P_(t,s))))
const l=A_(n,"renderHTML",o)
return l&&(r.toDOM=t=>l({mark:t,HTMLAttributes:N_(t,s)})),[n.name,r]})))
return new sw({topNode:r,nodes:a,marks:l})}(this.extensions,e),this.setupExtensions()}static resolve(t){const e=iI.sort(iI.flatten(t)),n=function(t){const e=t.filter(((e,n)=>t.indexOf(e)!==n))
return Array.from(new Set(e))}(e.map((t=>t.name)))
return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map((t=>`'${t}'`)).join(", ")}]. This can lead to issues.`),e}static flatten(t){return t.map((t=>{const e=A_(t,"addExtensions",{name:t.name,options:t.options,storage:t.storage})
return e?[t,...this.flatten(e())]:t})).flat(10)}static sort(t){return t.sort(((t,e)=>{const n=A_(t,"priority")||100,i=A_(e,"priority")||100
return n>i?-1:n<i?1:0}))}get commands(){return this.extensions.reduce(((t,e)=>{const n=A_(e,"addCommands",{name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:V_(e.name,this.schema)})
return n?{...t,...n()}:t}),{})}get plugins(){const{editor:t}=this,e=iI.sort([...this.extensions].reverse()),n=[],i=[],s=e.map((e=>{const s={name:e.name,options:e.options,storage:e.storage,editor:t,type:V_(e.name,this.schema)},o=[],r=A_(e,"addKeyboardShortcuts",s)
let a={}
if("mark"===e.type&&A_(e,"exitable",s)&&(a.ArrowRight=()=>J_.handleExit({editor:t,mark:e})),r){const e=Object.fromEntries(Object.entries(r()).map((([e,n])=>[e,()=>n({editor:t})])))
a={...a,...e}}const l=new Dx({props:{handleKeyDown:i_(a)}})
o.push(l)
const c=A_(e,"addInputRules",s)
H_(e,t.options.enableInputRules)&&c&&n.push(...c())
const d=A_(e,"addPasteRules",s)
H_(e,t.options.enablePasteRules)&&d&&i.push(...d())
const h=A_(e,"addProseMirrorPlugins",s)
if(h){const t=h()
o.push(...t)}return o})).flat()
return[K_({editor:t,rules:n}),...nI({editor:t,rules:i}),...s]}get attributes(){return O_(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=T_(this.extensions)
return Object.fromEntries(e.filter((t=>!!A_(t,"addNodeView"))).map((e=>{const n=this.attributes.filter((t=>t.type===e.name)),i={name:e.name,options:e.options,storage:e.storage,editor:t,type:R_(e.name,this.schema)},s=A_(e,"addNodeView",i)
if(!s)return[]
return[e.name,(i,o,r,a,l)=>{const c=N_(i,n)
return s()({node:i,view:o,getPos:r,decorations:a,innerDecorations:l,editor:t,extension:e,HTMLAttributes:c})}]})))}setupExtensions(){this.extensions.forEach((t=>{var e
this.editor.extensionStorage[t.name]=t.storage
const n={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:V_(t.name,this.schema)}
if("mark"===t.type){(null===(e=B_(A_(t,"keepOnSplit",n)))||void 0===e||e)&&this.splittableMarks.push(t.name)}const i=A_(t,"onBeforeCreate",n),s=A_(t,"onCreate",n),o=A_(t,"onUpdate",n),r=A_(t,"onSelectionUpdate",n),a=A_(t,"onTransaction",n),l=A_(t,"onFocus",n),c=A_(t,"onBlur",n),d=A_(t,"onDestroy",n)
i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),r&&this.editor.on("selectionUpdate",r),a&&this.editor.on("transaction",a),l&&this.editor.on("focus",l),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)}))}}class sI{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=B_(A_(this,"addOptions",{name:this.name}))),this.storage=B_(A_(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new sI(t)}configure(t={}){const e=this.extend({...this.config,addOptions:()=>X_(this.options,t)})
return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new sI({...this.config,...t})
return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=B_(A_(e,"addOptions",{name:e.name})),e.storage=B_(A_(e,"addStorage",{name:e.name,options:e.options})),e}}function oI(t,e,n){const{from:i,to:s}=e,{blockSeparator:o="\n\n",textSerializers:r={}}=n||{}
let a=""
return t.nodesBetween(i,s,((t,n,l,c)=>{var d
t.isBlock&&n>i&&(a+=o)
const h=null==r?void 0:r[t.type.name]
if(h)return l&&(a+=h({node:t,pos:n,parent:l,index:c,range:e})),!1
t.isText&&(a+=null===(d=null==t?void 0:t.text)||void 0===d?void 0:d.slice(Math.max(i,n)-n,s-n))})),a}function rI(t){return Object.fromEntries(Object.entries(t.nodes).filter((([,t])=>t.spec.toText)).map((([t,e])=>[t,e.spec.toText])))}const aI=sI.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new Dx({key:new Tx("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:i,selection:s}=e,{ranges:o}=s,r=Math.min(...o.map((t=>t.$from.pos))),a=Math.max(...o.map((t=>t.$to.pos))),l=rI(n)
return oI(i,{from:r,to:a},{...void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}})
function lI(t,e,n={strict:!0}){const i=Object.keys(e)
return!i.length||i.every((i=>n.strict?e[i]===t[i]:j_(e[i])?e[i].test(t[i]):e[i]===t[i]))}function cI(t,e,n={}){return t.find((t=>t.type===e&&lI(Object.fromEntries(Object.keys(n).map((e=>[e,t.attrs[e]]))),n)))}function dI(t,e,n={}){return!!cI(t,e,n)}function hI(t,e,n){var i
if(!t||!e)return
let s=t.parent.childAfter(t.parentOffset)
if(s.node&&s.node.marks.some((t=>t.type===e))||(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some((t=>t.type===e)))return
n=n||(null===(i=s.node.marks[0])||void 0===i?void 0:i.attrs)
if(!cI([...s.node.marks],e,n))return
let o=s.index,r=t.start()+s.offset,a=o+1,l=r+s.node.nodeSize
for(;o>0&&dI([...t.parent.child(o-1).marks],e,n);)o-=1,r-=t.parent.child(o).nodeSize
for(;a<t.parent.childCount&&dI([...t.parent.child(a).marks],e,n);)l+=t.parent.child(a).nodeSize,a+=1
return{from:r,to:l}}function uI(t,e){if("string"==typeof t){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`)
return e.marks[t]}return t}function pI(t){return t instanceof fx}function fI(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function mI(t,e=null){if(!e)return null
const n=dx.atStart(t),i=dx.atEnd(t)
if("start"===e||!0===e)return n
if("end"===e)return i
const s=n.from,o=i.to
return"all"===e?fx.create(t,fI(0,s,o),fI(t.content.size,s,o)):fx.create(t,fI(e,s,o),fI(e,s,o))}function gI(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const vI=t=>{const e=t.childNodes
for(let n=e.length-1;n>=0;n-=1){const i=e[n]
3===i.nodeType&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?t.removeChild(i):1===i.nodeType&&vI(i)}return t}
function bI(t){const e=`<body>${t}</body>`,n=(new window.DOMParser).parseFromString(e,"text/html").body
return vI(n)}function yI(t,e,n){if(t instanceof Py||t instanceof my)return t
n={slice:!0,parseOptions:{},...n}
const i="string"==typeof t
if("object"==typeof t&&null!==t)try{if(Array.isArray(t)&&t.length>0)return my.fromArray(t.map((t=>e.nodeFromJSON(t))))
const i=e.nodeFromJSON(t)
return n.errorOnInvalidContent&&i.check(),i}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i})
return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),yI("",e,n)}if(i){if(n.errorOnInvalidContent){let i=!1,s=""
const o=new sw({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:t=>(i=!0,s="string"==typeof t?t:t.outerHTML,null)}]}})})
if(n.slice?rw.fromSchema(o).parseSlice(bI(t),n.parseOptions):rw.fromSchema(o).parse(bI(t),n.parseOptions),n.errorOnInvalidContent&&i)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${s}`)})}const i=rw.fromSchema(e)
return n.slice?i.parseSlice(bI(t),n.parseOptions).content:i.parse(bI(t),n.parseOptions)}return yI("",e,n)}function wI(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}function xI(t,e,n={}){const{from:i,to:s,empty:o}=t.selection,r=e?R_(e,t.schema):null,a=[]
t.doc.nodesBetween(i,s,((t,e)=>{if(t.isText)return
const n=Math.max(i,e),o=Math.min(s,e+t.nodeSize)
a.push({node:t,from:n,to:o})}))
const l=s-i,c=a.filter((t=>!r||r.name===t.node.type.name)).filter((t=>lI(t.node.attrs,n,{strict:!1})))
if(o)return!!c.length
const d=c.reduce(((t,e)=>t+e.to-e.from),0)
return d>=l}function CI(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function kI(t,e){const n="string"==typeof e?[e]:e
return Object.keys(t).reduce(((e,i)=>(n.includes(i)||(e[i]=t[i]),e)),{})}function SI(t,e,n={},i={}){return yI(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}function _I(t,e){const n=uI(e,t.schema),{from:i,to:s,empty:o}=t.selection,r=[]
o?(t.storedMarks&&r.push(...t.storedMarks),r.push(...t.selection.$head.marks())):t.doc.nodesBetween(i,s,(t=>{r.push(...t.marks)}))
const a=r.find((t=>t.type.name===n.name))
return a?{...a.attrs}:{}}function II(t){return e=>function(t,e){for(let n=t.depth;n>0;n-=1){const i=t.node(n)
if(e(i))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:i}}}(e.$from,t)}function MI(t,e){const n=CI("string"==typeof e?e:e.name,t.schema)
return"node"===n?function(t,e){const n=R_(e,t.schema),{from:i,to:s}=t.selection,o=[]
t.doc.nodesBetween(i,s,(t=>{o.push(t)}))
const r=o.reverse().find((t=>t.type.name===n.name))
return r?{...r.attrs}:{}}(t,e):"mark"===n?_I(t,e):{}}function $I(t){const e=function(t,e=JSON.stringify){const n={}
return t.filter((t=>{const i=e(t)
return!Object.prototype.hasOwnProperty.call(n,i)&&(n[i]=!0)}))}(t)
return 1===e.length?e:e.filter(((t,n)=>{const i=e.filter(((t,e)=>e!==n))
return!i.some((e=>t.oldRange.from>=e.oldRange.from&&t.oldRange.to<=e.oldRange.to&&t.newRange.from>=e.newRange.from&&t.newRange.to<=e.newRange.to))}))}function DI(t,e,n){const i=[]
return t===e?n.resolve(t).marks().forEach((e=>{const s=hI(n.resolve(t),e.type)
s&&i.push({mark:e,...s})})):n.nodesBetween(t,e,((t,e)=>{t&&void 0!==(null==t?void 0:t.nodeSize)&&i.push(...t.marks.map((n=>({from:e,to:e+t.nodeSize,mark:n}))))})),i}function EI(t,e,n){return Object.fromEntries(Object.entries(n).filter((([n])=>{const i=t.find((t=>t.type===e&&t.name===n))
return!!i&&i.attribute.keepOnSplit})))}function AI(t,e,n={}){const{empty:i,ranges:s}=t.selection,o=e?uI(e,t.schema):null
if(i)return!!(t.storedMarks||t.selection.$from.marks()).filter((t=>!o||o.name===t.type.name)).find((t=>lI(t.attrs,n,{strict:!1})))
let r=0
const a=[]
if(s.forEach((({$from:e,$to:n})=>{const i=e.pos,s=n.pos
t.doc.nodesBetween(i,s,((t,e)=>{if(!t.isText&&!t.marks.length)return
const n=Math.max(i,e),o=Math.min(s,e+t.nodeSize)
r+=o-n,a.push(...t.marks.map((t=>({mark:t,from:n,to:o}))))}))})),0===r)return!1
const l=a.filter((t=>!o||o.name===t.mark.type.name)).filter((t=>lI(t.mark.attrs,n,{strict:!1}))).reduce(((t,e)=>t+e.to-e.from),0),c=a.filter((t=>!o||t.mark.type!==o&&t.mark.type.excludes(o))).reduce(((t,e)=>t+e.to-e.from),0)
return(l>0?l+c:l)>=r}function TI(t,e){const{nodeExtensions:n}=T_(e),i=n.find((e=>e.name===t))
if(!i)return!1
const s=B_(A_(i,"group",{name:i.name,options:i.options,storage:i.storage}))
return"string"==typeof s&&s.split(" ").includes("list")}function OI(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var i
if(n){if("hardBreak"===t.type.name)return!0
if(t.isText)return/^\s*$/m.test(null!==(i=t.text)&&void 0!==i?i:"")}if(t.isText)return!t.text
if(t.isAtom||t.isLeaf)return!1
if(0===t.content.childCount)return!0
if(e){let i=!0
return t.content.forEach((t=>{!1!==i&&(OI(t,{ignoreWhitespace:n,checkChildren:e})||(i=!1))})),i}return!1}function RI(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks()
if(n){const i=n.filter((t=>null==e?void 0:e.includes(t.type.name)))
t.tr.ensureMarks(i)}}const FI=(t,e)=>{const n=II((t=>t.type===e))(t.selection)
if(!n)return!0
const i=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth)
if(void 0===i)return!0
const s=t.doc.nodeAt(i)
return n.node.type!==(null==s?void 0:s.type)||!Ww(t.doc,n.pos)||(t.join(n.pos),!0)},NI=(t,e)=>{const n=II((t=>t.type===e))(t.selection)
if(!n)return!0
const i=t.doc.resolve(n.start).after(n.depth)
if(void 0===i)return!0
const s=t.doc.nodeAt(i)
return n.node.type!==(null==s?void 0:s.type)||!Ww(t.doc,i)||(t.join(i),!0)}
var LI=Object.freeze({__proto__:null,blur:()=>({editor:t,view:e})=>(requestAnimationFrame((()=>{var n
t.isDestroyed||(e.dom.blur(),null===(n=null===window||void 0===window?void 0:window.getSelection())||void 0===n||n.removeAllRanges())})),!0),clearContent:(t=!1)=>({commands:e})=>e.setContent("",t),clearNodes:()=>({state:t,tr:e,dispatch:n})=>{const{selection:i}=e,{ranges:s}=i
return!n||(s.forEach((({$from:n,$to:i})=>{t.doc.nodesBetween(n.pos,i.pos,((t,n)=>{if(t.type.isText)return
const{doc:i,mapping:s}=e,o=i.resolve(s.map(n)),r=i.resolve(s.map(n+t.nodeSize)),a=o.blockRange(r)
if(!a)return
const l=zw(a)
if(t.type.isTextblock){const{defaultType:t}=o.parent.contentMatchAt(o.index())
e.setNodeMarkup(a.start,t)}(l||0===l)&&e.lift(a,l)}))})),!0)},command:t=>e=>t(e),createParagraphNear:()=>({state:t,dispatch:e})=>v_(t,e),cut:(t,e)=>({editor:n,tr:i})=>{const{state:s}=n,o=s.doc.slice(t.from,t.to)
i.deleteRange(t.from,t.to)
const r=i.mapping.map(e)
return i.insert(r,o.content),i.setSelection(new fx(i.doc.resolve(r-1))),!0},deleteCurrentNode:()=>({tr:t,dispatch:e})=>{const{selection:n}=t,i=n.$anchor.node()
if(i.content.size>0)return!1
const s=t.selection.$anchor
for(let n=s.depth;n>0;n-=1){if(s.node(n).type===i.type){if(e){const e=s.before(n),i=s.after(n)
t.delete(e,i).scrollIntoView()}return!0}}return!1},deleteNode:t=>({tr:e,state:n,dispatch:i})=>{const s=R_(t,n.schema),o=e.selection.$anchor
for(let t=o.depth;t>0;t-=1){if(o.node(t).type===s){if(i){const n=o.before(t),i=o.after(t)
e.delete(n,i).scrollIntoView()}return!0}}return!1},deleteRange:t=>({tr:e,dispatch:n})=>{const{from:i,to:s}=t
return n&&e.delete(i,s),!0},deleteSelection:()=>({state:t,dispatch:e})=>s_(t,e),enter:()=>({commands:t})=>t.keyboardShortcut("Enter"),exitCode:()=>({state:t,dispatch:e})=>((t,e)=>{let{$head:n,$anchor:i}=t.selection
if(!n.parent.type.spec.code||!n.sameParent(i))return!1
let s=n.node(-1),o=n.indexAfter(-1),r=g_(s.contentMatchAt(o))
if(!r||!s.canReplaceWith(o,o,r))return!1
if(e){let i=n.after(),s=t.tr.replaceWith(i,i,r.createAndFill())
s.setSelection(dx.near(s.doc.resolve(i),1)),e(s.scrollIntoView())}return!0})(t,e),extendMarkRange:(t,e={})=>({tr:n,state:i,dispatch:s})=>{const o=uI(t,i.schema),{doc:r,selection:a}=n,{$from:l,from:c,to:d}=a
if(s){const t=hI(l,o,e)
if(t&&t.from<=c&&t.to>=d){const e=fx.create(r,t.from,t.to)
n.setSelection(e)}}return!0},first:t=>e=>{const n="function"==typeof t?t(e):t
for(let t=0;t<n.length;t+=1)if(n[t](e))return!0
return!1},focus:(t=null,e={})=>({editor:n,view:i,tr:s,dispatch:o})=>{e={scrollIntoView:!0,...e}
const r=()=>{(gI()||"Android"===navigator.platform||/android/i.test(navigator.userAgent))&&i.dom.focus(),requestAnimationFrame((()=>{n.isDestroyed||(i.focus(),(null==e?void 0:e.scrollIntoView)&&n.commands.scrollIntoView())}))}
if(i.hasFocus()&&null===t||!1===t)return!0
if(o&&null===t&&!pI(n.state.selection))return r(),!0
const a=mI(s.doc,t)||n.state.selection,l=n.state.selection.eq(a)
return o&&(l||s.setSelection(a),l&&s.storedMarks&&s.setStoredMarks(s.storedMarks),r()),!0},forEach:(t,e)=>n=>t.every(((t,i)=>e(t,{...n,index:i}))),insertContent:(t,e)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),insertContentAt:(t,e,n)=>({tr:i,dispatch:s,editor:o})=>{var r
if(s){let s
n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n}
try{s=yI(e,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:null!==(r=n.errorOnInvalidContent)&&void 0!==r?r:o.options.enableContentCheck})}catch(t){return o.emit("contentError",{editor:o,error:t,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}}),!1}let{from:a,to:l}="number"==typeof t?{from:t,to:t}:{from:t.from,to:t.to},c=!0,d=!0
if(("type"in s?[s]:s).forEach((t=>{t.check(),c=!!c&&(t.isText&&0===t.marks.length),d=!!d&&t.isBlock})),a===l&&d){const{parent:t}=i.doc.resolve(a)
t.isTextblock&&!t.type.spec.code&&!t.childCount&&(a-=1,l+=1)}let h
if(c){if(Array.isArray(e))h=e.map((t=>t.text||"")).join("")
else if(e instanceof my){let t=""
e.forEach((e=>{e.text&&(t+=e.text)})),h=t}else h="object"==typeof e&&e&&e.text?e.text:e
i.insertText(h,a,l)}else h=s,i.replaceWith(a,l,h)
n.updateSelection&&function(t,e,n){const i=t.steps.length-1
if(i<e)return
const s=t.steps[i]
if(!(s instanceof Fw||s instanceof Nw))return
const o=t.mapping.maps[i]
let r=0
o.forEach(((t,e,n,i)=>{0===r&&(r=i)})),t.setSelection(dx.near(t.doc.resolve(r),n))}(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:a,text:h}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:a,text:h})}return!0},joinBackward:()=>({state:t,dispatch:e})=>r_(t,e),joinDown:()=>({state:t,dispatch:e})=>((t,e)=>{let n,i=t.selection
if(i instanceof gx){if(i.node.isTextblock||!Ww(t.doc,i.to))return!1
n=i.to}else if(n=Zw(t.doc,i.to,1),null==n)return!1
return e&&e(t.tr.join(n).scrollIntoView()),!0})(t,e),joinForward:()=>({state:t,dispatch:e})=>u_(t,e),joinItemBackward:()=>({state:t,dispatch:e,tr:n})=>{try{const i=Zw(t.doc,t.selection.$from.pos,-1)
return null!=i&&(n.join(i,2),e&&e(n),!0)}catch{return!1}},joinItemForward:()=>({state:t,dispatch:e,tr:n})=>{try{const i=Zw(t.doc,t.selection.$from.pos,1)
return null!=i&&(n.join(i,2),e&&e(n),!0)}catch{return!1}},joinTextblockBackward:()=>({state:t,dispatch:e})=>((t,e,n)=>{let i=o_(t,n)
if(!i)return!1
let s=d_(i)
return!!s&&a_(t,s,e)})(t,e),joinTextblockForward:()=>({state:t,dispatch:e})=>((t,e,n)=>{let i=h_(t,n)
if(!i)return!1
let s=f_(i)
return!!s&&a_(t,s,e)})(t,e),joinUp:()=>({state:t,dispatch:e})=>((t,e)=>{let n,i=t.selection,s=i instanceof gx
if(s){if(i.node.isTextblock||!Ww(t.doc,i.from))return!1
n=i.from}else if(n=Zw(t.doc,i.from,-1),null==n)return!1
if(e){let i=t.tr.join(n)
s&&i.setSelection(gx.create(i.doc,n-t.doc.resolve(n).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0})(t,e),keyboardShortcut:t=>({editor:e,view:n,tr:i,dispatch:s})=>{const o=function(t){const e=t.split(/-(?!$)/)
let n,i,s,o,r=e[e.length-1]
"Space"===r&&(r=" ")
for(let t=0;t<e.length-1;t+=1){const r=e[t]
if(/^(cmd|meta|m)$/i.test(r))o=!0
else if(/^a(lt)?$/i.test(r))n=!0
else if(/^(c|ctrl|control)$/i.test(r))i=!0
else if(/^s(hift)?$/i.test(r))s=!0
else{if(!/^mod$/i.test(r))throw new Error(`Unrecognized modifier name: ${r}`)
gI()||wI()?o=!0:i=!0}}return n&&(r=`Alt-${r}`),i&&(r=`Ctrl-${r}`),o&&(r=`Meta-${r}`),s&&(r=`Shift-${r}`),r}(t).split(/-(?!$)/),r=o.find((t=>!["Alt","Ctrl","Meta","Shift"].includes(t))),a=new KeyboardEvent("keydown",{key:"Space"===r?" ":r,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction((()=>{n.someProp("handleKeyDown",(t=>t(n,a)))}))
return null==l||l.steps.forEach((t=>{const e=t.map(i.mapping)
e&&s&&i.maybeStep(e)})),!0},lift:(t,e={})=>({state:n,dispatch:i})=>!!xI(n,R_(t,n.schema),e)&&((t,e)=>{let{$from:n,$to:i}=t.selection,s=n.blockRange(i),o=s&&zw(s)
return null!=o&&(e&&e(t.tr.lift(s,o).scrollIntoView()),!0)})(n,i),liftEmptyBlock:()=>({state:t,dispatch:e})=>b_(t,e),liftListItem:t=>({state:e,dispatch:n})=>M_(R_(t,e.schema))(e,n),newlineInCode:()=>({state:t,dispatch:e})=>m_(t,e),resetAttributes:(t,e)=>({tr:n,state:i,dispatch:s})=>{let o=null,r=null
const a=CI("string"==typeof t?t:t.name,i.schema)
return!!a&&("node"===a&&(o=R_(t,i.schema)),"mark"===a&&(r=uI(t,i.schema)),s&&n.selection.ranges.forEach((t=>{i.doc.nodesBetween(t.$from.pos,t.$to.pos,((t,i)=>{o&&o===t.type&&n.setNodeMarkup(i,void 0,kI(t.attrs,e)),r&&t.marks.length&&t.marks.forEach((s=>{r===s.type&&n.addMark(i,i+t.nodeSize,r.create(kI(s.attrs,e)))}))}))})),!0)},scrollIntoView:()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),selectAll:()=>({tr:t,dispatch:e})=>{if(e){const e=new bx(t.doc)
t.setSelection(e)}return!0},selectNodeBackward:()=>({state:t,dispatch:e})=>c_(t,e),selectNodeForward:()=>({state:t,dispatch:e})=>p_(t,e),selectParentNode:()=>({state:t,dispatch:e})=>((t,e)=>{let n,{$from:i,to:s}=t.selection,o=i.sharedDepth(s)
return 0!=o&&(n=i.before(o),e&&e(t.tr.setSelection(gx.create(t.doc,n))),!0)})(t,e),selectTextblockEnd:()=>({state:t,dispatch:e})=>k_(t,e),selectTextblockStart:()=>({state:t,dispatch:e})=>C_(t,e),setContent:(t,e=!1,n={},i={})=>({editor:s,tr:o,dispatch:r,commands:a})=>{var l,c
const{doc:d}=o
if("full"!==n.preserveWhitespace){const a=SI(t,s.schema,n,{errorOnInvalidContent:null!==(l=i.errorOnInvalidContent)&&void 0!==l?l:s.options.enableContentCheck})
return r&&o.replaceWith(0,d.content.size,a).setMeta("preventUpdate",!e),!0}return r&&o.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:d.content.size},t,{parseOptions:n,errorOnInvalidContent:null!==(c=i.errorOnInvalidContent)&&void 0!==c?c:s.options.enableContentCheck})},setMark:(t,e={})=>({tr:n,state:i,dispatch:s})=>{const{selection:o}=n,{empty:r,ranges:a}=o,l=uI(t,i.schema)
if(s)if(r){const t=_I(i,l)
n.addStoredMark(l.create({...t,...e}))}else a.forEach((t=>{const s=t.$from.pos,o=t.$to.pos
i.doc.nodesBetween(s,o,((t,i)=>{const r=Math.max(i,s),a=Math.min(i+t.nodeSize,o)
t.marks.find((t=>t.type===l))?t.marks.forEach((t=>{l===t.type&&n.addMark(r,a,l.create({...t.attrs,...e}))})):n.addMark(r,a,l.create(e))}))}))
return function(t,e,n){var i
const{selection:s}=e
let o=null
if(pI(s)&&(o=s.$cursor),o){const e=null!==(i=t.storedMarks)&&void 0!==i?i:o.marks()
return!!n.isInSet(e)||!e.some((t=>t.type.excludes(n)))}const{ranges:r}=s
return r.some((({$from:e,$to:i})=>{let s=0===e.depth&&t.doc.inlineContent&&t.doc.type.allowsMarkType(n)
return t.doc.nodesBetween(e.pos,i.pos,((t,e,i)=>{if(s)return!1
if(t.isInline){const e=!i||i.type.allowsMarkType(n),o=!!n.isInSet(t.marks)||!t.marks.some((t=>t.type.excludes(n)))
s=e&&o}return!s})),s}))}(i,n,l)},setMeta:(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),setNode:(t,e={})=>({state:n,dispatch:i,chain:s})=>{const o=R_(t,n.schema)
let r
return n.selection.$anchor.sameParent(n.selection.$head)&&(r=n.selection.$anchor.parent.attrs),o.isTextblock?s().command((({commands:t})=>!!S_(o,{...r,...e})(n)||t.clearNodes())).command((({state:t})=>S_(o,{...r,...e})(t,i))).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection:t=>({tr:e,dispatch:n})=>{if(n){const{doc:n}=e,i=fI(t,0,n.content.size),s=gx.create(n,i)
e.setSelection(s)}return!0},setTextSelection:t=>({tr:e,dispatch:n})=>{if(n){const{doc:n}=e,{from:i,to:s}="number"==typeof t?{from:t,to:t}:t,o=fx.atStart(n).from,r=fx.atEnd(n).to,a=fI(i,o,r),l=fI(s,o,r),c=fx.create(n,a,l)
e.setSelection(c)}return!0},sinkListItem:t=>({state:e,dispatch:n})=>{const i=R_(t,e.schema)
return(s=i,function(t,e){let{$from:n,$to:i}=t.selection,o=n.blockRange(i,(t=>t.childCount>0&&t.firstChild.type==s))
if(!o)return!1
let r=o.startIndex
if(0==r)return!1
let a=o.parent,l=a.child(r-1)
if(l.type!=s)return!1
if(e){let n=l.lastChild&&l.lastChild.type==a.type,i=my.from(n?s.create():null),r=new xy(my.from(s.create(null,my.from(a.type.create(null,i)))),n?3:1,0),c=o.start,d=o.end
e(t.tr.step(new Nw(c-(n?3:1),d,c,d,r,1,!0)).scrollIntoView())}return!0})(e,n)
var s},splitBlock:({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:i,editor:s})=>{const{selection:o,doc:r}=e,{$from:a,$to:l}=o,c=EI(s.extensionManager.attributes,a.node().type.name,a.node().attrs)
if(o instanceof gx&&o.node.isBlock)return!(!a.parentOffset||!jw(r,a.pos))&&(i&&(t&&RI(n,s.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0)
if(!a.parent.isBlock)return!1
const d=l.parentOffset===l.parent.content.size,h=0===a.depth?void 0:function(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e)
if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(a.node(-1).contentMatchAt(a.indexAfter(-1)))
let u=d&&h?[{type:h,attrs:c}]:void 0,p=jw(e.doc,e.mapping.map(a.pos),1,u)
if(u||p||!jw(e.doc,e.mapping.map(a.pos),1,h?[{type:h}]:void 0)||(p=!0,u=h?[{type:h,attrs:c}]:void 0),i){if(p&&(o instanceof fx&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,u),h&&!d&&!a.parentOffset&&a.parent.type!==h)){const t=e.mapping.map(a.before()),n=e.doc.resolve(t)
a.node(-1).canReplaceWith(n.index(),n.index()+1,h)&&e.setNodeMarkup(e.mapping.map(a.before()),h)}t&&RI(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return p},splitListItem:(t,e={})=>({tr:n,state:i,dispatch:s,editor:o})=>{var r
const a=R_(t,i.schema),{$from:l,$to:c}=i.selection,d=i.selection.node
if(d&&d.isBlock||l.depth<2||!l.sameParent(c))return!1
const h=l.node(-1)
if(h.type!==a)return!1
const u=o.extensionManager.attributes
if(0===l.parent.content.size&&l.node(-1).childCount===l.indexAfter(-1)){if(2===l.depth||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1
if(s){let t=my.empty
const i=l.index(-1)?1:l.index(-2)?2:3
for(let e=l.depth-i;e>=l.depth-3;e-=1)t=my.from(l.node(e).copy(t))
const s=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,o={...EI(u,l.node().type.name,l.node().attrs),...e},c=(null===(r=a.contentMatch.defaultType)||void 0===r?void 0:r.createAndFill(o))||void 0
t=t.append(my.from(a.createAndFill(null,c)||void 0))
const d=l.before(l.depth-(i-1))
n.replace(d,l.after(-s),new xy(t,4-i,0))
let h=-1
n.doc.nodesBetween(d,n.doc.content.size,((t,e)=>{if(h>-1)return!1
t.isTextblock&&0===t.content.size&&(h=e+1)})),h>-1&&n.setSelection(fx.near(n.doc.resolve(h))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?h.contentMatchAt(0).defaultType:null,f={...EI(u,h.type.name,h.attrs),...e},m={...EI(u,l.node().type.name,l.node().attrs),...e}
n.delete(l.pos,c.pos)
const g=p?[{type:a,attrs:f},{type:p,attrs:m}]:[{type:a,attrs:f}]
if(!jw(n.doc,l.pos,2))return!1
if(s){const{selection:t,storedMarks:e}=i,{splittableMarks:r}=o.extensionManager,a=e||t.$to.parentOffset&&t.$from.marks()
if(n.split(l.pos,2,g).scrollIntoView(),!a||!s)return!0
const c=a.filter((t=>r.includes(t.type.name)))
n.ensureMarks(c)}return!0},toggleList:(t,e,n,i={})=>({editor:s,tr:o,state:r,dispatch:a,chain:l,commands:c,can:d})=>{const{extensions:h,splittableMarks:u}=s.extensionManager,p=R_(t,r.schema),f=R_(e,r.schema),{selection:m,storedMarks:g}=r,{$from:v,$to:b}=m,y=v.blockRange(b),w=g||m.$to.parentOffset&&m.$from.marks()
if(!y)return!1
const x=II((t=>TI(t.type.name,h)))(m)
if(y.depth>=1&&x&&y.depth-x.depth<=1){if(x.node.type===p)return c.liftListItem(f)
if(TI(x.node.type.name,h)&&p.validContent(x.node.content)&&a)return l().command((()=>(o.setNodeMarkup(x.pos,p),!0))).command((()=>FI(o,p))).command((()=>NI(o,p))).run()}return n&&w&&a?l().command((()=>{const t=d().wrapInList(p,i),e=w.filter((t=>u.includes(t.type.name)))
return o.ensureMarks(e),!!t||c.clearNodes()})).wrapInList(p,i).command((()=>FI(o,p))).command((()=>NI(o,p))).run():l().command((()=>!!d().wrapInList(p,i)||c.clearNodes())).wrapInList(p,i).command((()=>FI(o,p))).command((()=>NI(o,p))).run()},toggleMark:(t,e={},n={})=>({state:i,commands:s})=>{const{extendEmptyMarkRange:o=!1}=n,r=uI(t,i.schema)
return AI(i,r,e)?s.unsetMark(r,{extendEmptyMarkRange:o}):s.setMark(r,e)},toggleNode:(t,e,n={})=>({state:i,commands:s})=>{const o=R_(t,i.schema),r=R_(e,i.schema),a=xI(i,o,n)
let l
return i.selection.$anchor.sameParent(i.selection.$head)&&(l=i.selection.$anchor.parent.attrs),a?s.setNode(r,l):s.setNode(o,{...l,...n})},toggleWrap:(t,e={})=>({state:n,commands:i})=>{const s=R_(t,n.schema)
return xI(n,s,e)?i.lift(s):i.wrapIn(s,e)},undoInputRule:()=>({state:t,dispatch:e})=>{const n=t.plugins
for(let i=0;i<n.length;i+=1){const s=n[i]
let o
if(s.spec.isInputRules&&(o=s.getState(t))){if(e){const e=t.tr,n=o.transform
for(let t=n.steps.length-1;t>=0;t-=1)e.step(n.steps[t].invert(n.docs[t]))
if(o.text){const n=e.doc.resolve(o.from).marks()
e.replaceWith(o.from,o.to,t.schema.text(o.text,n))}else e.delete(o.from,o.to)}return!0}}return!1},unsetAllMarks:()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:i,ranges:s}=n
return i||e&&s.forEach((e=>{t.removeMark(e.$from.pos,e.$to.pos)})),!0},unsetMark:(t,e={})=>({tr:n,state:i,dispatch:s})=>{var o
const{extendEmptyMarkRange:r=!1}=e,{selection:a}=n,l=uI(t,i.schema),{$from:c,empty:d,ranges:h}=a
if(!s)return!0
if(d&&r){let{from:t,to:e}=a
const i=null===(o=c.marks().find((t=>t.type===l)))||void 0===o?void 0:o.attrs,s=hI(c,l,i)
s&&(t=s.from,e=s.to),n.removeMark(t,e,l)}else h.forEach((t=>{n.removeMark(t.$from.pos,t.$to.pos,l)}))
return n.removeStoredMark(l),!0},updateAttributes:(t,e={})=>({tr:n,state:i,dispatch:s})=>{let o=null,r=null
const a=CI("string"==typeof t?t:t.name,i.schema)
return!!a&&("node"===a&&(o=R_(t,i.schema)),"mark"===a&&(r=uI(t,i.schema)),s&&n.selection.ranges.forEach((t=>{const s=t.$from.pos,a=t.$to.pos
let l,c,d,h
n.selection.empty?i.doc.nodesBetween(s,a,((t,e)=>{o&&o===t.type&&(d=Math.max(e,s),h=Math.min(e+t.nodeSize,a),l=e,c=t)})):i.doc.nodesBetween(s,a,((t,i)=>{i<s&&o&&o===t.type&&(d=Math.max(i,s),h=Math.min(i+t.nodeSize,a),l=i,c=t),i>=s&&i<=a&&(o&&o===t.type&&n.setNodeMarkup(i,void 0,{...t.attrs,...e}),r&&t.marks.length&&t.marks.forEach((o=>{if(r===o.type){const l=Math.max(i,s),c=Math.min(i+t.nodeSize,a)
n.addMark(l,c,r.create({...o.attrs,...e}))}})))})),c&&(void 0!==l&&n.setNodeMarkup(l,void 0,{...c.attrs,...e}),r&&c.marks.length&&c.marks.forEach((t=>{r===t.type&&n.addMark(d,h,r.create({...t.attrs,...e}))})))})),!0)},wrapIn:(t,e={})=>({state:n,dispatch:i})=>function(t,e=null){return function(n,i){let{$from:s,$to:o}=n.selection,r=s.blockRange(o),a=r&&Vw(r,t,e)
return!!a&&(i&&i(n.tr.wrap(r,a).scrollIntoView()),!0)}}(R_(t,n.schema),e)(n,i),wrapInList:(t,e={})=>({state:n,dispatch:i})=>I_(R_(t,n.schema),e)(n,i)})
const BI=sI.create({name:"commands",addCommands:()=>({...LI})}),PI=sI.create({name:"drop",addProseMirrorPlugins(){return[new Dx({key:new Tx("tiptapDrop"),props:{handleDrop:(t,e,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:i})}}})]}}),zI=sI.create({name:"editable",addProseMirrorPlugins(){return[new Dx({key:new Tx("editable"),props:{editable:()=>this.editor.options.editable}})]}}),VI=sI.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this
return[new Dx({key:new Tx("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0
const i=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1)
return e.dispatch(i),!1},blur:(e,n)=>{t.isFocused=!1
const i=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1)
return e.dispatch(i),!1}}}})]}}),HI=sI.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first((({commands:t})=>[()=>t.undoInputRule(),()=>t.command((({tr:e})=>{const{selection:n,doc:i}=e,{empty:s,$anchor:o}=n,{pos:r,parent:a}=o,l=o.parent.isTextblock&&r>0?e.doc.resolve(r-1):o,c=l.parent.type.spec.isolating,d=o.pos-o.parentOffset,h=c&&1===l.parent.childCount?d===o.pos:dx.atStart(i).from===r
return!(!s||!a.type.isTextblock||a.textContent.length||!h||h&&"paragraph"===o.parent.type.name)&&t.clearNodes()})),()=>t.deleteSelection(),()=>t.joinBackward(),()=>t.selectNodeBackward()])),e=()=>this.editor.commands.first((({commands:t})=>[()=>t.deleteSelection(),()=>t.deleteCurrentNode(),()=>t.joinForward(),()=>t.selectNodeForward()])),n={Enter:()=>this.editor.commands.first((({commands:t})=>[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),()=>t.splitBlock()])),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...n},s={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()}
return gI()||wI()?s:i},addProseMirrorPlugins(){return[new Dx({key:new Tx("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some((t=>t.getMeta("composition"))))return
const i=t.some((t=>t.docChanged))&&!e.doc.eq(n.doc),s=t.some((t=>t.getMeta("preventClearDocument")))
if(!i||s)return
const{empty:o,from:r,to:a}=e.selection,l=dx.atStart(e.doc).from,c=dx.atEnd(e.doc).to
if(o||!(r===l&&a===c))return
if(!OI(n.doc))return
const d=n.tr,h=$_({state:n,transaction:d}),{commands:u}=new D_({editor:this.editor,state:h})
return u.clearNodes(),d.steps.length?d:void 0}})]}}),UI=sI.create({name:"paste",addProseMirrorPlugins(){return[new Dx({key:new Tx("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),qI=sI.create({name:"tabindex",addProseMirrorPlugins(){return[new Dx({key:new Tx("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}})
class jI{get name(){return this.node.type.name}constructor(t,e,n=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=t,this.editor=e,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t
return null!==(t=this.actualDepth)&&void 0!==t?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let e=this.from,n=this.to
if(this.isBlock){if(0===this.content.size)return void console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`)
e=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:e,to:n},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(0===this.depth)return null
const t=this.resolvedPos.start(this.resolvedPos.depth-1),e=this.resolvedPos.doc.resolve(t)
return new jI(e,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2))
return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new jI(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1))
return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new jI(t,this.editor)}get children(){const t=[]
return this.node.content.forEach(((e,n)=>{const i=e.isBlock&&!e.isTextblock,s=e.isAtom&&!e.isText,o=this.pos+n+(s?0:1),r=this.resolvedPos.doc.resolve(o)
if(!i&&r.depth<=this.depth)return
const a=new jI(r,this.editor,i,i?e:null)
i&&(a.actualDepth=this.depth+1),t.push(new jI(r,this.editor,i,i?e:null))})),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children
return t[t.length-1]||null}closest(t,e={}){let n=null,i=this.parent
for(;i&&!n;){if(i.node.type.name===t)if(Object.keys(e).length>0){const t=i.node.attrs,n=Object.keys(e)
for(let i=0;i<n.length;i+=1){const s=n[i]
if(t[s]!==e[s])break}}else n=i
i=i.parent}return n}querySelector(t,e={}){return this.querySelectorAll(t,e,!0)[0]||null}querySelectorAll(t,e={},n=!1){let i=[]
if(!this.children||0===this.children.length)return i
const s=Object.keys(e)
return this.children.forEach((o=>{if(!(n&&i.length>0)){if(o.node.type.name===t){s.every((t=>e[t]===o.node.attrs[t]))&&i.push(o)}n&&i.length>0||(i=i.concat(o.querySelectorAll(t,e,n)))}})),i}setAttribute(t){const{tr:e}=this.editor.state
e.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(e)}}class WI extends E_{constructor(t={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",(({event:t,slice:e,moved:n})=>this.options.onDrop(t,e,n))),this.on("paste",(({event:t,slice:e})=>this.options.onPaste(t,e))),window.setTimeout((()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)}),0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=function(t,e){const n=document.querySelector("style[data-tiptap-style]")
if(null!==n)return n
const i=document.createElement("style")
return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 0 !important;\n  height: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}',this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,e){const n=L_(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],i=this.state.reconfigure({plugins:n})
return this.view.updateState(i),i}unregisterPlugin(t){if(this.isDestroyed)return
const e=this.state.plugins
let n=e
if([].concat(t).forEach((t=>{const i="string"==typeof t?`${t}$`:t.key
n=e.filter((t=>!t.key.startsWith(i)))})),e.length===n.length)return
const i=this.state.reconfigure({plugins:n})
return this.view.updateState(i),i}createExtensionManager(){var t,e
const n=[...this.options.enableCoreExtensions?[zI,aI.configure({blockSeparator:null===(e=null===(t=this.options.coreExtensionOptions)||void 0===t?void 0:t.clipboardTextSerializer)||void 0===e?void 0:e.blockSeparator}),BI,VI,HI,qI,PI,UI].filter((t=>"object"!=typeof this.options.enableCoreExtensions||!1!==this.options.enableCoreExtensions[t.name])):[],...this.options.extensions].filter((t=>["extension","node","mark"].includes(null==t?void 0:t.type)))
this.extensionManager=new iI(n,this)}createCommandManager(){this.commandManager=new D_({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var t
let e
try{e=SI(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error&&["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message)))throw t
this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter((t=>"collaboration"!==t.name)),this.createExtensionManager()}}),e=SI(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=mI(e,this.options.autofocus)
this.view=new HS(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...null===(t=this.options.editorProps)||void 0===t?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Mx.create({doc:e,selection:n||void 0})})
const i=this.state.reconfigure({plugins:this.extensionManager.plugins})
this.view.updateState(i),this.createNodeViews(),this.prependClass()
this.view.dom.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1
const e=this.capturedTransaction
return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return
if(this.isCapturingTransaction)return this.capturedTransaction?void t.steps.forEach((t=>{var e
return null===(e=this.capturedTransaction)||void 0===e?void 0:e.step(t)})):void(this.capturedTransaction=t)
const e=this.state.apply(t),n=!this.state.selection.eq(e.selection)
this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t}),n&&this.emit("selectionUpdate",{editor:this,transaction:t})
const i=t.getMeta("focus"),s=t.getMeta("blur")
i&&this.emit("focus",{editor:this,event:i.event,transaction:t}),s&&this.emit("blur",{editor:this,event:s.event,transaction:t}),t.docChanged&&!t.getMeta("preventUpdate")&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return MI(this.state,t)}isActive(t,e){const n="string"==typeof t?t:null,i="string"==typeof t?e:t
return function(t,e,n={}){if(!e)return xI(t,null,n)||AI(t,null,n)
const i=CI(e,t.schema)
return"node"===i?xI(t,e,n):"mark"===i&&AI(t,e,n)}(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return U_(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e="\n\n",textSerializers:n={}}=t||{}
return function(t,e){return oI(t,{from:0,to:t.content.size},e)}(this.state.doc,{blockSeparator:e,textSerializers:{...rI(this.schema),...n}})}get isEmpty(){return OI(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const t=this.view.dom
t&&t.editor&&delete t.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var t
return!(null===(t=this.view)||void 0===t?void 0:t.docView)}$node(t,e){var n
return(null===(n=this.$doc)||void 0===n?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n
return(null===(n=this.$doc)||void 0===n?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t)
return new jI(e,this)}get $doc(){return this.$pos(0)}}function GI(t){return new W_({find:t.find,handler:({state:e,range:n,match:i})=>{const s=B_(t.getAttributes,void 0,i)
if(!1===s||null===s)return null
const{tr:o}=e,r=i[i.length-1],a=i[0]
if(r){const i=a.search(/\S/),l=n.from+a.indexOf(r),c=l+r.length
if(DI(n.from,n.to,e.doc).filter((e=>e.mark.type.excluded.find((n=>n===t.type&&n!==e.mark.type)))).filter((t=>t.to>l)).length)return null
c<n.to&&o.delete(c,n.to),l>n.from&&o.delete(n.from+i,l)
const d=n.from+i+r.length
o.addMark(n.from+i,d,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}function ZI(t){return new W_({find:t.find,handler:({state:e,range:n,match:i,chain:s})=>{const o=B_(t.getAttributes,void 0,i)||{},r=e.tr.delete(n.from,n.to),a=r.doc.resolve(n.from).blockRange(),l=a&&Vw(a,t.type,o)
if(!l)return null
if(r.wrap(a,l),t.keepMarks&&t.editor){const{selection:n,storedMarks:i}=e,{splittableMarks:s}=t.editor.extensionManager,o=i||n.$to.parentOffset&&n.$from.marks()
if(o){const t=o.filter((t=>s.includes(t.type.name)))
r.ensureMarks(t)}}if(t.keepAttributes){const e="bulletList"===t.type.name||"orderedList"===t.type.name?"listItem":"taskList"
s().updateAttributes(e,o).run()}const c=r.doc.resolve(n.from-1).nodeBefore
c&&c.type===t.type&&Ww(r.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(i,c))&&r.join(n.from-1)}})}let KI=class t{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=B_(A_(this,"addOptions",{name:this.name}))),this.storage=B_(A_(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new t(e)}configure(t={}){const e=this.extend({...this.config,addOptions:()=>X_(this.options,t)})
return e.name=this.name,e.parent=this.parent,e}extend(e={}){const n=new t(e)
return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=B_(A_(n,"addOptions",{name:n.name})),n.storage=B_(A_(n,"addStorage",{name:n.name,options:n.options})),n}}
function YI(t){return new Q_({find:t.find,handler:({state:e,range:n,match:i,pasteEvent:s})=>{const o=B_(t.getAttributes,void 0,i,s)
if(!1===o||null===o)return null
const{tr:r}=e,a=i[i.length-1],l=i[0]
let c=n.to
if(a){const i=l.search(/\S/),s=n.from+l.indexOf(a),d=s+a.length
if(DI(n.from,n.to,e.doc).filter((e=>e.mark.type.excluded.find((n=>n===t.type&&n!==e.mark.type)))).filter((t=>t.to>s)).length)return null
d<n.to&&r.delete(d,n.to),s>n.from&&r.delete(n.from+i,s),c=n.from+i+a.length,r.addMark(n.from+i,c,t.type.create(o||{})),r.removeStoredMark(t.type)}}})}const XI=KI.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:t}){return["br",F_(this.options.HTMLAttributes,t)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:i})=>t.first([()=>t.exitCode(),()=>t.command((()=>{const{selection:t,storedMarks:s}=n
if(t.$from.parent.type.spec.isolating)return!1
const{keepMarks:o}=this.options,{splittableMarks:r}=i.extensionManager,a=s||t.$to.parentOffset&&t.$from.marks()
return e().insertContent({type:this.name}).command((({tr:t,dispatch:e})=>{if(e&&a&&o){const e=a.filter((t=>r.includes(t.type.name)))
t.ensureMarks(e)}return!0})).run()}))])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),JI=Mt`
    ${qs("inline")}

    .positioning-region {
        display: flex;
        padding: ${$l} ${El};
        align-items: center;
        gap: ${El};
        background: ${il};
    }

    slot[name='label'] {
        display: none;
    }

    [part='start'] {
        display: flex;
        gap: ${El};
        margin-right: auto;
    }

    [part='end'] {
        display: flex;
        gap: ${El};
        margin-left: auto;
    }
`
const QI=class extends Cs{}.compose({baseName:"toolbar",baseClass:Cs,template:(t,e)=>Q`
    <template
        aria-label="${t=>t.ariaLabel}"
        aria-labelledby="${t=>t.ariaLabelledby}"
        aria-orientation="${t=>t.orientation}"
        orientation="${t=>t.orientation}"
        role="toolbar"
        @mousedown="${(t,e)=>t.mouseDownHandler(e.event)}"
        @focusin="${(t,e)=>t.focusinHandler(e.event)}"
        @keydown="${(t,e)=>t.keydownHandler(e.event)}"
        ${oe({property:"childItems",attributeFilter:["disabled","hidden"],filter:te(),subtree:!0})}
    >
        <slot name="label"></slot>
        <div class="positioning-region" part="positioning-region">
            ${le(0,e)}
            <slot
                ${ie({filter:te(),property:"slottedItems"})}
            ></slot>
            ${ae(0,e)}
        </div>
    </template>
`,styles:JI})
Di.getOrCreate().withPrefix("nimble").register(QI())
const tM="nimble-toolbar",eM="Bold",nM="Italics",iM="Bulleted List",sM="Numbered List",oM=ki.create({name:"rich-text-toggle-bold-label",cssCustomPropertyName:null}).withDefault(eM),rM=ki.create({name:"rich-text-toggle-italics-label",cssCustomPropertyName:null}).withDefault(nM),aM=ki.create({name:"rich-text-toggle-bulleted-list-label",cssCustomPropertyName:null}).withDefault(iM),lM=ki.create({name:"rich-text-toggle-numbered-list-label",cssCustomPropertyName:null}).withDefault(sM),cM=Mt`
    ${ev}

    :host {
        height: auto;
    }

    :host(:hover)::after,
    :host(${js})::after {
        width: auto;
    }

    .listbox {
        --ni-private-listbox-visible-option-count: 5.5;
        --ni-private-listbox-anchor-element-gap: 0px;
        min-width: ${Bl};
    }
`,dM=Q`
    <template>
        <${pg}
            ${Ut("region")}
            class="anchored-region"
            fixed-placement
            auto-update-mode="auto"
            vertical-default-position="bottom"
            vertical-positioning-mode="locktodefault"
            horizontal-default-position="center"
            horizontal-positioning-mode="locktodefault"
            horizontal-scaling="anchor"
            ?hidden="${t=>!t.open}">
            <div
                class="
                    listbox
                    scrollable-region
                    ${t=>0===t.filteredOptions.length?"empty":""}
                "
                part="listbox"
                role="listbox"
                @click="${(t,e)=>t.clickHandler(e.event)}"
                ?disabled="${t=>t.disabled}"
                style="--ni-private-listbox-available-viewport-height: ${t=>t.availableViewportHeight}px;"
                ${Ut("listbox")}
            >
                <slot name="option"
                    ${ie({filter:t=>t instanceof HTMLElement&&Zn.slottedOptionFilter(t),flatten:!0,property:"slottedOptions"})}
                >
                </slot>
                ${Gt((t=>0===t.filteredOptions.length),Q`
                    <span class="no-results-label">
                        ${t=>Qm.getValueFor(t)}
                    </span>
                `)}
            </div>
        </${pg}>
    </template>
`,hM=t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()
class uM extends Vi{constructor(){super(...arguments),this.availableViewportHeight=0,this.filter="",this.filteredOptions=[],this.anchorElementIntersectionObserver=new IntersectionObserver((t=>{t[0]?.isIntersecting||this.setOpen(!1)}),{threshold:1,root:document})}close(){this.setOpen(!1)}get options(){return x.track(this,"options"),this.filteredOptions?.length?this.filteredOptions:[]}set options(t){this._options=t,x.notify(this,"options")}show(t){const e=t.anchorNode.getBoundingClientRect().bottom
this.availableViewportHeight=Math.trunc(window.innerHeight-e),this.filter=t.filter,this.anchorElement=t.anchorNode,this.setOpen(!0),this.filterOptions()}keydownHandler(t){if(!this.open)return!1
switch(t.key){case vn:case dn:{if(!this.hasSelectableOptions)return!1
const t={href:this.firstSelectedOption.value,displayName:this.firstSelectedOption.text}
return this.$emit("mention-selected",t),this.setOpen(!1),!0}case hn:return this.setOpen(!1),!1
default:return super.keydownHandler(t),!1}}filterOptions(){if(this.filter){const t=hM(this.filter)
this.filteredOptions=this._options.filter((e=>hM(e.text).includes(t)))}else this.filteredOptions=this._options
this._options.forEach((t=>{t.hidden=!this.filteredOptions.includes(t)})),this.filteredOptions.length?(this.selectedOptions=[this.filteredOptions[0]],this.selectedIndex=this.options.indexOf(this.firstSelectedOption)):(this.selectedOptions=[],this.selectedIndex=-1)}slottedOptionsChanged(t,e){super.slottedOptionsChanged(t,e),this.filterOptions()}clickHandler(t){const e=t.target.closest("option,[role=option]")
if(!e||e.disabled)return!1
const n={href:e.value,displayName:e.text}
return this.$emit("mention-selected",n),this.setOpen(!1),!0}anchorElementChanged(t,e){t&&this.anchorElementIntersectionObserver.unobserve(t),this.region&&this.anchorElement&&(this.region.anchorElement=this.anchorElement,this.region.update(),this.anchorElementIntersectionObserver.observe(e))}regionChanged(){this.regionNotifier&&this.regionNotifier.unsubscribe(this),this.regionNotifier=x.getNotifier(this.region),this.regionNotifier.subscribe(this)}handleChange(t,e){super.handleChange(t,e),"initialLayoutComplete"===e&&this.focusAndScrollOptionIntoView()}focusAndScrollOptionIntoView(){this.open&&this.firstSelectedOption&&requestAnimationFrame((()=>{this.firstSelectedOption?.scrollIntoView({block:"nearest"})}))}setOpen(t){this.open=t}}t([C],uM.prototype,"open",void 0),t([C],uM.prototype,"region",void 0),t([C],uM.prototype,"availableViewportHeight",void 0),t([C],uM.prototype,"filteredOptions",void 0),t([C],uM.prototype,"anchorElement",void 0)
const pM=uM.compose({baseName:"rich-text-mention-listbox",template:dM,styles:cM})
Di.getOrCreate().withPrefix("nimble").register(pM())
const fM="nimble-rich-text-mention-listbox",mM=Q`
    <template
        ${oe({property:"childItems",filter:te()})}
        @focusout="${t=>t.focusoutHandler()}"
    >
        <div class="container">
            <section ${Ut("editorContainer")} class="editor-container">
            </section>
            <${bg}
                severity="error"
                class="error-icon ${t=>t.scrollbarWidth>=0?"scrollbar-width-calculated":""}"
                style="--ni-private-rich-text-editor-scrollbar-width: ${t=>t.scrollbarWidth}px;"
            ></${bg}>
            <section class="footer-section">
                <${tM}>
                    <${Kg}
                        ${Ut("boldButton")}
                        appearance="ghost"
                        content-hidden
                        ?disabled="${t=>t.disabled}"
                        slot="start"
                        title=${t=>oM.getValueFor(t)}
                        @click=${t=>t.boldButtonClick()}
                        @change=${(t,e)=>t.stopEventPropagation(e.event)}
                        @keydown=${(t,e)=>t.boldButtonKeyDown(e.event)}
                    >
                        ${t=>oM.getValueFor(t)}
                        <${Iv} slot="start"></${Iv}>
                    </${Kg}>
                    <${Kg}
                        ${Ut("italicsButton")}
                        appearance="ghost"
                        content-hidden
                        ?disabled="${t=>t.disabled}"
                        slot="start"
                        title=${t=>rM.getValueFor(t)}
                        @click=${t=>t.italicsButtonClick()}
                        @change=${(t,e)=>t.stopEventPropagation(e.event)}
                        @keydown=${(t,e)=>t.italicsButtonKeyDown(e.event)}
                    >
                        ${t=>rM.getValueFor(t)}
                        <${Mv} slot="start"></${Mv}>
                    </${Kg}>
                    <${Kg}
                        ${Ut("bulletListButton")}
                        appearance="ghost"
                        content-hidden
                        ?disabled="${t=>t.disabled}"
                        slot="start"
                        title=${t=>aM.getValueFor(t)}
                        @click=${t=>t.bulletListButtonClick()}
                        @change=${(t,e)=>t.stopEventPropagation(e.event)}
                        @keydown=${(t,e)=>t.bulletListButtonKeyDown(e.event)}
                    >
                        ${t=>aM.getValueFor(t)}
                        <${$v} slot="start"></${$v}>
                    </${Kg}>
                    <${Kg}
                        ${Ut("numberedListButton")}
                        appearance="ghost"
                        content-hidden
                        ?disabled="${t=>t.disabled}"
                        slot="start"
                        title=${t=>lM.getValueFor(t)}
                        @click=${t=>t.numberedListButtonClick()}
                        @change=${(t,e)=>t.stopEventPropagation(e.event)}
                        @keydown=${(t,e)=>t.numberedListButtonKeyDown(e.event)}
                    >
                        ${t=>lM.getValueFor(t)}
                        <${Av} slot="start"></${Av}>
                    </${Kg}>
                    ${Qt((t=>t.getMentionExtensionConfig()),Q`
                        <${Eh}
                            appearance="ghost"
                            content-hidden
                            ?disabled="${(t,e)=>e.parent.disabled}"
                            slot="start"
                            title=${t=>t.buttonLabel}
                            @click=${(t,e)=>e.parent.mentionButtonClick(t.character)}
                        >
                            ${t=>t.buttonLabel}
                            ${t=>t.iconTemplate}
                        </${Eh}>
                    `)}
                </${tM}>
                <span class="footer-actions" part="footer-actions">
                    <slot name="footer-actions"></slot>
                </span>
            </section>
            ${Vg}
        </div>
        <${fM}
            ${Ut("mentionListbox")}
            @mention-selected=${(t,e)=>t.onMentionSelect(e.event)}
        >
            ${Qt((t=>Array.from(t.activeMappingConfigs?t.activeMappingConfigs.values():[])),Q`
                <${_b} value="${t=>t.mentionHref}">${t=>t.displayName}</${_b}>
            `,{recycle:!1})}
        </${fM}>
    </template>
`,gM=Mt`
    ${qs("inline-flex")}
    ${Lg}

    :host {
        font: ${jc};
        outline: none;
        color: ${Wc};
        flex-direction: column;
        --ni-private-rich-text-editor-hover-indicator-width: calc(
            ${Tl} + 1px
        );

        ${""}
        height: 82px;
        --ni-private-rich-text-editor-footer-section-height: 40px;
        --ni-private-rich-text-editor-footer-section-border-top-width: 2px;
        ${""}
        min-width: 360px;
    }

    .container {
        display: flex;
        flex-direction: column;
        position: relative;
        height: 100%;
        border: ${Tl} solid rgba(${cl}, 0.3);
    }

    .container::after {
        display: block;
        content: ' ';
        position: absolute;
        bottom: calc(-1 * ${Tl});
        width: 0px;
        height: 0px;
        left: 50%;
        transform: translate(-50%, 50%);
        border-bottom: ${fl}
            var(--ni-private-rich-text-editor-hover-indicator-width) solid;
        transition: width ${Zd} ease-in;
    }

    .container:focus-within {
        border-bottom-color: ${fl};
    }

    @media (prefers-reduced-motion) {
        .container::after {
            transition-duration: 0s;
        }
    }

    :host([disabled]) .container {
        color: ${Gc};
        border: ${Tl} solid rgba(${cl}, 0.1);
    }

    :host([error-visible]) .container {
        border-bottom-color: ${dl};
    }

    :host(:hover) .container::after {
        width: calc(100% + 2 * ${Tl});
    }

    :host([disabled]:hover) .container::after {
        width: 0px;
    }

    :host([error-visible]) .container::after {
        border-bottom-color: ${dl};
    }

    .editor-container {
        display: contents;
    }

    .editor {
        display: flex;
        flex-direction: column;
        border: ${Tl} solid transparent;
        border-radius: 0px;
        flex: 1;
        overflow: hidden;
    }

    :host([footer-hidden]) .editor {
        height: 100%;
    }

    .ProseMirror {
        overflow: auto;
        height: 100%;
        border: 0px;
        border-radius: 0px;
        background-color: transparent;
        font: inherit;
        padding: 8px;
        ${""}
        padding-right: calc(${Ol});
        position: relative;
        color: inherit;
    }

    ${""}
    .ProseMirror {
        word-wrap: break-word;
        white-space: pre-wrap;
        -webkit-font-variant-ligatures: none;
        font-variant-ligatures: none;
        font-feature-settings: 'liga' 0;
    }

    .ProseMirror pre {
        white-space: pre-wrap;
    }

    .ProseMirror li {
        position: relative;
    }

    ${""}

    .ProseMirror-focused {
        outline: none;
    }

    .ProseMirror > :first-child {
        margin-block-start: 0;
    }

    .ProseMirror > :last-child {
        margin-block-end: 0;
    }

    .ProseMirror li > p {
        margin-block: 0;
    }

    ${""}
    .ProseMirror p.is-editor-empty:first-child::before {
        color: ${pd};
        content: attr(data-placeholder);
        float: left;
        height: 0;
        pointer-events: none;
        word-break: break-word;
    }

    :host([disabled]) .ProseMirror p.is-editor-empty:first-child::before {
        color: ${fd};
    }

    ${""}
    .ProseMirror a {
        color: ${hc};
        white-space: normal;
        ${""}
        pointer-events: none;
    }

    :host([disabled]) .ProseMirror a {
        color: ${Gc};
        fill: currentcolor;
        cursor: default;
    }

    ${""}

    ${""}
    .ProseMirror .nimble-mention-view-edit {
        color: ${Wc};
    }

    :host([disabled]) .ProseMirror .nimble-mention-view-edit {
        color: ${Gc};
    }

    .footer-section {
        display: flex;
        justify-content: space-between;
        flex-shrink: 0;
        border: 0px;
        border-top: var(
                --ni-private-rich-text-editor-footer-section-border-top-width
            )
            solid rgba(${cl}, 0.1);
        height: var(--ni-private-rich-text-editor-footer-section-height);
        overflow: hidden;
    }

    :host([footer-hidden]) .footer-section {
        display: none;
    }

    ${tM}::part(positioning-region) {
        background: transparent;
        padding-right: 8px;
        gap: 0px;
        height: var(--ni-private-rich-text-editor-footer-section-height);
    }

    ${tM}::part(start) {
        gap: 8px;
    }

    ${Eh},
    ${Kg} {
        height: ${Ml};
    }

    .footer-actions {
        display: flex;
        justify-content: flex-end;
        margin-inline-end: ${El};
        gap: ${El};
        place-items: center;
    }

    ::slotted(${Eh}),
    ::slotted(${Kg}),
    ::slotted(${"nimble-anchor-button"}),
    ::slotted(${Yb}) {
        height: ${Ml};
    }

    :host([error-visible]) .error-icon {
        display: none;
    }

    :host([error-visible]) .error-icon.scrollbar-width-calculated {
        display: inline-flex;
        position: absolute;
        top: ${Dl};
        right: var(--ni-private-rich-text-editor-scrollbar-width);
    }
`,vM="bulletList",bM="orderedList",yM="mention-plugin-",wM={}
function xM(t,e){"string"!=typeof e&&(e=xM.defaultChars)
const n=function(t){let e=wM[t]
if(e)return e
e=wM[t]=[]
for(let t=0;t<128;t++){const n=String.fromCharCode(t)
e.push(n)}for(let n=0;n<t.length;n++){const i=t.charCodeAt(n)
e[i]="%"+("0"+i.toString(16).toUpperCase()).slice(-2)}return e}(e)
return t.replace(/(%[a-f0-9]{2})+/gi,(function(t){let e=""
for(let i=0,s=t.length;i<s;i+=3){const o=parseInt(t.slice(i+1,i+3),16)
if(o<128)e+=n[o]
else{if(192==(224&o)&&i+3<s){const n=parseInt(t.slice(i+4,i+6),16)
if(128==(192&n)){const t=o<<6&1984|63&n
e+=t<128?"":String.fromCharCode(t),i+=3
continue}}if(224==(240&o)&&i+6<s){const n=parseInt(t.slice(i+4,i+6),16),s=parseInt(t.slice(i+7,i+9),16)
if(128==(192&n)&&128==(192&s)){const t=o<<12&61440|n<<6&4032|63&s
e+=t<2048||t>=55296&&t<=57343?"":String.fromCharCode(t),i+=6
continue}}if(240==(248&o)&&i+9<s){const n=parseInt(t.slice(i+4,i+6),16),s=parseInt(t.slice(i+7,i+9),16),r=parseInt(t.slice(i+10,i+12),16)
if(128==(192&n)&&128==(192&s)&&128==(192&r)){let t=o<<18&1835008|n<<12&258048|s<<6&4032|63&r
t<65536||t>1114111?e+="":(t-=65536,e+=String.fromCharCode(55296+(t>>10),56320+(1023&t))),i+=9
continue}}e+=""}}return e}))}xM.defaultChars=";/?:@&=+$,#",xM.componentChars=""
const CM={}
function kM(t,e,n){"string"!=typeof e&&(n=e,e=kM.defaultChars),void 0===n&&(n=!0)
const i=function(t){let e=CM[t]
if(e)return e
e=CM[t]=[]
for(let t=0;t<128;t++){const n=String.fromCharCode(t);/^[0-9a-z]$/i.test(n)?e.push(n):e.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n]
return e}(e)
let s=""
for(let e=0,o=t.length;e<o;e++){const r=t.charCodeAt(e)
if(n&&37===r&&e+2<o&&/^[0-9a-f]{2}$/i.test(t.slice(e+1,e+3)))s+=t.slice(e,e+3),e+=2
else if(r<128)s+=i[r]
else if(r>=55296&&r<=57343){if(r>=55296&&r<=56319&&e+1<o){const n=t.charCodeAt(e+1)
if(n>=56320&&n<=57343){s+=encodeURIComponent(t[e]+t[e+1]),e++
continue}}s+="%EF%BF%BD"}else s+=encodeURIComponent(t[e])}return s}function SM(t){let e=""
return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&-1!==t.hostname.indexOf(":")?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function _M(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}kM.defaultChars=";/?:@&=+$,-_.!~*'()#",kM.componentChars="-_.!~*'()"
const IM=/^([a-z0-9.+-]+:)/i,MM=/:[0-9]*$/,$M=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,DM=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),EM=["'"].concat(DM),AM=["%","/","?",";","#"].concat(EM),TM=["/","?","#"],OM=/^[+a-z0-9A-Z_-]{0,63}$/,RM=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,FM={javascript:!0,"javascript:":!0},NM={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0}
function LM(t,e){if(t&&t instanceof _M)return t
const n=new _M
return n.parse(t,e),n}_M.prototype.parse=function(t,e){let n,i,s,o=t
if(o=o.trim(),!e&&1===t.split("#").length){const t=$M.exec(o)
if(t)return this.pathname=t[1],t[2]&&(this.search=t[2]),this}let r=IM.exec(o)
if(r&&(r=r[0],n=r.toLowerCase(),this.protocol=r,o=o.substr(r.length)),(e||r||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(s="//"===o.substr(0,2),!s||r&&FM[r]||(o=o.substr(2),this.slashes=!0)),!FM[r]&&(s||r&&!NM[r])){let t,e,n=-1
for(let t=0;t<TM.length;t++)i=o.indexOf(TM[t]),-1!==i&&(-1===n||i<n)&&(n=i)
e=-1===n?o.lastIndexOf("@"):o.lastIndexOf("@",n),-1!==e&&(t=o.slice(0,e),o=o.slice(e+1),this.auth=t),n=-1
for(let t=0;t<AM.length;t++)i=o.indexOf(AM[t]),-1!==i&&(-1===n||i<n)&&(n=i);-1===n&&(n=o.length),":"===o[n-1]&&n--
const s=o.slice(0,n)
o=o.slice(n),this.parseHost(s),this.hostname=this.hostname||""
const r="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1]
if(!r){const t=this.hostname.split(/\./)
for(let e=0,n=t.length;e<n;e++){const n=t[e]
if(n&&!n.match(OM)){let i=""
for(let t=0,e=n.length;t<e;t++)n.charCodeAt(t)>127?i+="x":i+=n[t]
if(!i.match(OM)){const i=t.slice(0,e),s=t.slice(e+1),r=n.match(RM)
r&&(i.push(r[1]),s.unshift(r[2])),s.length&&(o=s.join(".")+o),this.hostname=i.join(".")
break}}}}this.hostname.length>255&&(this.hostname=""),r&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=o.indexOf("#");-1!==a&&(this.hash=o.substr(a),o=o.slice(0,a))
const l=o.indexOf("?")
return-1!==l&&(this.search=o.substr(l),o=o.slice(0,l)),o&&(this.pathname=o),NM[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this},_M.prototype.parseHost=function(t){let e=MM.exec(t)
e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}
var BM,PM=Object.freeze({__proto__:null,decode:xM,encode:kM,format:SM,parse:LM}),zM=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,VM=/[\0-\x1F\x7F-\x9F]/,HM=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,UM=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,qM=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,jM=Object.freeze({__proto__:null,Any:zM,Cc:VM,Cf:/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P:HM,S:UM,Z:qM}),WM=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map((t=>t.charCodeAt(0)))),GM=new Uint16Array("aglq\t\0\0p;os;t;t;uot;".split("").map((t=>t.charCodeAt(0))))
const ZM=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),KM=null!==(BM=String.fromCodePoint)&&void 0!==BM?BM:function(t){let e=""
return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t),e}
var YM
!function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"}(YM||(YM={}))
var XM,JM,QM
function t$(t){return t>=YM.ZERO&&t<=YM.NINE}function e$(t){return t>=YM.UPPER_A&&t<=YM.UPPER_F||t>=YM.LOWER_A&&t<=YM.LOWER_F}function n$(t){return t===YM.EQUALS||function(t){return t>=YM.UPPER_A&&t<=YM.UPPER_Z||t>=YM.LOWER_A&&t<=YM.LOWER_Z||t$(t)}(t)}!function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"}(XM||(XM={})),function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"}(JM||(JM={})),function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"}(QM||(QM={}))
class i${constructor(t,e,n){this.decodeTree=t,this.emitCodePoint=e,this.errors=n,this.state=JM.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=QM.Strict}startEntity(t){this.decodeMode=t,this.state=JM.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,e){switch(this.state){case JM.EntityStart:return t.charCodeAt(e)===YM.NUM?(this.state=JM.NumericStart,this.consumed+=1,this.stateNumericStart(t,e+1)):(this.state=JM.NamedEntity,this.stateNamedEntity(t,e))
case JM.NumericStart:return this.stateNumericStart(t,e)
case JM.NumericDecimal:return this.stateNumericDecimal(t,e)
case JM.NumericHex:return this.stateNumericHex(t,e)
case JM.NamedEntity:return this.stateNamedEntity(t,e)}}stateNumericStart(t,e){return e>=t.length?-1:(32|t.charCodeAt(e))===YM.LOWER_X?(this.state=JM.NumericHex,this.consumed+=1,this.stateNumericHex(t,e+1)):(this.state=JM.NumericDecimal,this.stateNumericDecimal(t,e))}addToNumericResult(t,e,n,i){if(e!==n){const s=n-e
this.result=this.result*Math.pow(i,s)+parseInt(t.substr(e,s),i),this.consumed+=s}}stateNumericHex(t,e){const n=e
for(;e<t.length;){const i=t.charCodeAt(e)
if(!t$(i)&&!e$(i))return this.addToNumericResult(t,n,e,16),this.emitNumericEntity(i,3)
e+=1}return this.addToNumericResult(t,n,e,16),-1}stateNumericDecimal(t,e){const n=e
for(;e<t.length;){const i=t.charCodeAt(e)
if(!t$(i))return this.addToNumericResult(t,n,e,10),this.emitNumericEntity(i,2)
e+=1}return this.addToNumericResult(t,n,e,10),-1}emitNumericEntity(t,e){var n
if(this.consumed<=e)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0
if(t===YM.SEMI)this.consumed+=1
else if(this.decodeMode===QM.Strict)return 0
return this.emitCodePoint(function(t){var e
return t>=55296&&t<=57343||t>1114111?65533:null!==(e=ZM.get(t))&&void 0!==e?e:t}(this.result),this.consumed),this.errors&&(t!==YM.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,e){const{decodeTree:n}=this
let i=n[this.treeIndex],s=(i&XM.VALUE_LENGTH)>>14
for(;e<t.length;e++,this.excess++){const o=t.charCodeAt(e)
if(this.treeIndex=o$(n,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return 0===this.result||this.decodeMode===QM.Attribute&&(0===s||n$(o))?0:this.emitNotTerminatedNamedEntity()
if(i=n[this.treeIndex],s=(i&XM.VALUE_LENGTH)>>14,0!==s){if(o===YM.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess)
this.decodeMode!==QM.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t
const{result:e,decodeTree:n}=this,i=(n[e]&XM.VALUE_LENGTH)>>14
return this.emitNamedEntityData(e,i,this.consumed),null===(t=this.errors)||void 0===t||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,e,n){const{decodeTree:i}=this
return this.emitCodePoint(1===e?i[t]&~XM.VALUE_LENGTH:i[t+1],n),3===e&&this.emitCodePoint(i[t+2],n),n}end(){var t
switch(this.state){case JM.NamedEntity:return 0===this.result||this.decodeMode===QM.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity()
case JM.NumericDecimal:return this.emitNumericEntity(0,2)
case JM.NumericHex:return this.emitNumericEntity(0,3)
case JM.NumericStart:return null===(t=this.errors)||void 0===t||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0
case JM.EntityStart:return 0}}}function s$(t){let e=""
const n=new i$(t,(t=>e+=KM(t)))
return function(t,i){let s=0,o=0
for(;(o=t.indexOf("&",o))>=0;){e+=t.slice(s,o),n.startEntity(i)
const r=n.write(t,o+1)
if(r<0){s=o+n.end()
break}s=o+r,o=0===r?s+1:s}const r=e+t.slice(s)
return e="",r}}function o$(t,e,n,i){const s=(e&XM.BRANCH_LENGTH)>>7,o=e&XM.JUMP_TABLE
if(0===s)return 0!==o&&i===o?n:-1
if(o){const e=i-o
return e<0||e>=s?-1:t[n+e]-1}let r=n,a=r+s-1
for(;r<=a;){const e=r+a>>>1,n=t[e]
if(n<i)r=e+1
else{if(!(n>i))return t[e+s]
a=e-1}}return-1}const r$=s$(WM)
function a$(t,e=QM.Legacy){return r$(t,e)}function l$(t){return"[object String]"===function(t){return Object.prototype.toString.call(t)}(t)}s$(GM)
const c$=Object.prototype.hasOwnProperty
function d$(t){return Array.prototype.slice.call(arguments,1).forEach((function(e){if(e){if("object"!=typeof e)throw new TypeError(e+"must be object")
Object.keys(e).forEach((function(n){t[n]=e[n]}))}})),t}function h$(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function u$(t){return!(t>=55296&&t<=57343)&&(!(t>=64976&&t<=65007)&&(!!(65535&~t&&65534!=(65535&t))&&(!(t>=0&&t<=8)&&(11!==t&&(!(t>=14&&t<=31)&&(!(t>=127&&t<=159)&&!(t>1114111)))))))}function p$(t){if(t>65535){const e=55296+((t-=65536)>>10),n=56320+(1023&t)
return String.fromCharCode(e,n)}return String.fromCharCode(t)}const f$=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,m$=new RegExp(f$.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),g$=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i
function v$(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(m$,(function(t,e,n){return e||function(t,e){if(35===e.charCodeAt(0)&&g$.test(e)){const n="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10)
return u$(n)?p$(n):t}const n=a$(t)
return n!==t?n:t}(t,n)}))}const b$=/[&<>"]/,y$=/[&<>"]/g,w$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"}
function x$(t){return w$[t]}function C$(t){return b$.test(t)?t.replace(y$,x$):t}const k$=/[.?*+^$[\]\\(){}|-]/g
function S$(t){switch(t){case 9:case 32:return!0}return!1}function _$(t){if(t>=8192&&t<=8202)return!0
switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function I$(t){return HM.test(t)||UM.test(t)}function M$(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0
default:return!1}}function $$(t){return t=t.trim().replace(/\s+/g," "),""==="".toLowerCase()&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const D$={mdurl:PM,ucmicro:jM}
var E$=Object.freeze({__proto__:null,arrayReplaceAt:h$,assign:d$,escapeHtml:C$,escapeRE:function(t){return t.replace(k$,"\\$&")},fromCodePoint:p$,has:function(t,e){return c$.call(t,e)},isMdAsciiPunct:M$,isPunctChar:I$,isSpace:S$,isString:l$,isValidEntityCode:u$,isWhiteSpace:_$,lib:D$,normalizeReference:$$,unescapeAll:v$,unescapeMd:function(t){return t.indexOf("\\")<0?t:t.replace(f$,"$1")}})
var A$=Object.freeze({__proto__:null,parseLinkDestination:function(t,e,n){let i,s=e
const o={ok:!1,pos:0,str:""}
if(60===t.charCodeAt(s)){for(s++;s<n;){if(i=t.charCodeAt(s),10===i)return o
if(60===i)return o
if(62===i)return o.pos=s+1,o.str=v$(t.slice(e+1,s)),o.ok=!0,o
92===i&&s+1<n?s+=2:s++}return o}let r=0
for(;s<n&&(i=t.charCodeAt(s),32!==i)&&!(i<32||127===i);)if(92===i&&s+1<n){if(32===t.charCodeAt(s+1))break
s+=2}else{if(40===i&&(r++,r>32))return o
if(41===i){if(0===r)break
r--}s++}return e===s||0!==r||(o.str=v$(t.slice(e,s)),o.pos=s,o.ok=!0),o},parseLinkLabel:function(t,e,n){let i,s,o,r
const a=t.posMax,l=t.pos
for(t.pos=e+1,i=1;t.pos<a;){if(o=t.src.charCodeAt(t.pos),93===o&&(i--,0===i)){s=!0
break}if(r=t.pos,t.md.inline.skipToken(t),91===o)if(r===t.pos-1)i++
else if(n)return t.pos=l,-1}let c=-1
return s&&(c=t.pos),t.pos=l,c},parseLinkTitle:function(t,e,n,i){let s,o=e
const r={ok:!1,can_continue:!1,pos:0,str:"",marker:0}
if(i)r.str=i.str,r.marker=i.marker
else{if(o>=n)return r
let i=t.charCodeAt(o)
if(34!==i&&39!==i&&40!==i)return r
e++,o++,40===i&&(i=41),r.marker=i}for(;o<n;){if(s=t.charCodeAt(o),s===r.marker)return r.pos=o+1,r.str+=v$(t.slice(e,o)),r.ok=!0,r
if(40===s&&41===r.marker)return r
92===s&&o+1<n&&o++,o++}return r.can_continue=!0,r.str+=v$(t.slice(e,o)),r}})
const T$={}
function O$(){this.rules=d$({},T$)}function R$(){this.__rules__=[],this.__cache__=null}function F$(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}function N$(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}T$.code_inline=function(t,e,n,i,s){const o=t[e]
return"<code"+s.renderAttrs(o)+">"+C$(o.content)+"</code>"},T$.code_block=function(t,e,n,i,s){const o=t[e]
return"<pre"+s.renderAttrs(o)+"><code>"+C$(t[e].content)+"</code></pre>\n"},T$.fence=function(t,e,n,i,s){const o=t[e],r=o.info?v$(o.info).trim():""
let a,l="",c=""
if(r){const t=r.split(/(\s+)/g)
l=t[0],c=t.slice(2).join("")}if(a=n.highlight&&n.highlight(o.content,l,c)||C$(o.content),0===a.indexOf("<pre"))return a+"\n"
if(r){const t=o.attrIndex("class"),e=o.attrs?o.attrs.slice():[]
t<0?e.push(["class",n.langPrefix+l]):(e[t]=e[t].slice(),e[t][1]+=" "+n.langPrefix+l)
const i={attrs:e}
return`<pre><code${s.renderAttrs(i)}>${a}</code></pre>\n`}return`<pre><code${s.renderAttrs(o)}>${a}</code></pre>\n`},T$.image=function(t,e,n,i,s){const o=t[e]
return o.attrs[o.attrIndex("alt")][1]=s.renderInlineAsText(o.children,n,i),s.renderToken(t,e,n)},T$.hardbreak=function(t,e,n){return n.xhtmlOut?"<br />\n":"<br>\n"},T$.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},T$.text=function(t,e){return C$(t[e].content)},T$.html_block=function(t,e){return t[e].content},T$.html_inline=function(t,e){return t[e].content},O$.prototype.renderAttrs=function(t){let e,n,i
if(!t.attrs)return""
for(i="",e=0,n=t.attrs.length;e<n;e++)i+=" "+C$(t.attrs[e][0])+'="'+C$(t.attrs[e][1])+'"'
return i},O$.prototype.renderToken=function(t,e,n){const i=t[e]
let s=""
if(i.hidden)return""
i.block&&-1!==i.nesting&&e&&t[e-1].hidden&&(s+="\n"),s+=(-1===i.nesting?"</":"<")+i.tag,s+=this.renderAttrs(i),0===i.nesting&&n.xhtmlOut&&(s+=" /")
let o=!1
if(i.block&&(o=!0,1===i.nesting&&e+1<t.length)){const n=t[e+1];("inline"===n.type||n.hidden||-1===n.nesting&&n.tag===i.tag)&&(o=!1)}return s+=o?">\n":">",s},O$.prototype.renderInline=function(t,e,n){let i=""
const s=this.rules
for(let o=0,r=t.length;o<r;o++){const r=t[o].type
void 0!==s[r]?i+=s[r](t,o,e,n,this):i+=this.renderToken(t,o,e)}return i},O$.prototype.renderInlineAsText=function(t,e,n){let i=""
for(let s=0,o=t.length;s<o;s++)switch(t[s].type){case"text":case"html_inline":case"html_block":i+=t[s].content
break
case"image":i+=this.renderInlineAsText(t[s].children,e,n)
break
case"softbreak":case"hardbreak":i+="\n"}return i},O$.prototype.render=function(t,e,n){let i=""
const s=this.rules
for(let o=0,r=t.length;o<r;o++){const r=t[o].type
"inline"===r?i+=this.renderInline(t[o].children,e,n):void 0!==s[r]?i+=s[r](t,o,e,n,this):i+=this.renderToken(t,o,e,n)}return i},R$.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e
return-1},R$.prototype.__compile__=function(){const t=this,e=[""]
t.__rules__.forEach((function(t){t.enabled&&t.alt.forEach((function(t){e.indexOf(t)<0&&e.push(t)}))})),t.__cache__={},e.forEach((function(e){t.__cache__[e]=[],t.__rules__.forEach((function(n){n.enabled&&(e&&n.alt.indexOf(e)<0||t.__cache__[e].push(n.fn))}))}))},R$.prototype.at=function(t,e,n){const i=this.__find__(t),s=n||{}
if(-1===i)throw new Error("Parser rule not found: "+t)
this.__rules__[i].fn=e,this.__rules__[i].alt=s.alt||[],this.__cache__=null},R$.prototype.before=function(t,e,n,i){const s=this.__find__(t),o=i||{}
if(-1===s)throw new Error("Parser rule not found: "+t)
this.__rules__.splice(s,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},R$.prototype.after=function(t,e,n,i){const s=this.__find__(t),o=i||{}
if(-1===s)throw new Error("Parser rule not found: "+t)
this.__rules__.splice(s+1,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},R$.prototype.push=function(t,e,n){const i=n||{}
this.__rules__.push({name:t,enabled:!0,fn:e,alt:i.alt||[]}),this.__cache__=null},R$.prototype.enable=function(t,e){Array.isArray(t)||(t=[t])
const n=[]
return t.forEach((function(t){const i=this.__find__(t)
if(i<0){if(e)return
throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[i].enabled=!0,n.push(t)}),this),this.__cache__=null,n},R$.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach((function(t){t.enabled=!1})),this.enable(t,e)},R$.prototype.disable=function(t,e){Array.isArray(t)||(t=[t])
const n=[]
return t.forEach((function(t){const i=this.__find__(t)
if(i<0){if(e)return
throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[i].enabled=!1,n.push(t)}),this),this.__cache__=null,n},R$.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]||[]},F$.prototype.attrIndex=function(t){if(!this.attrs)return-1
const e=this.attrs
for(let n=0,i=e.length;n<i;n++)if(e[n][0]===t)return n
return-1},F$.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},F$.prototype.attrSet=function(t,e){const n=this.attrIndex(t),i=[t,e]
n<0?this.attrPush(i):this.attrs[n]=i},F$.prototype.attrGet=function(t){const e=this.attrIndex(t)
let n=null
return e>=0&&(n=this.attrs[e][1]),n},F$.prototype.attrJoin=function(t,e){const n=this.attrIndex(t)
n<0?this.attrPush([t,e]):this.attrs[n][1]=this.attrs[n][1]+" "+e},N$.prototype.Token=F$
const L$=/\r\n?|\n/g,B$=/\0/g
function P$(t){return/^<\/a\s*>/i.test(t)}const z$=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,V$=/\((c|tm|r)\)/i,H$=/\((c|tm|r)\)/gi,U$={c:"",r:"",tm:""}
function q$(t,e){return U$[e.toLowerCase()]}function j$(t){let e=0
for(let n=t.length-1;n>=0;n--){const i=t[n]
"text"!==i.type||e||(i.content=i.content.replace(H$,q$)),"link_open"===i.type&&"auto"===i.info&&e--,"link_close"===i.type&&"auto"===i.info&&e++}}function W$(t){let e=0
for(let n=t.length-1;n>=0;n--){const i=t[n]
"text"!==i.type||e||z$.test(i.content)&&(i.content=i.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1").replace(/(^|\s)--(?=\s|$)/gm,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1")),"link_open"===i.type&&"auto"===i.info&&e--,"link_close"===i.type&&"auto"===i.info&&e++}}const G$=/['"]/,Z$=/['"]/g,K$=""
function Y$(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function X$(t,e){let n
const i=[]
for(let s=0;s<t.length;s++){const o=t[s],r=t[s].level
for(n=i.length-1;n>=0&&!(i[n].level<=r);n--);if(i.length=n+1,"text"!==o.type)continue
let a=o.content,l=0,c=a.length
t:for(;l<c;){Z$.lastIndex=l
const d=Z$.exec(a)
if(!d)break
let h=!0,u=!0
l=d.index+1
const p="'"===d[0]
let f=32
if(d.index-1>=0)f=a.charCodeAt(d.index-1)
else for(n=s-1;n>=0&&("softbreak"!==t[n].type&&"hardbreak"!==t[n].type);n--)if(t[n].content){f=t[n].content.charCodeAt(t[n].content.length-1)
break}let m=32
if(l<c)m=a.charCodeAt(l)
else for(n=s+1;n<t.length&&("softbreak"!==t[n].type&&"hardbreak"!==t[n].type);n++)if(t[n].content){m=t[n].content.charCodeAt(0)
break}const g=M$(f)||I$(String.fromCharCode(f)),v=M$(m)||I$(String.fromCharCode(m)),b=_$(f),y=_$(m)
if(y?h=!1:v&&(b||g||(h=!1)),b?u=!1:g&&(y||v||(u=!1)),34===m&&'"'===d[0]&&f>=48&&f<=57&&(u=h=!1),h&&u&&(h=g,u=v),h||u){if(u)for(n=i.length-1;n>=0;n--){let h=i[n]
if(i[n].level<r)break
if(h.single===p&&i[n].level===r){let r,u
h=i[n],p?(r=e.md.options.quotes[2],u=e.md.options.quotes[3]):(r=e.md.options.quotes[0],u=e.md.options.quotes[1]),o.content=Y$(o.content,d.index,u),t[h.token].content=Y$(t[h.token].content,h.pos,r),l+=u.length-1,h.token===s&&(l+=r.length-1),a=o.content,c=a.length,i.length=n
continue t}}h?i.push({token:s,pos:d.index,single:p,level:r}):u&&p&&(o.content=Y$(o.content,d.index,K$))}else p&&(o.content=Y$(o.content,d.index,K$))}}}const J$=[["normalize",function(t){let e
e=t.src.replace(L$,"\n"),e=e.replace(B$,""),t.src=e}],["block",function(t){let e
t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}],["inline",function(t){const e=t.tokens
for(let n=0,i=e.length;n<i;n++){const i=e[n]
"inline"===i.type&&t.md.inline.parse(i.content,t.md,t.env,i.children)}}],["linkify",function(t){const e=t.tokens
var n
if(t.md.options.linkify)for(let i=0,s=e.length;i<s;i++){if("inline"!==e[i].type||!t.md.linkify.pretest(e[i].content))continue
let s=e[i].children,o=0
for(let r=s.length-1;r>=0;r--){const a=s[r]
if("link_close"!==a.type){if("html_inline"===a.type&&(n=a.content,/^<a[>\s]/i.test(n)&&o>0&&o--,P$(a.content)&&o++),!(o>0)&&"text"===a.type&&t.md.linkify.test(a.content)){const n=a.content
let o=t.md.linkify.match(n)
const l=[]
let c=a.level,d=0
o.length>0&&0===o[0].index&&r>0&&"text_special"===s[r-1].type&&(o=o.slice(1))
for(let e=0;e<o.length;e++){const i=o[e].url,s=t.md.normalizeLink(i)
if(!t.md.validateLink(s))continue
let r=o[e].text
r=o[e].schema?"mailto:"!==o[e].schema||/^mailto:/i.test(r)?t.md.normalizeLinkText(r):t.md.normalizeLinkText("mailto:"+r).replace(/^mailto:/,""):t.md.normalizeLinkText("http://"+r).replace(/^http:\/\//,"")
const a=o[e].index
if(a>d){const e=new t.Token("text","",0)
e.content=n.slice(d,a),e.level=c,l.push(e)}const h=new t.Token("link_open","a",1)
h.attrs=[["href",s]],h.level=c++,h.markup="linkify",h.info="auto",l.push(h)
const u=new t.Token("text","",0)
u.content=r,u.level=c,l.push(u)
const p=new t.Token("link_close","a",-1)
p.level=--c,p.markup="linkify",p.info="auto",l.push(p),d=o[e].lastIndex}if(d<n.length){const e=new t.Token("text","",0)
e.content=n.slice(d),e.level=c,l.push(e)}e[i].children=s=h$(s,r,l)}}else for(r--;s[r].level!==a.level&&"link_open"!==s[r].type;)r--}}}],["replacements",function(t){let e
if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&(V$.test(t.tokens[e].content)&&j$(t.tokens[e].children),z$.test(t.tokens[e].content)&&W$(t.tokens[e].children))}],["smartquotes",function(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&G$.test(t.tokens[e].content)&&X$(t.tokens[e].children,t)}],["text_join",function(t){let e,n
const i=t.tokens,s=i.length
for(let t=0;t<s;t++){if("inline"!==i[t].type)continue
const s=i[t].children,o=s.length
for(e=0;e<o;e++)"text_special"===s[e].type&&(s[e].type="text")
for(e=n=0;e<o;e++)"text"===s[e].type&&e+1<o&&"text"===s[e+1].type?s[e+1].content=s[e].content+s[e+1].content:(e!==n&&(s[n]=s[e]),n++)
e!==n&&(s.length=n)}}]]
function Q$(){this.ruler=new R$
for(let t=0;t<J$.length;t++)this.ruler.push(J$[t][0],J$[t][1])}function tD(t,e,n,i){this.src=t,this.md=e,this.env=n,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0
const s=this.src
for(let t=0,e=0,n=0,i=0,o=s.length,r=!1;e<o;e++){const a=s.charCodeAt(e)
if(!r){if(S$(a)){n++,9===a?i+=4-i%4:i++
continue}r=!0}10!==a&&e!==o-1||(10!==a&&e++,this.bMarks.push(t),this.eMarks.push(e),this.tShift.push(n),this.sCount.push(i),this.bsCount.push(0),r=!1,n=0,i=0,t=e+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Q$.prototype.process=function(t){const e=this.ruler.getRules("")
for(let n=0,i=e.length;n<i;n++)e[n](t)},Q$.prototype.State=N$,tD.prototype.push=function(t,e,n){const i=new F$(t,e,n)
return i.block=!0,n<0&&this.level--,i.level=this.level,n>0&&this.level++,this.tokens.push(i),i},tD.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},tD.prototype.skipEmptyLines=function(t){for(let e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},tD.prototype.skipSpaces=function(t){for(let e=this.src.length;t<e;t++){if(!S$(this.src.charCodeAt(t)))break}return t},tD.prototype.skipSpacesBack=function(t,e){if(t<=e)return t
for(;t>e;)if(!S$(this.src.charCodeAt(--t)))return t+1
return t},tD.prototype.skipChars=function(t,e){for(let n=this.src.length;t<n&&this.src.charCodeAt(t)===e;t++);return t},tD.prototype.skipCharsBack=function(t,e,n){if(t<=n)return t
for(;t>n;)if(e!==this.src.charCodeAt(--t))return t+1
return t},tD.prototype.getLines=function(t,e,n,i){if(t>=e)return""
const s=new Array(e-t)
for(let o=0,r=t;r<e;r++,o++){let t=0
const a=this.bMarks[r]
let l,c=a
for(l=r+1<e||i?this.eMarks[r]+1:this.eMarks[r];c<l&&t<n;){const e=this.src.charCodeAt(c)
if(S$(e))9===e?t+=4-(t+this.bsCount[r])%4:t++
else{if(!(c-a<this.tShift[r]))break
t++}c++}s[o]=t>n?new Array(t-n+1).join(" ")+this.src.slice(c,l):this.src.slice(c,l)}return s.join("")},tD.prototype.Token=F$
function eD(t,e){const n=t.bMarks[e]+t.tShift[e],i=t.eMarks[e]
return t.src.slice(n,i)}function nD(t){const e=[],n=t.length
let i=0,s=t.charCodeAt(i),o=!1,r=0,a=""
for(;i<n;)124===s&&(o?(a+=t.substring(r,i-1),r=i):(e.push(a+t.substring(r,i)),a="",r=i+1)),o=92===s,i++,s=t.charCodeAt(i)
return e.push(a+t.substring(r)),e}function iD(t,e){const n=t.eMarks[e]
let i=t.bMarks[e]+t.tShift[e]
const s=t.src.charCodeAt(i++)
if(42!==s&&45!==s&&43!==s)return-1
if(i<n){if(!S$(t.src.charCodeAt(i)))return-1}return i}function sD(t,e){const n=t.bMarks[e]+t.tShift[e],i=t.eMarks[e]
let s=n
if(s+1>=i)return-1
let o=t.src.charCodeAt(s++)
if(o<48||o>57)return-1
for(;;){if(s>=i)return-1
if(o=t.src.charCodeAt(s++),!(o>=48&&o<=57)){if(41===o||46===o)break
return-1}if(s-n>=10)return-1}return s<i&&(o=t.src.charCodeAt(s),!S$(o))?-1:s}const oD="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",rD="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",aD=new RegExp("^(?:"+oD+"|"+rD+"|\x3c!---?>|\x3c!--(?:[^-]|-[^-]|--[^>])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Za-z][^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),lD=new RegExp("^(?:"+oD+"|"+rD+")"),cD=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(lD.source+"\\s*$"),/^$/,!1]]
const dD=[["table",function(t,e,n,i){if(e+2>n)return!1
let s=e+1
if(t.sCount[s]<t.blkIndent)return!1
if(t.sCount[s]-t.blkIndent>=4)return!1
let o=t.bMarks[s]+t.tShift[s]
if(o>=t.eMarks[s])return!1
const r=t.src.charCodeAt(o++)
if(124!==r&&45!==r&&58!==r)return!1
if(o>=t.eMarks[s])return!1
const a=t.src.charCodeAt(o++)
if(124!==a&&45!==a&&58!==a&&!S$(a))return!1
if(45===r&&S$(a))return!1
for(;o<t.eMarks[s];){const e=t.src.charCodeAt(o)
if(124!==e&&45!==e&&58!==e&&!S$(e))return!1
o++}let l=eD(t,e+1),c=l.split("|")
const d=[]
for(let t=0;t<c.length;t++){const e=c[t].trim()
if(!e){if(0===t||t===c.length-1)continue
return!1}if(!/^:?-+:?$/.test(e))return!1
58===e.charCodeAt(e.length-1)?d.push(58===e.charCodeAt(0)?"center":"right"):58===e.charCodeAt(0)?d.push("left"):d.push("")}if(l=eD(t,e).trim(),-1===l.indexOf("|"))return!1
if(t.sCount[e]-t.blkIndent>=4)return!1
c=nD(l),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop()
const h=c.length
if(0===h||h!==d.length)return!1
if(i)return!0
const u=t.parentType
t.parentType="table"
const p=t.md.block.ruler.getRules("blockquote"),f=[e,0]
t.push("table_open","table",1).map=f,t.push("thead_open","thead",1).map=[e,e+1],t.push("tr_open","tr",1).map=[e,e+1]
for(let e=0;e<c.length;e++){const n=t.push("th_open","th",1)
d[e]&&(n.attrs=[["style","text-align:"+d[e]]])
const i=t.push("inline","",0)
i.content=c[e].trim(),i.children=[],t.push("th_close","th",-1)}let m
t.push("tr_close","tr",-1),t.push("thead_close","thead",-1)
let g=0
for(s=e+2;s<n&&!(t.sCount[s]<t.blkIndent);s++){let i=!1
for(let e=0,o=p.length;e<o;e++)if(p[e](t,s,n,!0)){i=!0
break}if(i)break
if(l=eD(t,s).trim(),!l)break
if(t.sCount[s]-t.blkIndent>=4)break
if(c=nD(l),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop(),g+=h-c.length,g>65536)break
if(s===e+2){t.push("tbody_open","tbody",1).map=m=[e+2,0]}t.push("tr_open","tr",1).map=[s,s+1]
for(let e=0;e<h;e++){const n=t.push("td_open","td",1)
d[e]&&(n.attrs=[["style","text-align:"+d[e]]])
const i=t.push("inline","",0)
i.content=c[e]?c[e].trim():"",i.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return m&&(t.push("tbody_close","tbody",-1),m[1]=s),t.push("table_close","table",-1),f[1]=s,t.parentType=u,t.line=s,!0},["paragraph","reference"]],["code",function(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1
let i=e+1,s=i
for(;i<n;)if(t.isEmpty(i))i++
else{if(!(t.sCount[i]-t.blkIndent>=4))break
i++,s=i}t.line=s
const o=t.push("code_block","code",0)
return o.content=t.getLines(e,s,4+t.blkIndent,!1)+"\n",o.map=[e,t.line],!0}],["fence",function(t,e,n,i){let s=t.bMarks[e]+t.tShift[e],o=t.eMarks[e]
if(t.sCount[e]-t.blkIndent>=4)return!1
if(s+3>o)return!1
const r=t.src.charCodeAt(s)
if(126!==r&&96!==r)return!1
let a=s
s=t.skipChars(s,r)
let l=s-a
if(l<3)return!1
const c=t.src.slice(a,s),d=t.src.slice(s,o)
if(96===r&&d.indexOf(String.fromCharCode(r))>=0)return!1
if(i)return!0
let h=e,u=!1
for(;(h++,!(h>=n))&&(s=a=t.bMarks[h]+t.tShift[h],o=t.eMarks[h],!(s<o&&t.sCount[h]<t.blkIndent));)if(t.src.charCodeAt(s)===r&&!(t.sCount[h]-t.blkIndent>=4||(s=t.skipChars(s,r),s-a<l||(s=t.skipSpaces(s),s<o)))){u=!0
break}l=t.sCount[e],t.line=h+(u?1:0)
const p=t.push("fence","code",0)
return p.info=d,p.content=t.getLines(e+1,h,l,!0),p.markup=c,p.map=[e,t.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(t,e,n,i){let s=t.bMarks[e]+t.tShift[e],o=t.eMarks[e]
const r=t.lineMax
if(t.sCount[e]-t.blkIndent>=4)return!1
if(62!==t.src.charCodeAt(s))return!1
if(i)return!0
const a=[],l=[],c=[],d=[],h=t.md.block.ruler.getRules("blockquote"),u=t.parentType
t.parentType="blockquote"
let p,f=!1
for(p=e;p<n;p++){const e=t.sCount[p]<t.blkIndent
if(s=t.bMarks[p]+t.tShift[p],o=t.eMarks[p],s>=o)break
if(62===t.src.charCodeAt(s++)&&!e){let e,n,i=t.sCount[p]+1
32===t.src.charCodeAt(s)?(s++,i++,n=!1,e=!0):9===t.src.charCodeAt(s)?(e=!0,(t.bsCount[p]+i)%4==3?(s++,i++,n=!1):n=!0):e=!1
let r=i
for(a.push(t.bMarks[p]),t.bMarks[p]=s;s<o;){const e=t.src.charCodeAt(s)
if(!S$(e))break
9===e?r+=4-(r+t.bsCount[p]+(n?1:0))%4:r++,s++}f=s>=o,l.push(t.bsCount[p]),t.bsCount[p]=t.sCount[p]+1+(e?1:0),c.push(t.sCount[p]),t.sCount[p]=r-i,d.push(t.tShift[p]),t.tShift[p]=s-t.bMarks[p]
continue}if(f)break
let i=!1
for(let e=0,s=h.length;e<s;e++)if(h[e](t,p,n,!0)){i=!0
break}if(i){t.lineMax=p,0!==t.blkIndent&&(a.push(t.bMarks[p]),l.push(t.bsCount[p]),d.push(t.tShift[p]),c.push(t.sCount[p]),t.sCount[p]-=t.blkIndent)
break}a.push(t.bMarks[p]),l.push(t.bsCount[p]),d.push(t.tShift[p]),c.push(t.sCount[p]),t.sCount[p]=-1}const m=t.blkIndent
t.blkIndent=0
const g=t.push("blockquote_open","blockquote",1)
g.markup=">"
const v=[e,0]
g.map=v,t.md.block.tokenize(t,e,p),t.push("blockquote_close","blockquote",-1).markup=">",t.lineMax=r,t.parentType=u,v[1]=t.line
for(let n=0;n<d.length;n++)t.bMarks[n+e]=a[n],t.tShift[n+e]=d[n],t.sCount[n+e]=c[n],t.bsCount[n+e]=l[n]
return t.blkIndent=m,!0},["paragraph","reference","blockquote","list"]],["hr",function(t,e,n,i){const s=t.eMarks[e]
if(t.sCount[e]-t.blkIndent>=4)return!1
let o=t.bMarks[e]+t.tShift[e]
const r=t.src.charCodeAt(o++)
if(42!==r&&45!==r&&95!==r)return!1
let a=1
for(;o<s;){const e=t.src.charCodeAt(o++)
if(e!==r&&!S$(e))return!1
e===r&&a++}if(a<3)return!1
if(i)return!0
t.line=e+1
const l=t.push("hr","hr",0)
return l.map=[e,t.line],l.markup=Array(a+1).join(String.fromCharCode(r)),!0},["paragraph","reference","blockquote","list"]],["list",function(t,e,n,i){let s,o,r,a,l=e,c=!0
if(t.sCount[l]-t.blkIndent>=4)return!1
if(t.listIndent>=0&&t.sCount[l]-t.listIndent>=4&&t.sCount[l]<t.blkIndent)return!1
let d,h,u,p=!1
if(i&&"paragraph"===t.parentType&&t.sCount[l]>=t.blkIndent&&(p=!0),(u=sD(t,l))>=0){if(d=!0,r=t.bMarks[l]+t.tShift[l],h=Number(t.src.slice(r,u-1)),p&&1!==h)return!1}else{if(!((u=iD(t,l))>=0))return!1
d=!1}if(p&&t.skipSpaces(u)>=t.eMarks[l])return!1
if(i)return!0
const f=t.src.charCodeAt(u-1),m=t.tokens.length
d?(a=t.push("ordered_list_open","ol",1),1!==h&&(a.attrs=[["start",h]])):a=t.push("bullet_list_open","ul",1)
const g=[l,0]
a.map=g,a.markup=String.fromCharCode(f)
let v=!1
const b=t.md.block.ruler.getRules("list"),y=t.parentType
for(t.parentType="list";l<n;){o=u,s=t.eMarks[l]
const e=t.sCount[l]+u-(t.bMarks[l]+t.tShift[l])
let i=e
for(;o<s;){const e=t.src.charCodeAt(o)
if(9===e)i+=4-(i+t.bsCount[l])%4
else{if(32!==e)break
i++}o++}const h=o
let p
p=h>=s?1:i-e,p>4&&(p=1)
const m=e+p
a=t.push("list_item_open","li",1),a.markup=String.fromCharCode(f)
const g=[l,0]
a.map=g,d&&(a.info=t.src.slice(r,u-1))
const y=t.tight,w=t.tShift[l],x=t.sCount[l],C=t.listIndent
if(t.listIndent=t.blkIndent,t.blkIndent=m,t.tight=!0,t.tShift[l]=h-t.bMarks[l],t.sCount[l]=i,h>=s&&t.isEmpty(l+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,l,n,!0),t.tight&&!v||(c=!1),v=t.line-l>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=C,t.tShift[l]=w,t.sCount[l]=x,t.tight=y,a=t.push("list_item_close","li",-1),a.markup=String.fromCharCode(f),l=t.line,g[1]=l,l>=n)break
if(t.sCount[l]<t.blkIndent)break
if(t.sCount[l]-t.blkIndent>=4)break
let k=!1
for(let e=0,i=b.length;e<i;e++)if(b[e](t,l,n,!0)){k=!0
break}if(k)break
if(d){if(u=sD(t,l),u<0)break
r=t.bMarks[l]+t.tShift[l]}else if(u=iD(t,l),u<0)break
if(f!==t.src.charCodeAt(u-1))break}return a=d?t.push("ordered_list_close","ol",-1):t.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(f),g[1]=l,t.line=l,t.parentType=y,c&&function(t,e){const n=t.level+2
for(let i=e+2,s=t.tokens.length-2;i<s;i++)t.tokens[i].level===n&&"paragraph_open"===t.tokens[i].type&&(t.tokens[i+2].hidden=!0,t.tokens[i].hidden=!0,i+=2)}(t,m),!0},["paragraph","reference","blockquote"]],["reference",function(t,e,n,i){let s=t.bMarks[e]+t.tShift[e],o=t.eMarks[e],r=e+1
if(t.sCount[e]-t.blkIndent>=4)return!1
if(91!==t.src.charCodeAt(s))return!1
function a(e){const n=t.lineMax
if(e>=n||t.isEmpty(e))return null
let i=!1
if(t.sCount[e]-t.blkIndent>3&&(i=!0),t.sCount[e]<0&&(i=!0),!i){const i=t.md.block.ruler.getRules("reference"),s=t.parentType
t.parentType="reference"
let o=!1
for(let s=0,r=i.length;s<r;s++)if(i[s](t,e,n,!0)){o=!0
break}if(t.parentType=s,o)return null}const s=t.bMarks[e]+t.tShift[e],o=t.eMarks[e]
return t.src.slice(s,o+1)}let l=t.src.slice(s,o+1)
o=l.length
let c=-1
for(s=1;s<o;s++){const t=l.charCodeAt(s)
if(91===t)return!1
if(93===t){c=s
break}if(10===t){const t=a(r)
null!==t&&(l+=t,o=l.length,r++)}else if(92===t&&(s++,s<o&&10===l.charCodeAt(s))){const t=a(r)
null!==t&&(l+=t,o=l.length,r++)}}if(c<0||58!==l.charCodeAt(c+1))return!1
for(s=c+2;s<o;s++){const t=l.charCodeAt(s)
if(10===t){const t=a(r)
null!==t&&(l+=t,o=l.length,r++)}else if(!S$(t))break}const d=t.md.helpers.parseLinkDestination(l,s,o)
if(!d.ok)return!1
const h=t.md.normalizeLink(d.str)
if(!t.md.validateLink(h))return!1
s=d.pos
const u=s,p=r,f=s
for(;s<o;s++){const t=l.charCodeAt(s)
if(10===t){const t=a(r)
null!==t&&(l+=t,o=l.length,r++)}else if(!S$(t))break}let m,g=t.md.helpers.parseLinkTitle(l,s,o)
for(;g.can_continue;){const e=a(r)
if(null===e)break
l+=e,s=o,o=l.length,r++,g=t.md.helpers.parseLinkTitle(l,s,o,g)}for(s<o&&f!==s&&g.ok?(m=g.str,s=g.pos):(m="",s=u,r=p);s<o;){if(!S$(l.charCodeAt(s)))break
s++}if(s<o&&10!==l.charCodeAt(s)&&m)for(m="",s=u,r=p;s<o;){if(!S$(l.charCodeAt(s)))break
s++}if(s<o&&10!==l.charCodeAt(s))return!1
const v=$$(l.slice(1,c))
return!!v&&(i||(void 0===t.env.references&&(t.env.references={}),void 0===t.env.references[v]&&(t.env.references[v]={title:m,href:h}),t.line=r),!0)}],["html_block",function(t,e,n,i){let s=t.bMarks[e]+t.tShift[e],o=t.eMarks[e]
if(t.sCount[e]-t.blkIndent>=4)return!1
if(!t.md.options.html)return!1
if(60!==t.src.charCodeAt(s))return!1
let r=t.src.slice(s,o),a=0
for(;a<cD.length&&!cD[a][0].test(r);a++);if(a===cD.length)return!1
if(i)return cD[a][2]
let l=e+1
if(!cD[a][1].test(r))for(;l<n&&!(t.sCount[l]<t.blkIndent);l++)if(s=t.bMarks[l]+t.tShift[l],o=t.eMarks[l],r=t.src.slice(s,o),cD[a][1].test(r)){0!==r.length&&l++
break}t.line=l
const c=t.push("html_block","",0)
return c.map=[e,l],c.content=t.getLines(e,l,t.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(t,e,n,i){let s=t.bMarks[e]+t.tShift[e],o=t.eMarks[e]
if(t.sCount[e]-t.blkIndent>=4)return!1
let r=t.src.charCodeAt(s)
if(35!==r||s>=o)return!1
let a=1
for(r=t.src.charCodeAt(++s);35===r&&s<o&&a<=6;)a++,r=t.src.charCodeAt(++s)
if(a>6||s<o&&!S$(r))return!1
if(i)return!0
o=t.skipSpacesBack(o,s)
const l=t.skipCharsBack(o,35,s)
l>s&&S$(t.src.charCodeAt(l-1))&&(o=l),t.line=e+1
const c=t.push("heading_open","h"+String(a),1)
c.markup="########".slice(0,a),c.map=[e,t.line]
const d=t.push("inline","",0)
return d.content=t.src.slice(s,o).trim(),d.map=[e,t.line],d.children=[],t.push("heading_close","h"+String(a),-1).markup="########".slice(0,a),!0},["paragraph","reference","blockquote"]],["lheading",function(t,e,n){const i=t.md.block.ruler.getRules("paragraph")
if(t.sCount[e]-t.blkIndent>=4)return!1
const s=t.parentType
t.parentType="paragraph"
let o,r=0,a=e+1
for(;a<n&&!t.isEmpty(a);a++){if(t.sCount[a]-t.blkIndent>3)continue
if(t.sCount[a]>=t.blkIndent){let e=t.bMarks[a]+t.tShift[a]
const n=t.eMarks[a]
if(e<n&&(o=t.src.charCodeAt(e),(45===o||61===o)&&(e=t.skipChars(e,o),e=t.skipSpaces(e),e>=n))){r=61===o?1:2
break}}if(t.sCount[a]<0)continue
let e=!1
for(let s=0,o=i.length;s<o;s++)if(i[s](t,a,n,!0)){e=!0
break}if(e)break}if(!r)return!1
const l=t.getLines(e,a,t.blkIndent,!1).trim()
t.line=a+1
const c=t.push("heading_open","h"+String(r),1)
c.markup=String.fromCharCode(o),c.map=[e,t.line]
const d=t.push("inline","",0)
return d.content=l,d.map=[e,t.line-1],d.children=[],t.push("heading_close","h"+String(r),-1).markup=String.fromCharCode(o),t.parentType=s,!0}],["paragraph",function(t,e,n){const i=t.md.block.ruler.getRules("paragraph"),s=t.parentType
let o=e+1
for(t.parentType="paragraph";o<n&&!t.isEmpty(o);o++){if(t.sCount[o]-t.blkIndent>3)continue
if(t.sCount[o]<0)continue
let e=!1
for(let s=0,r=i.length;s<r;s++)if(i[s](t,o,n,!0)){e=!0
break}if(e)break}const r=t.getLines(e,o,t.blkIndent,!1).trim()
t.line=o,t.push("paragraph_open","p",1).map=[e,t.line]
const a=t.push("inline","",0)
return a.content=r,a.map=[e,t.line],a.children=[],t.push("paragraph_close","p",-1),t.parentType=s,!0}]]
function hD(){this.ruler=new R$
for(let t=0;t<dD.length;t++)this.ruler.push(dD[t][0],dD[t][1],{alt:(dD[t][2]||[]).slice()})}function uD(t,e,n,i){this.src=t,this.env=n,this.md=e,this.tokens=i,this.tokens_meta=Array(i.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}function pD(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0
default:return!1}}hD.prototype.tokenize=function(t,e,n){const i=this.ruler.getRules(""),s=i.length,o=t.md.options.maxNesting
let r=e,a=!1
for(;r<n&&(t.line=r=t.skipEmptyLines(r),!(r>=n))&&!(t.sCount[r]<t.blkIndent);){if(t.level>=o){t.line=n
break}const e=t.line
let l=!1
for(let o=0;o<s;o++)if(l=i[o](t,r,n,!1),l){if(e>=t.line)throw new Error("block rule didn't increment state.line")
break}if(!l)throw new Error("none of the block rules matched")
t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),r=t.line,r<n&&t.isEmpty(r)&&(a=!0,r++,t.line=r)}},hD.prototype.parse=function(t,e,n,i){if(!t)return
const s=new this.State(t,e,n,i)
this.tokenize(s,s.line,s.lineMax)},hD.prototype.State=tD,uD.prototype.pushPending=function(){const t=new F$("text","",0)
return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t},uD.prototype.push=function(t,e,n){this.pending&&this.pushPending()
const i=new F$(t,e,n)
let s=null
return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),i.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],s={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(i),this.tokens_meta.push(s),i},uD.prototype.scanDelims=function(t,e){const n=this.posMax,i=this.src.charCodeAt(t),s=t>0?this.src.charCodeAt(t-1):32
let o=t
for(;o<n&&this.src.charCodeAt(o)===i;)o++
const r=o-t,a=o<n?this.src.charCodeAt(o):32,l=M$(s)||I$(String.fromCharCode(s)),c=M$(a)||I$(String.fromCharCode(a)),d=_$(s),h=_$(a),u=!h&&(!c||d||l),p=!d&&(!l||h||c)
return{can_open:u&&(e||!p||l),can_close:p&&(e||!u||c),length:r}},uD.prototype.Token=F$
const fD=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i
const mD=[]
for(let t=0;t<256;t++)mD.push(0)
function gD(t,e){let n
const i=[],s=e.length
for(let o=0;o<s;o++){const s=e[o]
if(126!==s.marker)continue
if(-1===s.end)continue
const r=e[s.end]
n=t.tokens[s.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[r.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="","text"===t.tokens[r.token-1].type&&"~"===t.tokens[r.token-1].content&&i.push(r.token-1)}for(;i.length;){const e=i.pop()
let s=e+1
for(;s<t.tokens.length&&"s_close"===t.tokens[s].type;)s++
s--,e!==s&&(n=t.tokens[s],t.tokens[s]=t.tokens[e],t.tokens[e]=n)}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(t){mD[t.charCodeAt(0)]=1}))
var vD={tokenize:function(t,e){const n=t.pos,i=t.src.charCodeAt(n)
if(e)return!1
if(126!==i)return!1
const s=t.scanDelims(t.pos,!0)
let o=s.length
const r=String.fromCharCode(i)
if(o<2)return!1
let a
o%2&&(a=t.push("text","",0),a.content=r,o--)
for(let e=0;e<o;e+=2)a=t.push("text","",0),a.content=r+r,t.delimiters.push({marker:i,length:0,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close})
return t.pos+=s.length,!0},postProcess:function(t){const e=t.tokens_meta,n=t.tokens_meta.length
gD(t,t.delimiters)
for(let i=0;i<n;i++)e[i]&&e[i].delimiters&&gD(t,e[i].delimiters)}}
function bD(t,e){for(let n=e.length-1;n>=0;n--){const i=e[n]
if(95!==i.marker&&42!==i.marker)continue
if(-1===i.end)continue
const s=e[i.end],o=n>0&&e[n-1].end===i.end+1&&e[n-1].marker===i.marker&&e[n-1].token===i.token-1&&e[i.end+1].token===s.token+1,r=String.fromCharCode(i.marker),a=t.tokens[i.token]
a.type=o?"strong_open":"em_open",a.tag=o?"strong":"em",a.nesting=1,a.markup=o?r+r:r,a.content=""
const l=t.tokens[s.token]
l.type=o?"strong_close":"em_close",l.tag=o?"strong":"em",l.nesting=-1,l.markup=o?r+r:r,l.content="",o&&(t.tokens[e[n-1].token].content="",t.tokens[e[i.end+1].token].content="",n--)}}var yD={tokenize:function(t,e){const n=t.pos,i=t.src.charCodeAt(n)
if(e)return!1
if(95!==i&&42!==i)return!1
const s=t.scanDelims(t.pos,42===i)
for(let e=0;e<s.length;e++){t.push("text","",0).content=String.fromCharCode(i),t.delimiters.push({marker:i,length:s.length,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close})}return t.pos+=s.length,!0},postProcess:function(t){const e=t.tokens_meta,n=t.tokens_meta.length
bD(t,t.delimiters)
for(let i=0;i<n;i++)e[i]&&e[i].delimiters&&bD(t,e[i].delimiters)}}
const wD=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,xD=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/
const CD=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,kD=/^&([a-z][a-z0-9]{1,31});/i
function SD(t){const e={},n=t.length
if(!n)return
let i=0,s=-2
const o=[]
for(let r=0;r<n;r++){const n=t[r]
if(o.push(0),t[i].marker===n.marker&&s===n.token-1||(i=r),s=n.token,n.length=n.length||0,!n.close)continue
e.hasOwnProperty(n.marker)||(e[n.marker]=[-1,-1,-1,-1,-1,-1])
const a=e[n.marker][(n.open?3:0)+n.length%3]
let l=i-o[i]-1,c=l
for(;l>a;l-=o[l]+1){const e=t[l]
if(e.marker===n.marker&&(e.open&&e.end<0)){let i=!1
if((e.close||n.open)&&(e.length+n.length)%3==0&&(e.length%3==0&&n.length%3==0||(i=!0)),!i){const i=l>0&&!t[l-1].open?o[l-1]+1:0
o[r]=r-l+i,o[l]=i,n.open=!1,e.end=r,e.close=!1,c=-1,s=-2
break}}}-1!==c&&(e[n.marker][(n.open?3:0)+(n.length||0)%3]=c)}}const _D=[["text",function(t,e){let n=t.pos
for(;n<t.posMax&&!pD(t.src.charCodeAt(n));)n++
return n!==t.pos&&(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}],["linkify",function(t,e){if(!t.md.options.linkify)return!1
if(t.linkLevel>0)return!1
const n=t.pos
if(n+3>t.posMax)return!1
if(58!==t.src.charCodeAt(n))return!1
if(47!==t.src.charCodeAt(n+1))return!1
if(47!==t.src.charCodeAt(n+2))return!1
const i=t.pending.match(fD)
if(!i)return!1
const s=i[1],o=t.md.linkify.matchAtStart(t.src.slice(n-s.length))
if(!o)return!1
let r=o.url
if(r.length<=s.length)return!1
r=r.replace(/\*+$/,"")
const a=t.md.normalizeLink(r)
if(!t.md.validateLink(a))return!1
if(!e){t.pending=t.pending.slice(0,-s.length)
const e=t.push("link_open","a",1)
e.attrs=[["href",a]],e.markup="linkify",e.info="auto"
t.push("text","",0).content=t.md.normalizeLinkText(r)
const n=t.push("link_close","a",-1)
n.markup="linkify",n.info="auto"}return t.pos+=r.length-s.length,!0}],["newline",function(t,e){let n=t.pos
if(10!==t.src.charCodeAt(n))return!1
const i=t.pending.length-1,s=t.posMax
if(!e)if(i>=0&&32===t.pending.charCodeAt(i))if(i>=1&&32===t.pending.charCodeAt(i-1)){let e=i-1
for(;e>=1&&32===t.pending.charCodeAt(e-1);)e--
t.pending=t.pending.slice(0,e),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0)
else t.push("softbreak","br",0)
for(n++;n<s&&S$(t.src.charCodeAt(n));)n++
return t.pos=n,!0}],["escape",function(t,e){let n=t.pos
const i=t.posMax
if(92!==t.src.charCodeAt(n))return!1
if(n++,n>=i)return!1
let s=t.src.charCodeAt(n)
if(10===s){for(e||t.push("hardbreak","br",0),n++;n<i&&(s=t.src.charCodeAt(n),S$(s));)n++
return t.pos=n,!0}let o=t.src[n]
if(s>=55296&&s<=56319&&n+1<i){const e=t.src.charCodeAt(n+1)
e>=56320&&e<=57343&&(o+=t.src[n+1],n++)}const r="\\"+o
if(!e){const e=t.push("text_special","",0)
s<256&&0!==mD[s]?e.content=o:e.content=r,e.markup=r,e.info="escape"}return t.pos=n+1,!0}],["backticks",function(t,e){let n=t.pos
if(96!==t.src.charCodeAt(n))return!1
const i=n
n++
const s=t.posMax
for(;n<s&&96===t.src.charCodeAt(n);)n++
const o=t.src.slice(i,n),r=o.length
if(t.backticksScanned&&(t.backticks[r]||0)<=i)return e||(t.pending+=o),t.pos+=r,!0
let a,l=n
for(;-1!==(a=t.src.indexOf("`",l));){for(l=a+1;l<s&&96===t.src.charCodeAt(l);)l++
const i=l-a
if(i===r){if(!e){const e=t.push("code_inline","code",0)
e.markup=o,e.content=t.src.slice(n,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=l,!0}t.backticks[i]=a}return t.backticksScanned=!0,e||(t.pending+=o),t.pos+=r,!0}],["strikethrough",vD.tokenize],["emphasis",yD.tokenize],["link",function(t,e){let n,i,s,o,r="",a="",l=t.pos,c=!0
if(91!==t.src.charCodeAt(t.pos))return!1
const d=t.pos,h=t.posMax,u=t.pos+1,p=t.md.helpers.parseLinkLabel(t,t.pos,!0)
if(p<0)return!1
let f=p+1
if(f<h&&40===t.src.charCodeAt(f)){for(c=!1,f++;f<h&&(n=t.src.charCodeAt(f),S$(n)||10===n);f++);if(f>=h)return!1
if(l=f,s=t.md.helpers.parseLinkDestination(t.src,f,t.posMax),s.ok){for(r=t.md.normalizeLink(s.str),t.md.validateLink(r)?f=s.pos:r="",l=f;f<h&&(n=t.src.charCodeAt(f),S$(n)||10===n);f++);if(s=t.md.helpers.parseLinkTitle(t.src,f,t.posMax),f<h&&l!==f&&s.ok)for(a=s.str,f=s.pos;f<h&&(n=t.src.charCodeAt(f),S$(n)||10===n);f++);}(f>=h||41!==t.src.charCodeAt(f))&&(c=!0),f++}if(c){if(void 0===t.env.references)return!1
if(f<h&&91===t.src.charCodeAt(f)?(l=f+1,f=t.md.helpers.parseLinkLabel(t,f),f>=0?i=t.src.slice(l,f++):f=p+1):f=p+1,i||(i=t.src.slice(u,p)),o=t.env.references[$$(i)],!o)return t.pos=d,!1
r=o.href,a=o.title}if(!e){t.pos=u,t.posMax=p
const e=[["href",r]]
t.push("link_open","a",1).attrs=e,a&&e.push(["title",a]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=f,t.posMax=h,!0}],["image",function(t,e){let n,i,s,o,r,a,l,c,d=""
const h=t.pos,u=t.posMax
if(33!==t.src.charCodeAt(t.pos))return!1
if(91!==t.src.charCodeAt(t.pos+1))return!1
const p=t.pos+2,f=t.md.helpers.parseLinkLabel(t,t.pos+1,!1)
if(f<0)return!1
if(o=f+1,o<u&&40===t.src.charCodeAt(o)){for(o++;o<u&&(n=t.src.charCodeAt(o),S$(n)||10===n);o++);if(o>=u)return!1
for(c=o,a=t.md.helpers.parseLinkDestination(t.src,o,t.posMax),a.ok&&(d=t.md.normalizeLink(a.str),t.md.validateLink(d)?o=a.pos:d=""),c=o;o<u&&(n=t.src.charCodeAt(o),S$(n)||10===n);o++);if(a=t.md.helpers.parseLinkTitle(t.src,o,t.posMax),o<u&&c!==o&&a.ok)for(l=a.str,o=a.pos;o<u&&(n=t.src.charCodeAt(o),S$(n)||10===n);o++);else l=""
if(o>=u||41!==t.src.charCodeAt(o))return t.pos=h,!1
o++}else{if(void 0===t.env.references)return!1
if(o<u&&91===t.src.charCodeAt(o)?(c=o+1,o=t.md.helpers.parseLinkLabel(t,o),o>=0?s=t.src.slice(c,o++):o=f+1):o=f+1,s||(s=t.src.slice(p,f)),r=t.env.references[$$(s)],!r)return t.pos=h,!1
d=r.href,l=r.title}if(!e){i=t.src.slice(p,f)
const e=[]
t.md.inline.parse(i,t.md,t.env,e)
const n=t.push("image","img",0),s=[["src",d],["alt",""]]
n.attrs=s,n.children=e,n.content=i,l&&s.push(["title",l])}return t.pos=o,t.posMax=u,!0}],["autolink",function(t,e){let n=t.pos
if(60!==t.src.charCodeAt(n))return!1
const i=t.pos,s=t.posMax
for(;;){if(++n>=s)return!1
const e=t.src.charCodeAt(n)
if(60===e)return!1
if(62===e)break}const o=t.src.slice(i+1,n)
if(xD.test(o)){const n=t.md.normalizeLink(o)
if(!t.md.validateLink(n))return!1
if(!e){const e=t.push("link_open","a",1)
e.attrs=[["href",n]],e.markup="autolink",e.info="auto"
t.push("text","",0).content=t.md.normalizeLinkText(o)
const i=t.push("link_close","a",-1)
i.markup="autolink",i.info="auto"}return t.pos+=o.length+2,!0}if(wD.test(o)){const n=t.md.normalizeLink("mailto:"+o)
if(!t.md.validateLink(n))return!1
if(!e){const e=t.push("link_open","a",1)
e.attrs=[["href",n]],e.markup="autolink",e.info="auto"
t.push("text","",0).content=t.md.normalizeLinkText(o)
const i=t.push("link_close","a",-1)
i.markup="autolink",i.info="auto"}return t.pos+=o.length+2,!0}return!1}],["html_inline",function(t,e){if(!t.md.options.html)return!1
const n=t.posMax,i=t.pos
if(60!==t.src.charCodeAt(i)||i+2>=n)return!1
const s=t.src.charCodeAt(i+1)
if(33!==s&&63!==s&&47!==s&&!function(t){const e=32|t
return e>=97&&e<=122}(s))return!1
const o=t.src.slice(i).match(aD)
if(!o)return!1
if(!e){const e=t.push("html_inline","",0)
e.content=o[0],r=e.content,/^<a[>\s]/i.test(r)&&t.linkLevel++,function(t){return/^<\/a\s*>/i.test(t)}(e.content)&&t.linkLevel--}var r
return t.pos+=o[0].length,!0}],["entity",function(t,e){const n=t.pos,i=t.posMax
if(38!==t.src.charCodeAt(n))return!1
if(n+1>=i)return!1
if(35===t.src.charCodeAt(n+1)){const i=t.src.slice(n).match(CD)
if(i){if(!e){const e="x"===i[1][0].toLowerCase()?parseInt(i[1].slice(1),16):parseInt(i[1],10),n=t.push("text_special","",0)
n.content=u$(e)?p$(e):p$(65533),n.markup=i[0],n.info="entity"}return t.pos+=i[0].length,!0}}else{const i=t.src.slice(n).match(kD)
if(i){const n=a$(i[0])
if(n!==i[0]){if(!e){const e=t.push("text_special","",0)
e.content=n,e.markup=i[0],e.info="entity"}return t.pos+=i[0].length,!0}}}return!1}]],ID=[["balance_pairs",function(t){const e=t.tokens_meta,n=t.tokens_meta.length
SD(t.delimiters)
for(let t=0;t<n;t++)e[t]&&e[t].delimiters&&SD(e[t].delimiters)}],["strikethrough",vD.postProcess],["emphasis",yD.postProcess],["fragments_join",function(t){let e,n,i=0
const s=t.tokens,o=t.tokens.length
for(e=n=0;e<o;e++)s[e].nesting<0&&i--,s[e].level=i,s[e].nesting>0&&i++,"text"===s[e].type&&e+1<o&&"text"===s[e+1].type?s[e+1].content=s[e].content+s[e+1].content:(e!==n&&(s[n]=s[e]),n++)
e!==n&&(s.length=n)}]]
function MD(){this.ruler=new R$
for(let t=0;t<_D.length;t++)this.ruler.push(_D[t][0],_D[t][1])
this.ruler2=new R$
for(let t=0;t<ID.length;t++)this.ruler2.push(ID[t][0],ID[t][1])}function $D(t){return Array.prototype.slice.call(arguments,1).forEach((function(e){e&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t}function DD(t){return Object.prototype.toString.call(t)}function ED(t){return"[object Function]"===DD(t)}function AD(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}MD.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),i=n.length,s=t.md.options.maxNesting,o=t.cache
if(void 0!==o[e])return void(t.pos=o[e])
let r=!1
if(t.level<s){for(let s=0;s<i;s++)if(t.level++,r=n[s](t,!0),t.level--,r){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos")
break}}else t.pos=t.posMax
r||t.pos++,o[e]=t.pos},MD.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,i=t.posMax,s=t.md.options.maxNesting
for(;t.pos<i;){const o=t.pos
let r=!1
if(t.level<s)for(let i=0;i<n;i++)if(r=e[i](t,!1),r){if(o>=t.pos)throw new Error("inline rule didn't increment state.pos")
break}if(r){if(t.pos>=i)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},MD.prototype.parse=function(t,e,n,i){const s=new this.State(t,e,n,i)
this.tokenize(s)
const o=this.ruler2.getRules(""),r=o.length
for(let t=0;t<r;t++)o[t](s)},MD.prototype.State=uD
const TD={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1}
const OD={"http:":{validate:function(t,e,n){const i=t.slice(e)
return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(i)?i.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const i=t.slice(e)
return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(i)?e>=3&&":"===t[e-3]||e>=3&&"/"===t[e-3]?0:i.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const i=t.slice(e)
return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(i)?i.match(n.re.mailto)[0].length:0}}},RD="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",FD="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|")
function ND(t){const e=t.re=function(t){const e={}
t=t||{},e.src_Any=zM.source,e.src_Cc=VM.source,e.src_Z=qM.source,e.src_P=HM.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|")
const n="[><]"
return e.src_pseudo_letter="(?:(?![><]|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|[><]|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy='(^|[><]|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}(t.__opts__),n=t.__tlds__.slice()
function i(t){return t.replace("%TLDS%",e.src_tlds)}t.onCompile(),t.__tlds_replaced__||n.push(RD),n.push(e.src_xn),e.src_tlds=n.join("|"),e.email_fuzzy=RegExp(i(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(i(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(i(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(i(e.tpl_host_fuzzy_test),"i")
const s=[]
function o(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}t.__compiled__={},Object.keys(t.__schemas__).forEach((function(e){const n=t.__schemas__[e]
if(null===n)return
const i={validate:null,link:null}
if(t.__compiled__[e]=i,"[object Object]"===DD(n))return!function(t){return"[object RegExp]"===DD(t)}(n.validate)?ED(n.validate)?i.validate=n.validate:o(e,n):i.validate=function(t){return function(e,n){const i=e.slice(n)
return t.test(i)?i.match(t)[0].length:0}}(n.validate),void(ED(n.normalize)?i.normalize=n.normalize:n.normalize?o(e,n):i.normalize=function(t,e){e.normalize(t)})
!function(t){return"[object String]"===DD(t)}(n)?o(e,n):s.push(e)})),s.forEach((function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)})),t.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}}
const r=Object.keys(t.__compiled__).filter((function(e){return e.length>0&&t.__compiled__[e]})).map(AD).join("|")
t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+r+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+r+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(t)}function LD(t,e){const n=t.__index__,i=t.__last_index__,s=t.__text_cache__.slice(n,i)
this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=i+e,this.raw=s,this.text=s,this.url=s}function BD(t,e){const n=new LD(t,e)
return t.__compiled__[n.schema].normalize(n,t),n}function PD(t,e){if(!(this instanceof PD))return new PD(t,e)
var n
e||(n=t,Object.keys(n||{}).reduce((function(t,e){return t||TD.hasOwnProperty(e)}),!1)&&(e=t,t={})),this.__opts__=$D({},TD,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=$D({},OD,t),this.__compiled__={},this.__tlds__=FD,this.__tlds_replaced__=!1,this.re={},ND(this)}PD.prototype.add=function(t,e){return this.__schemas__[t]=e,ND(this),this},PD.prototype.set=function(t){return this.__opts__=$D(this.__opts__,t),this},PD.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1
let e,n,i,s,o,r,a,l,c
if(this.re.schema_test.test(t))for(a=this.re.schema_search,a.lastIndex=0;null!==(e=a.exec(t));)if(s=this.testSchemaAt(t,e[2],a.lastIndex),s){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+s
break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=t.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&null!==(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=t.indexOf("@"),c>=0&&null!==(i=t.match(this.re.email_fuzzy))&&(o=i.index+i[1].length,r=i.index+i[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&r>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=r))),this.__index__>=0},PD.prototype.pretest=function(t){return this.re.pretest.test(t)},PD.prototype.testSchemaAt=function(t,e,n){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,n,this):0},PD.prototype.match=function(t){const e=[]
let n=0
this.__index__>=0&&this.__text_cache__===t&&(e.push(BD(this,n)),n=this.__last_index__)
let i=n?t.slice(n):t
for(;this.test(i);)e.push(BD(this,n)),i=i.slice(this.__last_index__),n+=this.__last_index__
return e.length?e:null},PD.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null
const e=this.re.schema_at_start.exec(t)
if(!e)return null
const n=this.testSchemaAt(t,e[2],e[0].length)
return n?(this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+n,BD(this,0)):null},PD.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter((function(t,e,n){return t!==n[e-1]})).reverse(),ND(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,ND(this),this)},PD.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},PD.prototype.onCompile=function(){}
const zD=2147483647,VD=36,HD=/^xn--/,UD=/[^\0-\x7F]/,qD=/[\x2E\u3002\uFF0E\uFF61]/g,jD={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},WD=Math.floor,GD=String.fromCharCode
function ZD(t){throw new RangeError(jD[t])}function KD(t,e){const n=t.split("@")
let i=""
n.length>1&&(i=n[0]+"@",t=n[1])
const s=function(t,e){const n=[]
let i=t.length
for(;i--;)n[i]=e(t[i])
return n}((t=t.replace(qD,".")).split("."),e).join(".")
return i+s}const YD=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},XD=function(t,e,n){let i=0
for(t=n?WD(t/700):t>>1,t+=WD(t/e);t>455;i+=VD)t=WD(t/35)
return WD(i+36*t/(t+38))},JD={toASCII:function(t){return KD(t,(function(t){return UD.test(t)?"xn--"+function(t){const e=[]
t=function(t){const e=[]
let n=0
const i=t.length
for(;n<i;){const s=t.charCodeAt(n++)
if(s>=55296&&s<=56319&&n<i){const i=t.charCodeAt(n++)
56320==(64512&i)?e.push(((1023&s)<<10)+(1023&i)+65536):(e.push(s),n--)}else e.push(s)}return e}(t)
const n=t.length
let i=128,s=0,o=72
for(const n of t)n<128&&e.push(GD(n))
const r=e.length
let a=r
for(r&&e.push("-");a<n;){let n=zD
for(const e of t)e>=i&&e<n&&(n=e)
const l=a+1
n-i>WD((zD-s)/l)&&ZD("overflow"),s+=(n-i)*l,i=n
for(const n of t)if(n<i&&++s>zD&&ZD("overflow"),n===i){let t=s
for(let n=VD;;n+=VD){const i=n<=o?1:n>=o+26?26:n-o
if(t<i)break
const s=t-i,r=VD-i
e.push(GD(YD(i+s%r,0))),t=WD(s/r)}e.push(GD(YD(t,0))),o=XD(s,l,a===r),s=0,++a}++s,++i}return e.join("")}(t):t}))},toUnicode:function(t){return KD(t,(function(t){return HD.test(t)?function(t){const e=[],n=t.length
let i=0,s=128,o=72,r=t.lastIndexOf("-")
r<0&&(r=0)
for(let n=0;n<r;++n)t.charCodeAt(n)>=128&&ZD("not-basic"),e.push(t.charCodeAt(n))
for(let l=r>0?r+1:0;l<n;){const r=i
for(let e=1,s=VD;;s+=VD){l>=n&&ZD("invalid-input")
const r=(a=t.charCodeAt(l++))>=48&&a<58?a-48+26:a>=65&&a<91?a-65:a>=97&&a<123?a-97:VD
r>=VD&&ZD("invalid-input"),r>WD((zD-i)/e)&&ZD("overflow"),i+=r*e
const c=s<=o?1:s>=o+26?26:s-o
if(r<c)break
const d=VD-c
e>WD(zD/d)&&ZD("overflow"),e*=d}const c=e.length+1
o=XD(i-r,c,0==r),WD(i/c)>zD-s&&ZD("overflow"),s+=WD(i/c),i%=c,e.splice(i++,0,s)}var a
return String.fromCodePoint(...e)}(t.slice(4).toLowerCase()):t}))}}
const QD={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},tE=/^(vbscript|javascript|file|data):/,eE=/^data:image\/(gif|png|jpeg|webp);/
function nE(t){const e=t.trim().toLowerCase()
return!tE.test(e)||eE.test(e)}const iE=["http:","https:","mailto:"]
function sE(t){const e=LM(t,!0)
if(e.hostname&&(!e.protocol||iE.indexOf(e.protocol)>=0))try{e.hostname=JD.toASCII(e.hostname)}catch(t){}return kM(SM(e))}function oE(t){const e=LM(t,!0)
if(e.hostname&&(!e.protocol||iE.indexOf(e.protocol)>=0))try{e.hostname=JD.toUnicode(e.hostname)}catch(t){}return xM(SM(e),xM.defaultChars+"%")}function rE(t,e){if(!(this instanceof rE))return new rE(t,e)
e||l$(t)||(e=t||{},t="default"),this.inline=new MD,this.block=new hD,this.core=new Q$,this.renderer=new O$,this.linkify=new PD,this.validateLink=nE,this.normalizeLink=sE,this.normalizeLinkText=oE,this.utils=E$,this.helpers=d$({},A$),this.options={},this.configure(t),e&&this.set(e)}rE.prototype.set=function(t){return d$(this.options,t),this},rE.prototype.configure=function(t){const e=this
if(l$(t)){const e=t
if(!(t=QD[e]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty")
return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach((function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)})),this},rE.prototype.enable=function(t,e){let n=[]
Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.enable(t,!0))}),this),n=n.concat(this.inline.ruler2.enable(t,!0))
const i=t.filter((function(t){return n.indexOf(t)<0}))
if(i.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i)
return this},rE.prototype.disable=function(t,e){let n=[]
Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.disable(t,!0))}),this),n=n.concat(this.inline.ruler2.disable(t,!0))
const i=t.filter((function(t){return n.indexOf(t)<0}))
if(i.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i)
return this},rE.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1))
return t.apply(t,e),this},rE.prototype.parse=function(t,e){if("string"!=typeof t)throw new Error("Input data should be a String")
const n=new this.core.State(t,this,e)
return this.core.process(n),n.tokens},rE.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)},rE.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e)
return n.inlineMode=!0,this.core.process(n),n.tokens},rE.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)}
const aE=new sw({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:()=>["p",0]},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["div",["hr"]]},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:t=>["h"+t.attrs.level,0]},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:t=>({params:t.getAttribute("data-params")||""})}],toDOM:t=>["pre",t.attrs.params?{"data-params":t.attrs.params}:{},["code",0]]},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs:t=>({order:t.hasAttribute("start")?+t.getAttribute("start"):1,tight:t.hasAttribute("data-tight")})}],toDOM:t=>["ol",{start:1==t.attrs.order?null:t.attrs.order,"data-tight":t.attrs.tight?"true":null},0]},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:t=>({tight:t.hasAttribute("data-tight")})}],toDOM:t=>["ul",{"data-tight":t.attrs.tight?"true":null},0]},list_item:{content:"block+",defining:!0,parseDOM:[{tag:"li"}],toDOM:()=>["li",0]},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:t=>({src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")})}],toDOM:t=>["img",t.attrs]},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:t=>"em"==t.type.name}],toDOM:()=>["em"]},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!=t.style.fontWeight&&null},{style:"font-weight=400",clearMark:t=>"strong"==t.type.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],toDOM:()=>["strong"]},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:t=>({href:t.getAttribute("href"),title:t.getAttribute("title")})}],toDOM:t=>["a",t.attrs]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code"]}}})
class lE{constructor(t,e){this.schema=t,this.tokenHandlers=e,this.stack=[{type:t.topNodeType,attrs:null,content:[],marks:yy.none}]}top(){return this.stack[this.stack.length-1]}push(t){this.stack.length&&this.top().content.push(t)}addText(t){if(!t)return
let e,n=this.top(),i=n.content,s=i[i.length-1],o=this.schema.text(t,n.marks)
s&&(e=function(t,e){if(t.isText&&e.isText&&yy.sameSet(t.marks,e.marks))return t.withText(t.text+e.text)}(s,o))?i[i.length-1]=e:i.push(o)}openMark(t){let e=this.top()
e.marks=t.addToSet(e.marks)}closeMark(t){let e=this.top()
e.marks=t.removeFromSet(e.marks)}parseTokens(t){for(let e=0;e<t.length;e++){let n=t[e],i=this.tokenHandlers[n.type]
if(!i)throw new Error("Token type `"+n.type+"` not supported by Markdown parser")
i(this,n,t,e)}}addNode(t,e,n){let i=this.top(),s=t.createAndFill(e,n,i?i.marks:[])
return s?(this.push(s),s):null}openNode(t,e){this.stack.push({type:t,attrs:e,content:[],marks:yy.none})}closeNode(){let t=this.stack.pop()
return this.addNode(t.type,t.attrs,t.content)}}function cE(t,e,n,i){return t.getAttrs?t.getAttrs(e,n,i):t.attrs instanceof Function?t.attrs(e):t.attrs}function dE(t,e){return t.noCloseToken||"code_inline"==e||"code_block"==e||"fence"==e}function hE(t){return"\n"==t[t.length-1]?t.slice(0,t.length-1):t}function uE(){}class pE{constructor(t,e,n){this.schema=t,this.tokenizer=e,this.tokens=n,this.tokenHandlers=function(t,e){let n=Object.create(null)
for(let i in e){let s=e[i]
if(s.block){let e=t.nodeType(s.block)
dE(s,i)?n[i]=(t,n,i,o)=>{t.openNode(e,cE(s,n,i,o)),t.addText(hE(n.content)),t.closeNode()}:(n[i+"_open"]=(t,n,i,o)=>t.openNode(e,cE(s,n,i,o)),n[i+"_close"]=t=>t.closeNode())}else if(s.node){let e=t.nodeType(s.node)
n[i]=(t,n,i,o)=>t.addNode(e,cE(s,n,i,o))}else if(s.mark){let e=t.marks[s.mark]
dE(s,i)?n[i]=(t,n,i,o)=>{t.openMark(e.create(cE(s,n,i,o))),t.addText(hE(n.content)),t.closeMark(e)}:(n[i+"_open"]=(t,n,i,o)=>t.openMark(e.create(cE(s,n,i,o))),n[i+"_close"]=t=>t.closeMark(e))}else{if(!s.ignore)throw new RangeError("Unrecognized parsing spec "+JSON.stringify(s))
dE(s,i)?n[i]=uE:(n[i+"_open"]=uE,n[i+"_close"]=uE)}}return n.text=(t,e)=>t.addText(e.content),n.inline=(t,e)=>t.parseTokens(e.children),n.softbreak=n.softbreak||(t=>t.addText(" ")),n}(t,n)}parse(t,e={}){let n,i=new lE(this.schema,this.tokenHandlers)
i.parseTokens(this.tokenizer.parse(t,e))
do{n=i.closeNode()}while(i.stack.length)
return n||this.schema.topNodeType.createAndFill()}}function fE(t,e){for(;++e<t.length;)if("list_item_open"!=t[e].type)return t[e].hidden
return!1}const mE=new pE(aE,rE("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:(t,e,n)=>({tight:fE(e,n)})},ordered_list:{block:"ordered_list",getAttrs:(t,e,n)=>({order:+t.attrGet("start")||1,tight:fE(e,n)})},heading:{block:"heading",getAttrs:t=>({level:+t.tag.slice(1)})},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:t=>({params:t.info||""}),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:t=>({src:t.attrGet("src"),title:t.attrGet("title")||null,alt:t.children[0]&&t.children[0].content||null})},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:t=>({href:t.attrGet("href"),title:t.attrGet("title")||null})},code_inline:{mark:"code",noCloseToken:!0}}),gE={open:"",close:"",mixable:!0}
class vE{constructor(t,e,n={}){this.nodes=t,this.marks=e,this.options=n}serialize(t,e={}){e=Object.assign({},this.options,e)
let n=new wE(this.nodes,this.marks,e)
return n.renderContent(t),n.out}}const bE=new vE({blockquote(t,e){t.wrapBlock("> ",null,e,(()=>t.renderContent(e)))},code_block(t,e){const n=e.textContent.match(/`{3,}/gm),i=n?n.sort().slice(-1)[0]+"`":"```"
t.write(i+(e.attrs.params||"")+"\n"),t.text(e.textContent,!1),t.write("\n"),t.write(i),t.closeBlock(e)},heading(t,e){t.write(t.repeat("#",e.attrs.level)+" "),t.renderInline(e,!1),t.closeBlock(e)},horizontal_rule(t,e){t.write(e.attrs.markup||"---"),t.closeBlock(e)},bullet_list(t,e){t.renderList(e,"  ",(()=>(e.attrs.bullet||"*")+" "))},ordered_list(t,e){let n=e.attrs.order||1,i=String(n+e.childCount-1).length,s=t.repeat(" ",i+2)
t.renderList(e,s,(e=>{let s=String(n+e)
return t.repeat(" ",i-s.length)+s+". "}))},list_item(t,e){t.renderContent(e)},paragraph(t,e){t.renderInline(e),t.closeBlock(e)},image(t,e){t.write("!["+t.esc(e.attrs.alt||"")+"]("+e.attrs.src.replace(/[\(\)]/g,"\\$&")+(e.attrs.title?' "'+e.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break(t,e,n,i){for(let s=i+1;s<n.childCount;s++)if(n.child(s).type!=e.type)return void t.write("\\\n")},text(t,e){t.text(e.text,!t.inAutolink)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open:(t,e,n,i)=>(t.inAutolink=function(t,e,n){if(t.attrs.title||!/^\w+:/.test(t.attrs.href))return!1
let i=e.child(n)
return!(!i.isText||i.text!=t.attrs.href||i.marks[i.marks.length-1]!=t)&&(n==e.childCount-1||!t.isInSet(e.child(n+1).marks))}(e,n,i),t.inAutolink?"<":"["),close(t,e,n,i){let{inAutolink:s}=t
return t.inAutolink=void 0,s?">":"]("+e.attrs.href.replace(/[\(\)"]/g,"\\$&")+(e.attrs.title?` "${e.attrs.title.replace(/"/g,'\\"')}"`:"")+")"},mixable:!0},code:{open:(t,e,n,i)=>yE(n.child(i),-1),close:(t,e,n,i)=>yE(n.child(i-1),1),escape:!1}})
function yE(t,e){let n,i=/`+/g,s=0
if(t.isText)for(;n=i.exec(t.text);)s=Math.max(s,n[0].length)
let o=s>0&&e>0?" `":"`"
for(let t=0;t<s;t++)o+="`"
return s>0&&e<0&&(o+=" "),o}class wE{constructor(t,e,n){this.nodes=t,this.marks=e,this.options=n,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,void 0===this.options.tightLists&&(this.options.tightLists=!1),void 0===this.options.hardBreakNodeName&&(this.options.hardBreakNodeName="hard_break")}flushClose(t=2){if(this.closed){if(this.atBlank()||(this.out+="\n"),t>1){let e=this.delim,n=/\s+$/.exec(e)
n&&(e=e.slice(0,e.length-n[0].length))
for(let n=1;n<t;n++)this.out+=e+"\n"}this.closed=null}}getMark(t){let e=this.marks[t]
if(!e){if(!1!==this.options.strict)throw new Error(`Mark type \`${t}\` not supported by Markdown renderer`)
e=gE}return e}wrapBlock(t,e,n,i){let s=this.delim
this.write(null!=e?e:t),this.delim+=t,i(),this.delim=s,this.closeBlock(n)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+="\n")}write(t){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),t&&(this.out+=t)}closeBlock(t){this.closed=t}text(t,e=!0){let n=t.split("\n")
for(let t=0;t<n.length;t++)this.write(),!e&&"["==n[t][0]&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=e?this.esc(n[t],this.atBlockStart):n[t],t!=n.length-1&&(this.out+="\n")}render(t,e,n){if(this.nodes[t.type.name])this.nodes[t.type.name](this,t,e,n)
else{if(!1!==this.options.strict)throw new Error("Token type `"+t.type.name+"` not supported by Markdown renderer")
t.type.isLeaf||(t.type.inlineContent?this.renderInline(t):this.renderContent(t),t.isBlock&&this.closeBlock(t))}}renderContent(t){t.forEach(((e,n,i)=>this.render(e,t,i)))}renderInline(t,e=!0){this.atBlockStart=e
let n=[],i="",s=(e,s,o)=>{let r=e?e.marks:[]
e&&e.type.name===this.options.hardBreakNodeName&&(r=r.filter((e=>{if(o+1==t.childCount)return!1
let n=t.child(o+1)
return e.isInSet(n.marks)&&(!n.isText||/\S/.test(n.text))})))
let a=i
if(i="",e&&e.isText&&r.some((t=>{let e=this.getMark(t.type.name)
return e&&e.expelEnclosingWhitespace&&!t.isInSet(n)}))){let[t,i,s]=/^(\s*)(.*)$/m.exec(e.text)
i&&(a+=i,(e=s?e.withText(s):null)||(r=n))}if(e&&e.isText&&r.some((e=>{let n=this.getMark(e.type.name)
return n&&n.expelEnclosingWhitespace&&(o==t.childCount-1||!e.isInSet(t.child(o+1).marks))}))){let[t,s,o]=/^(.*?)(\s*)$/m.exec(e.text)
o&&(i=o,(e=s?e.withText(s):null)||(r=n))}let l=r.length?r[r.length-1]:null,c=l&&!1===this.getMark(l.type.name).escape,d=r.length-(c?1:0)
t:for(let t=0;t<d;t++){let e=r[t]
if(!this.getMark(e.type.name).mixable)break
for(let i=0;i<n.length;i++){let s=n[i]
if(!this.getMark(s.type.name).mixable)break
if(e.eq(s)){t>i?r=r.slice(0,i).concat(e).concat(r.slice(i,t)).concat(r.slice(t+1,d)):i>t&&(r=r.slice(0,t).concat(r.slice(t+1,i)).concat(e).concat(r.slice(i,d)))
continue t}}}let h=0
for(;h<Math.min(n.length,d)&&r[h].eq(n[h]);)++h
for(;h<n.length;)this.text(this.markString(n.pop(),!1,t,o),!1)
if(a&&this.text(a),e){for(;n.length<d;){let e=r[n.length]
n.push(e),this.text(this.markString(e,!0,t,o),!1),this.atBlockStart=!1}c&&e.isText?this.text(this.markString(l,!0,t,o)+e.text+this.markString(l,!1,t,o+1),!1):this.render(e,t,o),this.atBlockStart=!1}(null==e?void 0:e.isText)&&e.nodeSize>0&&(this.atBlockStart=!1)}
t.forEach(s),s(null,0,t.childCount),this.atBlockStart=!1}renderList(t,e,n){this.closed&&this.closed.type==t.type?this.flushClose(3):this.inTightList&&this.flushClose(1)
let i=void 0!==t.attrs.tight?t.attrs.tight:this.options.tightLists,s=this.inTightList
this.inTightList=i,t.forEach(((s,o,r)=>{r&&i&&this.flushClose(1),this.wrapBlock(e,n(r),t,(()=>this.render(s,t,r)))})),this.inTightList=s}esc(t,e=!1){return t=t.replace(/[`*\\~\[\]_]/g,((e,n)=>"_"==e&&n>0&&n+1<t.length&&t[n-1].match(/\w/)&&t[n+1].match(/\w/)?e:"\\"+e)),e&&(t=t.replace(/^(\+[ ]|[\-*>])/,"\\$&").replace(/^(\s*)(#{1,6})(\s|$)/,"$1\\$2$3").replace(/^(\s*\d+)\.\s/,"$1\\. ")),this.options.escapeExtraCharacters&&(t=t.replace(this.options.escapeExtraCharacters,"\\$&")),t}quote(t){let e=-1==t.indexOf('"')?'""':-1==t.indexOf("'")?"''":"()"
return e[0]+t+e[1]}repeat(t,e){let n=""
for(let i=0;i<e;i++)n+=t
return n}markString(t,e,n,i){let s=this.getMark(t.type.name),o=e?s.open:s.close
return"string"==typeof o?o:o(this,t,n,i)}getEnclosingWhitespace(t){return{leading:(t.match(/^(\s+)/)||[void 0])[0],trailing:(t.match(/(\s+)$/)||[void 0])[0]}}}var xE
class CE{static parseMarkdownToDOM(t,e){try{xE.setup(e)
const n=this.markdownParser.parse(t)
return null===n?{fragment:document.createDocumentFragment(),mentionedHrefs:Array.from(xE.mentionedHrefs)}:{fragment:this.domSerializer.serializeFragment(n.content),mentionedHrefs:Array.from(xE.mentionedHrefs)}}finally{xE.cleanup()}}static initializeMarkdownParser(){const t=mE.tokenizer.configure("zero").enable(["emphasis","list","escape","autolink","newline"])
return t.normalizeLinkText=t=>t,new pE(this.updatedSchema,t,mE.tokens)}static getCustomSchemaConfiguration(){return new sw({nodes:aE.spec.nodes,marks:{link:{attrs:{href:{},rel:{default:"noopener noreferrer"},class:{default:""}},inclusive:!1,excludes:"_",toDOM(t){const e=t.attrs.href,n=xE.mentionConfigs?.find((t=>t.isValidMentionHref(e))),i=n?.getDisplayName(e)
return n&&i?(xE.mentionedHrefs.add(e),[n.viewElement,{"mention-href":e,"mention-label":i}]):[lh,{href:xE.startsWithHttpOrHttps(e)?e:null,rel:t.attrs.rel,class:e,"underline-hidden":!xE.startsWithHttpOrHttps(e)||null}]}},em:aE.spec.marks.get("em"),strong:aE.spec.marks.get("strong")}})}static setup(t){xE.mentionConfigs=t,xE.mentionedHrefs.clear()}static cleanup(){xE.mentionConfigs=void 0,xE.mentionedHrefs.clear()}static startsWithHttpOrHttps(t){return/^https?:\/\//i.test(t)}}xE=CE,CE.mentionedHrefs=new Set,CE.updatedSchema=xE.getCustomSchemaConfiguration(),CE.markdownParser=xE.initializeMarkdownParser(),CE.domSerializer=gw.fromSchema(xE.updatedSchema)
class kE{constructor(t){this.markdownSerializer=this.initializeMarkdownSerializerForTipTap(t)}serializeDOMToMarkdown(t){return this.markdownSerializer.serialize(t)}initializeMarkdownSerializerForTipTap(t){const e=function(t,e){const n=e.attrs.href
t.write(`<${n}>`)},n={bulletList:bE.nodes.bullet_list,listItem:bE.nodes.list_item,orderedList:function(t,e){const n=e.attrs.start||1,i=String(n+e.childCount-1).length,s=t.repeat(" ",i+2)
t.renderList(e,s,(e=>{const s=String(n+e)
return`${t.repeat(" ",i-s.length)+s}. `}))},doc:bE.nodes.doc,paragraph:bE.nodes.paragraph,text:bE.nodes.text,hardBreak:bE.nodes.hard_break}
t.forEach((t=>{n[t]=e}))
const i={italic:bE.marks.em,bold:bE.marks.strong,link:{open:"<",close:">",escape:!1,expelEnclosingWhitespace:!0}}
return new vE(n,i)}}class SE{constructor(t,e){this.iconTemplate=Q`<${t.icon} slot="start"></${t.icon}>`,this.character=t.character,this.viewElement=t.viewElement,this.validator=t.validator,this.mentionUpdateEmitter=e}}t([C],SE.prototype,"mappingConfigs",void 0),t([C],SE.prototype,"pattern",void 0),t([C],SE.prototype,"buttonLabel",void 0)
class _E extends je{constructor(){super(...arguments),this.mentionInternals=new SE(this.getMentionInternalsOptions(),(t=>{this.emitMentionUpdate(t)})),this.mappingNotifiers=[],this.mappingElements=[]}checkValidity(){return this.mentionInternals.validator.isValid()}get validity(){return this.mentionInternals.validator.getValidity()}emitMentionUpdate(t){const e={filter:t}
this.$emit("mention-update",e)}handleChange(t,e){t instanceof Eb&&"string"==typeof e&&this.getObservedMappingProperty().includes(e)&&this.updateMappingConfigs()}getMappingConfigs(){const t=new Map
return this.mappingElements.forEach((e=>{const n=e.key??void 0
if(void 0===n||"string"!=typeof n)throw Error("mentionHref was invalid for type. Validation should have prevented this.")
const i=this.createMappingConfig(e)
t.set(n,i)})),t}updateMappingConfigs(){this.mentionInternals.validator.validate(this.mappingElements,this.pattern),this.mentionInternals.mappingConfigs=this.mentionInternals.validator.isValid()?this.getMappingConfigs():void 0}mappingElementsChanged(){this.updateMappingConfigs(),this.observeMappingElements()}patternChanged(){this.mentionInternals.validator.validate(this.mappingElements,this.pattern),this.mentionInternals.pattern=this.pattern}buttonLabelChanged(){this.mentionInternals.buttonLabel=this.buttonLabel}removeMappingElementObservers(){this.mappingNotifiers.forEach((t=>{t.unsubscribe(this)})),this.mappingNotifiers=[]}observeMappingElements(){this.removeMappingElementObservers()
for(const t of this.mappingElements){const e=x.getNotifier(t)
e.subscribe(this),this.mappingNotifiers.push(e)}}}t([ft],_E.prototype,"pattern",void 0),t([ft({attribute:"button-label"})],_E.prototype,"buttonLabel",void 0),t([C],_E.prototype,"mappingElements",void 0)
class IE{constructor(t){this.regexPattern=new RegExp(t.pattern??""),this.mappingConfigs=t.mappingConfigs,this.viewElement=t.viewElement}isValidMentionHref(t){return this.regexPattern.test(t)}getDisplayName(t){const e=this.mappingConfigs?.get(t),n=this.extractMentionId(t)
return e?.displayName??n}extractMentionId(t){const e=this.regexPattern.exec(t)
return e?.[1]??void 0}}class ME{constructor(t){this.parserMentionConfig=[],this.isValid=!0,this.isValid=t.every((t=>t.mentionInternals.validator.isValid())),this.parserMentionConfig=this.isValid?t.map((t=>new IE(t.mentionInternals))):[]}}class $E{constructor(t){this.trackedItems={},this.trackedItems=t.reduce(((t,e)=>({...t,[e]:!1})),this.trackedItems)}getTrackedItems(){return{...this.trackedItems}}isTracked(t){return this.trackedItems[t]}track(t){this.trackedItems[t]||(this.trackedItems[t]=!0,this.onTrackingChange())}untrack(t){this.trackedItems[t]&&(this.trackedItems[t]=!1,this.onTrackingChange())}trackAll(){this.allTracked()||(this.setAllKeys(!0),this.onTrackingChange())}untrackAll(){this.noneTracked()||(this.setAllKeys(!1),this.onTrackingChange())}allTracked(){return Object.values(this.trackedItems).every((t=>t))}anyTracked(){return Object.values(this.trackedItems).some((t=>t))}noneTracked(){return Object.values(this.trackedItems).every((t=>!t))}onTrackingChange(){}setAllKeys(t){this.trackedItems=Object.keys(this.trackedItems).reduce(((e,n)=>({...e,[n]:t})),this.trackedItems)}}class DE extends $E{}const EE=["pattern","mappingConfigs","buttonLabel"]
class AE extends DE{constructor(t){super(EE),this.richText=t,this.updateQueued=!1}get updatePattern(){return this.isTracked("pattern")}get updateMappingConfigs(){return this.isTracked("mappingConfigs")}get updateButtonLabel(){return this.isTracked("buttonLabel")}trackMentionInternalsPropertyChanged(t){switch(t){case"mappingConfigs":this.track("mappingConfigs")
break
case"pattern":this.track("pattern")
break
case"buttonLabel":this.track("buttonLabel")}this.queueUpdate()}trackMentionElementsInstancesChanged(){this.track("pattern"),this.track("mappingConfigs"),this.track("buttonLabel"),this.queueUpdate()}queueUpdate(){this.richText.$fastController.isConnected&&(this.updateQueued||(this.updateQueued=!0,b.queueUpdate((()=>{this.richText.createConfig(),this.untrackAll(),this.updateQueued=!1}))))}}class TE{constructor(){this.invalidMentionConfiguration=!1,this.duplicateMentionConfiguration=!1}getValidity(){return{invalidMentionConfiguration:this.invalidMentionConfiguration,duplicateMentionConfiguration:this.duplicateMentionConfiguration}}isValid(){return Object.values(this.getValidity()).every((t=>!1===t))}validate(t){this.validateDuplicateMentionConfigurations(t),this.validateMentionConfigurations(t)}validateMentionConfigurations(t){return this.invalidMentionConfiguration=t.some((t=>!t.mentionInternals.validator.isValid())),!this.invalidMentionConfiguration}validateDuplicateMentionConfigurations(t){const e=t.map((t=>t.mentionInternals.character))
return this.duplicateMentionConfiguration=e.length!==new Set(e).size,!this.duplicateMentionConfiguration}}async function OE(t){const e=t.map((async t=>{t.matches(":not(:defined)")&&await customElements.whenDefined(t.localName)}))
await Promise.all(e)}class RE extends je{constructor(){super(...arguments),this.mentionInternalsNotifiers=[],this.childItems=[],this.richTextUpdateTracker=new AE(this),this.richTextValidator=new TE}get validity(){return this.richTextValidator.getValidity()}checkValidity(){return this.richTextValidator.isValid()}handleChange(t,e){t instanceof SE&&"string"==typeof e&&this.richTextUpdateTracker.trackMentionInternalsPropertyChanged(e)}createConfig(){this.validate(),this.richTextValidator.isValid()?(this.richTextUpdateTracker.updateMappingConfigs||this.richTextUpdateTracker.updatePattern)&&(this.configuration=new ME(this.mentionElements)):this.configuration=void 0}validate(){this.richTextValidator.validate(this.mentionElements)}childItemsChanged(t,e){void 0!==t&&this.updateMentionElementsFromChildItems()}async updateMentionElementsFromChildItems(){await OE(this.childItems),this.mentionElements=this.childItems.filter((t=>t instanceof _E)),this.observeMentionInternals(),this.richTextUpdateTracker.trackMentionElementsInstancesChanged()}observeMentionInternals(){this.removeMentionInternalsObservers()
for(const t of this.mentionElements){const e=x.getNotifier(t.mentionInternals)
e.subscribe(this),this.mentionInternalsNotifiers.push(e)}}removeMentionInternalsObservers(){this.mentionInternalsNotifiers.forEach((t=>{t.unsubscribe(this)})),this.mentionInternalsNotifiers=[]}}t([C],RE.prototype,"childItems",void 0),t([C],RE.prototype,"configuration",void 0)
const FE=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,NE=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,LE=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,BE=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,PE=J_.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",F_(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[GI({find:FE,type:this.type}),GI({find:LE,type:this.type})]},addPasteRules(){return[YI({find:NE,type:this.type}),YI({find:BE,type:this.type})]}}),zE="textStyle",VE=/^\s*([-+*])\s$/,HE=KI.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:t}){return["ul",F_(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(zE)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=ZI({find:VE,type:this.type})
return(this.options.keepMarks||this.options.keepAttributes)&&(t=ZI({find:VE,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(zE),editor:this.editor})),[t]}}),UE=KI.create({name:"doc",topNode:!0,content:"block+"})
var qE=200,jE=function(){}
jE.prototype.append=function(t){return t.length?(t=jE.from(t),!this.length&&t||t.length<qE&&this.leafAppend(t)||this.length<qE&&t.leafPrepend(this)||this.appendInner(t)):this},jE.prototype.prepend=function(t){return t.length?jE.from(t).append(this):this},jE.prototype.appendInner=function(t){return new GE(this,t)},jE.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?jE.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},jE.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},jE.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},jE.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length)
var i=[]
return this.forEach((function(e,n){return i.push(t(e,n))}),e,n),i},jE.from=function(t){return t instanceof jE?t:t&&t.length?new WE(t):jE.empty}
var WE=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e
var n={length:{configurable:!0},depth:{configurable:!0}}
return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,i){for(var s=e;s<n;s++)if(!1===t(this.values[s],i+s))return!1},e.prototype.forEachInvertedInner=function(t,e,n,i){for(var s=e-1;s>=n;s--)if(!1===t(this.values[s],i+s))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=qE)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=qE)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(jE)
jE.empty=new WE([])
var GE=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,i){var s=this.left.length
return!(e<s&&!1===this.left.forEachInner(t,e,Math.min(n,s),i))&&(!(n>s&&!1===this.right.forEachInner(t,Math.max(e-s,0),Math.min(this.length,n)-s,i+s))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,i){var s=this.left.length
return!(e>s&&!1===this.right.forEachInvertedInner(t,e-s,Math.max(n,s)-s,i+s))&&(!(n<s&&!1===this.left.forEachInvertedInner(t,Math.min(e,s),n,i))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this
var n=this.left.length
return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t)
if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t)
if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(jE)
class ZE{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(0==this.eventCount)return null
let n,i,s=this.items.length
for(;;s--){if(this.items.get(s-1).selection){--s
break}}e&&(n=this.remapping(s,this.items.length),i=n.maps.length)
let o,r,a=t.tr,l=[],c=[]
return this.items.forEach(((t,e)=>{if(!t.step)return n||(n=this.remapping(s,e+1),i=n.maps.length),i--,void c.push(t)
if(n){c.push(new KE(t.map))
let e,s=t.step.map(n.slice(i))
s&&a.maybeStep(s).doc&&(e=a.mapping.maps[a.mapping.maps.length-1],l.push(new KE(e,void 0,void 0,l.length+c.length))),i--,e&&n.appendMap(e,i)}else a.maybeStep(t.step)
return t.selection?(o=n?t.selection.map(n.slice(i)):t.selection,r=new ZE(this.items.slice(0,s).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:r,transform:a,selection:o}}addTransform(t,e,n,i){let s=[],o=this.eventCount,r=this.items,a=!i&&r.length?r.get(r.length-1):null
for(let n=0;n<t.steps.length;n++){let l,c=t.steps[n].invert(t.docs[n]),d=new KE(t.mapping.maps[n],c,e);(l=a&&a.merge(d))&&(d=l,n?s.pop():r=r.slice(0,r.length-1)),s.push(d),e&&(o++,e=void 0),i||(a=d)}let l=o-n.depth
return l>XE&&(r=function(t,e){let n
return t.forEach(((t,i)=>{if(t.selection&&0==e--)return n=i,!1})),t.slice(n)}(r,l),o-=l),new ZE(r.append(s),o)}remapping(t,e){let n=new Iw
return this.items.forEach(((e,i)=>{let s=null!=e.mirrorOffset&&i-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:void 0
n.appendMap(e.map,s)}),t,e),n}addMaps(t){return 0==this.eventCount?this:new ZE(this.items.append(t.map((t=>new KE(t)))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this
let n=[],i=Math.max(0,this.items.length-e),s=t.mapping,o=t.steps.length,r=this.eventCount
this.items.forEach((t=>{t.selection&&r--}),i)
let a=e
this.items.forEach((e=>{let i=s.getMirror(--a)
if(null==i)return
o=Math.min(o,i)
let l=s.maps[i]
if(e.step){let o=t.steps[i].invert(t.docs[i]),c=e.selection&&e.selection.map(s.slice(a+1,i))
c&&r++,n.push(new KE(l,o,c))}else n.push(new KE(l))}),i)
let l=[]
for(let t=e;t<o;t++)l.push(new KE(s.maps[t]))
let c=this.items.slice(0,i).append(l).append(n),d=new ZE(c,r)
return d.emptyItemCount()>500&&(d=d.compress(this.items.length-n.length)),d}emptyItemCount(){let t=0
return this.items.forEach((e=>{e.step||t++})),t}compress(t=this.items.length){let e=this.remapping(0,t),n=e.maps.length,i=[],s=0
return this.items.forEach(((o,r)=>{if(r>=t)i.push(o),o.selection&&s++
else if(o.step){let t=o.step.map(e.slice(n)),r=t&&t.getMap()
if(n--,r&&e.appendMap(r,n),t){let a=o.selection&&o.selection.map(e.slice(n))
a&&s++
let l,c=new KE(r.invert(),t,a),d=i.length-1;(l=i.length&&i[d].merge(c))?i[d]=l:i.push(c)}}else o.map&&n--}),this.items.length,0),new ZE(jE.from(i.reverse()),s)}}ZE.empty=new ZE(jE.empty,0)
class KE{constructor(t,e,n,i){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step)
if(e)return new KE(e.getMap().invert(),e,this.selection)}}}class YE{constructor(t,e,n,i,s){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=i,this.prevComposition=s}}const XE=20
function JE(t){let e=[]
for(let n=t.length-1;n>=0&&0==e.length;n--)t[n].forEach(((t,n,i,s)=>e.push(i,s)))
return e}function QE(t,e){if(!t)return null
let n=[]
for(let i=0;i<t.length;i+=2){let s=e.map(t[i],1),o=e.map(t[i+1],-1)
s<=o&&n.push(s,o)}return n}let tA=!1,eA=null
function nA(t){let e=t.plugins
if(eA!=e){tA=!1,eA=e
for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){tA=!0
break}}return tA}const iA=new Tx("history"),sA=new Tx("closeHistory")
function oA(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Dx({key:iA,state:{init:()=>new YE(ZE.empty,ZE.empty,null,0,-1),apply:(e,n,i)=>function(t,e,n,i){let s,o=n.getMeta(iA)
if(o)return o.historyState
n.getMeta(sA)&&(t=new YE(t.done,t.undone,null,0,-1))
let r=n.getMeta("appendedTransaction")
if(0==n.steps.length)return t
if(r&&r.getMeta(iA))return r.getMeta(iA).redo?new YE(t.done.addTransform(n,void 0,i,nA(e)),t.undone,JE(n.mapping.maps),t.prevTime,t.prevComposition):new YE(t.done,t.undone.addTransform(n,void 0,i,nA(e)),null,t.prevTime,t.prevComposition)
if(!1===n.getMeta("addToHistory")||r&&!1===r.getMeta("addToHistory"))return(s=n.getMeta("rebased"))?new YE(t.done.rebased(n,s),t.undone.rebased(n,s),QE(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new YE(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),QE(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)
{let s=n.getMeta("composition"),o=0==t.prevTime||!r&&t.prevComposition!=s&&(t.prevTime<(n.time||0)-i.newGroupDelay||!function(t,e){if(!e)return!1
if(!t.docChanged)return!0
let n=!1
return t.mapping.maps[0].forEach(((t,i)=>{for(let s=0;s<e.length;s+=2)t<=e[s+1]&&i>=e[s]&&(n=!0)})),n}(n,t.prevRanges)),a=r?QE(t.prevRanges,n.mapping):JE(n.mapping.maps)
return new YE(t.done.addTransform(n,o?e.selection.getBookmark():void 0,i,nA(e)),ZE.empty,a,n.time,null==s?t.prevComposition:s)}}(n,i,e,t)},config:t,props:{handleDOMEvents:{beforeinput(t,e){let n=e.inputType,i="historyUndo"==n?aA:"historyRedo"==n?lA:null
return!!i&&(e.preventDefault(),i(t.state,t.dispatch))}}}})}function rA(t,e){return(n,i)=>{let s=iA.getState(n)
if(!s||0==(t?s.undone:s.done).eventCount)return!1
if(i){let o=function(t,e,n){let i=nA(e),s=iA.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,i)
if(!o)return null
let r=o.selection.resolve(o.transform.doc),a=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),s,i),l=new YE(n?a:o.remaining,n?o.remaining:a,null,0,-1)
return o.transform.setSelection(r).setMeta(iA,{redo:n,historyState:l})}(s,n,t)
o&&i(e?o.scrollIntoView():o)}return!0}}const aA=rA(!1,!0),lA=rA(!0,!0),cA=sI.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:t,dispatch:e})=>aA(t,e),redo:()=>({state:t,dispatch:e})=>lA(t,e)}),addProseMirrorPlugins(){return[oA(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),dA=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,hA=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,uA=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,pA=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,fA=J_.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>"normal"!==t.style.fontStyle&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",F_(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[GI({find:dA,type:this.type}),GI({find:uA,type:this.type})]},addPasteRules(){return[YI({find:hA,type:this.type}),YI({find:pA,type:this.type})]}}),mA="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",gA="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",vA=(t,e)=>{for(const n in e)t[n]=e[n]
return t},bA="numeric",yA="ascii",wA="alpha",xA="asciinumeric",CA="alphanumeric",kA="domain",SA="emoji",_A="scheme",IA="slashscheme",MA="whitespace"
function $A(t,e){return t in e||(e[t]=[]),e[t]}function DA(t,e,n){e[bA]&&(e[xA]=!0,e[CA]=!0),e[yA]&&(e[xA]=!0,e[wA]=!0),e[xA]&&(e[CA]=!0),e[wA]&&(e[CA]=!0),e[CA]&&(e[kA]=!0),e[SA]&&(e[kA]=!0)
for(const i in e){const e=$A(i,n)
e.indexOf(t)<0&&e.push(t)}}function EA(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}EA.groups={},EA.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t]
if(n)return n
for(let n=0;n<e.jr.length;n++){const i=e.jr[n][0],s=e.jr[n][1]
if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,i){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,i)},tr(t,e,n,i){let s
return i=i||EA.groups,e&&e.j?s=e:(s=new EA(e),n&&i&&DA(e,n,i)),this.jr.push([t,s]),s},ts(t,e,n,i){let s=this
const o=t.length
if(!o)return s
for(let e=0;e<o-1;e++)s=s.tt(t[e])
return s.tt(t[o-1],e,n,i)},tt(t,e,n,i){i=i||EA.groups
const s=this
if(e&&e.j)return s.j[t]=e,e
const o=e
let r,a=s.go(t)
if(a?(r=new EA,vA(r.j,a.j),r.jr.push.apply(r.jr,a.jr),r.jd=a.jd,r.t=a.t):r=new EA,o){if(i)if(r.t&&"string"==typeof r.t){const t=vA(function(t,e){const n={}
for(const i in e)e[i].indexOf(t)>=0&&(n[i]=!0)
return n}(r.t,i),n)
DA(o,t,i)}else n&&DA(o,n,i)
r.t=o}return s.j[t]=r,r}}
const AA=(t,e,n,i,s)=>t.ta(e,n,i,s),TA=(t,e,n,i,s)=>t.tr(e,n,i,s),OA=(t,e,n,i,s)=>t.ts(e,n,i,s),RA=(t,e,n,i,s)=>t.tt(e,n,i,s),FA="WORD",NA="UWORD",LA="ASCIINUMERICAL",BA="ALPHANUMERICAL",PA="LOCALHOST",zA="TLD",VA="UTLD",HA="SCHEME",UA="SLASH_SCHEME",qA="NUM",jA="WS",WA="NL",GA="OPENBRACE",ZA="CLOSEBRACE",KA="OPENBRACKET",YA="CLOSEBRACKET",XA="OPENPAREN",JA="CLOSEPAREN",QA="OPENANGLEBRACKET",tT="CLOSEANGLEBRACKET",eT="FULLWIDTHLEFTPAREN",nT="FULLWIDTHRIGHTPAREN",iT="LEFTCORNERBRACKET",sT="RIGHTCORNERBRACKET",oT="LEFTWHITECORNERBRACKET",rT="RIGHTWHITECORNERBRACKET",aT="FULLWIDTHLESSTHAN",lT="FULLWIDTHGREATERTHAN",cT="AMPERSAND",dT="APOSTROPHE",hT="ASTERISK",uT="AT",pT="BACKSLASH",fT="BACKTICK",mT="CARET",gT="COLON",vT="COMMA",bT="DOLLAR",yT="DOT",wT="EQUALS",xT="EXCLAMATION",CT="HYPHEN",kT="PERCENT",ST="PIPE",_T="PLUS",IT="POUND",MT="QUERY",$T="QUOTE",DT="FULLWIDTHMIDDLEDOT",ET="SEMI",AT="SLASH",TT="TILDE",OT="UNDERSCORE",RT="EMOJI",FT="SYM"
var NT=Object.freeze({__proto__:null,WORD:FA,UWORD:NA,ASCIINUMERICAL:LA,ALPHANUMERICAL:BA,LOCALHOST:PA,TLD:zA,UTLD:VA,SCHEME:HA,SLASH_SCHEME:UA,NUM:qA,WS:jA,NL:WA,OPENBRACE:GA,CLOSEBRACE:ZA,OPENBRACKET:KA,CLOSEBRACKET:YA,OPENPAREN:XA,CLOSEPAREN:JA,OPENANGLEBRACKET:QA,CLOSEANGLEBRACKET:tT,FULLWIDTHLEFTPAREN:eT,FULLWIDTHRIGHTPAREN:nT,LEFTCORNERBRACKET:iT,RIGHTCORNERBRACKET:sT,LEFTWHITECORNERBRACKET:oT,RIGHTWHITECORNERBRACKET:rT,FULLWIDTHLESSTHAN:aT,FULLWIDTHGREATERTHAN:lT,AMPERSAND:cT,APOSTROPHE:dT,ASTERISK:hT,AT:uT,BACKSLASH:pT,BACKTICK:fT,CARET:mT,COLON:gT,COMMA:vT,DOLLAR:bT,DOT:yT,EQUALS:wT,EXCLAMATION:xT,HYPHEN:CT,PERCENT:kT,PIPE:ST,PLUS:_T,POUND:IT,QUERY:MT,QUOTE:$T,FULLWIDTHMIDDLEDOT:DT,SEMI:ET,SLASH:AT,TILDE:TT,UNDERSCORE:OT,EMOJI:RT,SYM:FT})
const LT=/[a-z]/,BT=/\p{L}/u,PT=/\p{Emoji}/u,zT=/\d/,VT=/\s/,HT="\r",UT="\n",qT="",jT="",WT=""
let GT=null,ZT=null
function KT(t,e){const n=function(t){const e=[],n=t.length
let i=0
for(;i<n;){let s,o=t.charCodeAt(i),r=o<55296||o>56319||i+1===n||(s=t.charCodeAt(i+1))<56320||s>57343?t[i]:t.slice(i,i+2)
e.push(r),i+=r.length}return e}(e.replace(/[A-Z]/g,(t=>t.toLowerCase()))),i=n.length,s=[]
let o=0,r=0
for(;r<i;){let a=t,l=null,c=0,d=null,h=-1,u=-1
for(;r<i&&(l=a.go(n[r]));)a=l,a.accepts()?(h=0,u=0,d=a):h>=0&&(h+=n[r].length,u++),c+=n[r].length,o+=n[r].length,r++
o-=h,r-=u,c-=h,s.push({t:d.t,v:e.slice(o-c,o),s:o-c,e:o})}return s}function YT(t,e,n,i,s){let o
const r=e.length
for(let n=0;n<r-1;n++){const r=e[n]
t.j[r]?o=t.j[r]:(o=new EA(i),o.jr=s.slice(),t.j[r]=o),t=o}return o=new EA(n),o.jr=s.slice(),t.j[e[r-1]]=o,o}function XT(t){const e=[],n=[]
let i=0
for(;i<t.length;){let s=0
for(;"0123456789".indexOf(t[i+s])>=0;)s++
if(s>0){e.push(n.join(""))
for(let e=parseInt(t.substring(i,i+s),10);e>0;e--)n.pop()
i+=s}else n.push(t[i]),i++}return e}const JT={defaultProtocol:"http",events:null,format:tO,formatHref:tO,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null}
function QT(t,e=null){let n=vA({},JT)
t&&(n=vA(n,t instanceof QT?t.o:t))
const i=n.ignoreTags,s=[]
for(let t=0;t<i.length;t++)s.push(i[t].toUpperCase())
this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}function tO(t){return t}function eO(t,e){this.t="token",this.v=t,this.tk=e}function nO(t,e){class n extends eO{constructor(e,n){super(e,n),this.t=t}}for(const t in e)n.prototype[t]=e[t]
return n.t=t,n}QT.prototype={o:JT,ignoreTags:[],defaultRender:t=>t,check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const i=null!=e
let s=this.o[t]
return s?("object"==typeof s?(s=n.t in s?s[n.t]:JT[t],"function"==typeof s&&i&&(s=s(e,n))):"function"==typeof s&&i&&(s=s(e,n.t,n)),s):s},getObj(t,e,n){let i=this.o[t]
return"function"==typeof i&&null!=e&&(i=i(e,n.t,n)),i},render(t){const e=t.render(this)
return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}},eO.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),i=t.get("format",e,this)
return n&&i.length>n?i.substring(0,n)+"":i},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=JT.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),i=t.get("formatHref",n,this),s=t.get("tagName",n,e),o=this.toFormattedString(t),r={},a=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),d=t.getObj("attributes",n,e),h=t.getObj("events",n,e)
return r.href=i,a&&(r.class=a),l&&(r.target=l),c&&(r.rel=c),d&&vA(r,d),{tagName:s,attributes:r,content:o,eventListeners:h}}}
const iO=nO("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),sO=nO("text"),oO=nO("nl"),rO=nO("url",{isLink:!0,toHref(t=JT.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk
return t.length>=2&&t[0].t!==PA&&t[1].t===gT}}),aO=t=>new EA(t)
function lO(t,e,n){const i=n[0].s,s=n[n.length-1].e
return new t(e.slice(i,s),n)}const cO="undefined"!=typeof console&&console&&console.warn||(()=>{}),dO={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1}
function hO(t,e=!1){if(dO.initialized&&cO(`linkifyjs: already initialized - will not register custom scheme "${t}" until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat')
dO.customSchemes.push([t,e])}function uO(){dO.scanner=function(t=[]){const e={}
EA.groups=e
const n=new EA
null==GT&&(GT=XT(mA)),null==ZT&&(ZT=XT(gA)),RA(n,"'",dT),RA(n,"{",GA),RA(n,"}",ZA),RA(n,"[",KA),RA(n,"]",YA),RA(n,"(",XA),RA(n,")",JA),RA(n,"<",QA),RA(n,">",tT),RA(n,"",eT),RA(n,"",nT),RA(n,"",iT),RA(n,"",sT),RA(n,"",oT),RA(n,"",rT),RA(n,"",aT),RA(n,"",lT),RA(n,"&",cT),RA(n,"*",hT),RA(n,"@",uT),RA(n,"`",fT),RA(n,"^",mT),RA(n,":",gT),RA(n,",",vT),RA(n,"$",bT),RA(n,".",yT),RA(n,"=",wT),RA(n,"!",xT),RA(n,"-",CT),RA(n,"%",kT),RA(n,"|",ST),RA(n,"+",_T),RA(n,"#",IT),RA(n,"?",MT),RA(n,'"',$T),RA(n,"/",AT),RA(n,";",ET),RA(n,"~",TT),RA(n,"_",OT),RA(n,"\\",pT),RA(n,"",DT)
const i=TA(n,zT,qA,{[bA]:!0})
TA(i,zT,i)
const s=TA(i,LT,LA,{[xA]:!0}),o=TA(i,BT,BA,{[CA]:!0}),r=TA(n,LT,FA,{[yA]:!0})
TA(r,zT,s),TA(r,LT,r),TA(s,zT,s),TA(s,LT,s)
const a=TA(n,BT,NA,{[wA]:!0})
TA(a,LT),TA(a,zT,o),TA(a,BT,a),TA(o,zT,o),TA(o,LT),TA(o,BT,o)
const l=RA(n,UT,WA,{[MA]:!0}),c=RA(n,HT,jA,{[MA]:!0}),d=TA(n,VT,jA,{[MA]:!0})
RA(n,WT,d),RA(c,UT,l),RA(c,WT,d),TA(c,VT,d),RA(d,HT),RA(d,UT),TA(d,VT,d),RA(d,WT,d)
const h=TA(n,PT,RT,{[SA]:!0})
RA(h,"#"),TA(h,PT,h),RA(h,qT,h)
const u=RA(h,jT)
RA(u,"#"),TA(u,PT,h)
const p=[[LT,r],[zT,s]],f=[[LT,null],[BT,a],[zT,o]]
for(let t=0;t<GT.length;t++)YT(n,GT[t],zA,FA,p)
for(let t=0;t<ZT.length;t++)YT(n,ZT[t],VA,NA,f)
DA(zA,{tld:!0,ascii:!0},e),DA(VA,{utld:!0,alpha:!0},e),YT(n,"file",HA,FA,p),YT(n,"mailto",HA,FA,p),YT(n,"http",UA,FA,p),YT(n,"https",UA,FA,p),YT(n,"ftp",UA,FA,p),YT(n,"ftps",UA,FA,p),DA(HA,{scheme:!0,ascii:!0},e),DA(UA,{slashscheme:!0,ascii:!0},e),t=t.sort(((t,e)=>t[0]>e[0]?1:-1))
for(let e=0;e<t.length;e++){const i=t[e][0],s=t[e][1]?{[_A]:!0}:{[IA]:!0}
i.indexOf("-")>=0?s[kA]=!0:LT.test(i)?zT.test(i)?s[xA]=!0:s[yA]=!0:s[bA]=!0,OA(n,i,i,s)}return OA(n,"localhost",PA,{ascii:!0}),n.jd=new EA(FT),{start:n,tokens:vA({groups:e},NT)}}(dO.customSchemes)
for(let t=0;t<dO.tokenQueue.length;t++)dO.tokenQueue[t][1]({scanner:dO.scanner})
dO.parser=function({groups:t}){const e=t.domain.concat([cT,hT,uT,pT,fT,mT,bT,wT,CT,qA,kT,ST,_T,IT,AT,FT,TT,OT]),n=[gT,vT,yT,xT,kT,MT,$T,ET,QA,tT,GA,ZA,YA,KA,XA,JA,eT,nT,iT,sT,oT,rT,aT,lT],i=[cT,dT,hT,pT,fT,mT,bT,wT,CT,GA,ZA,kT,ST,_T,IT,MT,AT,FT,TT,OT],s=aO(),o=RA(s,TT)
AA(o,i,o),AA(o,t.domain,o)
const r=aO(),a=aO(),l=aO()
AA(s,t.domain,r),AA(s,t.scheme,a),AA(s,t.slashscheme,l),AA(r,i,o),AA(r,t.domain,r)
const c=RA(r,uT)
RA(o,uT,c),RA(a,uT,c),RA(l,uT,c)
const d=RA(o,yT)
AA(d,i,o),AA(d,t.domain,o)
const h=aO()
AA(c,t.domain,h),AA(h,t.domain,h)
const u=RA(h,yT)
AA(u,t.domain,h)
const p=aO(iO)
AA(u,t.tld,p),AA(u,t.utld,p),RA(c,PA,p)
const f=RA(h,CT)
RA(f,CT,f),AA(f,t.domain,h),AA(p,t.domain,h),RA(p,yT,u),RA(p,CT,f)
const m=RA(p,gT)
AA(m,t.numeric,iO)
const g=RA(r,CT),v=RA(r,yT)
RA(g,CT,g),AA(g,t.domain,r),AA(v,i,o),AA(v,t.domain,r)
const b=aO(rO)
AA(v,t.tld,b),AA(v,t.utld,b),AA(b,t.domain,r),AA(b,i,o),RA(b,yT,v),RA(b,CT,g),RA(b,uT,c)
const y=RA(b,gT),w=aO(rO)
AA(y,t.numeric,w)
const x=aO(rO),C=aO()
AA(x,e,x),AA(x,n,C),AA(C,e,x),AA(C,n,C),RA(b,AT,x),RA(w,AT,x)
const k=RA(a,gT),S=RA(l,gT),_=RA(S,AT),I=RA(_,AT)
AA(a,t.domain,r),RA(a,yT,v),RA(a,CT,g),AA(l,t.domain,r),RA(l,yT,v),RA(l,CT,g),AA(k,t.domain,x),RA(k,AT,x),RA(k,MT,x),AA(I,t.domain,x),AA(I,e,x),RA(I,AT,x)
const M=[[GA,ZA],[KA,YA],[XA,JA],[QA,tT],[eT,nT],[iT,sT],[oT,rT],[aT,lT]]
for(let t=0;t<M.length;t++){const[i,s]=M[t],o=RA(x,i)
RA(C,i,o),RA(o,s,x)
const r=aO(rO)
AA(o,e,r)
const a=aO()
AA(o,n),AA(r,e,r),AA(r,n,a),AA(a,e,r),AA(a,n,a),RA(r,s,x),RA(a,s,x)}return RA(s,PA,b),RA(s,WA,oO),{start:s,tokens:NT}}(dO.scanner.tokens)
for(let t=0;t<dO.pluginQueue.length;t++)dO.pluginQueue[t][1]({scanner:dO.scanner,parser:dO.parser})
return dO.initialized=!0,dO}function pO(t){return dO.initialized||uO(),function(t,e,n){let i=n.length,s=0,o=[],r=[]
for(;s<i;){let a=t,l=null,c=null,d=0,h=null,u=-1
for(;s<i&&!(l=a.go(n[s].t));)r.push(n[s++])
for(;s<i&&(c=l||a.go(n[s].t));)l=null,a=c,a.accepts()?(u=0,h=a):u>=0&&u++,s++,d++
if(u<0)s-=d,s<i&&(r.push(n[s]),s++)
else{r.length>0&&(o.push(lO(sO,e,r)),r=[]),s-=u,d-=u
const t=h.t,i=n.slice(s-d,s)
o.push(lO(t,e,i))}}return r.length>0&&o.push(lO(sO,e,r)),o}(dO.parser.start,t,KT(dO.scanner.start,t))}function fO(t,e=null,n=null){if(e&&"object"==typeof e){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`)
n=e,e=null}const i=new QT(n),s=pO(t),o=[]
for(let t=0;t<s.length;t++){const n=s[t]
!n.isLink||e&&n.t!==e||!i.check(n)||o.push(n.toFormattedObject(i))}return o}function mO(t){return new Dx({key:new Tx("autolink"),appendTransaction:(e,n,i)=>{const s=e.some((t=>t.docChanged))&&!n.doc.eq(i.doc),o=e.some((t=>t.getMeta("preventAutolink")))
if(!s||o)return
const{tr:r}=i,a=function(t,e){const n=new lx(t)
return e.forEach((t=>{t.steps.forEach((t=>{n.step(t)}))})),n}(n.doc,[...e]),l=function(t){const{mapping:e,steps:n}=t,i=[]
return e.maps.forEach(((t,s)=>{const o=[]
if(t.ranges.length)t.forEach(((t,e)=>{o.push({from:t,to:e})}))
else{const{from:t,to:e}=n[s]
if(void 0===t||void 0===e)return
o.push({from:t,to:e})}o.forEach((({from:t,to:n})=>{const o=e.slice(s).map(t,-1),r=e.slice(s).map(n),a=e.invert().map(o,-1),l=e.invert().map(r)
i.push({oldRange:{from:a,to:l},newRange:{from:o,to:r}})}))})),$I(i)}(a)
return l.forEach((({newRange:e})=>{const n=function(t,e,n){const i=[]
return t.nodesBetween(e.from,e.to,((t,e)=>{n(t)&&i.push({node:t,pos:e})})),i}(i.doc,e,(t=>t.isTextblock))
let s,o
if(n.length>1?(s=n[0],o=i.doc.textBetween(s.pos,s.pos+s.node.nodeSize,void 0," ")):n.length&&i.doc.textBetween(e.from,e.to," "," ").endsWith(" ")&&(s=n[0],o=i.doc.textBetween(s.pos,e.to,void 0," ")),s&&o){const e=o.split(" ").filter((t=>""!==t))
if(e.length<=0)return!1
const n=e[e.length-1],l=s.pos+o.lastIndexOf(n)
if(!n)return!1
const c=pO(n).map((e=>e.toObject(t.defaultProtocol)))
if(!(1===(a=c).length?a[0].isLink:3===a.length&&a[1].isLink&&["()","[]"].includes(a[0].value+a[2].value)))return!1
c.filter((t=>t.isLink)).map((t=>({...t,from:l+t.start+1,to:l+t.end+1}))).filter((t=>!i.schema.marks.code||!i.doc.rangeHasMark(t.from,t.to,i.schema.marks.code))).filter((e=>t.validate(e.value))).filter((e=>t.shouldAutoLink(e.value))).forEach((e=>{DI(e.from,e.to,i.doc).some((e=>e.mark.type===t.type))||r.addMark(e.from,e.to,t.type.create({href:e.href}))}))}var a})),r.steps.length?r:void 0}})}pO.scan=KT
const gO=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g
function vO(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"]
return e&&e.forEach((t=>{const e="string"==typeof t?t:t.scheme
e&&n.push(e)})),!t||t.replace(gO,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const bO=J_.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach((t=>{"string"!=typeof t?hO(t.scheme,t.optionalSlashes):hO(t)}))},onDestroy(){EA.groups={},dO.scanner=null,dO.parser=null,dO.tokenQueue=[],dO.pluginQueue=[],dO.customSchemes=[],dO.initialized=!1},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!vO(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}),addAttributes(){return{href:{default:null,parseHTML:t=>t.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href")
return!(!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!vO(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:t=>!!vO(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",F_(this.options.HTMLAttributes,t),0]:["a",F_(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t
return!!this.options.isAllowedUri(n,{defaultValidate:t=>!!vO(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&e().setMark(this.name,t).setMeta("preventAutolink",!0).run()},toggleLink:t=>({chain:e})=>{const{href:n}=t
return!!this.options.isAllowedUri(n,{defaultValidate:t=>!!vO(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[YI({find:t=>{const e=[]
if(t){const{protocols:n,defaultProtocol:i}=this.options,s=fO(t).filter((t=>t.isLink&&this.options.isAllowedUri(t.value,{defaultValidate:t=>!!vO(t,n),protocols:n,defaultProtocol:i})))
s.length&&s.forEach((t=>e.push({text:t.value,data:{href:t.href},index:t.start})))}return e},type:this.type,getAttributes:t=>{var e
return{href:null===(e=t.data)||void 0===e?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options
var i
return this.options.autolink&&t.push(mO({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:t=>this.options.isAllowedUri(t,{defaultValidate:t=>!!vO(t,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),!0===this.options.openOnClick&&t.push((i={type:this.type},new Dx({key:new Tx("handleClickLink"),props:{handleClick:(t,e,n)=>{var s,o
if(0!==n.button)return!1
if(!t.editable)return!1
let r=n.target
const a=[]
for(;"DIV"!==r.nodeName;)a.push(r),r=r.parentNode
if(!a.find((t=>"A"===t.nodeName)))return!1
const l=MI(t.state,i.type.name),c=n.target,d=null!==(s=null==c?void 0:c.href)&&void 0!==s?s:l.href,h=null!==(o=null==c?void 0:c.target)&&void 0!==o?o:l.target
return!(!c||!d||(window.open(d,h),0))}}}))),this.options.linkOnPaste&&t.push(function(t){return new Dx({key:new Tx("handlePasteLink"),props:{handlePaste:(e,n,i)=>{const{state:s}=e,{selection:o}=s,{empty:r}=o
if(r)return!1
let a=""
i.content.forEach((t=>{a+=t.textContent}))
const l=fO(a,{defaultProtocol:t.defaultProtocol}).find((t=>t.isLink&&t.value===a))
return!(!a||!l)&&t.editor.commands.setMark(t.type,{href:l.href})}}})}({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),yO=KI.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",F_(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}})
function wO(t){var e
const{char:n,allowSpaces:i,allowToIncludeChar:s,allowedPrefixes:o,startOfLine:r,$position:a}=t,l=i&&!s,c=n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")
const d=new RegExp(`\\s${c}$`),h=r?"^":"",u=s?"":c,p=l?new RegExp(`${h}${c}.*?(?=\\s${u}|$)`,"gm"):new RegExp(`${h}(?:^)?${c}[^\\s${u}]*`,"gm"),f=(null===(e=a.nodeBefore)||void 0===e?void 0:e.isText)&&a.nodeBefore.text
if(!f)return null
const m=a.pos-f.length,g=Array.from(f.matchAll(p)).pop()
if(!g||void 0===g.input||void 0===g.index)return null
const v=g.input.slice(Math.max(0,g.index-1),g.index),b=new RegExp(`^[${null==o?void 0:o.join("")}\0]?$`).test(v)
if(null!==o&&!b)return null
const y=m+g.index
let w=y+g[0].length
return l&&d.test(f.slice(w-1,w+1))&&(g[0]+=" ",w+=1),y<a.pos&&w>=a.pos?{range:{from:y,to:w},query:g[0].slice(n.length),text:g[0]}:null}const xO=new Tx("suggestion")
function CO({pluginKey:t=xO,editor:e,char:n="@",allowSpaces:i=!1,allowToIncludeChar:s=!1,allowedPrefixes:o=[" "],startOfLine:r=!1,decorationTag:a="span",decorationClass:l="suggestion",command:c=()=>null,items:d=()=>[],render:h=()=>({}),allow:u=()=>!0,findSuggestionMatch:p=wO}){let f
const m=null==h?void 0:h(),g=new Dx({key:t,view(){return{update:async(t,n)=>{var i,s,o,r,a,l,h
const u=null===(i=this.key)||void 0===i?void 0:i.getState(n),p=null===(s=this.key)||void 0===s?void 0:s.getState(t.state),g=u.active&&p.active&&u.range.from!==p.range.from,v=!u.active&&p.active,b=u.active&&!p.active,y=!v&&!b&&u.query!==p.query,w=v||g&&y,x=y||g,C=b||g&&y
if(!w&&!x&&!C)return
const k=C&&!w?u:p,S=t.dom.querySelector(`[data-decoration-id="${k.decorationId}"]`)
f={editor:e,range:k.range,query:k.query,text:k.text,items:[],command:t=>c({editor:e,range:k.range,props:t}),decorationNode:S,clientRect:S?()=>{var n
const{decorationId:i}=null===(n=this.key)||void 0===n?void 0:n.getState(e.state),s=t.dom.querySelector(`[data-decoration-id="${i}"]`)
return(null==s?void 0:s.getBoundingClientRect())||null}:null},w&&(null===(o=null==m?void 0:m.onBeforeStart)||void 0===o||o.call(m,f)),x&&(null===(r=null==m?void 0:m.onBeforeUpdate)||void 0===r||r.call(m,f)),(x||w)&&(f.items=await d({editor:e,query:k.query})),C&&(null===(a=null==m?void 0:m.onExit)||void 0===a||a.call(m,f)),x&&(null===(l=null==m?void 0:m.onUpdate)||void 0===l||l.call(m,f)),w&&(null===(h=null==m?void 0:m.onStart)||void 0===h||h.call(m,f))},destroy:()=>{var t
f&&(null===(t=null==m?void 0:m.onExit)||void 0===t||t.call(m,f))}}},state:{init:()=>({active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}),apply(t,a,l,c){const{isEditable:d}=e,{composing:h}=e.view,{selection:f}=t,{empty:m,from:g}=f,v={...a}
if(v.composing=h,d&&(m||e.view.composing)){!(g<a.range.from||g>a.range.to)||h||a.composing||(v.active=!1)
const t=p({char:n,allowSpaces:i,allowToIncludeChar:s,allowedPrefixes:o,startOfLine:r,$position:f.$from}),l=`id_${Math.floor(4294967295*Math.random())}`
t&&u({editor:e,state:c,range:t.range,isActive:a.active})?(v.active=!0,v.decorationId=a.decorationId?a.decorationId:l,v.range=t.range,v.query=t.query,v.text=t.text):v.active=!1}else v.active=!1
return v.active||(v.decorationId=null,v.range={from:0,to:0},v.query=null,v.text=null),v}},props:{handleKeyDown(t,e){var n
const{active:i,range:s}=g.getState(t.state)
return i&&(null===(n=null==m?void 0:m.onKeyDown)||void 0===n?void 0:n.call(m,{view:t,event:e,range:s}))||!1},decorations(t){const{active:e,range:n,decorationId:i}=g.getState(t)
return e?vS.create(t.doc,[fS.inline(n.from,n.to,{nodeName:a,class:l,"data-decoration-id":i})]):null}}})
return g}const kO=new Tx("mention"),SO=KI.create({name:"mention",priority:101,addOptions(){return{HTMLAttributes:{},renderText({options:t,node:e}){var n
return`${t.suggestion.char}${null!==(n=e.attrs.label)&&void 0!==n?n:e.attrs.id}`},deleteTriggerWithBackspace:!1,renderHTML({options:t,node:e}){var n
return["span",F_(this.HTMLAttributes,t.HTMLAttributes),`${t.suggestion.char}${null!==(n=e.attrs.label)&&void 0!==n?n:e.attrs.id}`]},suggestion:{char:"@",pluginKey:kO,command:({editor:t,range:e,props:n})=>{var i,s,o
const r=t.view.state.selection.$to.nodeAfter;(null===(i=null==r?void 0:r.text)||void 0===i?void 0:i.startsWith(" "))&&(e.to+=1),t.chain().focus().insertContentAt(e,[{type:this.name,attrs:n},{type:"text",text:" "}]).run(),null===(o=null===(s=t.view.dom.ownerDocument.defaultView)||void 0===s?void 0:s.getSelection())||void 0===o||o.collapseToEnd()},allow:({state:t,range:e})=>{const n=t.doc.resolve(e.from),i=t.schema.nodes[this.name]
return!!n.parent.type.contentMatch.matchType(i)}}}},group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes:()=>({id:{default:null,parseHTML:t=>t.getAttribute("data-id"),renderHTML:t=>t.id?{"data-id":t.id}:{}},label:{default:null,parseHTML:t=>t.getAttribute("data-label"),renderHTML:t=>t.label?{"data-label":t.label}:{}}}),parseHTML(){return[{tag:`span[data-type="${this.name}"]`}]},renderHTML({node:t,HTMLAttributes:e}){if(void 0!==this.options.renderLabel)return console.warn("renderLabel is deprecated use renderText and renderHTML instead"),["span",F_({"data-type":this.name},this.options.HTMLAttributes,e),this.options.renderLabel({options:this.options,node:t})]
const n={...this.options}
n.HTMLAttributes=F_({"data-type":this.name},this.options.HTMLAttributes,e)
const i=this.options.renderHTML({options:n,node:t})
return"string"==typeof i?["span",F_({"data-type":this.name},this.options.HTMLAttributes,e),i]:i},renderText({node:t}){return void 0!==this.options.renderLabel?(console.warn("renderLabel is deprecated use renderText and renderHTML instead"),this.options.renderLabel({options:this.options,node:t})):this.options.renderText({options:this.options,node:t})},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command((({tr:t,state:e})=>{let n=!1
const{selection:i}=e,{empty:s,anchor:o}=i
return!!s&&(e.doc.nodesBetween(o-1,o,((e,i)=>{if(e.type.name===this.name)return n=!0,t.insertText(this.options.deleteTriggerWithBackspace?"":this.options.suggestion.char||"",i,i+e.nodeSize),!1})),n)}))}},addProseMirrorPlugins(){return[CO({editor:this.editor,...this.options.suggestion})]}}),_O="textStyle",IO=/^(\d+)\.\s$/,MO=KI.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:t}){const{start:e,...n}=t
return 1===e?["ol",F_(this.options.HTMLAttributes,n),0]:["ol",F_(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(_O)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=ZI({find:IO,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]})
return(this.options.keepMarks||this.options.keepAttributes)&&(t=ZI({find:IO,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(_O)}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1],editor:this.editor})),[t]}}),$O=KI.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:t}){return["p",F_(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),DO=sI.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new Dx({key:new Tx("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=e,s=[]
if(!n)return null
const o=this.editor.isEmpty
return t.descendants(((t,e)=>{const n=i>=e&&i<=e+t.nodeSize,r=!t.isLeaf&&OI(t)
if((n||!this.options.showOnlyCurrent)&&r){const i=[this.options.emptyNodeClass]
o&&i.push(this.options.emptyEditorClass)
const r=fS.node(e,e+t.nodeSize,{class:i.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:t,pos:e,hasAnchor:n}):this.options.placeholder})
s.push(r)}return this.options.includeChildren})),vS.create(t,s)}}})]}}),EO=KI.create({name:"text",group:"inline"}),AO=/^https?:\/\//i
function TO(t,e,n,i,s,o){const r=bO.extend({excludes:"_",inclusive:!1,parseHTML:()=>[{tag:lh},{tag:"a"}],renderHTML:({HTMLAttributes:t})=>["a",t]}).configure({HTMLAttributes:{rel:"noopener noreferrer",target:null,class:""},autolink:!0,openOnClick:!1,linkOnPaste:!1,shouldAutoLink:t=>AO.test(t)}),a=i.map((n=>function(t,e,n,i){return SO.extend({name:t.name,parseHTML:()=>[{tag:t.viewElement}],addAttributes:()=>({href:{default:null,parseHTML:t=>t.getAttribute("mention-href"),renderHTML:t=>({"mention-href":t.href})},label:{default:null,parseHTML:t=>t.getAttribute("mention-label"),renderHTML:t=>({"mention-label":t.label})},disabled:{default:null,parseHTML:t=>t.getAttribute("disabled"),renderHTML:t=>({disabled:t.disabled})}}),renderHTML({node:e,HTMLAttributes:n}){return[t.viewElement,F_(this.options.HTMLAttributes,n),this.options.renderText({options:this.options,node:e})]}}).configure({suggestion:{char:t.character,decorationClass:"nimble-mention-view-edit",pluginKey:new Tx(t.key),allowSpaces:!0,render:()=>{let s=!1
return{onStart:o=>{null!==o.decorationNode&&(s=!0,t.mentionUpdateEmitter(o.query),e(o.text.slice(0,1)),n(o.command),i?.show({filter:o.query,anchorNode:o.decorationNode}))},onUpdate:e=>{s&&(t.mentionUpdateEmitter(e.query),n(e.command),i?.show({filter:e.query,anchorNode:e.decorationNode}))},onKeyDown:t=>!!s&&(t.event.key===hn&&(s=!1),i?.keydownHandler(t.event)??!1),onExit:()=>{e(""),n(void 0),i?.close()}}}}})}(n,t,e,s))),l=new WI({element:n,enableInputRules:[HE,MO],enablePasteRules:!1,editorProps:{transformPasted:function(t){const e=OO(l,t.content)
return new xy(e,t.openStart,t.openEnd)}},extensions:[UE,$O,EO,HE,MO,yO,PE,fA,cA,DO.configure({placeholder:o,showOnlyWhenEditable:!1}),XI,r,...a]})
return l}function OO(t,e){const n=[]
return e.forEach((e=>{if(e.isText&&e.marks.length>0){const i=e.marks.find((t=>"link"===t.type.name&&t.attrs))
i?AO.test(i.attrs.href)?n.push(t.schema.text(i.attrs.href,e.marks)):n.push(t.schema.text(e.textContent,i.removeFromSet(e.marks))):n.push(e)}else if(e.type.name.startsWith(yM))n.push(t.schema.text(e.attrs.label))
else{const i=OO(t,e.content)
n.push(e.copy(i))}})),my.fromArray(n)}class RO{constructor(t){RO.instance+=1
const e=`${yM}${RO.instance}`
this.name=e,this.key=e,this.viewElement=t.viewElement,this.character=t.character,this.mappingConfigs=t.mappingConfigs,this.iconTemplate=t.iconTemplate,this.buttonLabel=t.buttonLabel??"",this.mentionUpdateEmitter=t.mentionUpdateEmitter}}RO.instance=0
class FO extends ME{constructor(t){super(t),this.mentionExtensionConfig=this.isValid?t.map((t=>new RO(t.mentionInternals))):[]}}class NO extends(Hg(RE)){constructor(){super(...arguments),this.editorDiv=this.createEditor(),this.tiptapEditor=TO((()=>{}),(()=>{}),this.editorDiv,[],this.mentionListbox,this.placeholder),this.xmlSerializer=new XMLSerializer,this.richTextMarkdownSerializer=new kE([]),this.disabled=!1,this.footerHidden=!1,this.scrollbarWidth=-1,this.activeMentionCharacter="",this.updateScrollbarWidthQueued=!1}get empty(){if(""===this.tiptapEditor.state.doc.textContent.trim()){let t=!1
return this.tiptapEditor.state.doc.descendants((e=>{e.type.name.startsWith(yM)&&(t=!0)
return!1===t})),!t}return!1}connectedCallback(){super.connectedCallback(),this.editorDiv.isConnected||this.editorContainer.append(this.editorDiv),this.bindEditorTransactionEvent(),this.bindEditorUpdateEvent(),this.stopNativeInputEventPropagation(),this.resizeObserver=new ResizeObserver((()=>this.onResize())),this.resizeObserver.observe(this)}disconnectedCallback(){super.disconnectedCallback(),this.unbindEditorTransactionEvent(),this.unbindEditorUpdateEvent(),this.unbindNativeInputEvent(),this.resizeObserver?.disconnect()}disabledChanged(){this.disableEditor(),this.disableMentionViewElement()}placeholderChanged(t,e){this.getTipTapExtension("placeholder").options.placeholder=this.placeholder??"",this.tiptapEditor.view.dispatch(this.tiptapEditor.state.tr),this.queueUpdateScrollbarWidth()}ariaLabelChanged(t,e){null!==this.ariaLabel&&void 0!==this.ariaLabel?this.editorDiv.setAttribute("aria-label",this.ariaLabel):this.editorDiv.removeAttribute("aria-label")}configurationChanged(t,e){const n=this.getButtonsState(this.tiptapEditor),{from:i,to:s}=this.tiptapEditor.view.state.selection
if(this.isMentionExtensionConfigUnchanged(t,e))this.setMarkdown(this.getMarkdown())
else{const t=this.getMentionExtensionConfig(),e=this.getMarkdown()
this.richTextMarkdownSerializer=new kE(t.map((t=>t.name))),this.initializeEditor(),this.setMarkdown(e)}this.tiptapEditor.commands.setTextSelection({from:i,to:s}),this.resetEditorButtonsState(n),this.setActiveMappingConfigs()}activeMentionCharacterChanged(){this.setActiveMappingConfigs()}boldButtonClick(){this.tiptapEditor.chain().focus().toggleBold().run()}boldButtonKeyDown(t){return!this.keyActivatesButton(t)||(this.tiptapEditor.chain().focus().toggleBold().run(),!1)}italicsButtonClick(){this.tiptapEditor.chain().focus().toggleItalic().run()}italicsButtonKeyDown(t){return!this.keyActivatesButton(t)||(this.tiptapEditor.chain().focus().toggleItalic().run(),!1)}bulletListButtonClick(){this.tiptapEditor.chain().focus().toggleBulletList().run()}bulletListButtonKeyDown(t){return!this.keyActivatesButton(t)||(this.tiptapEditor.chain().focus().toggleBulletList().run(),!1)}numberedListButtonClick(){this.tiptapEditor.chain().focus().toggleOrderedList().run()}numberedListButtonKeyDown(t){return!this.keyActivatesButton(t)||(this.tiptapEditor.chain().focus().toggleOrderedList().run(),!1)}mentionButtonClick(t){this.tiptapEditor.chain().insertContent(this.shouldInsertSpace()?` ${t}`:t).focus().run()}setMarkdown(t){const e=this.getHtmlContent(t)
this.tiptapEditor.commands.setContent(e),this.disableMentionViewElement()}getMarkdown(){return this.richTextMarkdownSerializer.serializeDOMToMarkdown(this.tiptapEditor.state.doc)}stopEventPropagation(t){return t.stopPropagation(),!1}getMentionedHrefs(){const t=new Set
return this.tiptapEditor.state.doc.descendants((e=>{e.type.name.startsWith(yM)&&t.add(e.attrs.href)})),Array.from(t)}getMentionExtensionConfig(){return this.configuration instanceof FO?this.configuration.mentionExtensionConfig:[]}onMentionSelect(t){this.activeMentionCommand&&this.activeMentionCommand({href:t.detail.href,label:t.detail.displayName})}focusoutHandler(){this.mentionListbox?.open&&this.mentionListbox?.close()}createConfig(){this.validate(),this.richTextValidator.isValid()?(this.richTextUpdateTracker.updateButtonLabel||this.richTextUpdateTracker.updateMappingConfigs||this.richTextUpdateTracker.updatePattern)&&(this.configuration=new FO(this.mentionElements)):this.configuration=void 0}isMentionExtensionConfigUnchanged(t,e){const n=t?.mentionExtensionConfig.map((t=>t.character)).sort(((t,e)=>t.localeCompare(e))).toString(),i=e?.mentionExtensionConfig.map((t=>t.character)).sort(((t,e)=>t.localeCompare(e))).toString()
return n===i}createEditor(){const t=document.createElement("div")
return t.className="editor",t.setAttribute("aria-multiline","true"),t.setAttribute("role","textbox"),t.setAttribute("aria-disabled","false"),t}initializeEditor(){this.unbindEditorTransactionEvent(),this.unbindEditorUpdateEvent(),this.unbindNativeInputEvent(),this.tiptapEditor?.destroy(),this.tiptapEditor=TO((t=>{this.activeMentionCharacter=t}),(t=>{this.activeMentionCommand=t}),this.editorDiv,this.configuration instanceof FO?this.configuration.mentionExtensionConfig:[],this.mentionListbox,this.placeholder),this.disableEditor(),this.disableMentionViewElement(),this.bindEditorTransactionEvent(),this.bindEditorUpdateEvent(),this.stopNativeInputEventPropagation()}getHtmlContent(t){const e=CE.parseMarkdownToDOM(t,this.configuration?.parserMentionConfig)
return this.xmlSerializer.serializeToString(e.fragment)}bindEditorTransactionEvent(){this.tiptapEditor.on("transaction",(()=>{this.updateEditorButtonsState()}))}unbindEditorTransactionEvent(){this.tiptapEditor.off("transaction")}updateEditorButtonsState(){if(!this.$fastController.isConnected)return
const{extensionManager:t,state:e}=this.tiptapEditor,{extensions:n}=t,{selection:i}=e,s=II((t=>TI(t.type.name,n)))(i)
this.boldButton.checked=this.tiptapEditor.isActive("bold"),this.italicsButton.checked=this.tiptapEditor.isActive("italic"),this.bulletListButton.checked=s?.node.type.name===vM,this.numberedListButton.checked=s?.node.type.name===bM}keyActivatesButton(t){switch(t.key){case gn:case dn:return!0
default:return!1}}unbindEditorUpdateEvent(){this.tiptapEditor.off("update")}bindEditorUpdateEvent(){this.tiptapEditor.on("update",(()=>{this.$emit("input"),this.queueUpdateScrollbarWidth()}))}disableEditor(){this.tiptapEditor.setEditable(!this.disabled),this.setEditorTabIndex(),this.editorDiv.setAttribute("aria-disabled",this.disabled?"true":"false"),this.mentionListbox?.close()}disableMentionViewElement(){this.tiptapEditor.state.doc.descendants(((t,e)=>{if(t.type.name.startsWith(yM)){const n={...t.attrs,disabled:this.disabled?"":null},i=this.tiptapEditor.schema.node(t.type.name,n,t.content),s=this.tiptapEditor.state.tr.replaceWith(e,e+t.nodeSize,i)
this.tiptapEditor.view.dispatch(s)}return!0}))}stopNativeInputEventPropagation(){this.tiptapEditor.view.dom.addEventListener("input",(t=>{t.stopPropagation()}))}unbindNativeInputEvent(){this.tiptapEditor.view.dom.removeEventListener("input",(()=>{}))}queueUpdateScrollbarWidth(){this.$fastController.isConnected&&(this.updateScrollbarWidthQueued||(this.updateScrollbarWidthQueued=!0,b.queueUpdate((()=>this.updateScrollbarWidth()))))}updateScrollbarWidth(){this.updateScrollbarWidthQueued=!1,this.scrollbarWidth=this.tiptapEditor.view.dom.offsetWidth-this.tiptapEditor.view.dom.clientWidth}onResize(){this.scrollbarWidth=this.tiptapEditor.view.dom.offsetWidth-this.tiptapEditor.view.dom.clientWidth}getTipTapExtension(t){return this.tiptapEditor.extensionManager.extensions.find((e=>e.name===t))}setEditorTabIndex(){this.tiptapEditor.setOptions({editorProps:{attributes:{tabindex:this.disabled?"-1":"0"}}})}setActiveMappingConfigs(){this.activeMappingConfigs=this.activeMentionCharacter?this.getMentionExtensionConfigFromCharacter(this.activeMentionCharacter)?.mappingConfigs:void 0}shouldInsertSpace(){const{$anchor:t,$head:e}=this.tiptapEditor.view.state.selection,n=0===e.parentOffset||0===t.parentOffset,i=t.pos<e.pos?t.nodeBefore:e.nodeBefore,s=i?.type.name===XI.name,o=i?.textContent.endsWith(" ")
return!n&&!s&&!o}getMentionExtensionConfigFromCharacter(t){return this.getMentionExtensionConfig().find((e=>e.character===t))}resetEditorButtonsState(t){t?.bold&&!this.tiptapEditor.isActive("bold")&&this.tiptapEditor.chain().focus().toggleBold().run(),t?.italics&&!this.tiptapEditor.isActive("italic")&&this.tiptapEditor.chain().focus().toggleItalic().run()}getButtonsState(t){if(this.$fastController.isConnected)return{bold:t.isActive("bold"),italics:t.isActive("italic")}}}t([ft({mode:"boolean"})],NO.prototype,"disabled",void 0),t([ft({attribute:"footer-hidden",mode:"boolean"})],NO.prototype,"footerHidden",void 0),t([ft],NO.prototype,"placeholder",void 0),t([C],NO.prototype,"boldButton",void 0),t([C],NO.prototype,"italicsButton",void 0),t([C],NO.prototype,"bulletListButton",void 0),t([C],NO.prototype,"numberedListButton",void 0),t([C],NO.prototype,"scrollbarWidth",void 0),t([C],NO.prototype,"activeMentionCharacter",void 0),t([C],NO.prototype,"activeMappingConfigs",void 0),Ze(NO,Sn)
const LO=NO.compose({baseName:"rich-text-editor",template:mM,styles:gM,shadowOptions:{delegatesFocus:!0}})
Di.getOrCreate().withPrefix("nimble").register(LO())
const BO=Q`
    <template ${oe({property:"childItems",filter:te()})}>
        <div ${Ut("viewer")} class="viewer"></div>
    </template>
`,PO=Mt`
    ${qs("flex")}

    :host {
        font: ${jc};
        outline: none;
        color: ${Wc};
        width: auto;
        overflow: auto;
        height: 100%;
    }

    .viewer {
        font: inherit;
        outline: none;
        position: relative;
        color: inherit;
        overflow-wrap: anywhere;
    }

    .viewer > :first-child {
        margin-block-start: 0;
    }

    .viewer > :last-child {
        margin-block-end: 0;
    }

    li > p {
        margin-block: 0;
    }

    ${""}
    li > p:empty {
        display: none;
    }

    ${""}
    nimble-anchor::part(control) {
        color: ${hc};
    }
`
class zO extends RE{constructor(){super(...arguments),this.markdown="",this.mentionedHrefs=[]}connectedCallback(){super.connectedCallback(),this.updateView()}markdownChanged(){this.updateView()}configurationChanged(){this.updateView()}getMentionedHrefs(){return Array.from(this.mentionedHrefs)}updateView(){if(this.$fastController.isConnected)if(this.markdown){const t=CE.parseMarkdownToDOM(this.markdown,this.configuration?.parserMentionConfig)
this.viewer.replaceChildren(t.fragment),this.mentionedHrefs=t.mentionedHrefs}else this.viewer.innerHTML="",this.mentionedHrefs=[]}}t([ft({mode:"fromView"})],zO.prototype,"markdown",void 0)
const VO=zO.compose({baseName:"rich-text-viewer",template:BO,styles:PO})
Di.getOrCreate().withPrefix("nimble").register(VO())
const HO=Mt`
    ${ev}
    ${Lg}
    ${nv}

    ${""}

    .selected-value.placeholder {
        color: ${Pc};
    }

    .selected-value {
        order: 1;
    }

    .clear-button {
        order: 3;
        height: ${Ml};
        margin-left: ${$l};
    }

    [part='indicator'] {
        order: 4;
    }

    .error-icon {
        order: 2;
    }

    [part='end'] {
        display: contents;
    }

    .listbox {
        overflow-x: clip;
    }

    .listbox.above {
        flex-flow: column-reverse;
    }

    .filter-field {
        display: flex;
        flex-direction: row;
        align-items: center;
        height: ${Il};
        background: transparent;
    }

    .filter-field::before {
        content: '';
        position: absolute;
        height: 0px;
        border-bottom: rgba(${cl}, 0.1) 2px solid;
        bottom: calc(${Il} + ${$l} - ${Tl});
    }

    .filter-field.above::before {
        width: calc(100% - (2 * ${Tl}));
    }

    .filter-field::after {
        content: '';
        position: absolute;
        height: 0px;
        border-bottom: rgba(${cl}, 0.1) 2px solid;
        top: calc(${Il} + ${$l} - ${Tl});
    }

    .filter-field:not(.above)::after {
        width: calc(100% - (2 * ${Tl}));
    }

    .filter-icon {
        flex-shrink: 0;
        margin-left: ${$l};
        ${ml.cssCustomProperty}: ${Pc};
    }

    .filter-input {
        background: transparent;
        border: none;
        color: inherit;
        font: inherit;
        height: var(--ni-nimble-control-height);
        padding: 0 ${$l} 0 ${Dl};
        width: 100%;
    }

    .filter-input::placeholder {
        color: ${Pc};
    }

    .filter-input${js} {
        outline: 0px;
    }

    ::slotted([role='option']) {
        background-color: transparent;
    }

    ::slotted([role='option']:hover) {
        background-color: ${al};
    }

    ::slotted([role='option'][active-option]) {
        background-color: ${sl};
    }

    ::slotted([role='option'][active-option]:hover) {
        background-color: ${rl};
    }

    .loading-container {
        padding-left: ${Dl};
        padding-right: ${Dl};
        display: flex;
        height: ${Il};
        flex: 1 0 auto;
    }

    .loading-container.above {
        align-items: end;
        padding-bottom: ${$l};
    }

    .loading-container.below {
        align-items: normal;
        padding-top: ${$l};
    }

    .loading-container.empty {
        padding: ${$l} ${Dl};
        align-items: center;
    }

    .loading-label {
        color: ${Pc};
    }

    .loading-spinner {
        margin-left: auto;
    }
`.withBehaviors(ph(tv,Mt`
            :host([error-visible]) .control {
                border-bottom-width: ${Tl};
                padding-bottom: 0;
            }
        `),gg(Ho.color,Mt`
            .filter-field,
            .no-results-label,
            .loading-container {
                background: ${el(mo,.15)};
            }
        `)),UO=Mt`
    ${qs("inline-grid")}

    :host {
        height: ${Pl};
        aspect-ratio: 1 / 1;
    }

    div.overlay {
        z-index: ${cg};
        margin: max(2px, 6.25%);
        grid-area: 1/1;
    }

    div.container {
        margin: max(2px, 6.25%);
        grid-area: 1/1;
        ${""}
        opacity: 0.6;
    }

    :host([appearance='accent']) div.container {
        opacity: 1;
    }

    div.bit1,
    div.bit2 {
        background: var(--ni-private-spinner-bits-background-color);
        width: 50%;
        height: 50%;
        margin: auto;
        animation-duration: 1600ms;
        animation-iteration-count: infinite;
        animation-play-state: var(
            --ni-private-spinner-animation-play-state,
            running
        );
        animation-timing-function: cubic-bezier(0.65, 0, 0.35, 0);
    }

    div.bit1 {
        animation-name: ni-private-spinner-keyframes-1;
    }

    div.bit2 {
        animation-name: ni-private-spinner-keyframes-2;
    }

    @media (prefers-reduced-motion) {
        div.bit1,
        div.bit2 {
            animation-timing-function: ease-in-out, steps(1);
            animation-duration: 3200ms;
        }

        div.bit1 {
            animation-name:
                ni-private-spinner-no-motion-opacity-keyframes,
                ni-private-spinner-no-motion-transform-keyframes-1;
        }

        div.bit2 {
            animation-name:
                ni-private-spinner-no-motion-opacity-keyframes,
                ni-private-spinner-no-motion-transform-keyframes-2;
        }
    }

    @keyframes ni-private-spinner-keyframes-1 {
        0%,
        100% {
            transform: translate(-50%, 0);
        }

        25% {
            transform: translate(50%, 0);
        }

        50% {
            transform: translate(50%, 100%);
        }

        75% {
            transform: translate(-50%, 100%);
        }
    }

    @keyframes ni-private-spinner-keyframes-2 {
        0%,
        100% {
            transform: translate(50%, 0);
        }

        25% {
            transform: translate(-50%, 0);
        }

        50% {
            transform: translate(-50%, -100%);
        }

        75% {
            transform: translate(50%, -100%);
        }
    }

    @keyframes ni-private-spinner-no-motion-opacity-keyframes {
        0%,
        50%,
        100% {
            opacity: 0;
        }

        25%,
        75% {
            opacity: 1;
        }
    }

    @keyframes ni-private-spinner-no-motion-transform-keyframes-1 {
        0%,
        100% {
            transform: translate(-50%, 0);
        }
        50% {
            transform: translate(50%, 0);
        }
    }

    @keyframes ni-private-spinner-no-motion-transform-keyframes-2 {
        0%,
        100% {
            transform: translate(50%, 0);
        }

        50% {
            transform: translate(-50%, 0);
        }
    }
`.withBehaviors(gg(Ho.light,Mt`
            :host {
                --ni-private-spinner-bits-background-color: ${yo};
            }
            :host([appearance='accent']) {
                --ni-private-spinner-bits-background-color: ${xo};
            }
        `),gg(Ho.dark,Mt`
            :host {
                --ni-private-spinner-bits-background-color: ${po};
            }
            :host([appearance='accent']) {
                --ni-private-spinner-bits-background-color: ${Mo};
            }
        `),gg(Ho.color,Mt`
            :host {
                --ni-private-spinner-bits-background-color: ${mo};
            }
            :host([appearance='accent']) {
                --ni-private-spinner-bits-background-color: ${Mo};
            }
        `)),qO=Q`
    <template role="progressbar">
        ${""}
        <div class="overlay"></div>

        <div class="container">
            <div class="bit1"></div>
            <div class="bit2"></div>
        </div>
    </template>
`,jO={default:void 0,accent:"accent"}
class WO extends je{constructor(){super(...arguments),this.appearance=jO.default}}t([ft],WO.prototype,"appearance",void 0)
const GO=WO.compose({baseName:"spinner",template:qO,styles:UO})
Di.getOrCreate().withPrefix("nimble").register(GO())
const ZO="nimble-spinner",KO=t=>t instanceof kb,YO=t=>t instanceof $b,XO=rv(Q`
    <label part="label" class="label" aria-hidden="true">
        <slot ${Ut("labelSlot")}></slot>
    </label>
`)
let JO=class extends Vi{}
class QO extends(Fn(JO)){constructor(){super(...arguments),this.proxy=document.createElement("select")}}const tR=t=>!t.visuallyHidden&&!t.disabled&&!t.hidden,eR=t=>!t.visuallyHidden&&!t.hidden
class nR extends(Hg(dv(QO))){constructor(){super(...arguments),this.appearance=Jg,this.filterMode=iv.none,this.clearable=!1,this.loadingVisible=!1,this.displayPlaceholder=!1,this.open=!1,this.listboxId=kn("listbox-"),this.hasOverflow=!1,this.filteredOptions=[],this.filter="",this.availableViewportHeight=0,this._value="",this.forcedPosition=!1,this.selectedOptionObserver=new MutationObserver((()=>{this.updateDisplayValue()}))}get collapsible(){return!(this.multiple||"number"==typeof this.size)}get labelContent(){return this.$fastController.isConnected?Cb(this.labelSlot):""}connectedCallback(){super.connectedCallback(),this.forcedPosition=!!this.positionAttribute,this.open&&this.initializeOpenState(),this.observeSelectedOptionTextContent()}disconnectedCallback(){super.disconnectedCallback(),this.selectedOptionObserver?.disconnect()}get value(){return x.track(this,"value"),this._value}set value(t){const e=this._value
let n=t
if(this.options?.length){const t=this.options.findIndex((t=>t.value===n)),e=this.options[this.selectedIndex]?.value??null,i=this.options[t]?.value??null;-1!==t&&e===i||(n="",this.selectedIndex=t),n=this.firstSelectedOption?.value??n}e!==n&&(this._value=n,super.valueChanged(e,n),x.notify(this,"value"),this.updateDisplayValue())}get displayValue(){return x.track(this,"displayValue"),this.firstSelectedOption?.text??""}anchoredRegionChanged(t,e){this.anchoredRegion&&this.control&&(this.anchoredRegion.anchorElement=this.control)}controlChanged(t,e){this.anchoredRegion&&this.control&&(this.anchoredRegion.anchorElement=this.control)}slottedOptionsChanged(t,e){const n=this.value
this.options.forEach((t=>{const e=x.getNotifier(t)
e.unsubscribe(this,"value"),e.unsubscribe(this,"hidden"),e.unsubscribe(this,"disabled")})),t?.filter(YO).forEach((t=>{const e=x.getNotifier(t)
e.unsubscribe(this,"hidden"),e.unsubscribe(this,"visuallyHidden"),e.unsubscribe(this,"listOptions")}))
const i=this.getSlottedOptions(e)
super.slottedOptionsChanged(t,i),i.forEach((t=>{const e=x.getNotifier(t)
e.subscribe(this,"value"),e.subscribe(this,"hidden"),e.subscribe(this,"disabled")})),e?.filter(YO).forEach((t=>{this.updateAdjacentSeparatorState(t)
const e=x.getNotifier(t)
e.subscribe(this,"hidden"),e.subscribe(this,"visuallyHidden"),e.subscribe(this,"listOptions")})),this.setProxyOptions(),this.updateValue(),this.filterOptions(),n&&(this.value=n)}clickHandler(t){if(this.disabled)return
let e=!1
if(this.open){const n=t.target.closest("option,[role=option]")
if(e=null!==n,n?.disabled)return}const n=this.selectedIndex
super.clickHandler(t),this.open&&this.selectedIndex!==n&&e&&this.updateValue(!0),this.open=this.collapsible&&!this.open}handleChange(t,e){const n=t
switch(e){case"value":this.updateValue()
break
case"selected":KO(n)&&n.selected?this.selectedIndex=this.options.indexOf(n):this.clearSelect()
break
case"hidden":KO(n)?(n.visuallyHidden=n.hidden,this.updateAdjacentSeparatorState(n)):YO(n)&&(n.listOptions.forEach((t=>{t.visuallyHidden=n.hidden})),this.updateAdjacentSeparatorState(n)),this.filterOptions(),this.updateDisplayValue()
break
case"visuallyHidden":(YO(n)||KO(n))&&this.updateAdjacentSeparatorState(n)
break
case"disabled":this.updateDisplayValue()
break
case"listOptions":this.slottedOptionsChanged(this.slottedOptions,this.slottedOptions)}}mousedownHandler(t){return t.offsetX>=0&&t.offsetX<=this.listbox?.scrollWidth?super.mousedownHandler(t):this.collapsible}regionLoadedHandler(){this.focusAndScrollOptionIntoView()}multipleChanged(t,e){super.multipleChanged(t,e),this.proxy&&(this.proxy.multiple=e)}ignoreClickHandler(t){t.stopPropagation()}clearClickHandler(t){this.open=!1,this.clearSelect(),this.updateValue(!0),t.stopPropagation()}updateDisplayValue(){const t=this.getPlaceholderOption()
t&&this.firstSelectedOption===t?this.displayPlaceholder=!0:this.displayPlaceholder=!1,x.notify(this,"displayValue")}inputHandler(t){if(this.filter=this.filterInput?.value??"",this.filterMode===iv.standard){this.filterOptions()
const t=this.filteredOptions.filter((t=>!t.disabled))
let e=""!==this.filter?this.openActiveIndex??this.selectedIndex:this.selectedIndex
t.length>0&&!t.find((t=>t===this.options[e]))?e=this.options.indexOf(t[0]):0===t.length&&(e=-1),this.setActiveOption(e)}return this.filterMode!==iv.none&&this.emitFilterInputEvent(),t.inputType.includes("deleteContent")||!this.filter.length||t.stopPropagation(),!0}focusoutHandler(t){if(super.focusoutHandler(t),!this.open)return!0
this.open=!1
const e=t.relatedTarget
return!this.isSameNode(e)||(this.focus(),!0)}keydownHandler(t){const e=this.selectedIndex,n=t.key
if(t.ctrlKey||t.shiftKey)return!0
n!==rn&&n!==cn&&super.keydownHandler(t)
let i=this.openActiveIndex??this.selectedIndex,s=!1
switch(n){case rn:{const e=this.options[this.selectedIndex]
this.open&&KO(e)&&!eR(e)?this.openActiveIndex===this.selectedIndex?this.selectFirstOption():this.selectNextOption():super.keydownHandler(t),i=this.openActiveIndex??this.selectedIndex
break}case cn:{const e=this.options[this.selectedIndex]
this.open&&KO(e)&&!eR(e)?this.openActiveIndex===this.selectedIndex?this.selectLastOption():this.selectPreviousOption():super.keydownHandler(t),i=this.openActiveIndex??this.selectedIndex
break}case gn:if(this.open&&this.filterMode!==iv.none)break
t.preventDefault(),this.collapsible&&this.typeAheadExpired&&(this.open=!this.open),this.open||this.focus()
break
case un:case pn:t.preventDefault()
break
case dn:if(t.preventDefault(),0===this.filteredOptions.length||this.filteredOptions.every((t=>t.disabled)))return!1
this.open?s=!0:this.open=!0,s&&this.focus()
break
case hn:if(!this.open){if(this.clearable)return this.clearSelect(),this.updateValue(!0),!0
break}this.collapsible&&this.open&&(t.preventDefault(),this.open=!1),i=this.selectedIndex,this.focus()}return this.open&&!s||(this.selectedIndex!==i&&(this.selectedIndex=i),e!==this.selectedIndex&&this.updateValue(!0)),s&&(this.open=!1),!(n===rn||n===cn)}selectedIndexChanged(t,e){this.setSelectedOptions(),this.open&&this.setActiveOption(this.selectedIndex),this.updateValue()}typeaheadBufferChanged(t,e){if(this.$fastController.isConnected){const t=this.getTypeaheadMatches()
if(t.length){const e=this.options.indexOf(t[0])
this.open&&this.filterMode!==iv.none||this.setActiveOption(e)}this.typeaheadExpired=!1}}disabledChanged(t,e){super.disabledChanged&&super.disabledChanged(t,e),this.ariaDisabled=this.disabled?"true":"false"}formResetCallback(){this.setProxyOptions(),super.setDefaultSelectedOption(),-1===this.selectedIndex&&(this.selectedIndex=0)}selectNextOption(){for(let t=(this.openActiveIndex??this.selectedIndex)+1;t<this.options.length;t++){const e=this.options[t]
if(KO(e)&&tR(e)){this.setActiveOption(t)
break}}}selectPreviousOption(){for(let t=(this.openActiveIndex??this.selectedIndex)-1;t>=0;t--){const e=this.options[t]
if(KO(e)&&tR(e)){this.setActiveOption(t)
break}}}selectFirstOption(){const t=this.options.findIndex((t=>KO(t)&&tR(t)))
this.setActiveOption(t)}selectLastOption(){const t=Xe(this.options,(t=>KO(t)&&tR(t)))
this.setActiveOption(t)}registerOption(t){this.options.includes(t)||this.options.push(t)}setSelectedOptions(){this.open&&-1===this.selectedIndex||super.setSelectedOptions()}focusAndScrollOptionIntoView(){this.open&&(super.focusAndScrollOptionIntoView(),window.requestAnimationFrame((()=>{this.filterInput?.focus()})))}getTypeaheadMatches(){return super.getTypeaheadMatches().filter((t=>!t.hidden&&!t.disabled))}positionChanged(t,e){this.positionAttribute=e,this.setPositioning()}sizeChanged(t,e){super.sizeChanged(t,e),this.proxy&&(this.proxy.size=e)}openChanged(){if(!this.collapsible)return
if(this.open)return void this.initializeOpenState()
const t=this.options[this.openActiveIndex??this.selectedIndex]
KO(t)&&(t.activeOption=!1),this.openActiveIndex=void 0,this.filter="",this.filterInput&&(this.filterInput.value=""),this.filterMode!==iv.none&&this.emitFilterInputEvent(),this.ariaControls="",this.ariaExpanded="false"}selectedOptionsChanged(t,e){this.options?.forEach(((t,n)=>{const i=x.getNotifier(t)
i.unsubscribe(this,"selected"),t.selected=e.includes(t),i.subscribe(this,"selected")
const s=this.proxy?.options.item(n)
s&&(s.selected=t.selected)}))}setDefaultSelectedOption(){const t=this.options??Array.from(this.children).filter((t=>KO(t))),e=t=>t.hasAttribute("selected")||t.selected
let n=-1,i=-1,s=-1
for(let r=0;r<t?.length;r++){const a=t[r]
if(e(a)||a.value===this.value){n=r
break}-1===s&&((o=a).disabled&&o.hidden)?s=r:-1===i&&tR(a)&&(i=r)}var o
this.selectedIndex=-1!==n?n:-1!==s?s:-1!==i?i:0}getSlottedOptions(t){const e=[]
return t?.forEach((t=>{KO(t)?e.push(t):YO(t)&&e.push(...this.getGroupOptions(t))})),e}setActiveOption(t){const e=this.options[t]
if(this.open){KO(e)&&(e.activeOption=!0)
const n=this.openActiveIndex??this.selectedIndex,i=this.options[n]
n!==t&&KO(i)&&(i.activeOption=!1),this.openActiveIndex=t,this.focusAndScrollActiveOptionIntoView()}else this.selectedIndex=t
this.ariaActiveDescendant=e?.id??""}focusAndScrollActiveOptionIntoView(){const t=this.options[this.openActiveIndex??this.selectedIndex]
void 0!==t&&this.contains(t)&&(t.focus(),requestAnimationFrame((()=>{t.scrollIntoView({block:"nearest"})})))}getPlaceholderOption(){return this.options.find((t=>t.hidden&&t.disabled))}setPositioning(){if(!this.$fastController.isConnected)return
const t=this.getBoundingClientRect(),e=window.innerHeight-t.bottom
this.forcedPosition?this.position=this.positionAttribute:t.top>e?this.position=Yn:this.position=Xn,this.positionAttribute=this.forcedPosition?this.positionAttribute:this.position,this.availableViewportHeight=this.position===Yn?Math.trunc(t.top):Math.trunc(e)}updateAdjacentSeparatorState(t){const e=this.getPreviousVisibleOptionOrGroup(t),n=this.getNextVisibleOptionOrGroup(t)
if(eR(t)){const i=KO(e)
this.setTopSeparatorState(t,i)
const s=null!==n
this.setBottomSeparatorState(t,s),this.setBottomSeparatorState(e,!0)}else{const t=KO(e)
this.setTopSeparatorState(n,t)
const i=null!==n
this.setBottomSeparatorState(e,i)}}setTopSeparatorState(t,e){YO(t)&&(t.topSeparatorVisible=e)}setBottomSeparatorState(t,e){YO(t)&&(t.bottomSeparatorVisible=e)}getPreviousVisibleOptionOrGroup(t){let e=t.previousElementSibling
for(;e;){if((KO(e)||YO(e))&&eR(e))return e
e=e.previousElementSibling}return null}getNextVisibleOptionOrGroup(t){let e=t.nextElementSibling
for(;e;){if((KO(e)||YO(e))&&eR(e))return e
e=e.nextElementSibling}return null}isOptionHiddenOrFilteredOut(t){return!!t.hidden||this.filterMode===iv.standard&&!this.filterMatchesText(t.text)}filterMatchesText(t){const e=this.filter.toLowerCase(),n=hM(e)
return hM(t).includes(n)}filterOptions(){if(!this.$fastController.isConnected)return
const t=[]
for(const e of this.slottedOptions)if(YO(e)){if(e.hidden)continue
const n=this.getGroupOptions(e),i=this.filterMatchesText(e.labelContent)
n.forEach((e=>{e.visuallyHidden=!i&&this.isOptionHiddenOrFilteredOut(e),e.visuallyHidden||t.push(e)}))}else KO(e)&&(e.visuallyHidden=this.isOptionHiddenOrFilteredOut(e),e.visuallyHidden||t.push(e))
this.filteredOptions=t}getGroupOptions(t){return Array.from(t.children).filter((t=>KO(t))).map((e=>(t.hidden&&KO(e)&&(e.visuallyHidden=!0),e)))}updateValue(t){this.$fastController.isConnected&&(this.value=this.firstSelectedOption?.value??"",this.observeSelectedOptionTextContent()),t&&(this.$emit("input"),this.$emit("change",this,{bubbles:!0,composed:void 0}))}clearSelect(){const t=this.getPlaceholderOption()
this.selectedIndex=t?this.options.indexOf(t):-1}setProxyOptions(){this.proxy instanceof HTMLSelectElement&&this.options&&(this.proxy.options.length=0,this.options.forEach((t=>{const e=t.proxy||(t instanceof HTMLOptionElement?t.cloneNode():null)
e&&this.proxy.options.add(e)})))}filterChanged(){this.filterOptions()}emitFilterInputEvent(){const t={filterText:this.filter}
this.$emit("filter-input",t,{bubbles:!0})}initializeOpenState(){this.setActiveOption(this.selectedIndex),this.ariaControls=this.listboxId,this.ariaExpanded="true",this.setPositioning(),this.focusAndScrollOptionIntoView()}observeSelectedOptionTextContent(){if(this.selectedOptionObserver?.disconnect(),-1===this.selectedIndex)return
const t=this.firstSelectedOption
t&&this.selectedOptionObserver?.observe(t,{characterData:!0,subtree:!0,childList:!0})}}t([ft],nR.prototype,"appearance",void 0),t([ft({attribute:"position"})],nR.prototype,"positionAttribute",void 0),t([ft({attribute:"filter-mode"})],nR.prototype,"filterMode",void 0),t([ft({attribute:"clearable",mode:"boolean"})],nR.prototype,"clearable",void 0),t([ft({attribute:"loading-visible",mode:"boolean"})],nR.prototype,"loadingVisible",void 0),t([C],nR.prototype,"displayPlaceholder",void 0),t([ft({attribute:"open",mode:"boolean"})],nR.prototype,"open",void 0),t([C],nR.prototype,"position",void 0),t([C],nR.prototype,"control",void 0),t([C],nR.prototype,"scrollableRegion",void 0),t([C],nR.prototype,"filterInput",void 0),t([C],nR.prototype,"anchoredRegion",void 0),t([C],nR.prototype,"hasOverflow",void 0),t([C],nR.prototype,"filteredOptions",void 0),t([C],nR.prototype,"filter",void 0),t([C],nR.prototype,"availableViewportHeight",void 0),t([k],nR.prototype,"collapsible",null),t([k],nR.prototype,"labelContent",null),t([k],nR.prototype,"displayValue",null)
const iR=nR.compose({baseName:"select",baseClass:ls,template:(t,e)=>Q`
    <template
        class="${t=>[t.collapsible&&"collapsible",t.collapsible&&t.open&&"open",t.disabled&&"disabled",t.collapsible&&t.position].filter(Boolean).join(" ")}"
        aria-activedescendant="${t=>t.filterMode===iv.none?t.ariaActiveDescendant:null}"
        aria-controls="${t=>t.filterMode===iv.none?t.ariaControls:null}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-expanded="${t=>t.ariaExpanded}"
        aria-haspopup="${t=>t.collapsible?"listbox":null}"
        aria-label="${t=>t.labelContent}"
        aria-multiselectable="${t=>t.ariaMultiSelectable}"
        aria-required="${t=>t.requiredVisible}"
        ?open="${t=>t.open}"
        role="combobox"
        tabindex="${t=>t.disabled?null:"0"}"
        @click="${(t,e)=>t.clickHandler(e.event)}"
        @contentchange="${t=>t.updateDisplayValue()}"
        @focusin="${(t,e)=>t.focusinHandler(e.event)}"
        @focusout="${(t,e)=>t.focusoutHandler(e.event)}"
        @keydown="${(t,e)=>t.keydownHandler(e.event)}"
        @mousedown="${(t,e)=>t.mousedownHandler(e.event)}"
    >
        ${XO}
        ${Gt((t=>t.collapsible),Q`
            <div
                class="control"
                part="control"
                ?disabled="${t=>t.disabled}"
                ${Ut("control")}
            >
                ${le(0,e)}
                <slot name="button-container">
                    <div class="selected-value ${t=>t.displayPlaceholder?"placeholder":""}" part="selected-value" ${zg("hasOverflow")} title=${t=>t.hasOverflow&&t.displayValue?t.displayValue:null}>
                        <slot name="selected-value">${t=>t.displayValue}</slot>
                    </div>
                    ${Gt((t=>!t.disabled&&t.clearable&&!t.displayPlaceholder&&t.selectedIndex>=0),Q`
                        <${Eh} 
                            class="clear-button"
                            tabindex="-1"
                            part="clear-button"
                            content-hidden
                            appearance="ghost"
                            @click="${(t,e)=>t.clearClickHandler(e.event)}">
                            <${xg} slot="start"></${xg}>
                        </${Eh}>
                    `)}
                    <div aria-hidden="true" class="indicator" part="indicator">
                        <slot name="indicator">
                            ${e.indicator||""}
                        </slot>
                    </div>
                </slot>
                ${ae(0,e)}
            </div>
            `)}
        <${pg}
            ${Ut("anchoredRegion")}
            class="anchored-region"
            fixed-placement
            auto-update-mode="auto"
            vertical-default-position="${t=>t.positionAttribute===Xg?"top":"bottom"}"
            vertical-positioning-mode="${t=>t.positionAttribute?"locktodefault":"dynamic"}"
            horizontal-default-position="center"
            horizontal-positioning-mode="locktodefault"
            horizontal-scaling="anchor"
            @loaded="${t=>t.regionLoadedHandler()}"
            ?hidden="${t=>!!t.collapsible&&!t.open}">
            <div class="listbox-background">
                <div
                    class="
                        listbox
                        ${t=>0===t.filteredOptions.length?"empty":""}
                        ${t=>t.positionAttribute}
                    "
                    id="${t=>t.listboxId}"
                    part="listbox"
                    role="listbox"
                    ?disabled="${t=>t.disabled}"
                    style="--ni-private-listbox-available-viewport-height: ${t=>t.availableViewportHeight}px;"
                    ${Ut("listbox")}
                >
                    ${Gt((t=>t.filterMode!==iv.none),Q`
                        <div class="filter-field ${t=>t.positionAttribute}">
                            <${Dv} class="filter-icon"></${Dv}>
                            <input
                                ${Ut("filterInput")}
                                class="filter-input"
                                aria-controls="${t=>t.ariaControls}"
                                aria-activedescendant="${t=>t.ariaActiveDescendant}"
                                @input="${(t,e)=>t.inputHandler(e.event)}"
                                @click="${(t,e)=>t.ignoreClickHandler(e.event)}"
                                placeholder="${t=>Jm.getValueFor(t)}"
                                value="${t=>t.filter}"
                            />
                        </div>
                    `)}
                    <div ${Ut("scrollableRegion")}
                        class="scrollable-region">
                        <slot
                            name="option"
                            ${ie({filter:t=>t instanceof HTMLElement&&(KO(t)||YO(t)),flatten:!0,property:"slottedOptions"})}
                        ></slot>
                        ${Gt((t=>t.filterMode!==iv.none&&0===t.filteredOptions.length&&!t.loadingVisible),Q`
                            <span class="no-results-label">
                                ${t=>Qm.getValueFor(t)}
                            </span>
                        `)}
                    </div>
                    ${Gt((t=>t.loadingVisible),Q`
                        <div class="loading-container ${t=>t.positionAttribute} ${t=>0===t.filteredOptions.length?"empty":""}"
                            @click="${(t,e)=>t.ignoreClickHandler(e.event)}">
                            <span class="loading-label">
                                ${t=>tg.getValueFor(t)}
                            </span>
                            <${ZO} class="loading-spinner" appearance="accent"></${ZO}>
                        </div>
                    `)}
                </div>
            </div>
        </${pg}>
    </template>
`,styles:HO,indicator:Nh.data,end:Q`
        <${bg}
            severity="error"
            class="error-icon"
        ></${bg}>
        ${Vg}
    `})
Ze(nR,re,cs),Di.getOrCreate().withPrefix("nimble").register(iR())
const sR=Mt`
    ${qs("inline-flex")}

    :host {
        outline: none;
        font: ${jc};
        color: ${wd};
        flex-direction: column;
        cursor: pointer;
        --ni-private-switch-height: 24px;
        --ni-private-switch-indicator-size: 16px;
        padding-bottom: calc(
            ${Il} - var(--ni-private-switch-height)
        );
    }

    :host([disabled]) {
        cursor: default;
        color: ${xd};
    }

    .label {
        color: ${pd};
        font: ${ud};
    }

    :host([disabled]) .label {
        color: ${fd};
    }

    .label__hidden {
        display: none;
        visibility: hidden;
    }

    .switch-container {
        display: flex;
        align-items: center;
    }

    slot[name='unchecked-message']::slotted(*) {
        margin-inline-end: 8px;
    }

    .switch {
        display: flex;
        height: var(--ni-private-switch-height);
        width: calc(var(--ni-private-switch-height) * 2);
        background-color: ${al};
        border-radius: calc(var(--ni-private-switch-height) / 2);
        align-items: center;
        border: calc(${Tl} * 2) solid transparent;
    }

    :host([disabled]) .switch {
        background-color: var(--ni-private-switch-background-disabled-color);
    }

    :host(${js}) .switch {
        border-color: ${fl};
    }

    .checked-indicator-spacer {
        flex-grow: 0;
        transition: flex-grow ${Zd} ease-in-out;
    }

    :host([aria-checked='true']) .checked-indicator-spacer {
        flex-grow: 1;
    }

    .checked-indicator {
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: var(--ni-private-switch-indicator-background-color);
        width: var(--ni-private-switch-indicator-size);
        height: var(--ni-private-switch-indicator-size);
        border-radius: calc(var(--ni-private-switch-indicator-size) / 2);
        margin: calc(
            calc(
                    var(--ni-private-switch-height) - var(
                            --ni-private-switch-indicator-size
                        )
                ) /
                2
        );
        border: ${Tl} solid
            var(--ni-private-switch-indicator-border-color);
    }

    :host(:hover) .checked-indicator {
        border: calc(${Tl} * 2) solid ${fl};
    }

    :host([disabled]) .checked-indicator {
        background-color: var(
            --ni-private-switch-indicator-background-disabled-color
        );
        border: ${Tl} solid
            var(--ni-private-switch-indicator-border-disabled-color);
    }

    :host(${js}) .checked-indicator {
        border: ${Tl} solid ${fl};
    }

    .checked-indicator-inner {
        width: calc(var(--ni-private-switch-indicator-size) / 2);
        height: calc(var(--ni-private-switch-indicator-size) / 2);
        border-radius: calc(var(--ni-private-switch-indicator-size) / 4);
        background-color: var(--ni-private-switch-indicator-border-color);
        opacity: 0;
        transition: opacity ${Zd} ease-in-out;
    }

    :host([disabled]) .checked-indicator-inner {
        background-color: var(
            --ni-private-switch-indicator-border-disabled-color
        );
    }

    :host([aria-checked='true']) .checked-indicator-inner {
        opacity: 1;
    }

    slot[name='checked-message']::slotted(*) {
        margin-inline-start: 8px;
    }

    @media (prefers-reduced-motion) {
        .checked-indicator-inner,
        .checked-indicator-spacer {
            transition-duration: 0s;
        }
    }
`.withBehaviors(gg(Ho.light,Mt`
            :host {
                --ni-private-switch-background-disabled-color: ${el(yo,.07)};
                --ni-private-switch-indicator-background-color: ${mo};
                --ni-private-switch-indicator-background-disabled-color: ${el(mo,.1)};
                --ni-private-switch-indicator-border-color: ${yo};
                --ni-private-switch-indicator-border-disabled-color: ${el(yo,.3)};
            }
        `),gg(Ho.dark,Mt`
            :host {
                --ni-private-switch-background-disabled-color: ${el(po,.07)};
                --ni-private-switch-indicator-background-color: ${el(yo,.3)};
                --ni-private-switch-indicator-background-disabled-color: ${el(yo,.1)};
                --ni-private-switch-indicator-border-color: ${fo};
                --ni-private-switch-indicator-border-disabled-color: ${el(fo,.3)};
            }
        `),gg(Ho.color,Mt`
            :host {
                --ni-private-switch-background-disabled-color: ${el(mo,.07)};
                --ni-private-switch-indicator-background-color: ${el(mo,.1)};
                --ni-private-switch-indicator-background-disabled-color: ${el(mo,.1)};
                --ni-private-switch-indicator-border-color: ${mo};
                --ni-private-switch-indicator-border-disabled-color: ${el(mo,.3)};
            }
        `)),oR=Q`
    <template
        role="switch"
        aria-checked="${t=>t.checked}"
        aria-disabled="${t=>t.disabled}"
        aria-readonly="${t=>t.readOnly}"
        tabindex="${t=>t.disabled?null:0}"
        @keypress="${(t,e)=>t.keypressHandler(e.event)}"
        @click="${(t,e)=>t.clickHandler(e.event)}"
        class="${t=>t.checked?"checked":""}"
    >
        <label
            part="label"
            class="${t=>t.defaultSlottedNodes?.length?"label":"label label__hidden"}"
        >
            <slot ${ie("defaultSlottedNodes")}></slot>
        </label>
        <div class="switch-container">
            <span class="status-message unchecked-message" part="unchecked-message">
                <slot name="unchecked-message"></slot>
            </span>
            <div part="switch" class="switch">
                <slot name="switch">
                    <span class="checked-indicator-spacer"></span>
                    <span class="checked-indicator" part="checked-indicator">
                        <span class="checked-indicator-inner">
                    </span>
                </slot>
            </div>
            <span class="status-message checked-message" part="checked-message">
                <slot name="checked-message"></slot>
            </span>
        </div>
    </template>
`
const rR=class extends us{}.compose({baseClass:us,baseName:"switch",template:oR,styles:sR})
Di.getOrCreate().withPrefix("nimble").register(rR())
const aR=Mt`
    ${qs("inline-flex")}

    :host {
        position: relative;
        font: ${yd};
        height: ${Il};
        color: ${Wc};
        align-items: center;
        justify-content: center;
        cursor: pointer;
        text-wrap: nowrap;
        --ni-private-active-indicator-width: 2px;
        --ni-private-focus-indicator-width: 1px;
        --ni-private-indicator-lines-gap: 1px;
        --ni-private-focus-indicator-inset-width: 3px;
    }

    :host(:hover) {
        background-color: ${al};
    }

    :host(:hover[aria-selected='true']) {
        background-color: ${rl};
    }

    :host(${js}) {
        outline: none;
    }

    :host(:active) {
        background: none;
    }

    :host([disabled]) {
        cursor: default;
        color: ${Gc};
        background: none;
    }

    slot:not([name]) {
        display: block;
        padding: ${Dl} ${El}
            calc(${Dl} - ${Tl});
    }

    :host::before {
        content: '';
        position: absolute;
        bottom: calc(
            var(--ni-private-active-indicator-width) +
                var(--ni-private-indicator-lines-gap)
        );
        width: 0px;
        height: 0px;
        border-bottom: ${fl}
            var(--ni-private-focus-indicator-width) solid;
        transition: width ${Zd} ease-in;
    }

    @media (prefers-reduced-motion) {
        :host::before {
            transition-duration: 0s;
        }
    }

    :host(${js})::before {
        width: calc(100% - 2 * var(--ni-private-focus-indicator-inset-width));
    }

    :host::after {
        content: '';
        position: absolute;
        bottom: 0px;
        width: 0px;
        height: 0px;
        border-bottom: ${fl}
            var(--ni-private-active-indicator-width) solid;
        transition: width ${Zd} ease-in;
    }

    @media (prefers-reduced-motion) {
        :host::after {
            transition-duration: 0s;
        }
    }

    :host(${js})::after {
        width: 100%;
        border-bottom-width: var(--ni-private-focus-indicator-width);
    }

    :host([aria-selected='true'])::after {
        width: 100%;
        border-bottom-width: var(--ni-private-active-indicator-width);
    }

    :host([aria-selected='true'][disabled])::after {
        border-bottom-color: rgba(${fl}, 0.3);
    }
`
const lR=class extends fs{}.compose({baseName:"tab",baseClass:fs,template:(t,e)=>Q`
    <template slot="tab" role="tab" aria-disabled="${t=>t.disabled}">
        <slot></slot>
    </template>
`,styles:aR})
Di.getOrCreate().withPrefix("nimble").register(lR())
const cR=Mt`
    ${qs("block")}

    :host {
        font: ${jc};
        color: ${Wc};
        padding-top: ${El};
    }
`
const dR=class extends ps{}.compose({baseName:"tab-panel",baseClass:ps,template:(t,e)=>Q`
    <template slot="tabpanel" role="tabpanel">
        <slot></slot>
    </template>
`,styles:cR})

;/**
     * table-core
     *
     * Copyright (c) TanStack
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE.md file in the root directory of this source tree.
     *
     * @license MIT
     */
function hR(t,e){return"function"==typeof t?t(e):t}function uR(t,e){return n=>{e.setState((e=>({...e,[t]:hR(n,e[t])})))}}function pR(t){return t instanceof Function}function fR(t,e){const n=[],i=t=>{t.forEach((t=>{n.push(t)
const s=e(t)
null!=s&&s.length&&i(s)}))}
return i(t),n}function mR(t,e,n){let i,s=[]
return o=>{let r
n.key&&n.debug&&(r=Date.now())
const a=t(o)
if(!(a.length!==s.length||a.some(((t,e)=>s[e]!==t))))return i
let l
if(s=a,n.key&&n.debug&&(l=Date.now()),i=e(...a),null==n||null==n.onChange||n.onChange(i),n.key&&n.debug&&null!=n&&n.debug()){const t=Math.round(100*(Date.now()-r))/100,e=Math.round(100*(Date.now()-l))/100,i=e/16,s=(t,e)=>{for(t=String(t);t.length<e;)t=" "+t
return t}
console.info(`%c ${s(e,5)} /${s(t,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*i,120))}deg 100% 31%);`,null==n?void 0:n.key)}return i}}function gR(t,e,n,i){return{debug:()=>{var n
return null!=(n=null==t?void 0:t.debugAll)?n:t[e]},key:!1,onChange:i}}Di.getOrCreate().withPrefix("nimble").register(dR())
const vR="debugHeaders"
function bR(t,e,n){var i
let s={id:null!=(i=n.id)?i:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const t=[],e=n=>{n.subHeaders&&n.subHeaders.length&&n.subHeaders.map(e),t.push(n)}
return e(s),t},getContext:()=>({table:t,header:s,column:e})}
return t._features.forEach((e=>{null==e.createHeader||e.createHeader(s,t)})),s}const yR={createTable:t=>{t.getHeaderGroups=mR((()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right]),((e,n,i,s)=>{var o,r
const a=null!=(o=null==i?void 0:i.map((t=>n.find((e=>e.id===t)))).filter(Boolean))?o:[],l=null!=(r=null==s?void 0:s.map((t=>n.find((e=>e.id===t)))).filter(Boolean))?r:[]
return wR(e,[...a,...n.filter((t=>!(null!=i&&i.includes(t.id)||null!=s&&s.includes(t.id)))),...l],t)}),gR(t.options,vR)),t.getCenterHeaderGroups=mR((()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right]),((e,n,i,s)=>wR(e,n=n.filter((t=>!(null!=i&&i.includes(t.id)||null!=s&&s.includes(t.id)))),t,"center")),gR(t.options,vR)),t.getLeftHeaderGroups=mR((()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left]),((e,n,i)=>{var s
return wR(e,null!=(s=null==i?void 0:i.map((t=>n.find((e=>e.id===t)))).filter(Boolean))?s:[],t,"left")}),gR(t.options,vR)),t.getRightHeaderGroups=mR((()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right]),((e,n,i)=>{var s
return wR(e,null!=(s=null==i?void 0:i.map((t=>n.find((e=>e.id===t)))).filter(Boolean))?s:[],t,"right")}),gR(t.options,vR)),t.getFooterGroups=mR((()=>[t.getHeaderGroups()]),(t=>[...t].reverse()),gR(t.options,vR)),t.getLeftFooterGroups=mR((()=>[t.getLeftHeaderGroups()]),(t=>[...t].reverse()),gR(t.options,vR)),t.getCenterFooterGroups=mR((()=>[t.getCenterHeaderGroups()]),(t=>[...t].reverse()),gR(t.options,vR)),t.getRightFooterGroups=mR((()=>[t.getRightHeaderGroups()]),(t=>[...t].reverse()),gR(t.options,vR)),t.getFlatHeaders=mR((()=>[t.getHeaderGroups()]),(t=>t.map((t=>t.headers)).flat()),gR(t.options,vR)),t.getLeftFlatHeaders=mR((()=>[t.getLeftHeaderGroups()]),(t=>t.map((t=>t.headers)).flat()),gR(t.options,vR)),t.getCenterFlatHeaders=mR((()=>[t.getCenterHeaderGroups()]),(t=>t.map((t=>t.headers)).flat()),gR(t.options,vR)),t.getRightFlatHeaders=mR((()=>[t.getRightHeaderGroups()]),(t=>t.map((t=>t.headers)).flat()),gR(t.options,vR)),t.getCenterLeafHeaders=mR((()=>[t.getCenterFlatHeaders()]),(t=>t.filter((t=>{var e
return!(null!=(e=t.subHeaders)&&e.length)}))),gR(t.options,vR)),t.getLeftLeafHeaders=mR((()=>[t.getLeftFlatHeaders()]),(t=>t.filter((t=>{var e
return!(null!=(e=t.subHeaders)&&e.length)}))),gR(t.options,vR)),t.getRightLeafHeaders=mR((()=>[t.getRightFlatHeaders()]),(t=>t.filter((t=>{var e
return!(null!=(e=t.subHeaders)&&e.length)}))),gR(t.options,vR)),t.getLeafHeaders=mR((()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()]),((t,e,n)=>{var i,s,o,r,a,l
return[...null!=(i=null==(s=t[0])?void 0:s.headers)?i:[],...null!=(o=null==(r=e[0])?void 0:r.headers)?o:[],...null!=(a=null==(l=n[0])?void 0:l.headers)?a:[]].map((t=>t.getLeafHeaders())).flat()}),gR(t.options,vR))}}
function wR(t,e,n,i){var s,o
let r=0
const a=function(t,e){void 0===e&&(e=1),r=Math.max(r,e),t.filter((t=>t.getIsVisible())).forEach((t=>{var n
null!=(n=t.columns)&&n.length&&a(t.columns,e+1)}),0)}
a(t)
let l=[]
const c=(t,e)=>{const s={depth:e,id:[i,`${e}`].filter(Boolean).join("_"),headers:[]},o=[]
t.forEach((t=>{const r=[...o].reverse()[0]
let a,l=!1
if(t.column.depth===s.depth&&t.column.parent?a=t.column.parent:(a=t.column,l=!0),r&&(null==r?void 0:r.column)===a)r.subHeaders.push(t)
else{const s=bR(n,a,{id:[i,e,a.id,null==t?void 0:t.id].filter(Boolean).join("_"),isPlaceholder:l,placeholderId:l?`${o.filter((t=>t.column===a)).length}`:void 0,depth:e,index:o.length})
s.subHeaders.push(t),o.push(s)}s.headers.push(t),t.headerGroup=s})),l.push(s),e>0&&c(o,e-1)},d=e.map(((t,e)=>bR(n,t,{depth:r,index:e})))
c(d,r-1),l.reverse()
const h=t=>t.filter((t=>t.column.getIsVisible())).map((t=>{let e=0,n=0,i=[0]
t.subHeaders&&t.subHeaders.length?(i=[],h(t.subHeaders).forEach((t=>{let{colSpan:n,rowSpan:s}=t
e+=n,i.push(s)}))):e=1
return n+=Math.min(...i),t.colSpan=e,t.rowSpan=n,{colSpan:e,rowSpan:n}}))
return h(null!=(s=null==(o=l[0])?void 0:o.headers)?s:[]),l}const xR=(t,e,n,i,s,o,r)=>{let a={id:e,index:i,original:n,depth:s,parentId:r,_valuesCache:{},_uniqueValuesCache:{},getValue:e=>{if(a._valuesCache.hasOwnProperty(e))return a._valuesCache[e]
const n=t.getColumn(e)
return null!=n&&n.accessorFn?(a._valuesCache[e]=n.accessorFn(a.original,i),a._valuesCache[e]):void 0},getUniqueValues:e=>{if(a._uniqueValuesCache.hasOwnProperty(e))return a._uniqueValuesCache[e]
const n=t.getColumn(e)
return null!=n&&n.accessorFn?n.columnDef.getUniqueValues?(a._uniqueValuesCache[e]=n.columnDef.getUniqueValues(a.original,i),a._uniqueValuesCache[e]):(a._uniqueValuesCache[e]=[a.getValue(e)],a._uniqueValuesCache[e]):void 0},renderValue:e=>{var n
return null!=(n=a.getValue(e))?n:t.options.renderFallbackValue},subRows:null!=o?o:[],getLeafRows:()=>fR(a.subRows,(t=>t.subRows)),getParentRow:()=>a.parentId?t.getRow(a.parentId,!0):void 0,getParentRows:()=>{let t=[],e=a
for(;;){const n=e.getParentRow()
if(!n)break
t.push(n),e=n}return t.reverse()},getAllCells:mR((()=>[t.getAllLeafColumns()]),(e=>e.map((e=>function(t,e,n,i){const s={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(i),renderValue:()=>{var e
return null!=(e=s.getValue())?e:t.options.renderFallbackValue},getContext:mR((()=>[t,n,e,s]),((t,e,n,i)=>({table:t,column:e,row:n,cell:i,getValue:i.getValue,renderValue:i.renderValue})),gR(t.options,"debugCells"))}
return t._features.forEach((i=>{null==i.createCell||i.createCell(s,n,e,t)}),{}),s}(t,a,e,e.id)))),gR(t.options,"debugRows")),_getAllCellsByColumnId:mR((()=>[a.getAllCells()]),(t=>t.reduce(((t,e)=>(t[e.column.id]=e,t)),{})),gR(t.options,"debugRows"))}
for(let e=0;e<t._features.length;e++){const n=t._features[e]
null==n||null==n.createRow||n.createRow(a,t)}return a},CR={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},kR=(t,e,n)=>{var i,s
const o=null==n||null==(i=n.toString())?void 0:i.toLowerCase()
return Boolean(null==(s=t.getValue(e))||null==(s=s.toString())||null==(s=s.toLowerCase())?void 0:s.includes(o))}
kR.autoRemove=t=>OR(t)
const SR=(t,e,n)=>{var i
return Boolean(null==(i=t.getValue(e))||null==(i=i.toString())?void 0:i.includes(n))}
SR.autoRemove=t=>OR(t)
const _R=(t,e,n)=>{var i
return(null==(i=t.getValue(e))||null==(i=i.toString())?void 0:i.toLowerCase())===(null==n?void 0:n.toLowerCase())}
_R.autoRemove=t=>OR(t)
const IR=(t,e,n)=>{var i
return null==(i=t.getValue(e))?void 0:i.includes(n)}
IR.autoRemove=t=>OR(t)
const MR=(t,e,n)=>!n.some((n=>{var i
return!(null!=(i=t.getValue(e))&&i.includes(n))}))
MR.autoRemove=t=>OR(t)||!(null!=t&&t.length)
const $R=(t,e,n)=>n.some((n=>{var i
return null==(i=t.getValue(e))?void 0:i.includes(n)}))
$R.autoRemove=t=>OR(t)||!(null!=t&&t.length)
const DR=(t,e,n)=>t.getValue(e)===n
DR.autoRemove=t=>OR(t)
const ER=(t,e,n)=>t.getValue(e)==n
ER.autoRemove=t=>OR(t)
const AR=(t,e,n)=>{let[i,s]=n
const o=t.getValue(e)
return o>=i&&o<=s}
AR.resolveFilterValue=t=>{let[e,n]=t,i="number"!=typeof e?parseFloat(e):e,s="number"!=typeof n?parseFloat(n):n,o=null===e||Number.isNaN(i)?-1/0:i,r=null===n||Number.isNaN(s)?1/0:s
if(o>r){const t=o
o=r,r=t}return[o,r]},AR.autoRemove=t=>OR(t)||OR(t[0])&&OR(t[1])
const TR={includesString:kR,includesStringSensitive:SR,equalsString:_R,arrIncludes:IR,arrIncludesAll:MR,arrIncludesSome:$R,equals:DR,weakEquals:ER,inNumberRange:AR}
function OR(t){return null==t||""===t}const RR={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:uR("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=null==n?void 0:n.getValue(t.id)
return"string"==typeof i?TR.includesString:"number"==typeof i?TR.inNumberRange:"boolean"==typeof i||null!==i&&"object"==typeof i?TR.equals:Array.isArray(i)?TR.arrIncludes:TR.weakEquals},t.getFilterFn=()=>{var n,i
return pR(t.columnDef.filterFn)?t.columnDef.filterFn:"auto"===t.columnDef.filterFn?t.getAutoFilterFn():null!=(n=null==(i=e.options.filterFns)?void 0:i[t.columnDef.filterFn])?n:TR[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,i,s
return(null==(n=t.columnDef.enableColumnFilter)||n)&&(null==(i=e.options.enableColumnFilters)||i)&&(null==(s=e.options.enableFilters)||s)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n
return null==(n=e.getState().columnFilters)||null==(n=n.find((e=>e.id===t.id)))?void 0:n.value},t.getFilterIndex=()=>{var n,i
return null!=(n=null==(i=e.getState().columnFilters)?void 0:i.findIndex((e=>e.id===t.id)))?n:-1},t.setFilterValue=n=>{e.setColumnFilters((e=>{const i=t.getFilterFn(),s=null==e?void 0:e.find((e=>e.id===t.id)),o=hR(n,s?s.value:void 0)
var r
if(FR(i,o,t))return null!=(r=null==e?void 0:e.filter((e=>e.id!==t.id)))?r:[]
const a={id:t.id,value:o}
var l
return s?null!=(l=null==e?void 0:e.map((e=>e.id===t.id?a:e)))?l:[]:null!=e&&e.length?[...e,a]:[a]}))}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns()
null==t.options.onColumnFiltersChange||t.options.onColumnFiltersChange((t=>{var i
return null==(i=hR(e,t))?void 0:i.filter((t=>{const e=n.find((e=>e.id===t.id))
if(e){if(FR(e.getFilterFn(),t.value,e))return!1}return!0}))}))},t.resetColumnFilters=e=>{var n,i
t.setColumnFilters(e?[]:null!=(n=null==(i=t.initialState)?void 0:i.columnFilters)?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}}
function FR(t,e,n){return!(!t||!t.autoRemove)&&t.autoRemove(e,n)||void 0===e||"string"==typeof e&&!e}const NR={sum:(t,e,n)=>n.reduce(((e,n)=>{const i=n.getValue(t)
return e+("number"==typeof i?i:0)}),0),min:(t,e,n)=>{let i
return n.forEach((e=>{const n=e.getValue(t)
null!=n&&(i>n||void 0===i&&n>=n)&&(i=n)})),i},max:(t,e,n)=>{let i
return n.forEach((e=>{const n=e.getValue(t)
null!=n&&(i<n||void 0===i&&n>=n)&&(i=n)})),i},extent:(t,e,n)=>{let i,s
return n.forEach((e=>{const n=e.getValue(t)
null!=n&&(void 0===i?n>=n&&(i=s=n):(i>n&&(i=n),s<n&&(s=n)))})),[i,s]},mean:(t,e)=>{let n=0,i=0
if(e.forEach((e=>{let s=e.getValue(t)
null!=s&&(s=+s)>=s&&(++n,i+=s)})),n)return i/n},median:(t,e)=>{if(!e.length)return
const n=e.map((e=>e.getValue(t)))
if(i=n,!Array.isArray(i)||!i.every((t=>"number"==typeof t)))return
var i
if(1===n.length)return n[0]
const s=Math.floor(n.length/2),o=n.sort(((t,e)=>t-e))
return n.length%2!=0?o[s]:(o[s-1]+o[s])/2},unique:(t,e)=>Array.from(new Set(e.map((e=>e.getValue(t)))).values()),uniqueCount:(t,e)=>new Set(e.map((e=>e.getValue(t)))).size,count:(t,e)=>e.length},LR={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n
return null!=(e=null==(n=t.getValue())||null==n.toString?void 0:n.toString())?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:uR("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping((e=>null!=e&&e.includes(t.id)?e.filter((e=>e!==t.id)):[...null!=e?e:[],t.id]))},t.getCanGroup=()=>{var n,i
return(null==(n=t.columnDef.enableGrouping)||n)&&(null==(i=e.options.enableGrouping)||i)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n
return null==(n=e.getState().grouping)?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n
return null==(n=e.getState().grouping)?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const e=t.getCanGroup()
return()=>{e&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=null==n?void 0:n.getValue(t.id)
return"number"==typeof i?NR.sum:"[object Date]"===Object.prototype.toString.call(i)?NR.extent:void 0},t.getAggregationFn=()=>{var n,i
if(!t)throw new Error
return pR(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:"auto"===t.columnDef.aggregationFn?t.getAutoAggregationFn():null!=(n=null==(i=e.options.aggregationFns)?void 0:i[t.columnDef.aggregationFn])?n:NR[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>null==t.options.onGroupingChange?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,i
t.setGrouping(e?[]:null!=(n=null==(i=t.initialState)?void 0:i.grouping)?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n]
const i=e.getColumn(n)
return null!=i&&i.columnDef.getGroupingValue?(t._groupingValuesCache[n]=i.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,i)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var e
return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!(null==(e=n.subRows)||!e.length)}}}
const BR={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:uR("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=mR((t=>[jR(e,t)]),(e=>e.findIndex((e=>e.id===t.id))),gR(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var i
return(null==(i=jR(e,n)[0])?void 0:i.id)===t.id},t.getIsLastColumn=n=>{var i
const s=jR(e,n)
return(null==(i=s[s.length-1])?void 0:i.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>null==t.options.onColumnOrderChange?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n
t.setColumnOrder(e?[]:null!=(n=t.initialState.columnOrder)?n:[])},t._getOrderColumnsFn=mR((()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode]),((t,e,n)=>i=>{let s=[]
if(null!=t&&t.length){const e=[...t],n=[...i]
for(;n.length&&e.length;){const t=e.shift(),i=n.findIndex((e=>e.id===t))
i>-1&&s.push(n.splice(i,1)[0])}s=[...s,...n]}else s=i
return function(t,e,n){if(null==e||!e.length||!n)return t
const i=t.filter((t=>!e.includes(t.id)))
return"remove"===n?i:[...e.map((e=>t.find((t=>t.id===e)))).filter(Boolean),...i]}(s,e,n)}),gR(t.options,"debugTable"))}},PR={getInitialState:t=>({columnPinning:{left:[],right:[]},...t}),getDefaultOptions:t=>({onColumnPinningChange:uR("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const i=t.getLeafColumns().map((t=>t.id)).filter(Boolean)
e.setColumnPinning((t=>{var e,s,o,r,a,l
return"right"===n?{left:(null!=(o=null==t?void 0:t.left)?o:[]).filter((t=>!(null!=i&&i.includes(t)))),right:[...(null!=(r=null==t?void 0:t.right)?r:[]).filter((t=>!(null!=i&&i.includes(t)))),...i]}:"left"===n?{left:[...(null!=(a=null==t?void 0:t.left)?a:[]).filter((t=>!(null!=i&&i.includes(t)))),...i],right:(null!=(l=null==t?void 0:t.right)?l:[]).filter((t=>!(null!=i&&i.includes(t))))}:{left:(null!=(e=null==t?void 0:t.left)?e:[]).filter((t=>!(null!=i&&i.includes(t)))),right:(null!=(s=null==t?void 0:t.right)?s:[]).filter((t=>!(null!=i&&i.includes(t))))}}))},t.getCanPin=()=>t.getLeafColumns().some((t=>{var n,i,s
return(null==(n=t.columnDef.enablePinning)||n)&&(null==(i=null!=(s=e.options.enableColumnPinning)?s:e.options.enablePinning)||i)})),t.getIsPinned=()=>{const n=t.getLeafColumns().map((t=>t.id)),{left:i,right:s}=e.getState().columnPinning,o=n.some((t=>null==i?void 0:i.includes(t))),r=n.some((t=>null==s?void 0:s.includes(t)))
return o?"left":!!r&&"right"},t.getPinnedIndex=()=>{var n,i
const s=t.getIsPinned()
return s?null!=(n=null==(i=e.getState().columnPinning)||null==(i=i[s])?void 0:i.indexOf(t.id))?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=mR((()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,e,n)=>{const i=[...null!=e?e:[],...null!=n?n:[]]
return t.filter((t=>!i.includes(t.column.id)))}),gR(e.options,"debugRows")),t.getLeftVisibleCells=mR((()=>[t._getAllVisibleCells(),e.getState().columnPinning.left]),((t,e)=>(null!=e?e:[]).map((e=>t.find((t=>t.column.id===e)))).filter(Boolean).map((t=>({...t,position:"left"})))),gR(e.options,"debugRows")),t.getRightVisibleCells=mR((()=>[t._getAllVisibleCells(),e.getState().columnPinning.right]),((t,e)=>(null!=e?e:[]).map((e=>t.find((t=>t.column.id===e)))).filter(Boolean).map((t=>({...t,position:"right"})))),gR(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>null==t.options.onColumnPinningChange?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,i
return t.setColumnPinning(e?{left:[],right:[]}:null!=(n=null==(i=t.initialState)?void 0:i.columnPinning)?n:{left:[],right:[]})},t.getIsSomeColumnsPinned=e=>{var n
const i=t.getState().columnPinning
var s,o
return e?Boolean(null==(n=i[e])?void 0:n.length):Boolean((null==(s=i.left)?void 0:s.length)||(null==(o=i.right)?void 0:o.length))},t.getLeftLeafColumns=mR((()=>[t.getAllLeafColumns(),t.getState().columnPinning.left]),((t,e)=>(null!=e?e:[]).map((e=>t.find((t=>t.id===e)))).filter(Boolean)),gR(t.options,"debugColumns")),t.getRightLeafColumns=mR((()=>[t.getAllLeafColumns(),t.getState().columnPinning.right]),((t,e)=>(null!=e?e:[]).map((e=>t.find((t=>t.id===e)))).filter(Boolean)),gR(t.options,"debugColumns")),t.getCenterLeafColumns=mR((()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right]),((t,e,n)=>{const i=[...null!=e?e:[],...null!=n?n:[]]
return t.filter((t=>!i.includes(t.id)))}),gR(t.options,"debugColumns"))}},zR={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},VR={getDefaultColumnDef:()=>zR,getInitialState:t=>({columnSizing:{},columnSizingInfo:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]},...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:uR("columnSizing",t),onColumnSizingInfoChange:uR("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,i,s
const o=e.getState().columnSizing[t.id]
return Math.min(Math.max(null!=(n=t.columnDef.minSize)?n:zR.minSize,null!=(i=null!=o?o:t.columnDef.size)?i:zR.size),null!=(s=t.columnDef.maxSize)?s:zR.maxSize)},t.getStart=mR((t=>[t,jR(e,t),e.getState().columnSizing]),((e,n)=>n.slice(0,t.getIndex(e)).reduce(((t,e)=>t+e.getSize()),0)),gR(e.options,"debugColumns")),t.getAfter=mR((t=>[t,jR(e,t),e.getState().columnSizing]),((e,n)=>n.slice(t.getIndex(e)+1).reduce(((t,e)=>t+e.getSize()),0)),gR(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing((e=>{let{[t.id]:n,...i}=e
return i}))},t.getCanResize=()=>{var n,i
return(null==(n=t.columnDef.enableResizing)||n)&&(null==(i=e.options.enableColumnResizing)||i)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let e=0
const n=t=>{var i
t.subHeaders.length?t.subHeaders.forEach(n):e+=null!=(i=t.column.getSize())?i:0}
return n(t),e},t.getStart=()=>{if(t.index>0){const e=t.headerGroup.headers[t.index-1]
return e.getStart()+e.getSize()}return 0},t.getResizeHandler=n=>{const i=e.getColumn(t.column.id),s=null==i?void 0:i.getCanResize()
return o=>{if(!i||!s)return
if(null==o.persist||o.persist(),UR(o)&&o.touches&&o.touches.length>1)return
const r=t.getSize(),a=t?t.getLeafHeaders().map((t=>[t.column.id,t.column.getSize()])):[[i.id,i.getSize()]],l=UR(o)?Math.round(o.touches[0].clientX):o.clientX,c={},d=(t,n)=>{"number"==typeof n&&(e.setColumnSizingInfo((t=>{var i,s
const o="rtl"===e.options.columnResizeDirection?-1:1,r=(n-(null!=(i=null==t?void 0:t.startOffset)?i:0))*o,a=Math.max(r/(null!=(s=null==t?void 0:t.startSize)?s:0),-.999999)
return t.columnSizingStart.forEach((t=>{let[e,n]=t
c[e]=Math.round(100*Math.max(n+n*a,0))/100})),{...t,deltaOffset:r,deltaPercentage:a}})),"onChange"!==e.options.columnResizeMode&&"end"!==t||e.setColumnSizing((t=>({...t,...c}))))},h=t=>d("move",t),u=t=>{d("end",t),e.setColumnSizingInfo((t=>({...t,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]})))},p=n||"undefined"!=typeof document?document:null,f={moveHandler:t=>h(t.clientX),upHandler:t=>{null==p||p.removeEventListener("mousemove",f.moveHandler),null==p||p.removeEventListener("mouseup",f.upHandler),u(t.clientX)}},m={moveHandler:t=>(t.cancelable&&(t.preventDefault(),t.stopPropagation()),h(t.touches[0].clientX),!1),upHandler:t=>{var e
null==p||p.removeEventListener("touchmove",m.moveHandler),null==p||p.removeEventListener("touchend",m.upHandler),t.cancelable&&(t.preventDefault(),t.stopPropagation()),u(null==(e=t.touches[0])?void 0:e.clientX)}},g=!!function(){if("boolean"==typeof HR)return HR
let t=!1
try{const e={get passive(){return t=!0,!1}},n=()=>{}
window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch(e){t=!1}return HR=t,HR}()&&{passive:!1}
UR(o)?(null==p||p.addEventListener("touchmove",m.moveHandler,g),null==p||p.addEventListener("touchend",m.upHandler,g)):(null==p||p.addEventListener("mousemove",f.moveHandler,g),null==p||p.addEventListener("mouseup",f.upHandler,g)),e.setColumnSizingInfo((t=>({...t,startOffset:l,startSize:r,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:i.id})))}}},createTable:t=>{t.setColumnSizing=e=>null==t.options.onColumnSizingChange?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>null==t.options.onColumnSizingInfoChange?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n
t.setColumnSizing(e?{}:null!=(n=t.initialState.columnSizing)?n:{})},t.resetHeaderSizeInfo=e=>{var n
t.setColumnSizingInfo(e?{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}:null!=(n=t.initialState.columnSizingInfo)?n:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]})},t.getTotalSize=()=>{var e,n
return null!=(e=null==(n=t.getHeaderGroups()[0])?void 0:n.headers.reduce(((t,e)=>t+e.getSize()),0))?e:0},t.getLeftTotalSize=()=>{var e,n
return null!=(e=null==(n=t.getLeftHeaderGroups()[0])?void 0:n.headers.reduce(((t,e)=>t+e.getSize()),0))?e:0},t.getCenterTotalSize=()=>{var e,n
return null!=(e=null==(n=t.getCenterHeaderGroups()[0])?void 0:n.headers.reduce(((t,e)=>t+e.getSize()),0))?e:0},t.getRightTotalSize=()=>{var e,n
return null!=(e=null==(n=t.getRightHeaderGroups()[0])?void 0:n.headers.reduce(((t,e)=>t+e.getSize()),0))?e:0}}}
let HR=null
function UR(t){return"touchstart"===t.type}const qR={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:uR("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility((e=>({...e,[t.id]:null!=n?n:!t.getIsVisible()})))},t.getIsVisible=()=>{var n,i
const s=t.columns
return null==(n=s.length?s.some((t=>t.getIsVisible())):null==(i=e.getState().columnVisibility)?void 0:i[t.id])||n},t.getCanHide=()=>{var n,i
return(null==(n=t.columnDef.enableHiding)||n)&&(null==(i=e.options.enableHiding)||i)},t.getToggleVisibilityHandler=()=>e=>{null==t.toggleVisibility||t.toggleVisibility(e.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=mR((()=>[t.getAllCells(),e.getState().columnVisibility]),(t=>t.filter((t=>t.column.getIsVisible()))),gR(e.options,"debugRows")),t.getVisibleCells=mR((()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()]),((t,e,n)=>[...t,...e,...n]),gR(e.options,"debugRows"))},createTable:t=>{const e=(e,n)=>mR((()=>[n(),n().filter((t=>t.getIsVisible())).map((t=>t.id)).join("_")]),(t=>t.filter((t=>null==t.getIsVisible?void 0:t.getIsVisible()))),gR(t.options,"debugColumns"))
t.getVisibleFlatColumns=e(0,(()=>t.getAllFlatColumns())),t.getVisibleLeafColumns=e(0,(()=>t.getAllLeafColumns())),t.getLeftVisibleLeafColumns=e(0,(()=>t.getLeftLeafColumns())),t.getRightVisibleLeafColumns=e(0,(()=>t.getRightLeafColumns())),t.getCenterVisibleLeafColumns=e(0,(()=>t.getCenterLeafColumns())),t.setColumnVisibility=e=>null==t.options.onColumnVisibilityChange?void 0:t.options.onColumnVisibilityChange(e),t.resetColumnVisibility=e=>{var n
t.setColumnVisibility(e?{}:null!=(n=t.initialState.columnVisibility)?n:{})},t.toggleAllColumnsVisible=e=>{var n
e=null!=(n=e)?n:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce(((t,n)=>({...t,[n.id]:e||!(null!=n.getCanHide&&n.getCanHide())})),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some((t=>!(null!=t.getIsVisible&&t.getIsVisible()))),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some((t=>null==t.getIsVisible?void 0:t.getIsVisible())),t.getToggleAllColumnsVisibilityHandler=()=>e=>{var n
t.toggleAllColumnsVisible(null==(n=e.target)?void 0:n.checked)}}}
function jR(t,e){return e?"center"===e?t.getCenterVisibleLeafColumns():"left"===e?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const WR={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},GR={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:uR("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n
const i=null==(n=t.getCoreRowModel().flatRows[0])||null==(n=n._getAllCellsByColumnId()[e.id])?void 0:n.getValue()
return"string"==typeof i||"number"==typeof i}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,i,s,o
return(null==(n=t.columnDef.enableGlobalFilter)||n)&&(null==(i=e.options.enableGlobalFilter)||i)&&(null==(s=e.options.enableFilters)||s)&&(null==(o=null==e.options.getColumnCanGlobalFilter?void 0:e.options.getColumnCanGlobalFilter(t))||o)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>TR.includesString,t.getGlobalFilterFn=()=>{var e,n
const{globalFilterFn:i}=t.options
return pR(i)?i:"auto"===i?t.getGlobalAutoFilterFn():null!=(e=null==(n=t.options.filterFns)?void 0:n[i])?e:TR[i]},t.setGlobalFilter=e=>{null==t.options.onGlobalFilterChange||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},ZR={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:uR("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1
t._autoResetExpanded=()=>{var i,s
if(e){if(null!=(i=null!=(s=t.options.autoResetAll)?s:t.options.autoResetExpanded)?i:!t.options.manualExpanding){if(n)return
n=!0,t._queue((()=>{t.resetExpanded(),n=!1}))}}else t._queue((()=>{e=!0}))},t.setExpanded=e=>null==t.options.onExpandedChange?void 0:t.options.onExpandedChange(e),t.toggleAllRowsExpanded=e=>{(null!=e?e:!t.getIsAllRowsExpanded())?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=e=>{var n,i
t.setExpanded(e?{}:null!=(n=null==(i=t.initialState)?void 0:i.expanded)?n:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some((t=>t.getCanExpand())),t.getToggleAllRowsExpandedHandler=()=>e=>{null==e.persist||e.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const e=t.getState().expanded
return!0===e||Object.values(e).some(Boolean)},t.getIsAllRowsExpanded=()=>{const e=t.getState().expanded
return"boolean"==typeof e?!0===e:!!Object.keys(e).length&&!t.getRowModel().flatRows.some((t=>!t.getIsExpanded()))},t.getExpandedDepth=()=>{let e=0
return(!0===t.getState().expanded?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach((t=>{const n=t.split(".")
e=Math.max(e,n.length)})),e},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded((i=>{var s
const o=!0===i||!(null==i||!i[t.id])
let r={}
if(!0===i?Object.keys(e.getRowModel().rowsById).forEach((t=>{r[t]=!0})):r=i,n=null!=(s=n)?s:!o,!o&&n)return{...r,[t.id]:!0}
if(o&&!n){const{[t.id]:e,...n}=r
return n}return i}))},t.getIsExpanded=()=>{var n
const i=e.getState().expanded
return!!(null!=(n=null==e.options.getIsRowExpanded?void 0:e.options.getIsRowExpanded(t))?n:!0===i||(null==i?void 0:i[t.id]))},t.getCanExpand=()=>{var n,i,s
return null!=(n=null==e.options.getRowCanExpand?void 0:e.options.getRowCanExpand(t))?n:(null==(i=e.options.enableExpanding)||i)&&!(null==(s=t.subRows)||!s.length)},t.getIsAllParentsExpanded=()=>{let n=!0,i=t
for(;n&&i.parentId;)i=e.getRow(i.parentId,!0),n=i.getIsExpanded()
return n},t.getToggleExpandedHandler=()=>{const e=t.getCanExpand()
return()=>{e&&t.toggleExpanded()}}}},KR={getInitialState:t=>({...t,pagination:{pageIndex:0,pageSize:10,...null==t?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:uR("pagination",t)}),createTable:t=>{let e=!1,n=!1
t._autoResetPageIndex=()=>{var i,s
if(e){if(null!=(i=null!=(s=t.options.autoResetAll)?s:t.options.autoResetPageIndex)?i:!t.options.manualPagination){if(n)return
n=!0,t._queue((()=>{t.resetPageIndex(),n=!1}))}}else t._queue((()=>{e=!0}))},t.setPagination=e=>null==t.options.onPaginationChange?void 0:t.options.onPaginationChange((t=>hR(e,t))),t.resetPagination=e=>{var n
t.setPagination(e?{pageIndex:0,pageSize:10}:null!=(n=t.initialState.pagination)?n:{pageIndex:0,pageSize:10})},t.setPageIndex=e=>{t.setPagination((n=>{let i=hR(e,n.pageIndex)
const s=void 0===t.options.pageCount||-1===t.options.pageCount?Number.MAX_SAFE_INTEGER:t.options.pageCount-1
return i=Math.max(0,Math.min(i,s)),{...n,pageIndex:i}}))},t.resetPageIndex=e=>{var n,i
t.setPageIndex(e?0:null!=(n=null==(i=t.initialState)||null==(i=i.pagination)?void 0:i.pageIndex)?n:0)},t.resetPageSize=e=>{var n,i
t.setPageSize(e?10:null!=(n=null==(i=t.initialState)||null==(i=i.pagination)?void 0:i.pageSize)?n:10)},t.setPageSize=e=>{t.setPagination((t=>{const n=Math.max(1,hR(e,t.pageSize)),i=t.pageSize*t.pageIndex,s=Math.floor(i/n)
return{...t,pageIndex:s,pageSize:n}}))},t.setPageCount=e=>t.setPagination((n=>{var i
let s=hR(e,null!=(i=t.options.pageCount)?i:-1)
return"number"==typeof s&&(s=Math.max(-1,s)),{...n,pageCount:s}})),t.getPageOptions=mR((()=>[t.getPageCount()]),(t=>{let e=[]
return t&&t>0&&(e=[...new Array(t)].fill(null).map(((t,e)=>e))),e}),gR(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:e}=t.getState().pagination,n=t.getPageCount()
return-1===n||0!==n&&e<n-1},t.previousPage=()=>t.setPageIndex((t=>t-1)),t.nextPage=()=>t.setPageIndex((t=>t+1)),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var e
return null!=(e=t.options.pageCount)?e:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var e
return null!=(e=t.options.rowCount)?e:t.getPrePaginationRowModel().rows.length}}},YR={getInitialState:t=>({rowPinning:{top:[],bottom:[]},...t}),getDefaultOptions:t=>({onRowPinningChange:uR("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,i,s)=>{const o=i?t.getLeafRows().map((t=>{let{id:e}=t
return e})):[],r=s?t.getParentRows().map((t=>{let{id:e}=t
return e})):[],a=new Set([...r,t.id,...o])
e.setRowPinning((t=>{var e,i,s,o,r,l
return"bottom"===n?{top:(null!=(s=null==t?void 0:t.top)?s:[]).filter((t=>!(null!=a&&a.has(t)))),bottom:[...(null!=(o=null==t?void 0:t.bottom)?o:[]).filter((t=>!(null!=a&&a.has(t)))),...Array.from(a)]}:"top"===n?{top:[...(null!=(r=null==t?void 0:t.top)?r:[]).filter((t=>!(null!=a&&a.has(t)))),...Array.from(a)],bottom:(null!=(l=null==t?void 0:t.bottom)?l:[]).filter((t=>!(null!=a&&a.has(t))))}:{top:(null!=(e=null==t?void 0:t.top)?e:[]).filter((t=>!(null!=a&&a.has(t)))),bottom:(null!=(i=null==t?void 0:t.bottom)?i:[]).filter((t=>!(null!=a&&a.has(t))))}}))},t.getCanPin=()=>{var n
const{enableRowPinning:i,enablePinning:s}=e.options
return"function"==typeof i?i(t):null==(n=null!=i?i:s)||n},t.getIsPinned=()=>{const n=[t.id],{top:i,bottom:s}=e.getState().rowPinning,o=n.some((t=>null==i?void 0:i.includes(t))),r=n.some((t=>null==s?void 0:s.includes(t)))
return o?"top":!!r&&"bottom"},t.getPinnedIndex=()=>{var n,i
const s=t.getIsPinned()
if(!s)return-1
const o=null==(n="top"===s?e.getTopRows():e.getBottomRows())?void 0:n.map((t=>{let{id:e}=t
return e}))
return null!=(i=null==o?void 0:o.indexOf(t.id))?i:-1}},createTable:t=>{t.setRowPinning=e=>null==t.options.onRowPinningChange?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,i
return t.setRowPinning(e?{top:[],bottom:[]}:null!=(n=null==(i=t.initialState)?void 0:i.rowPinning)?n:{top:[],bottom:[]})},t.getIsSomeRowsPinned=e=>{var n
const i=t.getState().rowPinning
var s,o
return e?Boolean(null==(n=i[e])?void 0:n.length):Boolean((null==(s=i.top)?void 0:s.length)||(null==(o=i.bottom)?void 0:o.length))},t._getPinnedRows=(e,n,i)=>{var s
return(null==(s=t.options.keepPinnedRows)||s?(null!=n?n:[]).map((e=>{const n=t.getRow(e,!0)
return n.getIsAllParentsExpanded()?n:null})):(null!=n?n:[]).map((t=>e.find((e=>e.id===t))))).filter(Boolean).map((t=>({...t,position:i})))},t.getTopRows=mR((()=>[t.getRowModel().rows,t.getState().rowPinning.top]),((e,n)=>t._getPinnedRows(e,n,"top")),gR(t.options,"debugRows")),t.getBottomRows=mR((()=>[t.getRowModel().rows,t.getState().rowPinning.bottom]),((e,n)=>t._getPinnedRows(e,n,"bottom")),gR(t.options,"debugRows")),t.getCenterRows=mR((()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom]),((t,e,n)=>{const i=new Set([...null!=e?e:[],...null!=n?n:[]])
return t.filter((t=>!i.has(t.id)))}),gR(t.options,"debugRows"))}},XR={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:uR("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>null==t.options.onRowSelectionChange?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n
return t.setRowSelection(e?{}:null!=(n=t.initialState.rowSelection)?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection((n=>{e=void 0!==e?e:!t.getIsAllRowsSelected()
const i={...n},s=t.getPreGroupedRowModel().flatRows
return e?s.forEach((t=>{t.getCanSelect()&&(i[t.id]=!0)})):s.forEach((t=>{delete i[t.id]})),i}))},t.toggleAllPageRowsSelected=e=>t.setRowSelection((n=>{const i=void 0!==e?e:!t.getIsAllPageRowsSelected(),s={...n}
return t.getRowModel().rows.forEach((e=>{JR(s,e.id,i,!0,t)})),s})),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=mR((()=>[t.getState().rowSelection,t.getCoreRowModel()]),((e,n)=>Object.keys(e).length?QR(t,n):{rows:[],flatRows:[],rowsById:{}}),gR(t.options,"debugTable")),t.getFilteredSelectedRowModel=mR((()=>[t.getState().rowSelection,t.getFilteredRowModel()]),((e,n)=>Object.keys(e).length?QR(t,n):{rows:[],flatRows:[],rowsById:{}}),gR(t.options,"debugTable")),t.getGroupedSelectedRowModel=mR((()=>[t.getState().rowSelection,t.getSortedRowModel()]),((e,n)=>Object.keys(e).length?QR(t,n):{rows:[],flatRows:[],rowsById:{}}),gR(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState()
let i=Boolean(e.length&&Object.keys(n).length)
return i&&e.some((t=>t.getCanSelect()&&!n[t.id]))&&(i=!1),i},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter((t=>t.getCanSelect())),{rowSelection:n}=t.getState()
let i=!!e.length
return i&&e.some((t=>!n[t.id]))&&(i=!1),i},t.getIsSomeRowsSelected=()=>{var e
const n=Object.keys(null!=(e=t.getState().rowSelection)?e:{}).length
return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows
return!t.getIsAllPageRowsSelected()&&e.filter((t=>t.getCanSelect())).some((t=>t.getIsSelected()||t.getIsSomeSelected()))},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,i)=>{const s=t.getIsSelected()
e.setRowSelection((o=>{var r
if(n=void 0!==n?n:!s,t.getCanSelect()&&s===n)return o
const a={...o}
return JR(a,t.id,n,null==(r=null==i?void 0:i.selectChildren)||r,e),a}))},t.getIsSelected=()=>{const{rowSelection:n}=e.getState()
return tF(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState()
return"some"===eF(t,n)},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState()
return"all"===eF(t,n)},t.getCanSelect=()=>{var n
return"function"==typeof e.options.enableRowSelection?e.options.enableRowSelection(t):null==(n=e.options.enableRowSelection)||n},t.getCanSelectSubRows=()=>{var n
return"function"==typeof e.options.enableSubRowSelection?e.options.enableSubRowSelection(t):null==(n=e.options.enableSubRowSelection)||n},t.getCanMultiSelect=()=>{var n
return"function"==typeof e.options.enableMultiRowSelection?e.options.enableMultiRowSelection(t):null==(n=e.options.enableMultiRowSelection)||n},t.getToggleSelectedHandler=()=>{const e=t.getCanSelect()
return n=>{var i
e&&t.toggleSelected(null==(i=n.target)?void 0:i.checked)}}}},JR=(t,e,n,i,s)=>{var o
const r=s.getRow(e,!0)
n?(r.getCanMultiSelect()||Object.keys(t).forEach((e=>delete t[e])),r.getCanSelect()&&(t[e]=!0)):delete t[e],i&&null!=(o=r.subRows)&&o.length&&r.getCanSelectSubRows()&&r.subRows.forEach((e=>JR(t,e.id,n,i,s)))}
function QR(t,e){const n=t.getState().rowSelection,i=[],s={},o=function(t,e){return t.map((t=>{var e
const r=tF(t,n)
if(r&&(i.push(t),s[t.id]=t),null!=(e=t.subRows)&&e.length&&(t={...t,subRows:o(t.subRows)}),r)return t})).filter(Boolean)}
return{rows:o(e.rows),flatRows:i,rowsById:s}}function tF(t,e){var n
return null!=(n=e[t.id])&&n}function eF(t,e,n){var i
if(null==(i=t.subRows)||!i.length)return!1
let s=!0,o=!1
return t.subRows.forEach((t=>{if((!o||s)&&(t.getCanSelect()&&(tF(t,e)?o=!0:s=!1),t.subRows&&t.subRows.length)){const n=eF(t,e)
"all"===n?o=!0:"some"===n?(o=!0,s=!1):s=!1}})),s?"all":!!o&&"some"}const nF=/([0-9]+)/gm
function iF(t,e){return t===e?0:t>e?1:-1}function sF(t){return"number"==typeof t?isNaN(t)||t===1/0||t===-1/0?"":String(t):"string"==typeof t?t:""}function oF(t,e){const n=t.split(nF).filter(Boolean),i=e.split(nF).filter(Boolean)
for(;n.length&&i.length;){const t=n.shift(),e=i.shift(),s=parseInt(t,10),o=parseInt(e,10),r=[s,o].sort()
if(isNaN(r[0])){if(t>e)return 1
if(e>t)return-1}else{if(isNaN(r[1]))return isNaN(s)?-1:1
if(s>o)return 1
if(o>s)return-1}}return n.length-i.length}const rF={alphanumeric:(t,e,n)=>oF(sF(t.getValue(n)).toLowerCase(),sF(e.getValue(n)).toLowerCase()),alphanumericCaseSensitive:(t,e,n)=>oF(sF(t.getValue(n)),sF(e.getValue(n))),text:(t,e,n)=>iF(sF(t.getValue(n)).toLowerCase(),sF(e.getValue(n)).toLowerCase()),textCaseSensitive:(t,e,n)=>iF(sF(t.getValue(n)),sF(e.getValue(n))),datetime:(t,e,n)=>{const i=t.getValue(n),s=e.getValue(n)
return i>s?1:i<s?-1:0},basic:(t,e,n)=>iF(t.getValue(n),e.getValue(n))},aF={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:uR("sorting",t),isMultiSortEvent:t=>t.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10)
let i=!1
for(const e of n){const n=null==e?void 0:e.getValue(t.id)
if("[object Date]"===Object.prototype.toString.call(n))return rF.datetime
if("string"==typeof n&&(i=!0,n.split(nF).length>1))return rF.alphanumeric}return i?rF.text:rF.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0]
return"string"==typeof(null==n?void 0:n.getValue(t.id))?"asc":"desc"},t.getSortingFn=()=>{var n,i
if(!t)throw new Error
return pR(t.columnDef.sortingFn)?t.columnDef.sortingFn:"auto"===t.columnDef.sortingFn?t.getAutoSortingFn():null!=(n=null==(i=e.options.sortingFns)?void 0:i[t.columnDef.sortingFn])?n:rF[t.columnDef.sortingFn]},t.toggleSorting=(n,i)=>{const s=t.getNextSortingOrder(),o=null!=n
e.setSorting((r=>{const a=null==r?void 0:r.find((e=>e.id===t.id)),l=null==r?void 0:r.findIndex((e=>e.id===t.id))
let c,d=[],h=o?n:"desc"===s
var u;(c=null!=r&&r.length&&t.getCanMultiSort()&&i?a?"toggle":"add":null!=r&&r.length&&l!==r.length-1?"replace":a?"toggle":"replace","toggle"===c&&(o||s||(c="remove")),"add"===c)?(d=[...r,{id:t.id,desc:h}],d.splice(0,d.length-(null!=(u=e.options.maxMultiSortColCount)?u:Number.MAX_SAFE_INTEGER))):d="toggle"===c?r.map((e=>e.id===t.id?{...e,desc:h}:e)):"remove"===c?r.filter((e=>e.id!==t.id)):[{id:t.id,desc:h}]
return d}))},t.getFirstSortDir=()=>{var n,i
return(null!=(n=null!=(i=t.columnDef.sortDescFirst)?i:e.options.sortDescFirst)?n:"desc"===t.getAutoSortDir())?"desc":"asc"},t.getNextSortingOrder=n=>{var i,s
const o=t.getFirstSortDir(),r=t.getIsSorted()
return r?!!(r===o||null!=(i=e.options.enableSortingRemoval)&&!i||n&&null!=(s=e.options.enableMultiRemove)&&!s)&&("desc"===r?"asc":"desc"):o},t.getCanSort=()=>{var n,i
return(null==(n=t.columnDef.enableSorting)||n)&&(null==(i=e.options.enableSorting)||i)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,i
return null!=(n=null!=(i=t.columnDef.enableMultiSort)?i:e.options.enableMultiSort)?n:!!t.accessorFn},t.getIsSorted=()=>{var n
const i=null==(n=e.getState().sorting)?void 0:n.find((e=>e.id===t.id))
return!!i&&(i.desc?"desc":"asc")},t.getSortIndex=()=>{var n,i
return null!=(n=null==(i=e.getState().sorting)?void 0:i.findIndex((e=>e.id===t.id)))?n:-1},t.clearSorting=()=>{e.setSorting((e=>null!=e&&e.length?e.filter((e=>e.id!==t.id)):[]))},t.getToggleSortingHandler=()=>{const n=t.getCanSort()
return i=>{n&&(null==i.persist||i.persist(),null==t.toggleSorting||t.toggleSorting(void 0,!!t.getCanMultiSort()&&(null==e.options.isMultiSortEvent?void 0:e.options.isMultiSortEvent(i))))}}},createTable:t=>{t.setSorting=e=>null==t.options.onSortingChange?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,i
t.setSorting(e?[]:null!=(n=null==(i=t.initialState)?void 0:i.sorting)?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},lF=[yR,qR,BR,PR,CR,RR,WR,GR,aF,LR,ZR,KR,YR,XR,VR]
function cF(t){var e,n
const i=[...lF,...null!=(e=t._features)?e:[]]
let s={_features:i}
const o=s._features.reduce(((t,e)=>Object.assign(t,null==e.getDefaultOptions?void 0:e.getDefaultOptions(s))),{})
let r={...null!=(n=t.initialState)?n:{}}
s._features.forEach((t=>{var e
r=null!=(e=null==t.getInitialState?void 0:t.getInitialState(r))?e:r}))
const a=[]
let l=!1
const c={_features:i,options:{...o,...t},initialState:r,_queue:t=>{a.push(t),l||(l=!0,Promise.resolve().then((()=>{for(;a.length;)a.shift()()
l=!1})).catch((t=>setTimeout((()=>{throw t})))))},reset:()=>{s.setState(s.initialState)},setOptions:t=>{const e=hR(t,s.options)
s.options=(t=>s.options.mergeOptions?s.options.mergeOptions(o,t):{...o,...t})(e)},getState:()=>s.options.state,setState:t=>{null==s.options.onStateChange||s.options.onStateChange(t)},_getRowId:(t,e,n)=>{var i
return null!=(i=null==s.options.getRowId?void 0:s.options.getRowId(t,e,n))?i:`${n?[n.id,e].join("."):e}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(t,e)=>{let n=(e?s.getPrePaginationRowModel():s.getRowModel()).rowsById[t]
if(!n&&(n=s.getCoreRowModel().rowsById[t],!n))throw new Error
return n},_getDefaultColumnDef:mR((()=>[s.options.defaultColumn]),(t=>{var e
return t=null!=(e=t)?e:{},{header:t=>{const e=t.header.column.columnDef
return e.accessorKey?e.accessorKey:e.accessorFn?e.id:null},cell:t=>{var e,n
return null!=(e=null==(n=t.renderValue())||null==n.toString?void 0:n.toString())?e:null},...s._features.reduce(((t,e)=>Object.assign(t,null==e.getDefaultColumnDef?void 0:e.getDefaultColumnDef())),{}),...t}}),gR(t,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:mR((()=>[s._getColumnDefs()]),(t=>{const e=function(t,n,i){return void 0===i&&(i=0),t.map((t=>{const o=function(t,e,n,i){var s,o
const r={...t._getDefaultColumnDef(),...e},a=r.accessorKey
let l,c=null!=(s=null!=(o=r.id)?o:a?"function"==typeof String.prototype.replaceAll?a.replaceAll(".","_"):a.replace(/\./g,"_"):void 0)?s:"string"==typeof r.header?r.header:void 0
if(r.accessorFn?l=r.accessorFn:a&&(l=a.includes(".")?t=>{let e=t
for(const t of a.split(".")){var n
e=null==(n=e)?void 0:n[t]}return e}:t=>t[r.accessorKey]),!c)throw new Error
let d={id:`${String(c)}`,accessorFn:l,parent:i,depth:n,columnDef:r,columns:[],getFlatColumns:mR((()=>[!0]),(()=>{var t
return[d,...null==(t=d.columns)?void 0:t.flatMap((t=>t.getFlatColumns()))]}),gR(t.options,"debugColumns")),getLeafColumns:mR((()=>[t._getOrderColumnsFn()]),(t=>{var e
if(null!=(e=d.columns)&&e.length){let e=d.columns.flatMap((t=>t.getLeafColumns()))
return t(e)}return[d]}),gR(t.options,"debugColumns"))}
for(const e of t._features)null==e.createColumn||e.createColumn(d,t)
return d}(s,t,i,n),r=t
return o.columns=r.columns?e(r.columns,o,i+1):[],o}))}
return e(t)}),gR(t,"debugColumns")),getAllFlatColumns:mR((()=>[s.getAllColumns()]),(t=>t.flatMap((t=>t.getFlatColumns()))),gR(t,"debugColumns")),_getAllFlatColumnsById:mR((()=>[s.getAllFlatColumns()]),(t=>t.reduce(((t,e)=>(t[e.id]=e,t)),{})),gR(t,"debugColumns")),getAllLeafColumns:mR((()=>[s.getAllColumns(),s._getOrderColumnsFn()]),((t,e)=>e(t.flatMap((t=>t.getLeafColumns())))),gR(t,"debugColumns")),getColumn:t=>s._getAllFlatColumnsById()[t]}
Object.assign(s,c)
for(let t=0;t<s._features.length;t++){const e=s._features[t]
null==e||null==e.createTable||e.createTable(s)}return s}function dF(){return t=>mR((()=>[t.getState().grouping,t.getPreGroupedRowModel()]),((e,n)=>{if(!n.rows.length||!e.length)return n.rows.forEach((t=>{t.depth=0,t.parentId=void 0})),n
const i=e.filter((e=>t.getColumn(e))),s=[],o={},r=function(e,n,a){if(void 0===n&&(n=0),n>=i.length)return e.map((t=>(t.depth=n,s.push(t),o[t.id]=t,t.subRows&&(t.subRows=r(t.subRows,n+1,t.id)),t)))
const l=i[n],c=function(t,e){const n=new Map
return t.reduce(((t,n)=>{const i=`${n.getGroupingValue(e)}`,s=t.get(i)
return s?s.push(n):t.set(i,[n]),t}),n)}(e,l),d=Array.from(c.entries()).map(((e,c)=>{let[d,h]=e,u=`${l}:${d}`
u=a?`${a}>${u}`:u
const p=r(h,n+1,u)
p.forEach((t=>{t.parentId=u}))
const f=n?fR(h,(t=>t.subRows)):h,m=xR(t,u,f[0].original,c,n,void 0,a)
return Object.assign(m,{groupingColumnId:l,groupingValue:d,subRows:p,leafRows:f,getValue:e=>{if(i.includes(e)){if(m._valuesCache.hasOwnProperty(e))return m._valuesCache[e]
var n
if(h[0])m._valuesCache[e]=null!=(n=h[0].getValue(e))?n:void 0
return m._valuesCache[e]}if(m._groupingValuesCache.hasOwnProperty(e))return m._groupingValuesCache[e]
const s=t.getColumn(e),o=null==s?void 0:s.getAggregationFn()
return o?(m._groupingValuesCache[e]=o(e,f,h),m._groupingValuesCache[e]):void 0}}),p.forEach((t=>{s.push(t),o[t.id]=t})),m}))
return d},a=r(n.rows,0)
return a.forEach((t=>{s.push(t),o[t.id]=t})),{rows:a,flatRows:s,rowsById:o}}),gR(t.options,"debugTable",0,(()=>{t._queue((()=>{t._autoResetExpanded(),t._autoResetPageIndex()}))})))}const hF=void 0,uF="can-load-children",pF="loading-children",fF={none:void 0,ascending:"ascending",descending:"descending"},mF={none:void 0,single:"single",multiple:"multiple"},gF="not-selected",vF="selected",bF="partially-selected",yF="left",wF="right",xF="none",CF="columnHeader",kF="headerActions",SF="row",_F="rowSelectionCheckbox",IF="cell",MF="cellActionMenu",$F="cellContent",DF="basic",EF="localeAwareCaseSensitive",AF=117,TF=1
class OF extends je{}t([C],OF.prototype,"groupHeaderValue",void 0),t([C],OF.prototype,"columnConfig",void 0)
const RF=t=>((t=>{let e
try{e=document.createElement(t)}catch(t){}if(!(e instanceof OF))throw new Error(`Group header view tag name (${t}) must evaluate to an element extending TableGroupHeaderView`)})(t),Q`
        <${t}
            :groupHeaderValue="${t=>t.groupRowValue}"
            :columnConfig="${t=>t.groupColumn?.columnInternals.columnConfig}"
            class="group-header-view"
        >
        </${t}>
    `)
class FF extends je{constructor(){super(...arguments),this.delegatedEvents=[],this.delegatedEventHandler=()=>{}}get tabbableChildren(){return[]}columnChanged(){for(const t of this.delegatedEvents)this.removeEventListener(t,this.delegatedEventHandler)
if(this.delegatedEvents=[],this.delegatedEventHandler=()=>{},this.column){this.delegatedEvents=this.column.columnInternals.delegatedEvents,this.delegatedEventHandler=t=>{this.recordId&&this.column?.dispatchEvent(new CustomEvent("delegated-event",{detail:{originalEvent:t,recordId:this.recordId}}))}
for(const t of this.delegatedEvents)this.addEventListener(t,this.delegatedEventHandler)}}}function NF(t,e){return`${t}-${e}`}function LF(t,e){return NF(t.columnInternals.uniqueId,e)}t([C],FF.prototype,"cellRecord",void 0),t([C],FF.prototype,"columnConfig",void 0),t([C],FF.prototype,"column",void 0),t([C],FF.prototype,"recordId",void 0)
const BF=t=>((t=>{let e
try{e=document.createElement(t)}catch(t){}if(!(e instanceof FF))throw new Error(`Cell view tag name (${t}) must evaluate to an element extending TableCellView`)})(t),Q`
        <${t}
            :cellRecord="${t=>t.cellState?.cellRecord}"
            :columnConfig="${t=>t.cellState?.columnConfig}"
            :column="${t=>t.column}"
            :recordId="${t=>t.recordId}"
            class="cell-view"
        >
            ${Qt((t=>t.column?.columnInternals.slotNames||[]),Q`
                <slot
                    name="${(t,e)=>LF(e.parent.column,t)}"
                    slot="${t=>t}"
                ></slot>
            `)}
        </${t}>
    `)
class PF{constructor(t){this.uniqueId=kn("table-column-slot"),this.sortOperation=DF,this.dataRecordFieldNames=[],this.groupingDisabled=!0,this.fractionalWidth=TF,this.minPixelWidth=AF,this.resizingDisabled=!1,this.hideHeaderIndicators=!1,this.headerAlignment=yF,this.currentFractionalWidth=TF,this.sortingDisabled=!0,this.currentSortDirection=fF.none,this.cellRecordFieldNames=t.cellRecordFieldNames,this.cellViewTemplate=BF(t.cellViewTag),t.groupHeaderViewTag&&(this.groupHeaderViewTemplate=RF(t.groupHeaderViewTag)),this.delegatedEvents=t.delegatedEvents,this.slotNames=t.slotNames??[],this.sortOperation=t.sortOperation??DF,this.validator=t.validator}fractionalWidthChanged(){this.currentFractionalWidth=this.fractionalWidth}pixelWidthChanged(){this.currentPixelWidth=this.pixelWidth}}function zF(t,...e){for(const n of e)if(t===n)return!0
return!1}t([C],PF.prototype,"columnConfig",void 0),t([C],PF.prototype,"operandDataRecordFieldName",void 0),t([C],PF.prototype,"sortOperation",void 0),t([C],PF.prototype,"dataRecordFieldNames",void 0),t([C],PF.prototype,"groupingDisabled",void 0),t([C],PF.prototype,"groupIndex",void 0),t([C],PF.prototype,"pixelWidth",void 0),t([C],PF.prototype,"fractionalWidth",void 0),t([C],PF.prototype,"minPixelWidth",void 0),t([C],PF.prototype,"resizingDisabled",void 0),t([C],PF.prototype,"hideHeaderIndicators",void 0),t([C],PF.prototype,"headerAlignment",void 0),t([C],PF.prototype,"currentFractionalWidth",void 0),t([C],PF.prototype,"currentPixelWidth",void 0),t([C],PF.prototype,"sortingDisabled",void 0),t([C],PF.prototype,"currentSortIndex",void 0),t([C],PF.prototype,"currentSortDirection",void 0)
class VF extends je{constructor(){super(...arguments),this.columnInternals=new PF(this.getColumnInternalsOptions()),this.columnHidden=!1,this.hasOverflow=!1}checkValidity(){return this.columnInternals.validator.isColumnValid}get validity(){return this.columnInternals.validator.getValidity()}get headerTextContent(){return Cb(this.contentSlot)}connectedCallback(){super.connectedCallback(),this.setAttribute("slot",this.columnInternals.uniqueId)}}t([ft({attribute:"column-id"})],VF.prototype,"columnId",void 0),t([ft({attribute:"action-menu-slot"})],VF.prototype,"actionMenuSlot",void 0),t([ft({attribute:"action-menu-label"})],VF.prototype,"actionMenuLabel",void 0),t([ft({attribute:"column-hidden",mode:"boolean"})],VF.prototype,"columnHidden",void 0),t([C],VF.prototype,"hasOverflow",void 0)
class HF{constructor(){this.duplicateRecordId=!1,this.missingRecordId=!1,this.invalidRecordId=!1,this.duplicateColumnId=!1,this.missingColumnId=!1,this.duplicateSortIndex=!1,this.duplicateGroupIndex=!1,this.idFieldNameNotConfigured=!1,this.invalidColumnConfiguration=!1,this.invalidParentIdConfiguration=!1,this.recordIds=new Set}getValidity(){return{duplicateRecordId:this.duplicateRecordId,missingRecordId:this.missingRecordId,invalidRecordId:this.invalidRecordId,duplicateColumnId:this.duplicateColumnId,missingColumnId:this.missingColumnId,duplicateSortIndex:this.duplicateSortIndex,duplicateGroupIndex:this.duplicateGroupIndex,idFieldNameNotConfigured:this.idFieldNameNotConfigured,invalidColumnConfiguration:this.invalidColumnConfiguration,invalidParentIdConfiguration:this.invalidParentIdConfiguration}}isValid(){return Object.values(this.getValidity()).every((t=>!1===t))}areRecordIdsValid(){const t=this.getValidity()
return!t.duplicateRecordId&&!t.missingRecordId&&!t.invalidRecordId}validateIdFieldConfiguration(t,e,n){const i=t!==mF.none||"string"==typeof n
return this.idFieldNameNotConfigured=!!i&&"string"!=typeof e,!this.idFieldNameNotConfigured}validateRecordIds(t,e){if(this.duplicateRecordId=!1,this.missingRecordId=!1,this.invalidRecordId=!1,this.recordIds.clear(),"string"!=typeof e)return!0
for(const n of t){if(!Object.prototype.hasOwnProperty.call(n,e)){this.missingRecordId=!0
continue}const t=n[e]
"string"==typeof t?(this.recordIds.has(t)&&(this.duplicateRecordId=!0),this.recordIds.add(t)):this.invalidRecordId=!0}return!this.missingRecordId&&!this.invalidRecordId&&!this.duplicateRecordId}validateColumnIds(t){this.missingColumnId=!1,this.duplicateColumnId=!1
const e=t.some((t=>t))
if(!e)return!0
const n=new Set
for(const e of t)e?(n.has(e)&&(this.duplicateColumnId=!0),n.add(e)):this.missingColumnId=!0
return!this.missingColumnId&&!this.duplicateColumnId}validateColumnSortIndices(t){return this.duplicateSortIndex=!this.validateIndicesAreUnique(t),!this.duplicateSortIndex}validateColumnGroupIndices(t){return this.duplicateGroupIndex=!this.validateIndicesAreUnique(t),!this.duplicateGroupIndex}validateColumnConfigurations(t){return this.invalidColumnConfiguration=t.some((t=>!t.columnInternals.validator.isColumnValid)),!this.invalidColumnConfiguration}getPresentRecordIds(t){return t.filter((t=>this.recordIds.has(t)))}getOptionsWithPresentIds(t){return t.filter((t=>this.recordIds.has(t.recordId)))}setParentIdConfigurationValidity(t){this.invalidParentIdConfiguration=!t}validateIndicesAreUnique(t){return new Set(t).size===t.length}}const UF=Mt`
    ${qs("flex")}

    :host {
        height: 480px;
        ${zl.cssCustomProperty}: calc(var(--ni-private-table-scroll-height) + var(--ni-private-table-horizontal-scrollbar-height) + ${Il});
        ${""}
        max-height: calc(${Il} + (40.5 * (2 * ${Tl} + ${Il})));
        --ni-private-column-divider-width: 2px;
        --ni-private-column-divider-padding: 3px;
    }

    :host(${js}) {
        ${""}
        outline: none;
    }

    .disable-select {
        ${Dm}
    }

    .table-container {
        overflow: hidden;
        display: flex;
        flex-direction: column;
        width: 100%;
        font: ${jc};
        color: ${Wc};
        cursor: var(--ni-private-table-cursor-override);
    }

    .header-row-container {
        position: sticky;
        top: 0;
    }

    .header-row {
        display: flex;
        background: ${il};
        position: relative;
        width: fit-content;
        min-width: max(
            100%,
            calc(
                var(--ni-private-table-scrollable-min-width) +
                    var(--ni-private-table-header-container-margin-right)
            )
        );
        left: var(--ni-private-table-scroll-x);
        align-items: center;
    }

    .header-row-action-container {
        display: flex;
        align-items: center;
    }

    .checkbox-container {
        display: flex;
    }

    .column-headers-container {
        display: grid;
        width: 100%;
        grid-template-columns: var(--ni-private-table-row-grid-columns) auto;
    }

    .collapse-all-button-container {
        display: flex;
        min-width: ${Dl};
    }

    .collapse-all-button {
        height: ${Ml};
        margin-left: ${Dl};
        visibility: hidden;
    }

    .collapse-all-button.hidden-size-reduced {
        display: none;
    }

    .collapse-all-button.visible {
        visibility: visible;
    }

    .header-container {
        display: flex;
        align-items: center;
        position: relative;
    }

    .header-scrollbar-spacer {
        width: var(--ni-private-table-header-container-margin-right);
    }

    .header {
        flex: 1;
        overflow: hidden;
    }

    .column-divider {
        border-left: var(--ni-private-column-divider-width) solid
            ${vl};
        display: none;
        height: ${Ml};
        cursor: col-resize;
        position: absolute;
        z-index: ${cg};
        touch-action: pan-y;
    }

    .column-divider:hover,
    .column-divider.divider-active {
        border-color: ${fl};
    }

    .column-divider.column-active.draggable,
    .header-container:hover .column-divider.draggable {
        display: block;
    }

    .column-divider::before {
        content: '';
        position: absolute;
        width: calc(
            var(--ni-private-column-divider-width) +
                (2 * var(--ni-private-column-divider-padding))
        );
        height: 100%;
        left: calc(
            -1 *
                (
                    var(--ni-private-column-divider-width) +
                        var(--ni-private-column-divider-padding)
                )
        );
    }

    .column-divider.left {
        left: -1px;
    }

    .column-divider.right {
        left: calc(100% - 1px);
    }

    .table-viewport {
        overflow: auto;
        display: block;
        height: 100%;
        position: relative;
    }

    .table-viewport${js} {
        outline: none;
    }

    .table-scroll {
        pointer-events: none;
        position: absolute;
        top: 0px;
        width: 100%;
        height: var(--ni-private-table-scroll-height);
    }

    .table-row-container {
        width: fit-content;
        min-width: max(100%, var(--ni-private-table-scrollable-min-width));
        position: relative;
        top: var(--ni-private-table-row-container-top);
        background-color: ${yl};
    }

    .selection-checkbox {
        margin-left: ${El};
    }

    .selection-checkbox::part(label) {
        padding-left: 0px;
    }

    .group-row {
        position: relative;
        --ni-private-table-cell-focus-offset-multiplier: 0;
    }

    .row {
        position: relative;
        --ni-private-table-cell-focus-offset-multiplier: 0;
    }

    .collapse-all-visible .row,
    .collapse-all-visible .group-row {
        --ni-private-table-cell-focus-offset-multiplier: 1;
    }

    .accessibly-hidden {
        ${fh}
    }
`.withBehaviors(gg(Ho.color,Mt`
            .table-row-container::before {
                content: '';
                width: 100%;
                height: 100%;
                background-color: ${el(mo,.1)};
                position: absolute;
            }
        `)),qF=Mt`
    ${qs("flex")}

    :host {
        height: ${Il};
        align-items: center;
        padding-left: ${Dl};
        padding-right: ${$l};
        font: ${zd};
        color: ${Vd};
        ${ml.cssCustomProperty}: ${Vd};
        text-transform: uppercase;
        gap: ${$l};
        cursor: default;
    }

    :host(.right-align) {
        flex-direction: row-reverse;
        padding-left: ${$l};
        padding-right: ${Dl};
    }

    :host(${js}) {
        outline: calc(2 * ${Tl}) solid ${fl};
        outline-offset: calc(-2 * ${Tl});
    }

    .sort-indicator,
    .grouped-indicator {
        flex: 0 0 auto;
    }
`,jF=Q`
    <template role="columnheader"
        class="${t=>t.alignment===wF?"right-align":""}"
        aria-sort="${t=>t.ariaSort}"
        ${""}
        @mousedown="${(t,e)=>!(e.event.detail>1)}"
    >
        <slot></slot>

        ${Gt((t=>!t.indicatorsHidden),Q`
            ${""}
            ${Gt((t=>t.sortDirection===fF.ascending),Q`
                <${_v}
                    class="sort-indicator"
                    title="${t=>cb.getValueFor(t)}"
                    aria-hidden="true"
                ></${_v}>
            `)}
            ${Gt((t=>t.sortDirection===fF.descending),Q`
                <${Sv}
                    class="sort-indicator"
                    title="${t=>db.getValueFor(t)}"
                    aria-hidden="true"
                ></${Sv}>
            `)}
            ${Gt((t=>t.isGrouped),Q`
                <${Rv}
                    class="grouped-indicator"
                    title="${t=>lb.getValueFor(t)}"
                    role="img"
                    aria-label="${t=>lb.getValueFor(t)}"
                ></${Rv}>
            `)}
        `)}
    </template>
`
class WF extends je{constructor(){super(...arguments),this.sortDirection=fF.none,this.firstSortedColumn=!1,this.indicatorsHidden=!1,this.alignment=yF,this.isGrouped=!1}sortDirectionChanged(t,e){this.updateAriaSort()}firstSortedColumnChanged(t,e){this.updateAriaSort()}updateAriaSort(){this.firstSortedColumn&&this.sortDirection!==fF.none?this.sortDirection===fF.ascending?this.ariaSort="ascending":this.ariaSort="descending":this.ariaSort=null}}t([ft({attribute:"sort-direction"})],WF.prototype,"sortDirection",void 0),t([ft({attribute:"first-sorted-column",mode:"boolean"})],WF.prototype,"firstSortedColumn",void 0),t([ft({attribute:"indicators-hidden",mode:"boolean"})],WF.prototype,"indicatorsHidden",void 0),t([C],WF.prototype,"alignment",void 0),t([C],WF.prototype,"isGrouped",void 0)
const GF=WF.compose({baseName:"table-header",template:jF,styles:qF})
Di.getOrCreate().withPrefix("nimble").register(GF())
const ZF="nimble-table-header",KF=Mt`
    :host .animating {
        transition: ${Kd} ease-in;
    }

    .expand-collapse-button {
        height: ${Ml};
        align-self: center;
    }

    .expander-icon {
        transform: rotate(0deg);
    }

    :host([expanded]) .expander-icon {
        transform: rotate(90deg);
    }

    @media (prefers-reduced-motion) {
        :host .animating {
            transition-duration: 0s;
        }
    }
`,YF=Mt`
    ${qs("flex")}
    ${KF}

    :host {
        width: fit-content;
        min-width: 100%;
        background-color: ${il};
        height: calc(${Il} + 2 * ${Tl});
        border-top: calc(2 * ${Tl}) solid transparent;
        background-clip: padding-box;
    }

    :host::before {
        content: '';
        width: 100%;
        height: ${Il};
        pointer-events: none;
        bottom: 0px;
        position: absolute;
    }

    :host([selectable]:not([selected])[allow-hover]:hover)::before {
        background-color: ${al};
    }

    :host([selected])::before {
        background-color: ${sl};
    }

    :host([selected][allow-hover]:hover)::before {
        background-color: ${rl};
    }

    :host(${js}) {
        outline: none;
        box-shadow:
            inset calc(2 * ${Tl}) calc(2 * ${Tl})
                ${fl},
            inset calc(-2 * ${Tl}) calc(-2 * ${Tl})
                ${fl};
    }

    .expand-collapse-button {
        flex: 0 0 auto;
        margin-left: max(
            calc(
                ${Dl} +
                    (var(--ni-private-table-row-indent-level) - 1) *
                    ${Il}
            ),
            0px
        );
    }

    .spinner-container {
        flex: 0 0 auto;
        width: ${Ml};
        height: ${Ml};
        align-self: center;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-left: max(
            calc(
                ${Dl} +
                    (var(--ni-private-table-row-indent-level) - 1) *
                    ${Il}
            ),
            0px
        );
    }

    .row-operations-container {
        flex: 0 0 auto;
        display: flex;
    }

    .selection-checkbox {
        margin-left: ${El};
    }

    .selection-checkbox::part(label) {
        padding-left: 0px;
    }

    .row-front-spacer {
        width: ${Il};
        flex: 0 0 auto;
    }

    .row-front-spacer.reduced-size-spacer {
        width: ${Dl};
    }

    .cell-container {
        display: grid;
        width: 100%;
        grid-auto-flow: column;
        grid-auto-columns: 1fr;
        grid-template-columns: var(--ni-private-table-row-grid-columns) auto;
    }

    .cell-container.nested-parent {
        margin-left: calc(
            (${Il} * var(--ni-private-table-row-indent-level)) * -1
        );
    }

    nimble-table-cell {
        --ni-private-table-cell-action-menu-display: none;
    }

    nimble-table-cell[menu-open] {
        --ni-private-table-cell-action-menu-display: block;
    }

    nimble-table-cell${js} {
        --ni-private-table-cell-action-menu-display: block;
    }

    nimble-table-cell:first-of-type${js} {
        margin-left: calc(
            -1 * (${Il} - ${$l}) *
                var(--ni-private-table-cell-focus-offset-multiplier)
        );
        padding-left: calc(
            (${Il} - ${Dl}) *
                var(--ni-private-table-cell-focus-offset-multiplier) +
                ${Dl}
        );
    }

    nimble-table-cell:first-of-type${js}::before {
        content: '';
        display: block;
        width: calc(
            (
                    ${Il} *
                        var(--ni-private-table-cell-nesting-level) +
                        ${$l}
                ) *
                var(--ni-private-table-cell-focus-offset-multiplier)
        );
        height: ${Il};
    }

    :host([allow-hover]:hover) nimble-table-cell {
        --ni-private-table-cell-action-menu-display: block;
    }

    :host([selected]) nimble-table-cell {
        --ni-private-table-cell-action-menu-display: block;
    }

    :host(${js}) nimble-table-cell {
        --ni-private-table-cell-action-menu-display: block;
    }
`.withBehaviors(gg(Ho.color,Mt`
            :host([selectable]:not([selected])[allow-hover]:hover)::before {
                background-color: ${el(mo,.05)};
            }

            :host([selected])::before {
                background-color: ${el(mo,.25)};
            }

            :host([selected][allow-hover]:hover)::before {
                background-color: ${el(mo,.2)};
            }
        `)),XF=Mt`
    ${qs("flex")}

    :host {
        --ni-private-table-cell-nesting-level: 0;
        padding: 0px ${Dl};
        padding-left: calc(
            ${Dl} + ${Il} *
                var(--ni-private-table-cell-nesting-level)
        );
        align-self: center;
        height: 100%;
        /* A default value that will be overridden by the row */
        --ni-private-table-cell-action-menu-display: block;
    }

    :host(${js}) {
        outline: calc(2 * ${Tl}) solid ${fl};
        outline-offset: -2px;
    }

    .cell-view-container {
        display: contents;
    }

    .cell-view {
        overflow: hidden;
    }

    .action-menu {
        display: var(--ni-private-table-cell-action-menu-display);
        margin-left: auto;
        flex-shrink: 0;
        flex-grow: 0;
        height: ${Ml};
        align-self: center;
    }

    ${""}
    .action-menu.cell-action-menu-focused {
        display: block;
    }
`,JF=Q`
    <template role="cell" style="--ni-private-table-cell-nesting-level: ${t=>t.nestingLevel}"
        @focusin="${t=>t.onCellFocusIn()}"
        @blur="${t=>t.onCellBlur()}"
    >
        <div ${Ut("cellViewContainer")} class="cell-view-container" @focusin="${t=>t.onCellViewFocusIn()}">
            ${t=>t.cellViewTemplate}
        </div>
        ${Gt((t=>t.hasActionMenu),Q`
            <${Yb} ${Ut("actionMenuButton")}
                content-hidden
                appearance="${dh}"
                ${""}
                tabindex="-1"
                @beforetoggle="${(t,e)=>t.onActionMenuBeforeToggle(e.event)}"
                @toggle="${(t,e)=>t.onActionMenuToggle(e.event)}"
                @click="${(t,e)=>e.event.stopPropagation()}"
                @blur="${t=>t.onActionMenuBlur()}"
                class="action-menu"
                title="${t=>t.actionMenuLabel?t.actionMenuLabel:ab.getValueFor(t)}"
            >
                <${Tv} slot="start"></${Tv}>
                ${t=>t.actionMenuLabel?t.actionMenuLabel:ab.getValueFor(t)}
                <slot name="cellActionMenu" slot="menu"></slot>
            </${Yb}>
        `)}
    </template>
`
class QF extends je{constructor(){super(...arguments),this.hasActionMenu=!1,this.menuOpen=!1,this.nestingLevel=0}get cellView(){return this.cellViewContainer.firstElementChild}onActionMenuBeforeToggle(t){this.$emit("cell-action-menu-beforetoggle",t.detail)}onActionMenuToggle(t){this.menuOpen=t.detail.newState,this.$emit("cell-action-menu-toggle",t.detail)}onActionMenuBlur(){this.$emit("cell-action-menu-blur",this)}onCellViewFocusIn(){this.$emit("cell-view-focus-in",this)}onCellFocusIn(){this.$emit("cell-focus-in",this)}onCellBlur(){this.$emit("cell-blur",this)}}t([C],QF.prototype,"cellState",void 0),t([C],QF.prototype,"column",void 0),t([C],QF.prototype,"recordId",void 0),t([ft({attribute:"column-id"})],QF.prototype,"columnId",void 0),t([ft({attribute:"has-action-menu",mode:"boolean"})],QF.prototype,"hasActionMenu",void 0),t([ft({attribute:"menu-open",mode:"boolean"})],QF.prototype,"menuOpen",void 0),t([ft({attribute:"action-menu-label"})],QF.prototype,"actionMenuLabel",void 0),t([C],QF.prototype,"cellViewTemplate",void 0),t([C],QF.prototype,"cellViewContainer",void 0),t([C],QF.prototype,"nestingLevel",void 0)
const tN=QF.compose({baseName:"table-cell",template:JF,styles:XF})
Di.getOrCreate().withPrefix("nimble").register(tN())
const eN="nimble-table-cell",nN=Q`
    <template 
        role="row"
        aria-selected=${t=>t.ariaSelected}
        aria-expanded=${t=>t.expanded}
        style="--ni-private-table-row-indent-level: ${t=>t.nestingLevel};"
    >
        ${Gt((t=>!t.rowOperationGridCellHidden),Q`
            <span role="gridcell" class="row-operations-container">
                ${Gt((t=>t.showSelectionCheckbox),Q`
                    <${jg}
                        ${Ut("selectionCheckbox")}
                        class="selection-checkbox"
                        ${""}
                        tabindex="-1"
                        @change="${(t,e)=>t.onSelectionCheckboxChange(e.event)}"
                        @click="${(t,e)=>e.event.stopPropagation()}"
                        title="${t=>pb.getValueFor(t)}"
                        aria-label="${t=>pb.getValueFor(t)}"
                    >
                    </${jg}>
                `)}
            </span>
        `)}
        <span class="row-front-spacer ${t=>t.isTopLevelParentRow||!t.reserveCollapseSpace?"reduced-size-spacer":""}"></span>
        ${Gt((t=>t.isParentRow),Q`
            ${Gt((t=>t.loading),Q`
                <span class="spinner-container">
                    <${ZO}
                        appearance="${jO.accent}"
                        aria-label="${t=>mb.getValueFor(t)}"
                        title="${t=>mb.getValueFor(t)}"
                    >
                    </${ZO}>
                </span>
            `)}
            ${Gt((t=>!t.loading),Q`
                <${Eh}
                    appearance="${dh}"
                    content-hidden
                    class="expand-collapse-button"
                    tabindex="-1"
                    @click="${(t,e)=>t.onRowExpandToggle(e.event)}"
                    title="${t=>t.expanded?sb.getValueFor(t):ob.getValueFor(t)}"
                    aria-hidden="true"
                >
                    <${Rm} ${Ut("expandIcon")} slot="start" class="expander-icon ${t=>t.animationClass}"></${Rm}>
                </${Eh}>
            `)}
        `)}

        <span ${Ut("cellContainer")} 
            class="cell-container ${t=>t.isNestedParent?"nested-parent":""}"
        >
            ${Qt((t=>t.columns),Q`
                ${Gt((t=>!t.columnHidden),Q`
                    <${eN}
                        class="cell"
                        :cellState="${(t,e)=>e.parent.cellStates[e.index]}"
                        :cellViewTemplate="${t=>t.columnInternals.cellViewTemplate}"
                        :column="${t=>t}"
                        column-id="${t=>t.columnId}"
                        :recordId="${(t,e)=>e.parent.recordId}"
                        ?has-action-menu="${t=>!!t.actionMenuSlot}"
                        action-menu-label="${t=>t.actionMenuLabel}"
                        @cell-action-menu-beforetoggle="${(t,e)=>e.parent.onCellActionMenuBeforeToggle(e.event,t)}"
                        @cell-action-menu-toggle="${(t,e)=>e.parent.onCellActionMenuToggle(e.event,t)}"
                        @cell-view-slots-request="${(t,e)=>e.parent.onCellViewSlotsRequest(t,e.event)}"
                        :nestingLevel="${(t,e)=>e.parent.cellIndentLevels[e.index]}"
                    >

                        ${Gt(((t,e)=>e.parent.currentActionMenuColumn===t&&t.actionMenuSlot),Q`
                            <slot
                                name="${t=>`row-action-menu-${t.actionMenuSlot}`}"
                                slot="cellActionMenu"
                            ></slot>
                        `)}

                        ${Qt((t=>t.columnInternals.slotNames),Q`
                            <slot
                                name="${(t,e)=>LF(e.parent,t)}"
                                slot="${(t,e)=>LF(e.parent,t)}"
                            ></slot>
                        `)}
                    </${eN}>
                `)}
            `,{recycle:!1,positioning:!0})}
        </span>
    </template>
`
class iN extends je{constructor(){super(...arguments),this.selectable=!1,this.selected=!1,this.hideSelection=!1,this.expanded=!1,this.reserveCollapseSpace=!1,this.columnNotifiers=[],this.columns=[],this.nestingLevel=0,this.isParentRow=!1,this.menuOpen=!1,this.rowOperationGridCellHidden=!1,this.loading=!1,this.cellIndentLevels=[],this.cellStates=[],this.animationClass="",this.allowHover=!1,this.ignoreSelectionChangeEvents=!1,this.removeAnimatingClass=()=>{this.animationClass="",this.expandIcon?.removeEventListener("transitionend",this.removeAnimatingClass)}}get isTopLevelParentRow(){return this.isParentRow&&0===this.nestingLevel}get isNestedParent(){return this.isParentRow&&this.nestingLevel>0}get showSelectionCheckbox(){return this.selectable&&!this.hideSelection}get ariaSelected(){return this.selectable?this.selected?"true":"false":null}disconnectedCallback(){super.disconnectedCallback(),this.removeColumnObservers()}onSelectionCheckboxChange(t){if(this.ignoreSelectionChangeEvents)return
const e=t.target.checked
this.onSelectionChange(!e,e)}onSelectionChange(t,e){this.selected=e
const n={oldState:t,newState:e}
this.$emit("row-selection-toggle",n)}onCellActionMenuBeforeToggle(t,e){this.currentActionMenuColumn=e,this.emitActionMenuToggleEvent("row-action-menu-beforetoggle",t.detail,e)}onCellActionMenuToggle(t,e){this.menuOpen=t.detail.newState,this.emitActionMenuToggleEvent("row-action-menu-toggle",t.detail,e)}handleChange(t,e){t instanceof PF&&"string"==typeof e&&(zF(e,"columnConfig")||zF(e,"dataRecordFieldNames"))&&this.updateCellStates()}getFocusableElements(){return{selectionCheckbox:this.showSelectionCheckbox?this.selectionCheckbox:void 0,cells:Array.from(this.cellContainer.querySelectorAll(eN)).map((t=>({cell:t,actionMenuButton:t.hasActionMenu?t.actionMenuButton:void 0})))}}onRowExpandToggle(t){const e={oldState:this.expanded,newState:!this.expanded,recordId:this.recordId}
this.$emit("row-expand-toggle",e),t?.stopImmediatePropagation(),this.animationClass="animating",this.expandIcon?.addEventListener("transitionend",this.removeAnimatingClass)}onCellViewSlotsRequest(t,e){if(e.stopImmediatePropagation(),"string"!=typeof this.recordId)return
const n={recordId:this.recordId,columnInternalId:t.columnInternals.uniqueId,slots:e.detail.slots}
this.$emit("row-slots-request",n)}emitActionMenuToggleEvent(t,e,n){const i={newState:e.newState,oldState:e.oldState,recordIds:[this.recordId],columnId:n.columnId}
this.$emit(t,i)}columnsChanged(){this.updateCellIndentLevels(),this.updateCellStates(),this.observeColumns()}dataRecordChanged(){this.updateCellStates()}nestingLevelChanged(){this.updateCellIndentLevels()}updateCellIndentLevels(){this.cellIndentLevels=this.columns.map(((t,e)=>0===e?this.nestingLevel:0))}removeColumnObservers(){this.columnNotifiers.forEach((t=>{t.unsubscribe(this)})),this.columnNotifiers=[]}observeColumns(){this.removeColumnObservers(),this.columnNotifiers=this.columns.map((t=>{const e=x.getNotifier(t.columnInternals)
return e.subscribe(this),e}))}updateCellStates(){this.cellStates=this.columns.map((t=>{const e=t.columnInternals.dataRecordFieldNames
let n
if(this.hasValidFieldNames(e)&&this.dataRecord){const i=e.map((t=>this.dataRecord[t]))
n={cellRecord:Object.fromEntries(t.columnInternals.cellRecordFieldNames.map(((t,e)=>[t,i[e]]))),columnConfig:t.columnInternals.columnConfig}}return n}))}hasValidFieldNames(t){return t.every((t=>void 0!==t))}selectedChanged(){this.setSelectionCheckboxState()}selectionCheckboxChanged(){this.setSelectionCheckboxState()}setSelectionCheckboxState(){this.selectionCheckbox&&(this.ignoreSelectionChangeEvents=!0,this.selectionCheckbox.checked=this.selected,this.ignoreSelectionChangeEvents=!1)}}t([ft({attribute:"record-id"})],iN.prototype,"recordId",void 0),t([ft({mode:"boolean"})],iN.prototype,"selectable",void 0),t([ft({mode:"boolean"})],iN.prototype,"selected",void 0),t([ft({attribute:"hide-selection",mode:"boolean"})],iN.prototype,"hideSelection",void 0),t([ft({mode:"boolean"})],iN.prototype,"expanded",void 0),t([ft({attribute:"reserve-collapse-space",mode:"boolean"})],iN.prototype,"reserveCollapseSpace",void 0),t([C],iN.prototype,"dataRecord",void 0),t([C],iN.prototype,"columns",void 0),t([C],iN.prototype,"currentActionMenuColumn",void 0),t([C],iN.prototype,"nestingLevel",void 0),t([C],iN.prototype,"resolvedRowIndex",void 0),t([ft({attribute:"is-parent-row",mode:"boolean"})],iN.prototype,"isParentRow",void 0),t([ft({attribute:"menu-open",mode:"boolean"})],iN.prototype,"menuOpen",void 0),t([ft({attribute:"row-operation-grid-cell-hidden",mode:"boolean"})],iN.prototype,"rowOperationGridCellHidden",void 0),t([ft({mode:"boolean"})],iN.prototype,"loading",void 0),t([C],iN.prototype,"cellIndentLevels",void 0),t([C],iN.prototype,"cellStates",void 0),t([C],iN.prototype,"selectionCheckbox",void 0),t([C],iN.prototype,"animationClass",void 0),t([ft({attribute:"allow-hover",mode:"boolean"})],iN.prototype,"allowHover",void 0),t([k],iN.prototype,"isTopLevelParentRow",null),t([k],iN.prototype,"isNestedParent",null),t([k],iN.prototype,"showSelectionCheckbox",null),t([k],iN.prototype,"ariaSelected",null)
const sN=iN.compose({baseName:"table-row",template:nN,styles:YF})
Di.getOrCreate().withPrefix("nimble").register(sN())
const oN="nimble-table-row",rN=Mt`
    ${qs("grid")}
    ${KF}

    :host {
        align-items: center;
        height: calc(${Il} + 2 * ${Tl});
        border-top: calc(2 * ${Tl}) solid ${il};
        grid-template-columns:
            calc(
                ${Il} *
                    (var(--ni-private-table-group-row-indent-level) + 1)
            )
            1fr;
    }

    :host([selectable]) {
        grid-template-columns:
            ${Il}
            calc(
                ${Il} *
                    (var(--ni-private-table-group-row-indent-level) + 1)
            )
            1fr;
    }

    :host::before {
        content: '';
        width: 100%;
        height: ${Il};
        pointer-events: none;
        bottom: 0px;
        position: absolute;
    }

    :host([allow-hover]:hover)::before {
        background-color: ${al};
    }

    :host(${js}) {
        outline: calc(2 * ${Tl}) solid ${fl};
        outline-offset: calc(-2 * ${Tl});
    }

    .expand-collapse-button {
        margin-left: calc(
            ${Dl} + ${El} * 2 *
                var(--ni-private-table-group-row-indent-level)
        );
    }

    .group-row-header-content {
        display: flex;
        overflow: hidden;
    }

    .group-header-view {
        padding-left: ${Dl};
        ${Dm}
        overflow: hidden;
    }

    .group-row-child-count {
        padding-left: 2px;
        padding-right: ${Dl};
        pointer-events: none;
        ${Dm}
    }

    .checkbox-container {
        display: flex;
    }

    .selection-checkbox {
        margin-left: ${El};
    }

    .selection-checkbox::part(label) {
        padding-left: 0px;
    }
`.withBehaviors(gg(Ho.color,Mt`
            :host([allow-hover]:hover)::before {
                background-color: ${el(mo,.05)};
            }
        `),gg(Ho.dark,Mt`
            :host([allow-hover]:hover)::before {
                background-color: ${el(mo,.1)};
            }
        `)),aN=Q`
    <template
        role="row"
        @click=${t=>t.onGroupExpandToggle()}
        aria-expanded=${t=>t.expanded}
        style="--ni-private-table-group-row-indent-level: ${t=>t.nestingLevel};"
    >
        ${Gt((t=>t.selectable),Q`
            <span role="gridcell" class="checkbox-container">
                <${jg}
                    ${Ut("selectionCheckbox")}
                    class="selection-checkbox"
                    @change="${(t,e)=>t.onSelectionCheckboxChange(e.event)}"
                    @click="${(t,e)=>e.event.stopPropagation()}"
                    title="${t=>ub.getValueFor(t)}"
                    aria-label="${t=>ub.getValueFor(t)}"
                >
                </${jg}>
            </span>
        `)}

        <span role="gridcell">
            <${Eh}
                appearance="${dh}"
                content-hidden
                class="expand-collapse-button"
                tabindex="-1"
                title="${t=>t.expanded?nb.getValueFor(t):ib.getValueFor(t)}"
                aria-hidden="true"
            >
                <${Rm} ${Ut("expandIcon")} slot="start" class="expander-icon ${t=>t.animationClass}"></${Rm}>
            </${Eh}>
        </span>

        <div class="group-row-header-content">
            ${t=>t.groupColumn?.columnInternals.groupHeaderViewTemplate}
            <span class="group-row-child-count">(${t=>t.immediateChildCount})</span>
        </div>
    </template>
`
class lN extends je{constructor(){super(...arguments),this.nestingLevel=0,this.expanded=!1,this.selectable=!1,this.selectionState=gF,this.animationClass="",this.allowHover=!1,this.ignoreSelectionChangeEvents=!1,this.removeAnimatingClass=()=>{this.animationClass="",this.expandIcon.removeEventListener("transitionend",this.removeAnimatingClass)}}onGroupExpandToggle(){this.$emit("group-expand-toggle"),this.animationClass="animating",this.expandIcon.addEventListener("transitionend",this.removeAnimatingClass)}onSelectionCheckboxChange(t){if(this.ignoreSelectionChangeEvents)return
const e=t.target.checked
this.selectionState=e?vF:gF
const n={oldState:!e,newState:e}
this.$emit("group-selection-toggle",n)}getFocusableElements(){return{selectionCheckbox:this.selectable?this.selectionCheckbox:void 0,cells:[]}}selectionStateChanged(){this.setSelectionCheckboxState()}selectionCheckboxChanged(){this.setSelectionCheckboxState()}setSelectionCheckboxState(){this.selectionCheckbox&&(this.ignoreSelectionChangeEvents=!0,this.selectionCheckbox.checked=this.selectionState===vF,this.selectionCheckbox.indeterminate=this.selectionState===bF,this.ignoreSelectionChangeEvents=!1)}}t([C],lN.prototype,"groupRowValue",void 0),t([C],lN.prototype,"nestingLevel",void 0),t([C],lN.prototype,"resolvedRowIndex",void 0),t([C],lN.prototype,"immediateChildCount",void 0),t([C],lN.prototype,"groupColumn",void 0),t([ft({mode:"boolean"})],lN.prototype,"expanded",void 0),t([ft({mode:"boolean"})],lN.prototype,"selectable",void 0),t([ft({attribute:"selection-state"})],lN.prototype,"selectionState",void 0),t([C],lN.prototype,"selectionCheckbox",void 0),t([C],lN.prototype,"animationClass",void 0),t([ft({attribute:"allow-hover",mode:"boolean"})],lN.prototype,"allowHover",void 0)
const cN=lN.compose({baseName:"table-group-row",template:aN,styles:rN})
Di.getOrCreate().withPrefix("nimble").register(cN())
const dN="nimble-table-group-row",hN=Q`
    <template
        role="treegrid"
        ${""}
        tabindex="0"
        aria-multiselectable="${t=>t.ariaMultiSelectable}"
        ${oe({property:"childItems",filter:te()})}
    >
        <style>:host{ --ni-private-table-scroll-height: ${t=>t.virtualizer.scrollHeight}px; --ni-private-table-horizontal-scrollbar-height: ${t=>t.virtualizer.horizontalScrollbarHeight}px; }</style>
        <div class="table-container ${t=>t.windowShiftKeyDown?"disable-select":""}"
            style="
            --ni-private-table-scroll-x: -${t=>t.scrollX}px;
            --ni-private-table-header-container-margin-right: ${t=>t.virtualizer.headerContainerMarginRight}px;
            --ni-private-table-row-container-top: ${t=>t.virtualizer.rowContainerYOffset}px;
            --ni-private-table-row-grid-columns: ${t=>t.rowGridColumns?t.rowGridColumns:""};
            --ni-private-table-cursor-override: ${t=>t.layoutManager.isColumnBeingSized?"col-resize":"default"};
            --ni-private-table-scrollable-min-width: ${t=>t.tableScrollableMinWidth}px;
            ">
            <div role="rowgroup" class="header-row-container">
                <div class="header-row" role="row">
                    <span role="${t=>t.showRowOperationColumn?"columnheader":""}" class="header-row-action-container" ${Ut("headerRowActionContainer")}>
                        ${Gt((t=>t.showRowOperationColumn),Q`
                            <span class="accessibly-hidden">
                                ${t=>fb.getValueFor(t)}
                            </span>
                        `)}
                        ${Gt((t=>t.selectionMode===mF.multiple),Q`
                            <span class="checkbox-container">
                                <${jg}
                                    ${Ut("selectionCheckbox")}
                                    ${""}
                                    tabindex="-1"
                                    class="selection-checkbox"
                                    @change="${(t,e)=>t.onAllRowsSelectionChange(e.event)}"
                                    title="${t=>hb.getValueFor(t)}"
                                    aria-label="${t=>hb.getValueFor(t)}"
                                >
                                </${jg}>
                            </span>
                        `)}
                        <span class="collapse-all-button-container">
                            <${Eh}
                                ${Ut("collapseAllButton")}
                                ${""}
                                tabindex="-1"
                                class="collapse-all-button ${t=>t.collapseButtonVisibility}"
                                content-hidden
                                appearance="${dh}"
                                title="${t=>rb.getValueFor(t)}"
                                @click="${t=>t.handleCollapseAllRows()}"
                            >
                                <${Ov} slot="start"></${Ov}>
                                ${t=>rb.getValueFor(t)}
                            </${Eh}>
                        </span>
                    </span>
                    <span class="column-headers-container" ${Ut("columnHeadersContainer")}>
                        ${Qt((t=>t.visibleColumns),Q`
                            <div class="header-container">
                                ${Gt(((t,e)=>e.index>0),Q`
                                    <div
                                        class="
                                            column-divider
                                            left
                                            ${(t,e)=>""+(e.parent.layoutManager.activeColumnIndex===e.index?"column-active":"")}
                                            ${(t,e)=>""+(e.parent.layoutManager.activeColumnDivider===e.parent.getLeftDividerIndex(e.index)?"divider-active":"")}
                                            ${(t,e)=>""+(e.parent.layoutManager.hasResizableColumnToLeft(e.index-1)?"draggable":"")}
                                        "
                                        @pointerdown="${(t,e)=>e.parent.onLeftDividerPointerDown(e.event,e.index)}">
                                    </div>
                                `)}
                                    <${ZF}
                                        class="header"
                                        ${""}
                                        sort-direction="${t=>"number"==typeof t.columnInternals.currentSortIndex?t.columnInternals.currentSortDirection:fF.none}"
                                        ?first-sorted-column="${(t,e)=>t===e.parent.firstSortedColumn}"
                                        ?indicators-hidden="${t=>t.columnInternals.hideHeaderIndicators}"
                                        @keydown="${(t,e)=>e.parent.onHeaderKeyDown(t,e.event)}"
                                        @click="${(t,e)=>e.parent.toggleColumnSort(t,e.event.shiftKey)}"
                                        :alignment="${t=>t.columnInternals.headerAlignment}"
                                        :isGrouped=${t=>"number"==typeof t.columnInternals.groupIndex&&!t.columnInternals.groupingDisabled}
                                    >
                                        <slot name="${t=>t.slot}"></slot>
                                    </${ZF}>
                                ${Gt(((t,e)=>e.index<e.length-1),Q`
                                    <div
                                        class="
                                            column-divider
                                            right
                                            ${(t,e)=>""+(e.parent.layoutManager.activeColumnIndex===e.index?"column-active":"")}
                                            ${(t,e)=>""+(e.parent.layoutManager.activeColumnDivider===e.parent.getRightDividerIndex(e.index)?"divider-active":"")}
                                            ${(t,e)=>""+(e.parent.layoutManager.hasResizableColumnToLeft(e.index)?"draggable":"")}
                                        "
                                        @pointerdown="${(t,e)=>e.parent.onRightDividerPointerDown(e.event,e.index)}">
                                    </div>
                                `)}                        
                            </div>
                        `,{positioning:!0})}
                        <div class="header-scrollbar-spacer"></div>
                    </span>
                </div>
            </div>
            <div class="table-viewport" tabindex="-1" ${Ut("viewport")}>
                <div class="table-scroll"></div>
                <div class="table-row-container ${t=>""+(t.showCollapseAll?"collapse-all-visible":"")}" ${oe({property:"rowElements",filter:te(`${oN}, ${dN}`)})}
                    role="rowgroup">
                    ${Gt((t=>t.columns.length>0&&t.canRenderRows),Q`
                        ${Qt((t=>t.virtualizer.visibleItems),Q`
                            ${Gt(((t,e)=>e.parent.tableData[t.index]?.isGroupRow),Q`
                                <${dN}
                                    class="group-row"
                                    ${""}
                                    tabindex="-1"
                                    :groupRowValue="${(t,e)=>e.parent.tableData[t.index]?.groupRowValue}"
                                    ?expanded="${(t,e)=>e.parent.tableData[t.index]?.isExpanded}"
                                    :nestingLevel="${(t,e)=>e.parent.tableData[t.index]?.nestingLevel}"
                                    :immediateChildCount="${(t,e)=>e.parent.tableData[t.index]?.immediateChildCount}"
                                    :groupColumn="${(t,e)=>e.parent.tableData[t.index]?.groupColumn}"
                                    ?selectable="${(t,e)=>e.parent.selectionMode===mF.multiple}"
                                    selection-state="${(t,e)=>e.parent.tableData[t.index]?.selectionState}"
                                    :resolvedRowIndex="${t=>t.index}"
                                    ?allow-hover="${(t,e)=>!e.parent.virtualizer.isScrolling}"
                                    @focusin="${(t,e)=>e.parent.onRowFocusIn(e.event)}"
                                    @blur="${(t,e)=>e.parent.onRowBlur(e.event)}"
                                    @group-selection-toggle="${(t,e)=>e.parent.onRowSelectionToggle(t.index,e.event)}"
                                    @group-expand-toggle="${(t,e)=>e.parent.handleGroupRowExpanded(t.index,e.event)}"
                                >
                                </${dN}>
                            `)}
                            ${Gt(((t,e)=>!e.parent.tableData[t.index]?.isGroupRow),Q`
                                <${oN}
                                    class="row"
                                    ${""}
                                    tabindex="-1"
                                    record-id="${(t,e)=>e.parent.tableData[t.index]?.id}"
                                    ?selectable="${(t,e)=>e.parent.selectionMode!==mF.none}"
                                    ?selected="${(t,e)=>e.parent.tableData[t.index]?.selectionState===vF}"
                                    ?expanded="${(t,e)=>e.parent.tableData[t.index]?.isExpanded}"
                                    ?hide-selection="${(t,e)=>e.parent.selectionMode!==mF.multiple}"
                                    ?reserve-collapse-space="${(t,e)=>e.parent.canHaveCollapsibleRows}"
                                    :dataRecord="${(t,e)=>e.parent.tableData[t.index]?.record}"
                                    :columns="${(t,e)=>e.parent.columns}"
                                    :isParentRow="${(t,e)=>e.parent.tableData[t.index]?.isParentRow}"
                                    :nestingLevel="${(t,e)=>e.parent.tableData[t.index]?.nestingLevel}"
                                    ?row-operation-grid-cell-hidden="${(t,e)=>!e.parent.showRowOperationColumn}"
                                    ?loading="${(t,e)=>e.parent.tableData[t.index]?.isLoadingChildren}"
                                    :resolvedRowIndex="${t=>t.index}"
                                    ?allow-hover="${(t,e)=>!e.parent.virtualizer.isScrolling}"
                                    @click="${(t,e)=>e.parent.onRowClick(t.index,e.event)}"
                                    @focusin="${(t,e)=>e.parent.onRowFocusIn(e.event)}"
                                    @blur="${(t,e)=>e.parent.onRowBlur(e.event)}"
                                    @row-selection-toggle="${(t,e)=>e.parent.onRowSelectionToggle(t.index,e.event)}"
                                    @row-action-menu-beforetoggle="${(t,e)=>e.parent.onRowActionMenuBeforeToggle(t.index,e.event)}"
                                    @row-action-menu-toggle="${(t,e)=>e.parent.onRowActionMenuToggle(e.event)}"
                                    @row-slots-request="${(t,e)=>e.parent.onRowSlotsRequest(e.event)}"
                                    @row-expand-toggle="${(t,e)=>e.parent.handleRowExpanded(t.index)}"
                                >
                                ${Qt(((t,e)=>e.parent.tableData[t.index]?.requestedSlots||[]),Q`
                                    <slot
                                        name="${t=>t.name}"
                                        slot="${t=>t.slot}"
                                    ></slot>
                                `)}
                                </${oN}>
                            `)}
                        `)}
                    `)}
                </div>
            </div>
        </div>
    </template>
`
function uN(t,e,n){let i,s=n.initialDeps??[]
return()=>{var o,r,a,l
let c
n.key&&(null==(o=n.debug)?void 0:o.call(n))&&(c=Date.now())
const d=t()
if(!(d.length!==s.length||d.some(((t,e)=>s[e]!==t))))return i
let h
if(s=d,n.key&&(null==(r=n.debug)?void 0:r.call(n))&&(h=Date.now()),i=e(...d),n.key&&(null==(a=n.debug)?void 0:a.call(n))){const t=Math.round(100*(Date.now()-c))/100,e=Math.round(100*(Date.now()-h))/100,i=e/16,s=(t,e)=>{for(t=String(t);t.length<e;)t=" "+t
return t}
console.info(`%c ${s(e,5)} /${s(t,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*i,120))}deg 100% 31%);`,null==n?void 0:n.key)}return null==(l=null==n?void 0:n.onChange)||l.call(n,i),i}}function pN(t,e){if(void 0===t)throw new Error("Unexpected undefined")
return t}const fN=(t,e,n)=>{let i
return function(...s){t.clearTimeout(i),i=t.setTimeout((()=>e.apply(this,s)),n)}},mN=t=>t,gN=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),i=[]
for(let t=e;t<=n;t++)i.push(t)
return i},vN=(t,e)=>{const n=t.scrollElement
if(!n)return
const i=t.targetWindow
if(!i)return
const s=t=>{const{width:n,height:i}=t
e({width:Math.round(n),height:Math.round(i)})}
if(s(n.getBoundingClientRect()),!i.ResizeObserver)return()=>{}
const o=new i.ResizeObserver((e=>{const i=()=>{const t=e[0]
if(null==t?void 0:t.borderBoxSize){const e=t.borderBoxSize[0]
if(e)return void s({width:e.inlineSize,height:e.blockSize})}s(n.getBoundingClientRect())}
t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()}))
return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},bN={passive:!0},yN="undefined"==typeof window||"onscrollend"in window,wN=(t,e)=>{const n=t.scrollElement
if(!n)return
const i=t.targetWindow
if(!i)return
let s=0
const o=t.options.useScrollendEvent&&yN?()=>{}:fN(i,(()=>{e(s,!1)}),t.options.isScrollingResetDelay),r=i=>()=>{const{horizontal:r,isRtl:a}=t.options
s=r?n.scrollLeft*(a?-1:1):n.scrollTop,o(),e(s,i)},a=r(!0),l=r(!1)
l(),n.addEventListener("scroll",a,bN)
const c=t.options.useScrollendEvent&&yN
return c&&n.addEventListener("scrollend",l,bN),()=>{n.removeEventListener("scroll",a),c&&n.removeEventListener("scrollend",l)}},xN=(t,e,n)=>{if(null==e?void 0:e.borderBoxSize){const t=e.borderBoxSize[0]
if(t){return Math.round(t[n.options.horizontal?"inlineSize":"blockSize"])}}return Math.round(t.getBoundingClientRect()[n.options.horizontal?"width":"height"])},CN=(t,{adjustments:e=0,behavior:n},i)=>{var s,o
const r=t+e
null==(o=null==(s=i.scrollElement)?void 0:s.scrollTo)||o.call(s,{[i.options.horizontal?"left":"top"]:r,behavior:n})}
let kN=class{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null
const e=()=>t||(this.targetWindow&&this.targetWindow.ResizeObserver?t=new this.targetWindow.ResizeObserver((t=>{t.forEach((t=>{const e=()=>{this._measureElement(t.target,t)}
this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(e):e()}))})):null)
return{disconnect:()=>{var n
null==(n=e())||n.disconnect(),t=null},observe:t=>{var n
return null==(n=e())?void 0:n.observe(t,{box:"border-box"})},unobserve:t=>{var n
return null==(n=e())?void 0:n.unobserve(t)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach((([e,n])=>{void 0===n&&delete t[e]})),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:mN,rangeExtractor:gN,onChange:()=>{},measureElement:xN,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var e,n
null==(n=(e=this.options).onChange)||n.call(e,this,t)},this.maybeNotify=uN((()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null])),(t=>{this.notify(t)}),{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach((t=>t())),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t
const e=this.options.enabled?this.options.getScrollElement():null
if(this.scrollElement!==e){if(this.cleanup(),!e)return void this.maybeNotify()
this.scrollElement=e,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(null==(t=this.scrollElement)?void 0:t.window)??null,this.elementsCache.forEach((t=>{this.observer.observe(t)})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,(t=>{this.scrollRect=t,this.maybeNotify()}))),this.unsubs.push(this.options.observeElementOffset(this,((t,e)=>{this.scrollAdjustments=0,this.scrollDirection=e?this.getScrollOffset()<t?"forward":"backward":null,this.scrollOffset=t,this.isScrolling=e,this.maybeNotify()})))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??("function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,e)=>{const n=new Map,i=new Map
for(let s=e-1;s>=0;s--){const e=t[s]
if(n.has(e.lane))continue
const o=i.get(e.lane)
if(null==o||e.end>o.end?i.set(e.lane,e):e.end<o.end&&n.set(e.lane,!0),n.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort(((t,e)=>t.end===e.end?t.index-e.index:t.end-e.end))[0]:void 0},this.getMeasurementOptions=uN((()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled]),((t,e,n,i,s)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:e,scrollMargin:n,getItemKey:i,enabled:s})),{key:!1}),this.getMeasurements=uN((()=>[this.getMeasurementOptions(),this.itemSizeCache]),(({count:t,paddingStart:e,scrollMargin:n,getItemKey:i,enabled:s},o)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[]
0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach((t=>{this.itemSizeCache.set(t.key,t.size)})))
const r=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0
this.pendingMeasuredCacheIndexes=[]
const a=this.measurementsCache.slice(0,r)
for(let s=r;s<t;s++){const t=i(s),r=1===this.options.lanes?a[s-1]:this.getFurthestMeasurement(a,s),l=r?r.end+this.options.gap:e+n,c=o.get(t),d="number"==typeof c?c:this.options.estimateSize(s),h=l+d,u=r?r.lane:s%this.options.lanes
a[s]={index:s,start:l,size:d,end:h,key:t,lane:u}}return this.measurementsCache=a,a}),{key:!1,debug:()=>this.options.debug}),this.calculateRange=uN((()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes]),((t,e,n,i)=>this.range=t.length>0&&e>0?function({measurements:t,outerSize:e,scrollOffset:n,lanes:i}){const s=t.length-1,o=e=>t[e].start
let r=SN(0,s,o,n),a=r
for(;a<s&&t[a].end<n+e;)a++
i>1&&(r=Math.max(0,r-r%i),a=Math.min(s,a+(i-1-a%i)))
return{startIndex:r,endIndex:a}}({measurements:t,outerSize:e,scrollOffset:n,lanes:i}):null),{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=uN((()=>{let t=null,e=null
const n=this.calculateRange()
return n&&(t=n.startIndex,e=n.endIndex),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,e]}),((t,e,n,i,s)=>null===i||null===s?[]:t({startIndex:i,endIndex:s,overscan:e,count:n})),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const e=this.options.indexAttribute,n=t.getAttribute(e)
return n?parseInt(n,10):(console.warn(`Missing attribute name '${e}={index}' on measured element.`),-1)},this._measureElement=(t,e)=>{const n=this.indexFromElement(t),i=this.measurementsCache[n]
if(!i)return
const s=i.key,o=this.elementsCache.get(s)
o!==t&&(o&&this.observer.unobserve(o),this.observer.observe(t),this.elementsCache.set(s,t)),t.isConnected&&this.resizeItem(n,this.options.measureElement(t,e,this))},this.resizeItem=(t,e)=>{const n=this.measurementsCache[t]
if(!n)return
const i=e-(this.itemSizeCache.get(n.key)??n.size)
0!==i&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(n,i,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,e)),this.notify(!1))},this.measureElement=t=>{t?this._measureElement(t,void 0):this.elementsCache.forEach(((t,e)=>{t.isConnected||(this.observer.unobserve(t),this.elementsCache.delete(e))}))},this.getVirtualItems=uN((()=>[this.getVirtualIndexes(),this.getMeasurements()]),((t,e)=>{const n=[]
for(let i=0,s=t.length;i<s;i++){const s=e[t[i]]
n.push(s)}return n}),{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const e=this.getMeasurements()
if(0!==e.length)return pN(e[SN(0,e.length-1,(t=>pN(e[t]).start),t)])},this.getOffsetForAlignment=(t,e,n=0)=>{const i=this.getSize(),s=this.getScrollOffset()
"auto"===e&&(e=t>=s+i?"end":"start"),"center"===e?t+=(n-i)/2:"end"===e&&(t-=i)
const o=this.options.horizontal?"scrollWidth":"scrollHeight",r=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[o]:this.scrollElement[o]:0)-i
return Math.max(Math.min(r,t),0)},this.getOffsetForIndex=(t,e="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1))
const n=this.measurementsCache[t]
if(!n)return
const i=this.getSize(),s=this.getScrollOffset()
if("auto"===e)if(n.end>=s+i-this.options.scrollPaddingEnd)e="end"
else{if(!(n.start<=s+this.options.scrollPaddingStart))return[s,e]
e="start"}const o="end"===e?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart
return[this.getOffsetForAlignment(o,e,n.size),e]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{null!==this.scrollToIndexTimeoutId&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:e="start",behavior:n}={})=>{this.cancelScrollToIndex(),"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,e),{adjustments:void 0,behavior:n})},this.scrollToIndex=(t,{align:e="auto",behavior:n}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.")
const i=this.getOffsetForIndex(t,e)
if(!i)return
const[s,o]=i
this._scrollToOffset(s,{adjustments:void 0,behavior:n}),"smooth"!==n&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout((()=>{this.scrollToIndexTimeoutId=null
if(this.elementsCache.has(this.options.getItemKey(t))){const[s]=pN(this.getOffsetForIndex(t,o))
e=s,i=this.getScrollOffset(),Math.abs(e-i)<1||this.scrollToIndex(t,{align:o,behavior:n})}else this.scrollToIndex(t,{align:o,behavior:n})
var e,i})))},this.scrollBy=(t,{behavior:e}={})=>{this.cancelScrollToIndex(),"smooth"===e&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:e})},this.getTotalSize=()=>{var t
const e=this.getMeasurements()
let n
return n=0===e.length?this.options.paddingStart:1===this.options.lanes?(null==(t=e[e.length-1])?void 0:t.end)??0:Math.max(...e.slice(-this.options.lanes).map((t=>t.end))),Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:e,behavior:n})=>{this.options.scrollToFn(t,{behavior:n,adjustments:e},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}
const SN=(t,e,n,i)=>{for(;t<=e;){const s=(t+e)/2|0,o=n(s)
if(o<i)t=s+1
else{if(!(o>i))return s
e=s-1}}return t>0?t-1:0}
class _N{get pageSize(){return this._pageSize}constructor(t,e){this.visibleItems=[],this.scrollHeight=0,this.horizontalScrollbarHeight=0,this.isScrolling=!1,this.headerContainerMarginRight=0,this.rowContainerYOffset=0,this._pageSize=0,this.isScrollingTimer=0,this.table=t,this.tanStackTable=e,this.viewportResizeObserver=new ResizeObserver((t=>{const e=t[0]?.borderBoxSize[0]
if(e){this.updatePageSize()
const t=e.inlineSize
this.headerContainerMarginRight=t-this.table.viewport.clientWidth,this.horizontalScrollbarHeight=e.blockSize-this.table.viewport.clientHeight}}))}connect(){this.viewportResizeObserver.observe(this.table.viewport),this.updateVirtualizer()
const t=this.virtualizer.scrollOffset
null!==t&&this.table.viewport.scrollTo({top:t})}disconnect(){this.viewportResizeObserver.disconnect()}dataChanged(){this.table.$fastController.isConnected&&this.updateVirtualizer()}scrollToIndex(t,e){this.virtualizer?.scrollToIndex(t,e)}updateRowHeight(){this.updatePageSize(),this.virtualizer&&(this.updateVirtualizer(),this.virtualizer.measure())}updateVirtualizer(){const t=this.createVirtualizerOptions()
this.virtualizer?this.virtualizer.setOptions(t):this.virtualizer=new kN(t),this.virtualizer._willUpdate(),this.handleVirtualizerChange()}createVirtualizerOptions(){const t=this.table.rowHeight
return{count:this.tanStackTable.getRowModel().rows.length,getScrollElement:()=>this.table.viewport,estimateSize:e=>t,enableSmoothScroll:!0,overscan:3,isScrollingResetDelay:250,scrollToFn:CN,observeElementOffset:wN,observeElementRect:vN,onChange:()=>this.handleVirtualizerChange()}}handleVirtualizerChange(){const t=this.virtualizer
this.visibleItems=t.getVirtualItems(),this.scrollHeight=t.getTotalSize(),this.isScrolling=t.isScrolling,window.clearTimeout(this.isScrollingTimer),this.isScrolling&&(this.isScrollingTimer=window.setTimeout((()=>{this.isScrolling=!1}),300))
let e=0
if(this.visibleItems.length>0){e=this.visibleItems[0].start}this.rowContainerYOffset=e}updatePageSize(){this._pageSize=Math.round(this.table.viewport.clientHeight/this.table.rowHeight)}}function IN(t){switch(t){case DF:return $N
case EF:return MN
default:return $N}}function MN(t,e,n){const i=t.getValue(n),s=e.getValue(n)
return"string"==typeof i&&"string"==typeof s?i.localeCompare(s):i===s?0:void 0===i||null===i&&void 0!==s?-1:1}function $N(t,e,n){const i=t.getValue(n),s=e.getValue(n)
return Object.is(i,s)?0:void 0===i?-1:void 0===s?1:null===i?-1:null===s?1:Number.isNaN(i)?-1:Number.isNaN(s)?1:0===i&&0===s?Object.is(i,-0)?-1:1:i>s?1:-1}t([C],_N.prototype,"visibleItems",void 0),t([C],_N.prototype,"scrollHeight",void 0),t([C],_N.prototype,"horizontalScrollbarHeight",void 0),t([C],_N.prototype,"isScrolling",void 0),t([C],_N.prototype,"headerContainerMarginRight",void 0),t([C],_N.prototype,"rowContainerYOffset",void 0)
class DN{constructor(t){this.table=t,this.isColumnBeingSized=!1,this.visibleColumns=[],this.currentTotalDelta=0,this.dragStart=0,this.initialColumnWidths=[],this.onDividerPointerMove=t=>{for(let t=0;t<this.visibleColumns.length;t++)this.visibleColumns[t].columnInternals.currentPixelWidth=this.initialColumnWidths[t]?.initialPixelWidth
this.currentTotalDelta=this.getAllowedSizeDelta(t.clientX-this.dragStart),this.performCascadeSizeLeft(this.leftColumnIndex,this.currentTotalDelta),this.performCascadeSizeRight(this.rightColumnIndex,this.currentTotalDelta)
const e=this.getTotalColumnFixedWidth()-this.initialColumnTotalWidth
this.table.tableScrollableMinWidth=e>0?this.initialTableScrollableWidth+e:this.initialTableScrollableMinWidth},this.onDividerPointerUp=()=>{this.activeColumnDividerElement.removeEventListener("pointermove",this.onDividerPointerMove),this.activeColumnDividerElement.removeEventListener("pointerup",this.onDividerPointerUp),this.resetGridSizedColumns(),this.isColumnBeingSized=!1,this.activeColumnIndex=void 0,this.activeColumnDivider=void 0,this.activeColumnDividerElement=void 0,this.visibleColumns=[]}}getGridTemplateColumns(){return this.getVisibleColumns().map((t=>{const{minPixelWidth:e,currentPixelWidth:n,currentFractionalWidth:i}=t.columnInternals
if(n){return`${Math.max(e,n)}px`}return`minmax(${e}px, ${i}fr)`})).join(" ")}beginColumnInteractiveSize(t,e,n,i){this.activeColumnDivider=i,this.activeColumnDividerElement=t,this.leftColumnIndex=this.getLeftColumnIndexFromDivider(this.activeColumnDivider),this.rightColumnIndex=this.leftColumnIndex+1,this.activeColumnIndex=this.leftColumnIndex+this.activeColumnDivider%2,this.dragStart=n,this.currentTotalDelta=0,this.visibleColumns=this.getVisibleColumns(),this.setColumnsToFixedSize(),this.initialTableScrollableWidth=this.table.viewport.scrollWidth,this.initialTableScrollableMinWidth=this.table.tableScrollableMinWidth,this.initialColumnTotalWidth=this.getTotalColumnFixedWidth(),this.isColumnBeingSized=!0,-1!==e&&t.setPointerCapture(e),t.addEventListener("pointermove",this.onDividerPointerMove),t.addEventListener("pointerup",this.onDividerPointerUp)}hasResizableColumnToLeft(t){return-1!==this.getFirstLeftResizableColumnIndex(t)}hasResizableColumnToRight(t){return-1!==this.getFirstRightResizableColumnIndex(t)}getTotalColumnFixedWidth(){let t=0
for(const e of this.visibleColumns)t+=e.columnInternals.currentPixelWidth??0
return t}setColumnsToFixedSize(){this.cacheGridSizedColumns()
const t=this.table.getHeaderContainerElements()
for(let e=0;e<t.length;e++)this.visibleColumns[e].columnInternals.currentPixelWidth=t[e].getBoundingClientRect().width
this.cacheColumnInitialPixelWidths()}getAllowedSizeDelta(t){let e=0
if(t>0)return this.hasResizableColumnToLeft(this.leftColumnIndex)?t:0
if(!this.hasResizableColumnToRight(this.rightColumnIndex))return 0
for(let t=this.leftColumnIndex;t>=0;t--){const n=this.initialColumnWidths[t],i=this.visibleColumns[t]
i.columnInternals.resizingDisabled||(e+=n.initialPixelWidth-i.columnInternals.minPixelWidth)}return Math.max(t,-e)}getFirstLeftResizableColumnIndex(t){const e=0===this.visibleColumns.length?this.getVisibleColumns():this.visibleColumns
for(let n=t;n>=0;n--){const t=e[n]
if(!t)return-1
if(!t.columnInternals.resizingDisabled)return n}return-1}getFirstRightResizableColumnIndex(t){const e=0===this.visibleColumns.length?this.getVisibleColumns():this.visibleColumns
for(let n=t;n<e.length;n++){const t=e[n]
if(!t)return-1
if(!t.columnInternals.resizingDisabled)return n}return-1}performCascadeSizeLeft(t,e){const n=this.getFirstLeftResizableColumnIndex(t)
if(-1===n)return
let i=e
const s=this.visibleColumns[n],o=this.initialColumnWidths[n],r=e<0?Math.max(s.columnInternals.minPixelWidth-o.initialPixelWidth,i):e,a=r
s.columnInternals.currentPixelWidth+=a,a>i&&n>0&&e<0&&(i-=r,this.performCascadeSizeLeft(n-1,i))}performCascadeSizeRight(t,e){const n=this.getFirstRightResizableColumnIndex(t)
if(-1===n)return
let i=e
const s=this.visibleColumns[n],o=this.initialColumnWidths[n]
let r
r=s.columnInternals.resizingDisabled?0:e>0?Math.min(o.initialPixelWidth-s.columnInternals.minPixelWidth,i):e
const a=r
s.columnInternals.currentPixelWidth-=a,a<i&&n<this.visibleColumns.length-1&&e>0&&(i-=r,this.performCascadeSizeRight(n+1,i))}cacheGridSizedColumns(){this.gridSizedColumns=[]
for(const t of this.visibleColumns)void 0===t.columnInternals.currentPixelWidth&&this.gridSizedColumns.push(t)}cacheColumnInitialPixelWidths(){this.initialColumnWidths=[]
for(const t of this.visibleColumns)this.initialColumnWidths.push({initalColumnFractionalWidth:t.columnInternals.currentFractionalWidth,initialPixelWidth:t.columnInternals.currentPixelWidth})}resetGridSizedColumns(){if(!this.gridSizedColumns||0===this.gridSizedColumns.length)return
const t=this.gridSizedColumns.reduce(((t,e)=>t+e.columnInternals.currentPixelWidth),0),e=t/this.gridSizedColumns.length
let n=0
for(let t=0;t<this.visibleColumns.length&&n<this.gridSizedColumns.length;t++){const i=this.visibleColumns[t]
i===this.gridSizedColumns[n]&&(n+=1,i.columnInternals.currentFractionalWidth=i.columnInternals.currentPixelWidth/e,i.columnInternals.currentPixelWidth=void 0)}}getVisibleColumns(){return this.table.columns.filter((t=>!t.columnHidden))}getLeftColumnIndexFromDivider(t){return Math.floor(t/2)}}t([C],DN.prototype,"isColumnBeingSized",void 0),t([C],DN.prototype,"activeColumnIndex",void 0),t([C],DN.prototype,"activeColumnDivider",void 0)
const EN=(t,...e)=>{for(const n of e)if(t===n)return!0
return!1},AN=["rowIds","rowParentIds","groupRows","columnIds","columnHidden","columnSort","columnSortDisabled","columnWidths","columnDefinition","actionMenuSlots","selectionMode"]
class TN extends DE{constructor(t){super(AN),this.table=t,this.updateQueued=!1}get updateRowIds(){return this.isTracked("rowIds")}get updateRowParentIds(){return this.isTracked("rowParentIds")}get updateGroupRows(){return this.isTracked("groupRows")}get updateColumnIds(){return this.isTracked("columnIds")}get updateColumnSort(){return this.isTracked("columnSort")}get updateColumnWidths(){return this.isTracked("columnWidths")}get updateColumnDefinition(){return this.isTracked("columnDefinition")}get updateActionMenuSlots(){return this.isTracked("actionMenuSlots")}get updateSelectionMode(){return this.isTracked("selectionMode")}get requiresTanStackUpdate(){return this.isTracked("rowIds")||this.isTracked("rowParentIds")||this.isTracked("columnSort")||this.isTracked("columnDefinition")||this.isTracked("groupRows")||this.isTracked("selectionMode")}get requiresTanStackDataReset(){return this.isTracked("rowIds")||this.isTracked("columnDefinition")||this.isTracked("rowParentIds")}get requiresKeyboardFocusReset(){return this.isTracked("columnSortDisabled")||this.isTracked("columnDefinition")||this.isTracked("columnHidden")||this.isTracked("selectionMode")||this.isTracked("actionMenuSlots")}trackAllStateChanged(){this.trackAll(),this.queueUpdate()}get hasPendingUpdates(){return this.updateQueued}trackColumnPropertyChanged(t){EN(t,"columnId")?this.track("columnIds"):zF(t,"operandDataRecordFieldName","sortOperation")?this.track("columnDefinition"):zF(t,"sortingDisabled")?(this.track("columnSort"),this.track("columnSortDisabled")):zF(t,"currentSortDirection","currentSortIndex")?this.track("columnSort"):zF(t,"currentFractionalWidth","currentPixelWidth","minPixelWidth","resizingDisabled")?this.track("columnWidths"):EN(t,"columnHidden")?(this.track("columnWidths"),this.track("columnHidden")):EN(t,"actionMenuSlot")?this.track("actionMenuSlots"):zF(t,"groupIndex","groupingDisabled")&&this.track("groupRows"),this.queueUpdate()}trackColumnInstancesChanged(){this.track("columnIds"),this.track("columnDefinition"),this.track("columnSort"),this.track("columnSortDisabled"),this.track("columnWidths"),this.track("actionMenuSlots"),this.track("groupRows"),this.queueUpdate()}trackIdFieldNameChanged(){this.track("rowIds"),this.queueUpdate()}trackParentIdFieldNameChanged(){this.track("rowParentIds"),this.queueUpdate()}trackSelectionModeChanged(){this.track("selectionMode"),this.queueUpdate()}queueUpdate(){this.table.$fastController.isConnected&&(this.updateQueued||(this.updateQueued=!0,b.queueUpdate((()=>{this.table.update(),this.untrackAll(),this.updateQueued=!1}))))}}class ON{constructor(t){this.tanStackTable=t}reset(){}toggleIsRowSelected(t,e){t.isGroupRow&&t.selectionState===vF?this.deselectAllLeafRows(t.id):this.tanStackTable.getRow(t.id).toggleSelected(e,{selectChildren:t.isGroupRow})}selectSingleRow(t){if(t.isGroupRow)throw new Error("function not intended to select grouped rows")
const e=this.tanStackTable.getState().rowSelection,n=[]
if(Object.entries(e).forEach((([t,e])=>{e&&n.push(t)})),1===n.length&&n[0]===t.id)return!1
const i={}
return i[t.id]=!0,this.tanStackTable.setRowSelection(i),!0}deselectAllLeafRows(t){const e=this.tanStackTable.getRow(t),n=this.getAllLeafRowIds(e.id),i=this.tanStackTable.getState().rowSelection
for(const t of n)delete i[t]
this.tanStackTable.setRowSelection(i)}getAllLeafRowIds(t){const e=this.tanStackTable.getRowModel().flatRows.find((e=>e.id===t))
return e?.getIsGrouped()?e.getLeafRows().filter((t=>!t.getIsGrouped())).map((t=>t.id)):[]}getAllOrderedRows(){const t=this.tanStackTable.getPreExpandedRowModel().rows
return this.getOrderedRows(t)}getOrderedRows(t){const e=[]
for(const n of t)e.push(n),n.subRows?.length&&e.push(...this.getOrderedRows(n.subRows))
return e}}class RN extends ON{handleRowSelectionToggle(t,e,n){return!1}handleRowClick(t,e,n){return!1}handleActionMenuOpening(t){return!1}}class FN extends ON{handleRowSelectionToggle(t,e,n){return n&&this.tryUpdateRangeSelection(t.id,!0)||(this.shiftSelectStartRowId=e?t.id:void 0,this.previousShiftSelectRowEndId=void 0,this.toggleIsRowSelected(t,e)),!0}handleRowClick(t,e,n){if(e){const e=n
if(this.tryUpdateRangeSelection(t.id,e))return!0}if(n){const e=t.selectionState!==vF
return this.shiftSelectStartRowId=e?t.id:void 0,this.previousShiftSelectRowEndId=void 0,this.toggleIsRowSelected(t),!0}return this.shiftSelectStartRowId=t.id,this.previousShiftSelectRowEndId=void 0,this.selectSingleRow(t)}handleActionMenuOpening(t){return t.selectionState!==vF&&this.selectSingleRow(t)}reset(){this.shiftSelectStartRowId=void 0,this.previousShiftSelectRowEndId=void 0}tryUpdateRangeSelection(t,e){if(void 0===this.shiftSelectStartRowId)return!1
const n=this.getAllOrderedRows(),i=this.getRowIndexForId(this.shiftSelectStartRowId,n)
if(-1===i)return!1
let s={}
return e&&(s=this.tanStackTable.getState().rowSelection,this.removePreviousRangeSelection(s,i,n)),this.addNewRangeSelection(s,t,i,n),this.previousShiftSelectRowEndId=t,this.tanStackTable.setRowSelection(s),!0}removePreviousRangeSelection(t,e,n){const i=this.getRowIndexForId(this.previousShiftSelectRowEndId,n)
this.updateSelectionStateForRange(t,e,i,n,!1)}addNewRangeSelection(t,e,n,i){const s=this.getRowIndexForId(e,i)
this.updateSelectionStateForRange(t,n,s,i,!0)}updateSelectionStateForRange(t,e,n,i,s){if(-1===e||-1===n)return
const o=Math.min(e,n),r=Math.max(e,n)
for(let e=o;e<=r;e++){const n=i[e]
n.getIsGrouped()||this.updateSelectionStateForRow(t,n.id,s)}const a=i[n]
a.getIsGrouped()&&this.getAllLeafRowIds(a.id).forEach((e=>this.updateSelectionStateForRow(t,e,s)))}updateSelectionStateForRow(t,e,n){n?t[e]=!0:delete t[e]}getRowIndexForId(t,e){return t?e.findIndex((e=>e.id===t)):-1}}class NN extends ON{handleRowSelectionToggle(t,e,n){return this.toggleIsRowSelected(t,e),!0}handleRowClick(t,e,n){return this.selectSingleRow(t)}handleActionMenuOpening(t){return this.handleRowClick(t,!1,!1)}}class LN{constructor(t,e){this.tanStackTable=t,this.selectionManager=this.createSelectionManager(e)}handleRowSelectionToggle(t,e,n){return!!t&&this.selectionManager.handleRowSelectionToggle(t,e,n)}handleRowClick(t,e,n){return!!t&&this.selectionManager.handleRowClick(t,e,n)}handleActionMenuOpening(t){return!!t&&this.selectionManager.handleActionMenuOpening(t)}handleSelectionModeChanged(t){this.selectionManager=this.createSelectionManager(t)}handleSelectionReset(){this.selectionManager.reset()}getCurrentSelectedRecordIds(){const t=this.tanStackTable.options.state.rowSelection
if(!t)return[]
const e=[]
return Object.entries(t).forEach((([t,n])=>{n&&e.push(t)})),e}createSelectionManager(t){switch(t){case mF.multiple:return new FN(this.tanStackTable)
case mF.single:return new NN(this.tanStackTable)
case mF.none:return new RN(this.tanStackTable)
default:throw new Error("unknown selection mode found")}}}function BN(t,e){const n=e,i=[],s={},o=new Set
for(let e=0;e<t.length;e++){const r=t[e],a=r[n.id],l=r[n.parentId]
Object.prototype.hasOwnProperty.call(s,a)||(s[a]={subRows:[],clientRecord:void 0,originalIndex:void 0}),o&&o.delete(a),s[a].clientRecord=r
const c=s[a]
c.originalIndex=e,null==l?i.push(c):(Object.prototype.hasOwnProperty.call(s,l)||(s[l]={subRows:[],clientRecord:void 0,originalIndex:void 0},o&&o.add(l)),s[l].subRows.push(c))}if(o?.size){const t=Array.from(o.values()).join(",")
throw new Error(`The items array contains orphans that point to the following parentIds: [${t}]. These parentIds do not exist in the items array.`)}if(PN(i)<Object.keys(s).length)throw new Error("The items array contains nodes with a circular parent/child relationship.")
return i}function PN(t){return t.reduce(((t,e)=>t+1+(e.subRows&&PN(e.subRows))),0)}class zN{constructor(t,e,n){if(this.isDataFlat=!1,"string"==typeof e&&"string"==typeof n)try{this._hierarchicalData=BN(t,{id:e,parentId:n}),this.isDataFlat=!1,this._parentIdConfigurationValid=!0}catch{this.isDataFlat=!0,this._hierarchicalData=t.map(((t,e)=>({clientRecord:t,originalIndex:e}))),this._parentIdConfigurationValid=!1}else this.isDataFlat=!0,this._hierarchicalData=t.map(((t,e)=>({clientRecord:t,originalIndex:e}))),this._parentIdConfigurationValid=!0}get hierarchicalData(){return this._hierarchicalData}get parentIdConfigurationValid(){return this._parentIdConfigurationValid}getAllRecords(t=!1){const e=[]
return this.getAllNodes(this._hierarchicalData,e),this.isDataFlat||!t?e.map((t=>t.clientRecord)):e.sort(((t,e)=>t.originalIndex-e.originalIndex)).map((t=>t.clientRecord))}getAllNodes(t,e){for(const n of t)e.push(n),n.subRows&&this.getAllNodes(n.subRows,e)}}class VN{constructor(t){this.tanStackTable=t,this.explicitExpansionStates=new Map,this.hierarchyOptions=new Map,this.isHierarchyEnabled=!1,this.parentRowsWithChildren=new Set}isRowExpanded(t){if(!this.isRowExpandable(t))return!1
return this.explicitExpansionStates.get(t.id)??this.getDefaultExpansionState(t)}toggleRowExpansion(t){if(!this.isRowExpandable(t))return
const e=this.isRowExpanded(t)
this.explicitExpansionStates.set(t.id,!e),t.toggleExpanded()}collapseAll(){this.resetExpansionState()
const t=this.tanStackTable.getRowModel().flatRows
for(const e of t)this.isRowExpandable(e)&&this.explicitExpansionStates.set(e.id,!1)
this.tanStackTable.toggleAllRowsExpanded(!1)}resetExpansionState(){this.explicitExpansionStates.clear()}resetHierarchyOptions(){this.hierarchyOptions.clear()}processDataUpdate(t){if(0===this.explicitExpansionStates.size&&0===this.hierarchyOptions.size)return
const e=new Map,n=new Map,i=new Set
for(const s of t){const t=s.id,o=s.getIsGrouped(),r=this.hierarchyOptions.get(t)
if(!o&&r&&n.set(t,r),this.isRowExpandable(s)){const n=this.explicitExpansionStates.get(t)
if(void 0!==n&&e.set(t,n),!o){0!==s.subRows.length?i.add(t):this.parentRowsWithChildren.has(t)&&e.set(t,!1)}}}this.explicitExpansionStates=e,this.hierarchyOptions=n,this.parentRowsWithChildren=i}setHierarchyOptions(t){const e=new Map
for(const{recordId:n,options:i}of t){e.set(n,i)
const t=this.hierarchyOptions.get(n)?.delayedHierarchyState,s=i.delayedHierarchyState
t!==pF||s!==uF||this.parentRowsWithChildren.has(n)||this.explicitExpansionStates.delete(n)}this.hierarchyOptions=e}isRowExpandable(t){return t.subRows.length>0||this.canLoadDelayedChildren(t.id)}setHierarchyEnabled(t){this.isHierarchyEnabled=t}isLoadingChildren(t){return!!this.isHierarchyEnabled&&(this.hierarchyOptions.get(t)?.delayedHierarchyState===pF??!1)}canLoadDelayedChildren(t){if(!this.isHierarchyEnabled)return!1
const e=this.hierarchyOptions.get(t)?.delayedHierarchyState
return e!==hF}getDefaultExpansionState(t){return 0!==t.subRows.length}}class HN extends $E{isValid(){return this.noneTracked()}getValidationFlags(){return this.getTrackedItems()}}class UN extends HN{constructor(t){super(t),this.isColumnValid=!0}getValidity(){return this.getValidationFlags()}onTrackingChange(){super.onTrackingChange(),this.isColumnValid=this.isValid()}setConditionValue(t,e){e?this.track(t):this.untrack(t)}}t([C],UN.prototype,"isColumnValid",void 0)
class qN{get inNavigationMode(){return this.focusType!==MF&&this.focusType!==$F}constructor(t,e){this.table=t,this.virtualizer=e,this.focusType=xF,this.headerActionIndex=-1,this.rowIndex=-1,this.cellContentIndex=-1,this.columnIndex=-1,this.focusWithinTable=!1,this.isCurrentlyFocusingElement=!1,this.visibleRowNotifiers=[],this.onTableFocusIn=t=>{this.focusWithinTable=!0,this.updateFocusStateFromActiveElement(!1)
const e=void 0!==this.table.openActionMenuRecordId
if((t.target===this.table||this.focusType===xF)&&!e){let t=!0
this.hasRowOrCellFocusType()&&this.scrollToAndFocusRow(this.rowIndex)&&(t=!1),t&&!this.setFocusOnHeader()&&this.table.blur()}},this.onTableFocusOut=()=>{this.focusWithinTable=!1},this.onCellActionMenuBlur=t=>{t.stopPropagation()
const e=t.detail
e.actionMenuButton&&this.setActionMenuButtonFocused(e.actionMenuButton,!1)},this.onCellViewFocusIn=t=>{t.stopPropagation(),this.updateFocusStateFromActiveElement(!1)},this.onCellFocusIn=t=>{t.stopPropagation()
const e=t.detail
this.updateFocusStateFromActiveElement(!0),this.focusType===SF&&this.getActiveElement()===e&&this.focusCurrentRow(!1)},this.onCellBlur=t=>{t.stopPropagation()
const e=t.detail
this.setElementFocusable(e,!1)},this.onCaptureKeyDown=t=>{let e=!1
if(t.key===vn)e=this.onTabPressed(t.shiftKey)
else if(this.inNavigationMode)switch(t.key){case an:e=this.onLeftArrowPressed()
break
case ln:e=this.onRightArrowPressed()
break
case cn:e=this.onUpArrowPressed()
break
case rn:e=this.onDownArrowPressed()
break
case mn:e=this.onPageUpPressed()
break
case fn:e=this.onPageDownPressed()
break
case un:e=this.onHomePressed(t.ctrlKey)
break
case pn:e=this.onEndPressed(t.ctrlKey)
break
case dn:e=this.onEnterPressed(t.ctrlKey)
break
case gn:e=this.onSpacePressed(t.shiftKey)
break
case"F2":e=this.onF2Pressed()}e&&t.preventDefault()},this.onKeyDown=t=>{if(!(this.inNavigationMode||t.defaultPrevented||t.key!==hn&&"F2"!==t.key)){const t=this.getCurrentRow()
t&&this.trySetCellFocus(t.getFocusableElements())}},this.onViewportKeyDown=t=>{let e=!this.inNavigationMode&&(t.key===cn||t.key===rn)
switch(t.key){case mn:case fn:case un:case pn:e=!0}e&&(t.preventDefault(),t.stopImmediatePropagation())},this.tableNotifier=x.getNotifier(this.table),this.tableNotifier.subscribe(this,"rowElements"),this.virtualizerNotifier=x.getNotifier(this.virtualizer),this.virtualizerNotifier.subscribe(this,"visibleItems")}resetFocusState(){this.focusType=xF
const t=this.getActiveElement()
t&&this.isInTable(t)&&this.setDefaultFocus()}get hasActiveRowOrCellFocus(){return this.focusWithinTable&&this.hasRowOrCellFocusType()}connect(){this.table.addEventListener("keydown",this.onCaptureKeyDown,{capture:!0}),this.table.addEventListener("keydown",this.onKeyDown),this.table.addEventListener("focusin",this.onTableFocusIn),this.table.addEventListener("focusout",this.onTableFocusOut),this.table.viewport.addEventListener("keydown",this.onViewportKeyDown),this.table.viewport.addEventListener("cell-action-menu-blur",this.onCellActionMenuBlur),this.table.viewport.addEventListener("cell-view-focus-in",this.onCellViewFocusIn),this.table.viewport.addEventListener("cell-focus-in",this.onCellFocusIn),this.table.viewport.addEventListener("cell-blur",this.onCellBlur)}disconnect(){this.table.removeEventListener("keydown",this.onCaptureKeyDown,{capture:!0}),this.table.removeEventListener("keydown",this.onKeyDown),this.table.removeEventListener("focusin",this.onTableFocusIn),this.table.removeEventListener("focusout",this.onTableFocusOut),this.table.viewport.removeEventListener("keydown",this.onViewportKeyDown),this.table.viewport.removeEventListener("cell-action-menu-blur",this.onCellActionMenuBlur),this.table.viewport.removeEventListener("cell-view-focus-in",this.onCellViewFocusIn),this.table.viewport.removeEventListener("cell-focus-in",this.onCellFocusIn),this.table.viewport.removeEventListener("cell-blur",this.onCellBlur)}handleChange(t,e){let n=!1
if(t===this.virtualizer&&"visibleItems"===e)n=!0
else if(t===this.table&&"rowElements"===e){for(const t of this.visibleRowNotifiers)t.unsubscribe(this)
this.visibleRowNotifiers=[]
for(const t of this.table.rowElements){const e=x.getNotifier(t)
e.subscribe(this,"resolvedRowIndex"),this.visibleRowNotifiers.push(e),t.resolvedRowIndex===this.rowIndex&&(n=!0)}}else"resolvedRowIndex"===e&&this.isResolvedRowType(t)&&t.resolvedRowIndex===this.rowIndex&&(n=!0)
if(n&&(this.focusType!==MF&&this.focusType!==$F||this.setCellFocusState(this.columnIndex,this.rowIndex,!1),this.inNavigationMode&&this.hasRowOrCellFocusType())){if(this.rowIndex>this.table.tableData.length-1){if(!(this.table.tableData.length>0))return void(this.focusWithinTable?this.setDefaultFocus():this.focusType=xF)
this.rowIndex=0}this.focusWithinTable&&this.focusCurrentRow(!1)}}onRowFocusIn(t){if(this.isCurrentlyFocusingElement)return
const e=t.target
this.isResolvedRowType(e)&&this.rowIndex!==e.resolvedRowIndex&&this.setRowFocusState(e.resolvedRowIndex)}onRowBlur(t){const e=t.target
this.isResolvedRowType(e)&&this.setElementFocusable(e,!1)}onRowActionMenuToggle(t){if(t.detail.newState){const e=t.target,n=this.table.visibleColumns.findIndex((e=>e.columnId===t.detail.columnId))
this.setCellActionMenuFocusState(e.resolvedRowIndex,n,!1)}}onEnterPressed(t){let e,n
if(this.hasRowOrCellFocusType()&&(e=this.getCurrentRow(),n=e?.getFocusableElements()),this.focusType===SF&&e instanceof lN)return this.toggleRowExpanded(e),!0
if(this.focusType===IF){if(t){const t=n?.cells[this.columnIndex]
if(t?.actionMenuButton&&!t.actionMenuButton.open)return t.actionMenuButton.toggleButton.control.click(),!0}return this.focusFirstInteractiveElementInCurrentCell(n)}return!1}onF2Pressed(){if(this.focusType===IF){const t=this.getCurrentRow(),e=t?.getFocusableElements()
return this.focusFirstInteractiveElementInCurrentCell(e)}return!1}onSpacePressed(t){if(this.focusType===SF||this.focusType===IF){if(this.focusType===SF||t){const t=this.getCurrentRow()
t instanceof iN&&t.selectable?t.onSelectionChange(t.selected,!t.selected):t instanceof lN&&this.toggleRowExpanded(t)}return!0}return!1}onLeftArrowPressed(){let t,e,n
switch(this.hasRowOrCellFocusType()?(t=this.getCurrentRow(),e=t?.getFocusableElements()):this.hasHeaderFocusType()&&(n=this.getTableHeaderFocusableElements()),this.focusType){case kF:return this.trySetHeaderActionFocus(n,this.headerActionIndex-1)
case CF:return this.trySetColumnHeaderFocus(n,this.columnIndex-1)||this.trySetHeaderActionFocus(n,n.headerActions.length-1)
case SF:return!0===this.isRowExpanded(t)&&(this.toggleRowExpanded(t),!0)
case _F:return this.setRowFocusState(),this.focusCurrentRow(!0)
case IF:return this.trySetCellFocus(e,this.columnIndex-1)||this.trySetRowSelectionCheckboxFocus(e)||(this.setRowFocusState(),this.focusCurrentRow(!0)),!0}return!1}onRightArrowPressed(){let t,e,n
switch(this.hasRowOrCellFocusType()?(t=this.getCurrentRow(),e=t?.getFocusableElements()):this.hasHeaderFocusType()&&(n=this.getTableHeaderFocusableElements()),this.focusType){case kF:return this.trySetHeaderActionFocus(n,this.headerActionIndex+1)||this.trySetColumnHeaderFocus(n,0)
case CF:return this.trySetColumnHeaderFocus(n,this.columnIndex+1)
case SF:return!1===this.isRowExpanded(t)?(this.toggleRowExpanded(t),!0):this.trySetRowSelectionCheckboxFocus(e)||this.trySetCellFocus(e,0)
case _F:return this.trySetCellFocus(e,0)
case IF:return this.trySetCellFocus(e,this.columnIndex+1)}return!1}onUpArrowPressed(){return this.onMoveUp(1),!0}onPageUpPressed(){return this.onMoveUp(this.virtualizer.pageSize)}onHomePressed(t){if(this.handleHomeEndWithinRow(t)){const t=this.getCurrentRow(),e=t?.getFocusableElements()
return this.trySetRowSelectionCheckboxFocus(e)||this.trySetCellFocus(e,0)}return this.onMoveUp(0,0)}onDownArrowPressed(){return this.onMoveDown(1),!0}onPageDownPressed(){return this.onMoveDown(this.virtualizer.pageSize)}onEndPressed(t){if(this.handleHomeEndWithinRow(t)){const t=this.getCurrentRow(),e=t?.getFocusableElements()
return this.trySetCellFocus(e,this.table.visibleColumns.length-1)}return this.onMoveDown(0,this.table.tableData.length-1)}handleHomeEndWithinRow(t){return(this.focusType===IF||this.focusType===_F)&&!t}onTabPressed(t){const e=this.getActiveElement()
if(null===e||e===this.table)return!1
const n=this.hasRowOrCellFocusType()?this.getNextRowTabStop(t):this.getNextHeaderTabStop(t)
return n?(this.focusType=n.focusType,this.rowIndex=n.rowIndex??this.rowIndex,this.columnIndex=n.columnIndex??this.columnIndex,this.headerActionIndex=n.headerActionIndex??this.headerActionIndex,this.cellContentIndex=n.cellContentIndex??this.cellContentIndex,this.hasRowOrCellFocusType()?this.focusCurrentRow(!1):this.focusHeaderElement(),!0):(this.blurAfterLastTab(e),!1)}getNextRowTabStop(t){const e=this.getCurrentRow()
if(void 0===e)return
let n=-1
const i=[],s=e.getFocusableElements()
s.selectionCheckbox&&(i.push({focusType:_F}),this.focusType===_F&&(n=0))
let o=0
for(;o<s.cells.length;){const e=i.length,r=s.cells[o],a=r.cell.cellView.tabbableChildren
for(let t=0;t<a.length;t++)i.push({focusType:$F,columnIndex:o,cellContentIndex:t}),this.focusType===$F&&this.columnIndex===o&&this.cellContentIndex===t&&(n=i.length-1)
r.actionMenuButton&&(i.push({focusType:MF,columnIndex:o}),this.focusType===MF&&this.columnIndex===o&&(n=i.length-1))
const l=i.length-1
this.focusType===IF&&this.columnIndex===o&&(n=t?l+1:e-1),o+=1}this.focusType===SF&&(n=t?i.length:-1)
return i[n+(t?-1:1)]}getNextHeaderTabStop(t){let e=-1
const n=[],i=this.getTableHeaderFocusableElements().headerActions
for(let t=0;t<i.length;t++)n.push({focusType:kF,headerActionIndex:t})
e=this.focusType===kF?this.headerActionIndex:n.length
return n[e+(t?-1:1)]}blurAfterLastTab(t){this.table.tabIndex=-1,window.requestAnimationFrame((()=>{this.table.tabIndex=0})),this.setElementFocusable(t,!1)}onMoveUp(t,e){const n=t>1
switch(this.focusType){case SF:case _F:case IF:{const i={}
let s=this.rowIndex
if(void 0!==e&&(s=e),s-=t,n&&s<0&&(s=0),t>1&&(i.align="start"),s<this.rowIndex&&s>=0)return this.scrollToAndFocusRow(s,i)
if(-1===s){const t=this.getTableHeaderFocusableElements()
return this.focusType===SF||this.focusType===_F?this.trySetHeaderActionFocus(t,0)||this.trySetColumnHeaderFocus(t,0):this.trySetColumnHeaderFocus(t,this.columnIndex)}return!1}}return!1}onMoveDown(t,e){const n=t>1
switch(this.focusType){case kF:return this.setRowFocusState(0),this.scrollToAndFocusRow(0)
case CF:return this.setCellFocusState(this.columnIndex,0,!1),this.scrollToAndFocusRow(0)
case SF:case _F:case IF:{const i={}
let s=this.rowIndex
return void 0!==e&&(s=e),s+=t,n&&s>=this.table.tableData.length&&(s=this.table.tableData.length-1),t>1&&(i.align="end"),s>this.rowIndex&&s<this.table.tableData.length&&this.scrollToAndFocusRow(s,i)}}return!1}updateFocusStateFromActiveElement(t){const e=this.getActiveElement()
if(e){const n=this.getContainingRow(e)
if(n){if(!(n instanceof lN)){const t=this.getContainingCell(e)
if(t){const i=this.table.visibleColumns.indexOf(t.column)
if(t.actionMenuButton===e)return void this.setCellActionMenuFocusState(n.resolvedRowIndex,i,!1)
const s=t.cellView.tabbableChildren.indexOf(e)
if(s>-1)return void this.setCellContentFocusState(s,n.resolvedRowIndex,i,!1)}}t&&this.hasRowOrCellFocusType()&&this.rowIndex!==n.resolvedRowIndex&&this.setRowFocusState(n.resolvedRowIndex)}}}focusElement(t,e){const n=this.getActiveElement()
n!==t&&(this.setElementFocusable(t,!0),this.isCurrentlyFocusingElement=!0,t.focus(e),this.isCurrentlyFocusingElement=!1,n&&this.isInTable(n)&&this.setElementFocusable(n,!1))}setElementFocusable(t,e){t!==this.table&&(t.tabIndex=e?0:-1)}setActionMenuButtonFocused(t,e){e?t.classList.add("cell-action-menu-focused"):t.classList.remove("cell-action-menu-focused")}setFocusOnHeader(){return this.hasHeaderFocusType()?this.focusHeaderElement():(this.setDefaultFocus(),this.focusType!==xF)}setDefaultFocus(){const t=this.getTableHeaderFocusableElements()
this.trySetHeaderActionFocus(t,0)||this.trySetColumnHeaderFocus(t,0)||this.scrollToAndFocusRow(0)||(this.focusType=xF)}scrollToAndFocusRow(t,e){if(t>=0&&t<this.table.tableData.length){switch(this.focusType){case xF:case kF:case CF:this.setRowFocusState(t)}return this.rowIndex=t,this.virtualizer.scrollToIndex(t,e),this.focusCurrentRow(!0),!0}return!1}focusCurrentRow(t){const e=this.getCurrentRowVisibleIndex()
if(e<0)return!1
const n=this.table.rowElements[e]
let i=!1
switch(this.focusType){case SF:i=!0
break
case IF:case MF:case $F:i=n instanceof lN}const s={preventScroll:!t}
return i?(this.focusElement(n,s),!0):(this.focusRowElement(n,s),!0)}focusRowElement(t,e){const n=t.getFocusableElements()
let i
switch(this.focusType){case _F:i=n.selectionCheckbox
break
case IF:i=n.cells[this.columnIndex].cell
break
case MF:{const t=n.cells[this.columnIndex]?.cell.actionMenuButton
t&&(i=t,this.setActionMenuButtonFocused(t,!0))
break}case $F:i=n.cells[this.columnIndex]?.cell.cellView.tabbableChildren[this.cellContentIndex]}i&&this.focusElement(i,e)}focusHeaderElement(){const t=this.getTableHeaderFocusableElements()
let e
switch(this.focusType){case kF:e=t.headerActions[this.headerActionIndex]
break
case CF:e=t.columnHeaders[this.columnIndex]}return!!e&&(this.focusElement(e),!0)}getCurrentRowVisibleIndex(){return this.table.rowElements.findIndex((t=>t.resolvedRowIndex===this.rowIndex))}getTableHeaderFocusableElements(){const t=[]
this.table.selectionCheckbox?.getRootNode()===this.table.shadowRoot&&t.push(this.table.selectionCheckbox),this.table.showCollapseAll&&this.table.collapseAllButton?.getRootNode()===this.table.shadowRoot&&t.push(this.table.collapseAllButton)
const e=[]
return this.canFocusColumnHeaders()&&this.table.columnHeadersContainer.querySelectorAll(ZF).forEach((t=>e.push(t))),{headerActions:t,columnHeaders:e}}canFocusColumnHeaders(){return void 0!==this.table.columns.find((t=>!t.columnInternals.sortingDisabled))}getCurrentRow(){return this.table.rowElements[this.getCurrentRowVisibleIndex()]}isRowExpanded(t){if(t instanceof iN&&t.isParentRow||t instanceof lN)return t.expanded}toggleRowExpanded(t){t instanceof lN?t.onGroupExpandToggle():t.onRowExpandToggle(),this.focusRowElement(t)}getContainingRow(t){return this.getContainingElement(t,(t=>this.isResolvedRowType(t)))}getContainingCell(t){return this.getContainingElement(t,(t=>t instanceof QF))}getContainingElement(t,e){let n=t
for(;n&&n!==this.table;){if(e(n))return n
n=n.parentElement??n.parentNode?.host}}isInTable(t){let e=t
for(;e&&e!==this.table;)e=e.parentElement??e.parentNode?.host
return e===this.table}getActiveElement(){let t=document.activeElement
for(;t?.shadowRoot?.activeElement&&(t=t.shadowRoot.activeElement,!(t instanceof je)||this.isResolvedRowType(t)||t instanceof QF||t instanceof FF););return t}focusFirstInteractiveElementInCurrentCell(t){return!!t&&(this.trySetCellContentFocus(t,0)||this.trySetCellActionMenuFocus(t))}hasRowOrCellFocusType(){switch(this.focusType){case IF:case MF:case $F:case SF:case _F:return!0
default:return!1}}hasHeaderFocusType(){switch(this.focusType){case kF:case CF:return!0
default:return!1}}trySetRowSelectionCheckboxFocus(t){return!!t?.selectionCheckbox&&(this.focusType=_F,this.focusCurrentRow(!0),!0)}trySetColumnHeaderFocus(t,e){return e>=0&&e<t.columnHeaders.length&&(this.focusType=CF,this.columnIndex=e,this.focusHeaderElement(),!0)}trySetHeaderActionFocus(t,e){return e>=0&&e<t.headerActions.length&&(this.focusType=kF,this.headerActionIndex=e,this.focusHeaderElement(),!0)}trySetCellFocus(t,e,n){if(!t)return!1
const i=e??this.columnIndex,s=n??this.rowIndex
return i>=0&&i<t.cells.length&&(this.focusType=IF,this.setRowCellFocusState(i,s,!0),!0)}trySetCellContentFocus(t,e,n,i){if(!t)return!1
const s=n??this.columnIndex,o=i??this.rowIndex
return s>=0&&s<t.cells.length&&e>=0&&e<t.cells[s].cell.cellView.tabbableChildren.length&&(this.setCellContentFocusState(e,o,s,!0),!0)}trySetCellActionMenuFocus(t,e,n){const i=e??this.columnIndex,s=n??this.rowIndex
return!!(i>=0&&i<t.cells.length&&t.cells[i].actionMenuButton)&&(this.setCellActionMenuFocusState(s,i,!0),!0)}setCellActionMenuFocusState(t,e,n){this.focusType=MF,this.setRowCellFocusState(e,t,n)}setCellContentFocusState(t,e,n,i){this.focusType=$F,this.cellContentIndex=t,this.setRowCellFocusState(n,e,i)}setRowFocusState(t){this.focusType=SF,void 0!==t&&(this.rowIndex=t)}setCellFocusState(t,e,n){this.focusType=IF,this.setRowCellFocusState(t,e,n)}setRowCellFocusState(t,e,n){this.rowIndex=e,this.columnIndex=t,n&&this.focusCurrentRow(!0)}isResolvedRowType(t){return t instanceof iN||t instanceof lN}}let jN=class extends je{get validity(){return this.tableValidator.getValidity()}get showRowOperationColumn(){return this.selectionMode===mF.multiple||this.showCollapseAll}get collapseButtonVisibility(){return this.canHaveCollapsibleRows?this.showCollapseAll?"visible":"":"hidden-size-reduced"}get rowHeight(){return this._rowHeight}constructor(){super(),this.selectionMode=mF.none,this.tableData=[],this.columns=[],this.childItems=[],this.rowElements=[],this.canRenderRows=!0,this.scrollX=0,this.selectionState=gF,this.showCollapseAll=!1,this.canHaveCollapsibleRows=!1,this.visibleColumns=[],this.tableScrollableMinWidth=0,this.windowShiftKeyDown=!1,this.tableValidator=new HF,this.tableUpdateTracker=new TN(this),this.columnNotifiers=[],this._rowHeight=0,this.isInitialized=!1,this.ignoreSelectionChangeEvents=!1,this.requestedSlots=new Map,this.borderWidthSubscriber={handleChange:()=>{this.updateRowHeight()}},this.controlHeightSubscriber={handleChange:()=>{this.updateRowHeight()}},this.actionMenuSlots=[],this.onViewPortScroll=t=>{this.scrollX=t.target.scrollLeft},this.onKeyDown=t=>{this.windowShiftKeyDown=t.shiftKey},this.onKeyUp=t=>{this.windowShiftKeyDown=t.shiftKey},this.onBlur=()=>{this.windowShiftKeyDown=!1},this.getRowCanExpand=t=>this.expansionManager.isRowExpandable(t),this.getIsRowExpanded=t=>this.expansionManager.isRowExpanded(t),this.handleRowSelectionChange=t=>{const e=t instanceof Function?t(this.table.getState().rowSelection):t
this.updateTableOptions({state:{rowSelection:e}})},this.handleExpandedChange=t=>{const e=t instanceof Function?t(this.table.getState().expanded):t
this.updateTableOptions({state:{expanded:e}})},this.options={data:[],onStateChange:t=>{},onRowSelectionChange:this.handleRowSelectionChange,onExpandedChange:this.handleExpandedChange,getCoreRowModel:t=>mR((()=>[t.options.data]),(e=>{const n={rows:[],flatRows:[],rowsById:{}},i=function(e,s,o){void 0===s&&(s=0)
const r=[]
for(let l=0;l<e.length;l++){const c=xR(t,t._getRowId(e[l],l,o),e[l],l,s,void 0,null==o?void 0:o.id)
var a
n.flatRows.push(c),n.rowsById[c.id]=c,r.push(c),t.options.getSubRows&&(c.originalSubRows=t.options.getSubRows(e[l],l),null!=(a=c.originalSubRows)&&a.length&&(c.subRows=i(c.originalSubRows,s+1,c)))}return r}
return n.rows=i(e),n}),gR(t.options,"debugTable",0,(()=>t._autoResetPageIndex()))),getSortedRowModel:t=>mR((()=>[t.getState().sorting,t.getPreSortedRowModel()]),((e,n)=>{if(!n.rows.length||null==e||!e.length)return n
const i=t.getState().sorting,s=[],o=i.filter((e=>{var n
return null==(n=t.getColumn(e.id))?void 0:n.getCanSort()})),r={}
o.forEach((e=>{const n=t.getColumn(e.id)
n&&(r[e.id]={sortUndefined:n.columnDef.sortUndefined,invertSorting:n.columnDef.invertSorting,sortingFn:n.getSortingFn()})}))
const a=t=>{const e=t.map((t=>({...t})))
return e.sort(((t,e)=>{for(let i=0;i<o.length;i+=1){var n
const s=o[i],a=r[s.id],l=a.sortUndefined,c=null!=(n=null==s?void 0:s.desc)&&n
let d=0
if(l){const n=void 0===t.getValue(s.id),i=void 0===e.getValue(s.id)
if(n||i){if("first"===l)return n?-1:1
if("last"===l)return n?1:-1
d=n&&i?0:n?l:-l}}if(0===d&&(d=a.sortingFn(t,e,s.id)),0!==d)return c&&(d*=-1),a.invertSorting&&(d*=-1),d}return t.index-e.index})),e.forEach((t=>{var e
s.push(t),null!=(e=t.subRows)&&e.length&&(t.subRows=a(t.subRows))})),e}
return{rows:a(n.rows),flatRows:s,rowsById:n.rowsById}}),gR(t.options,"debugTable",0,(()=>t._autoResetPageIndex()))),getGroupedRowModel:dF(),getExpandedRowModel:t=>mR((()=>[t.getState().expanded,t.getPreExpandedRowModel(),t.options.paginateExpandedRows]),((t,e,n)=>!e.rows.length||!0!==t&&!Object.keys(null!=t?t:{}).length?e:n?function(t){const e=[],n=t=>{var i
e.push(t),null!=(i=t.subRows)&&i.length&&t.getIsExpanded()&&t.subRows.forEach(n)}
return t.rows.forEach(n),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}(e):e),gR(t.options,"debugTable")),getRowCanExpand:this.getRowCanExpand,getIsRowExpanded:this.getIsRowExpanded,getSubRows:t=>t.subRows,columns:[],state:{rowSelection:{},grouping:[],expanded:!0},enableRowSelection:t=>!t.getIsGrouped(),enableMultiRowSelection:!1,enableSubRowSelection:!1,enableSorting:!0,enableGrouping:!0,renderFallbackValue:null,autoResetAll:!1},this.table=cF(this.options),this.virtualizer=new _N(this,this.table),this.keyboardNavigationManager=new qN(this,this.virtualizer),this.layoutManager=new DN(this),this.layoutManagerNotifier=x.getNotifier(this.layoutManager),this.layoutManagerNotifier.subscribe(this,"isColumnBeingSized"),this.selectionManager=new LN(this.table,this.selectionMode),this.expansionManager=new VN(this.table)}async setData(t){await this.processPendingUpdates()
const e=t.map((t=>({...t}))),n=this.calculateTanStackData(e)
this.updateTableOptions(n)}async getSelectedRecordIds(){return await this.processPendingUpdates(),this.selectionManager.getCurrentSelectedRecordIds()}async setSelectedRecordIds(t){await this.processPendingUpdates(),this.selectionMode!==mF.none&&this.updateTableOptions({state:{rowSelection:this.calculateTanStackSelectionState(t)}})}async setRecordHierarchyOptions(t){await this.processPendingUpdates()
const e=structuredClone(t),n=this.tableValidator.getOptionsWithPresentIds(e)
this.expansionManager.setHierarchyOptions(n),this.refreshRows()}connectedCallback(){super.connectedCallback(),this.initialize(),this.updateRowHeight(),this.virtualizer.connect(),this.viewport.addEventListener("scroll",this.onViewPortScroll,{passive:!0}),this.keyboardNavigationManager.connect(),window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp),window.addEventListener("blur",this.onBlur),Tl.subscribe(this.borderWidthSubscriber,this),Il.subscribe(this.controlHeightSubscriber,this)}disconnectedCallback(){super.disconnectedCallback(),this.virtualizer.disconnect(),this.keyboardNavigationManager.disconnect(),this.viewport.removeEventListener("scroll",this.onViewPortScroll),window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp),window.removeEventListener("blur",this.onBlur),Tl.unsubscribe(this.borderWidthSubscriber),Il.unsubscribe(this.controlHeightSubscriber)}checkValidity(){return this.tableValidator.isValid()}handleChange(t,e){(t instanceof VF||t instanceof PF)&&"string"==typeof e?this.tableUpdateTracker.trackColumnPropertyChanged(e):t instanceof UN&&"isColumnValid"===e?this.tableValidator.validateColumnConfigurations(this.columns):t instanceof DN&&"isColumnBeingSized"===e&&!this.layoutManager.isColumnBeingSized&&this.emitColumnConfigurationChangeEvent()}onRowSelectionToggle(t,e){e.stopImmediatePropagation()
this.selectionManager.handleRowSelectionToggle(this.tableData[t],e.detail.newState,this.windowShiftKeyDown)&&this.emitSelectionChangeEvent()}onRowClick(t,e){return this.selectionManager.handleRowClick(this.tableData[t],e.shiftKey,e.ctrlKey||e.metaKey)&&this.emitSelectionChangeEvent(),!0}onRowFocusIn(t){this.keyboardNavigationManager.onRowFocusIn(t)}onRowBlur(t){this.keyboardNavigationManager.onRowBlur(t)}onAllRowsSelectionChange(t){t.stopPropagation(),this.ignoreSelectionChangeEvents||(this.table.toggleAllRowsSelected(this.selectionCheckbox.checked),this.emitSelectionChangeEvent())}onRowActionMenuBeforeToggle(t,e){e.stopImmediatePropagation(),this.handleActionMenuBeforeToggleEvent(t,e)}onRowActionMenuToggle(t){t.stopImmediatePropagation(),this.handleRowActionMenuToggleEvent(t)}onRowSlotsRequest(t){t.stopImmediatePropagation()
for(const e of t.detail.slots){const n=NF(t.detail.columnInternalId,e.slot)
this.requestedSlots.set(e.name,{recordId:t.detail.recordId,uniqueSlot:n})}this.refreshRows()}handleCollapseAllRows(){this.expansionManager.collapseAll()}onRightDividerPointerDown(t,e){"mouse"===t.pointerType&&0!==t.button||this.layoutManager.beginColumnInteractiveSize(t.target,t.pointerId,t.clientX,this.getRightDividerIndex(e))}onLeftDividerPointerDown(t,e){"mouse"===t.pointerType&&0!==t.button||this.layoutManager.beginColumnInteractiveSize(t.target,t.pointerId,t.clientX,this.getLeftDividerIndex(e))}getLeftDividerIndex(t){return 2*t-1}getRightDividerIndex(t){return 2*t}handleGroupRowExpanded(t,e){this.toggleRowExpanded(t),e.stopPropagation()}handleRowExpanded(t){this.toggleRowExpanded(t)}toggleColumnSort(t,e){if(t.columnInternals.sortingDisabled)return
const n=this.getColumnsParticipatingInSorting().sort(((t,e)=>t.columnInternals.currentSortIndex-e.columnInternals.currentSortIndex)),i=n.indexOf(t),s=i>-1,o=t.columnInternals.currentSortDirection
let r=fF.ascending
s?o===fF.descending?(n.splice(i,1),r=fF.none,t.columnInternals.currentSortIndex=void 0):r=fF.descending:n.push(t),t.columnInternals.currentSortDirection=r
for(let i=0;i<n.length;i++){const s=n[i]
e?n[i].columnInternals.currentSortIndex=i:s===t?s.columnInternals.currentSortIndex=0:(s.columnInternals.currentSortIndex=void 0,s.columnInternals.currentSortDirection=fF.none)}this.emitColumnConfigurationChangeEvent()}onHeaderKeyDown(t,e){const n=e.shiftKey
return e.key===dn&&this.toggleColumnSort(t,n),!0}update(){if(this.validate(),this.tableUpdateTracker.requiresTanStackUpdate&&this.updateTanStack(),this.tableUpdateTracker.updateRowParentIds||this.tableUpdateTracker.updateGroupRows){const t=this.isHierarchyEnabled(),e=this.columns.some((t=>!t.columnInternals.groupingDisabled))
this.canHaveCollapsibleRows=t||e}this.tableUpdateTracker.updateActionMenuSlots&&this.updateActionMenuSlots(),this.tableUpdateTracker.updateColumnWidths&&(this.rowGridColumns=this.layoutManager.getGridTemplateColumns(),this.visibleColumns=this.columns.filter((t=>!t.columnHidden))),this.tableUpdateTracker.requiresKeyboardFocusReset&&this.keyboardNavigationManager.resetFocusState()}get ariaMultiSelectable(){switch(this.selectionMode){case mF.multiple:return"true"
case mF.single:return"false"
default:return null}}getHeaderContainerElements(){return this.columnHeadersContainer.querySelectorAll(".header-container")}calculateTanStackData(t){this.dataHierarchyManager=new zN(t,this.idFieldName,this.parentIdFieldName)
const e=this.dataHierarchyManager.hierarchicalData
this.tableValidator.setParentIdConfigurationValidity(this.dataHierarchyManager.parentIdConfigurationValid)
const n={data:e}
if(this.validateWithData(t),this.tableValidator.areRecordIdsValid()){const t=this.selectionManager.getCurrentSelectedRecordIds()
n.state={rowSelection:this.calculateTanStackSelectionState(t),expanded:!0}}return n}selectionModeChanged(t,e){this.$fastController.isConnected&&this.tableUpdateTracker.trackSelectionModeChanged()}idFieldNameChanged(t,e){this.$fastController.isConnected&&this.tableUpdateTracker.trackIdFieldNameChanged()}parentIdFieldNameChanged(t,e){this.$fastController.isConnected&&this.tableUpdateTracker.trackParentIdFieldNameChanged()}columnsChanged(t,e){this.$fastController.isConnected&&(this.observeColumns(),this.tableUpdateTracker.trackColumnInstancesChanged())}updateRequestedSlotsForOpeningActionMenu(t){for(const e of this.actionMenuSlots)this.requestedSlots.set(e,{recordId:t,uniqueSlot:`row-action-menu-${e}`})
this.refreshRows()}async handleActionMenuBeforeToggleEvent(t,e){this.selectionManager.handleActionMenuOpening(this.tableData[t])&&await this.emitSelectionChangeEvent(),this.openActionMenuRecordId=e.detail.recordIds[0],this.updateRequestedSlotsForOpeningActionMenu(this.openActionMenuRecordId)
const n=await this.getActionMenuToggleEventDetail(e)
this.$emit("action-menu-beforetoggle",n)}async handleRowActionMenuToggleEvent(t){this.keyboardNavigationManager.onRowActionMenuToggle(t)
const e=await this.getActionMenuToggleEventDetail(t)
this.$emit("action-menu-toggle",e),t.detail.newState||(this.openActionMenuRecordId=void 0)}async getActionMenuToggleEventDetail(t){const e=this.selectionMode===mF.multiple?await this.getSelectedRecordIds():[this.openActionMenuRecordId]
return{...t.detail,recordIds:e}}removeColumnObservers(){this.columnNotifiers.forEach((t=>{t.unsubscribe(this)})),this.columnNotifiers=[]}initialize(){this.isInitialized||(this.isInitialized=!0,this.$fastController.onConnectedCallback(),this.tableUpdateTracker.trackAllStateChanged(),this.observeColumns())}async processPendingUpdates(){if(this.initialize(),await b.nextUpdate(),this.tableUpdateTracker.hasPendingUpdates)throw new Error("Expected pending updates to be resolved")}observeColumns(){this.removeColumnObservers()
for(const t of this.columns){const e=x.getNotifier(t)
e.subscribe(this),this.columnNotifiers.push(e)
const n=x.getNotifier(t.columnInternals)
n.subscribe(this),this.columnNotifiers.push(n)
const i=x.getNotifier(t.columnInternals.validator)
i.subscribe(this),this.columnNotifiers.push(i)}}getColumnsParticipatingInSorting(){return this.columns.filter((t=>!t.columnInternals.sortingDisabled&&t.columnInternals.currentSortDirection!==fF.none&&"number"==typeof t.columnInternals.currentSortIndex))}getColumnsParticipatingInGrouping(){return this.columns.filter((t=>!t.columnInternals.groupingDisabled&&"number"==typeof t.columnInternals.groupIndex))}childItemsChanged(){this.updateColumnsFromChildItems()}async updateColumnsFromChildItems(){await OE(this.childItems),this.columns=this.childItems.filter((t=>t instanceof VF))}updateTanStack(){const t={state:{}}
if(this.tableUpdateTracker.updateColumnSort&&(t.state.sorting=this.calculateTanStackSortState()),this.tableUpdateTracker.updateColumnDefinition&&(t.columns=this.calculateTanStackColumns()),this.tableUpdateTracker.updateRowIds&&(t.getRowId=this.calculateTanStackRowIdFunction(),t.state.rowSelection={},this.selectionManager.handleSelectionReset(),this.expansionManager.resetHierarchyOptions()),this.tableUpdateTracker.updateRowParentIds&&this.expansionManager.setHierarchyEnabled(this.isHierarchyEnabled()),this.tableUpdateTracker.updateSelectionMode&&(t.enableMultiRowSelection=this.selectionMode===mF.multiple,t.enableSubRowSelection=this.selectionMode===mF.multiple,t.state.rowSelection={},this.selectionManager.handleSelectionModeChanged(this.selectionMode)),this.dataHierarchyManager&&this.tableUpdateTracker.requiresTanStackDataReset)if(this.isHierarchyEnabled()||this.tableUpdateTracker.updateRowParentIds){const e=this.dataHierarchyManager.getAllRecords(!0),n=this.calculateTanStackData(e)
n.state&&(t.state.rowSelection=n.state.rowSelection),t.data=n.data}else t.data=[...this.table.options.data]
this.tableUpdateTracker.updateGroupRows&&(t.state.grouping=this.calculateTanStackGroupingState()),(this.tableUpdateTracker.updateRowIds||this.tableUpdateTracker.updateRowParentIds||this.tableUpdateTracker.updateGroupRows)&&(t.state.expanded=!0,this.expansionManager.resetExpansionState()),this.updateTableOptions(t)}updateActionMenuSlots(){if(void 0!==this.openActionMenuRecordId)for(const t of this.actionMenuSlots)this.requestedSlots.delete(t)
const t=new Set
for(const e of this.columns)e.actionMenuSlot&&t.add(e.actionMenuSlot)
this.actionMenuSlots=Array.from(t),void 0!==this.openActionMenuRecordId&&this.updateRequestedSlotsForOpeningActionMenu(this.openActionMenuRecordId)}validate(){this.tableValidator.validateIdFieldConfiguration(this.selectionMode,this.idFieldName,this.parentIdFieldName),this.tableValidator.validateColumnIds(this.columns.map((t=>t.columnId))),this.tableValidator.validateColumnSortIndices(this.getColumnsParticipatingInSorting().map((t=>t.columnInternals.currentSortIndex))),this.tableValidator.validateColumnGroupIndices(this.getColumnsParticipatingInGrouping().map((t=>t.columnInternals.groupIndex))),this.tableValidator.validateColumnConfigurations(this.columns),this.dataHierarchyManager&&this.validateWithData(this.dataHierarchyManager.getAllRecords())}validateWithData(t){this.tableValidator.validateRecordIds(t,this.idFieldName),this.canRenderRows=this.checkValidity()}emitColumnConfigurationChangeEvent(){const t={columns:this.columns.map((t=>({columnId:t.columnId,sortIndex:t.columnInternals.currentSortIndex??void 0,sortDirection:t.columnInternals.currentSortDirection,groupIndex:t.columnInternals.groupIndex,hidden:t.columnHidden,fractionalWidth:t.columnInternals.currentFractionalWidth,pixelWidth:t.columnInternals.currentPixelWidth})))}
this.$emit("column-configuration-change",t)}async emitSelectionChangeEvent(){const t={selectedRecordIds:await this.getSelectedRecordIds()}
this.$emit("selection-change",t)}selectionStateChanged(){this.setSelectionCheckboxState()}selectionCheckboxChanged(){this.setSelectionCheckboxState()}setSelectionCheckboxState(){this.selectionCheckbox&&(this.ignoreSelectionChangeEvents=!0,this.selectionCheckbox.checked=this.selectionState===vF,this.selectionCheckbox.indeterminate=this.selectionState===bF,this.ignoreSelectionChangeEvents=!1)}isHierarchyEnabled(){return"string"==typeof this.parentIdFieldName}refreshRows(){this.selectionState=this.getTableSelectionState()
let t=!1
const e=this.table.getRowModel().rows,n=this.getRequestedSlotsByRecordId()
this.tableData=e.map((e=>{const i=e.getIsGrouped(),s=!i&&this.getRowCanExpand(e),o=!i&&!this.isHierarchyEnabled()&&e.getParentRow()?.getIsGrouped(),r={record:e.original.clientRecord,id:e.id,selectionState:this.getRowSelectionState(e),isGroupRow:i,isExpanded:e.getIsExpanded(),groupRowValue:i?e.getValue(e.groupingColumnId):void 0,nestingLevel:o?e.depth-1:e.depth,isParentRow:s,immediateChildCount:e.subRows.length,groupColumn:this.getGroupRowColumn(e),resolvedRowIndex:e.index,isLoadingChildren:this.expansionManager.isLoadingChildren(e.id),requestedSlots:n[e.id]??[]}
return t=t||s,r})),this.showCollapseAll=t||this.getColumnsParticipatingInGrouping().length>0,this.virtualizer.dataChanged()}getRequestedSlotsByRecordId(){const t={}
for(const[e,{recordId:n,uniqueSlot:i}]of this.requestedSlots)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=[]),t[n].push({name:e,slot:i})
return t}getTableSelectionState(){return this.table.getIsAllRowsSelected()?vF:this.table.getIsSomeRowsSelected()?bF:gF}getRowSelectionState(t){return t.getIsGrouped()?this.getGroupedRowSelectionState(t):t.getIsSelected()?vF:gF}getGroupedRowSelectionState(t){const e=t.getLeafRows().filter((t=>!t.getIsGrouped()))??[]
let n=!1,i=!1
for(const t of e)if(t.getIsSelected()?n=!0:i=!0,n&&i)return bF
return n?vF:gF}getGroupRowColumn(t){const e=t.groupingColumnId
if(void 0!==e)return this.columns.find((t=>t.columnInternals.uniqueId===e))}updateTableOptions(t){if(this.options={...this.options,...t,state:{...this.options.state,...t.state}},this.table.setOptions(this.options),t.data&&this.tableValidator.areRecordIdsValid()){const t=this.table.getRowModel().flatRows
this.expansionManager.processDataUpdate(t)}this.refreshRows()}toggleRowExpanded(t){const e=this.table.getRowModel().rows[t]
this.expansionManager.toggleRowExpansion(e)}calculateTanStackSortState(){const t=this.getColumnsParticipatingInSorting().sort(((t,e)=>t.columnInternals.currentSortIndex-e.columnInternals.currentSortIndex))
return this.firstSortedColumn=t.length?t[0]:void 0,t.map((t=>({id:t.columnInternals.uniqueId,desc:t.columnInternals.currentSortDirection===fF.descending})))}calculateTanStackGroupingState(){return this.getColumnsParticipatingInGrouping().sort(((t,e)=>t.columnInternals.groupIndex-e.columnInternals.groupIndex)).map((t=>t.columnInternals.uniqueId))}calculateTanStackRowIdFunction(){return null===this.idFieldName||void 0===this.idFieldName?void 0:t=>t.clientRecord[this.idFieldName]}calculateTanStackColumns(){return this.columns.map((t=>({id:t.columnInternals.uniqueId,accessorFn:e=>{const n=t.columnInternals.operandDataRecordFieldName
if("string"==typeof n)return e.clientRecord[n]},sortingFn:IN(t.columnInternals.sortOperation),sortUndefined:!1})))}calculateTanStackSelectionState(t){if(this.selectionMode===mF.none)return{}
const e={},n=this.tableValidator.getPresentRecordIds(t)
for(const t of n)if(e[t]=!0,this.selectionMode===mF.single)break
return e}updateRowHeight(){this._rowHeight=parseFloat(Il.getValueFor(this))+2*parseFloat(Tl.getValueFor(this)),this.virtualizer?.updateRowHeight()}}
t([ft({attribute:"id-field-name"})],jN.prototype,"idFieldName",void 0),t([ft({attribute:"parent-id-field-name"})],jN.prototype,"parentIdFieldName",void 0),t([ft({attribute:"selection-mode"})],jN.prototype,"selectionMode",void 0),t([C],jN.prototype,"tableData",void 0),t([C],jN.prototype,"columns",void 0),t([C],jN.prototype,"childItems",void 0),t([C],jN.prototype,"rowElements",void 0),t([C],jN.prototype,"openActionMenuRecordId",void 0),t([C],jN.prototype,"canRenderRows",void 0),t([C],jN.prototype,"scrollX",void 0),t([C],jN.prototype,"rowGridColumns",void 0),t([C],jN.prototype,"selectionState",void 0),t([C],jN.prototype,"selectionCheckbox",void 0),t([C],jN.prototype,"collapseAllButton",void 0),t([C],jN.prototype,"showCollapseAll",void 0),t([C],jN.prototype,"canHaveCollapsibleRows",void 0),t([k],jN.prototype,"collapseButtonVisibility",null),t([C],jN.prototype,"firstSortedColumn",void 0),t([C],jN.prototype,"visibleColumns",void 0),t([C],jN.prototype,"tableScrollableMinWidth",void 0),t([C],jN.prototype,"windowShiftKeyDown",void 0)
const WN=jN.compose({baseName:"table",template:hN,styles:UF})
Di.getOrCreate().withPrefix("nimble").register(WN())
const GN=Mt`
    ${qs("contents")}

    .header-content {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
`,ZN=Q`<span
    ${zg("hasOverflow")}
    class="header-content"
    title=${t=>t.hasOverflow&&t.headerTextContent?t.headerTextContent:null}
>
    <slot ${Ut("contentSlot")}></slot>
</span>`
function KN(t){class e extends t{fractionalWidthChanged(){this.columnInternals.fractionalWidth=this.fractionalWidth??TF}minPixelWidthChanged(){this.columnInternals.minPixelWidth=this.minPixelWidth??AF}}return ft({attribute:"fractional-width",converter:ut})(e.prototype,"fractionalWidth"),ft({attribute:"min-pixel-width",converter:ut})(e.prototype,"minPixelWidth"),e}function YN(t){class e extends t{constructor(){super(...arguments),this.groupingDisabled=!1}groupingDisabledChanged(){this.columnInternals.groupingDisabled=this.groupingDisabled}groupIndexChanged(){this.columnInternals.groupIndex=this.groupIndex??void 0}}return ft({attribute:"grouping-disabled",mode:"boolean"})(e.prototype,"groupingDisabled"),ft({attribute:"group-index",converter:ut})(e.prototype,"groupIndex"),e}function XN(t){class e extends t{}return ft({attribute:"placeholder"})(e.prototype,"placeholder"),e}const JN=Mt`
    ${qs("flex")}

    :host {
        width: fit-content;
        max-width: 100%;
        height: fit-content;
        align-self: center;
        align-items: center;
    }

    nimble-anchor {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    span {
        font: ${jc};
        color: ${Wc};
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    :host(.placeholder) span {
        font: ${Bc};
        color: ${Pc};
    }
`,QN=Q`
    <template
        @click="${(t,e)=>("string"==typeof t.cellRecord?.href&&e.event.stopPropagation(),!0)}"
        class="${t=>t.isPlaceholder?"placeholder":""}"
    >
        ${Gt((t=>t.showAnchor),Q`
            <${lh}
                ${Ut("anchor")}
                ${zg("hasOverflow")}
                ${""}
                tabindex="-1"
                href="${t=>t.cellRecord?.href}"
                hreflang="${t=>t.columnConfig?.hreflang}"
                ping="${t=>t.columnConfig?.ping}"
                referrerpolicy="${t=>t.columnConfig?.referrerpolicy}"
                rel="${t=>t.columnConfig?.rel}"
                target="${t=>t.columnConfig?.target}"
                type="${t=>t.columnConfig?.type}"
                download="${t=>t.columnConfig?.download}"
                ?underline-hidden="${t=>t.columnConfig?.underlineHidden}"
                appearance="${t=>t.columnConfig?.appearance}"
                title=${t=>t.hasOverflow?t.text:null}
            >
                ${t=>t.text}
            </${lh}>`)}
        ${Gt((t=>!t.showAnchor),Q`
            <span
                ${zg("hasOverflow")}
                title=${t=>t.hasOverflow?t.text:null}
            >
                ${t=>t.text}
            </span>`)}
    </template>
`
class tL extends FF{constructor(){super(...arguments),this.hasOverflow=!1,this.isPlaceholder=!1}get text(){const t=this.cellRecord?.label??this.cellRecord?.href
return null==t&&this.columnConfig?.placeholder?(this.isPlaceholder=!0,this.columnConfig.placeholder):(this.isPlaceholder=!1,"string"==typeof this.cellRecord?.label?this.cellRecord.label:"string"==typeof this.cellRecord?.href?this.cellRecord.href:"")}get showAnchor(){return"string"==typeof this.cellRecord?.href}get tabbableChildren(){return this.showAnchor?[this.anchor]:[]}}t([C],tL.prototype,"hasOverflow",void 0),t([C],tL.prototype,"isPlaceholder",void 0),t([k],tL.prototype,"text",null),t([k],tL.prototype,"showAnchor",null)
const eL=tL.compose({baseName:"table-column-anchor-cell-view",template:QN,styles:JN})
Di.getOrCreate().withPrefix("nimble").register(eL())
class nL extends OF{constructor(){super(...arguments),this.hasOverflow=!1,this.text=gb.getValueFor(this),this.noValuePlaceholderLabelSubscriber={handleChange:()=>{this.applyPlaceholderTextIfNeeded()}},this.emptyPlaceholderLabelSubscriber={handleChange:()=>{this.applyPlaceholderTextIfNeeded()}}}connectedCallback(){super.connectedCallback(),gb.subscribe(this.noValuePlaceholderLabelSubscriber,this),vb.subscribe(this.emptyPlaceholderLabelSubscriber,this),this.applyPlaceholderTextIfNeeded()}disconnectedCallback(){super.disconnectedCallback(),gb.unsubscribe(this.noValuePlaceholderLabelSubscriber),vb.unsubscribe(this.emptyPlaceholderLabelSubscriber)}columnConfigChanged(){this.applyPlaceholderTextIfNeeded()||this.updateText()}groupHeaderValueChanged(){this.applyPlaceholderTextIfNeeded()||this.updateText()}applyPlaceholderTextIfNeeded(){return null===this.groupHeaderValue||void 0===this.groupHeaderValue?(this.text=gb.getValueFor(this),!0):""===this.groupHeaderValue&&(this.text=vb.getValueFor(this),!0)}}t([C],nL.prototype,"hasOverflow",void 0),t([C],nL.prototype,"text",void 0)
const iL=Q`
    <span
        ${zg("hasOverflow")}
        title="${t=>t.hasOverflow&&t.text?t.text:null}"
    >
        ${t=>t.text}
    </span>
`,sL=Mt`
    ${qs("flex")}

    span {
        font: ${jc};
        color: ${Wc};
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
`
const oL=class extends nL{updateText(){this.text="string"==typeof this.groupHeaderValue?this.groupHeaderValue:""}}.compose({baseName:"table-column-text-group-header-view",template:iL,styles:sL})
Di.getOrCreate().withPrefix("nimble").register(oL())
const rL="nimble-table-column-text-group-header-view"
function aL(t){class e extends t{constructor(){super(...arguments),this.sortingDisabled=!1,this.sortDirection=fF.none}sortingDisabledChanged(){this.columnInternals.sortingDisabled=this.sortingDisabled,this.sortingDisabled?(this.columnInternals.currentSortDirection=fF.none,this.columnInternals.currentSortIndex=void 0):(this.columnInternals.currentSortDirection=this.sortDirection,this.columnInternals.currentSortIndex=this.sortIndex??void 0)}sortDirectionChanged(){this.sortingDisabled||(this.columnInternals.currentSortDirection=this.sortDirection)}sortIndexChanged(){this.sortingDisabled||(this.columnInternals.currentSortIndex=this.sortIndex??void 0)}}return ft({attribute:"sorting-disabled",mode:"boolean"})(e.prototype,"sortingDisabled"),ft({attribute:"sort-index",converter:ut})(e.prototype,"sortIndex"),ft({attribute:"sort-direction"})(e.prototype,"sortDirection"),e}function lL(t){class e extends t{constructor(){super(...arguments),this.customSortOrderColumnChangeHandler={handleChange:this.handleCustomSortOrderColumnChange.bind(this)}}getResolvedOperandDataRecordFieldName(t){return"string"==typeof this.sortByFieldName?this.sortByFieldName:t}getResolvedSortOperation(t){return"string"==typeof this.sortByFieldName?DF:t}sortByFieldNameChanged(){this.handleSortConfigurationChange(),this.updateCustomColumnSortingValidity(),"string"!=typeof this.sortByFieldName||this.customSortOrderColumnNotifier?(this.customSortOrderColumnNotifier?.unsubscribe(this.customSortOrderColumnChangeHandler),this.customSortOrderColumnNotifier=void 0):(this.customSortOrderColumnNotifier=x.getNotifier(this.columnInternals),this.customSortOrderColumnNotifier.subscribe(this.customSortOrderColumnChangeHandler))}handleCustomSortOrderColumnChange(t,e){"groupingDisabled"===e&&this.updateCustomColumnSortingValidity()}updateCustomColumnSortingValidity(){const t="string"==typeof this.sortByFieldName
!!this.columnInternals.groupingDisabled||!t?this.columnInternals.validator.untrack("invalidCustomSortWithGrouping"):this.columnInternals.validator.track("invalidCustomSortWithGrouping")}}return ft({attribute:"sort-by-field-name"})(e.prototype,"sortByFieldName"),e}const cL=["invalidCustomSortWithGrouping"]
class dL extends UN{constructor(){super(cL)}}class hL extends(YN(KN(XN(aL(lL(VF)))))){constructor(){super(...arguments),this.underlineHidden=!1,this.defaultSortOperation=EF}placeholderChanged(){this.updateColumnConfig()}handleSortConfigurationChange(){this.updateColumnInternalsSortConfiguration()}getColumnInternalsOptions(){return{cellRecordFieldNames:["label","href"],cellViewTag:"nimble-table-column-anchor-cell-view",groupHeaderViewTag:rL,delegatedEvents:["click"],sortOperation:this.getResolvedSortOperation(this.defaultSortOperation),validator:new dL}}labelFieldNameChanged(){this.columnInternals.dataRecordFieldNames=[this.labelFieldName,this.hrefFieldName],this.updateColumnInternalsSortConfiguration()}hrefFieldNameChanged(){this.columnInternals.dataRecordFieldNames=[this.labelFieldName,this.hrefFieldName]}appearanceChanged(){this.updateColumnConfig()}underlineHiddenChanged(){this.updateColumnConfig()}hreflangChanged(){this.updateColumnConfig()}pingChanged(){this.updateColumnConfig()}referrerpolicyChanged(){this.updateColumnConfig()}relChanged(){this.updateColumnConfig()}targetChanged(){this.updateColumnConfig()}typeChanged(){this.updateColumnConfig()}downloadChanged(){this.updateColumnConfig()}updateColumnConfig(){this.columnInternals.columnConfig={appearance:this.appearance,underlineHidden:this.underlineHidden,hreflang:this.hreflang,ping:this.ping,referrerpolicy:this.referrerpolicy,rel:this.rel,target:this.target,type:this.type,download:this.download,placeholder:this.placeholder}}updateColumnInternalsSortConfiguration(){this.columnInternals.operandDataRecordFieldName=this.getResolvedOperandDataRecordFieldName(this.labelFieldName),this.columnInternals.sortOperation=this.getResolvedSortOperation(this.defaultSortOperation)}}t([ft({attribute:"label-field-name"})],hL.prototype,"labelFieldName",void 0),t([ft({attribute:"href-field-name"})],hL.prototype,"hrefFieldName",void 0),t([ft],hL.prototype,"appearance",void 0),t([ft({attribute:"underline-hidden",mode:"boolean"})],hL.prototype,"underlineHidden",void 0),t([ft],hL.prototype,"hreflang",void 0),t([ft],hL.prototype,"ping",void 0),t([ft],hL.prototype,"referrerpolicy",void 0),t([ft],hL.prototype,"rel",void 0),t([ft],hL.prototype,"target",void 0),t([ft],hL.prototype,"type",void 0),t([ft],hL.prototype,"download",void 0)
const uL=hL.compose({baseName:"table-column-anchor",template:ZN,styles:GN})
Di.getOrCreate().withPrefix("nimble").register(uL())
class pL extends VF{fieldNameChanged(){this.columnInternals.dataRecordFieldNames=[this.fieldName],this.columnInternals.operandDataRecordFieldName=this.fieldName}}function fL(t){return YN(KN(XN(aL(t))))}function mL(t,e){if("number"!=typeof e)return""
try{return t.format(e)}catch(t){return""}}t([ft({attribute:"field-name"})],pL.prototype,"fieldName",void 0)
const gL=class extends nL{updateText(){this.columnConfig?this.text=mL(this.columnConfig.formatter,this.groupHeaderValue):this.text=""}}.compose({baseName:"table-column-date-text-group-header-view",template:iL,styles:sL})
Di.getOrCreate().withPrefix("nimble").register(gL())
const vL=Q`
    <template
        class="
            ${t=>t.alignment===wF?"right-align":""}
            ${t=>t.isPlaceholder?"placeholder":""}
        "
    >
        <span
            ${zg("hasOverflow")}
            title=${t=>t.hasOverflow&&t.text?t.text:null}
        >
            ${t=>t.text}
        </span>
    </template>
`,bL=Mt`
    ${qs("flex")}

    :host {
        align-items: center;
    }

    :host(.right-align) {
        margin-left: auto;
    }

    span {
        font: ${jc};
        color: ${Wc};
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    :host(.placeholder) span {
        font: ${Bc};
        color: ${Pc};
    }
`
class yL extends FF{constructor(){super(...arguments),this.hasOverflow=!1,this.text="",this.alignment=yF,this.isPlaceholder=!1}columnConfigChanged(){this.applyPlaceholderTextIfNeeded()||this.updateText()}cellRecordChanged(){this.applyPlaceholderTextIfNeeded()||this.updateText()}applyPlaceholderTextIfNeeded(){const t=this.cellRecord?.value,e=this.columnConfig?.placeholder
return"string"==typeof e&&null==t?(this.text=e,this.isPlaceholder=!0):this.isPlaceholder=!1,this.isPlaceholder}}t([C],yL.prototype,"hasOverflow",void 0),t([C],yL.prototype,"text",void 0),t([C],yL.prototype,"alignment",void 0),t([C],yL.prototype,"isPlaceholder",void 0)
const wL=class extends yL{updateText(){this.columnConfig?this.text=mL(this.columnConfig.formatter,this.cellRecord?.value):this.text=""}}.compose({baseName:"table-column-date-text-cell-view",template:vL,styles:bL})
Di.getOrCreate().withPrefix("nimble").register(wL())
const xL=void 0,CL=["invalidCustomOptionsCombination"]
class kL extends UN{constructor(){super(CL)}setCustomOptionsValidity(t){this.setConditionValue("invalidCustomOptionsCombination",!t)}}const SL={toView:t=>"boolean"==typeof t?t.toString():null,fromView:t=>"true"===t||!0===t||"false"!==t&&!1!==t&&void 0}
class _L extends(fL(pL)){constructor(){super(...arguments),this.langSubscriber={handleChange:()=>{this.updateColumnConfig()}}}connectedCallback(){super.connectedCallback(),Ka.subscribe(this.langSubscriber,this),this.updateColumnConfig()}disconnectedCallback(){super.disconnectedCallback(),Ka.unsubscribe(this.langSubscriber,this)}placeholderChanged(){this.updateColumnConfig()}getColumnInternalsOptions(){return{cellRecordFieldNames:["value"],cellViewTag:"nimble-table-column-date-text-cell-view",groupHeaderViewTag:"nimble-table-column-date-text-group-header-view",delegatedEvents:[],sortOperation:DF,validator:new kL}}formatChanged(){this.updateColumnConfig()}customLocaleMatcherChanged(){this.updateColumnConfig()}customWeekdayChanged(){this.updateColumnConfig()}customEraChanged(){this.updateColumnConfig()}customYearChanged(){this.updateColumnConfig()}customMonthChanged(){this.updateColumnConfig()}customDayChanged(){this.updateColumnConfig()}customHourChanged(){this.updateColumnConfig()}customMinuteChanged(){this.updateColumnConfig()}customSecondChanged(){this.updateColumnConfig()}customTimeZoneNameChanged(){this.updateColumnConfig()}customFormatMatcherChanged(){this.updateColumnConfig()}customHour12Changed(){this.updateColumnConfig()}customTimeZoneChanged(){this.updateColumnConfig()}customCalendarChanged(){this.updateColumnConfig()}customDayPeriodChanged(){this.updateColumnConfig()}customNumberingSystemChanged(){this.updateColumnConfig()}customDateStyleChanged(){this.updateColumnConfig()}customTimeStyleChanged(){this.updateColumnConfig()}customHourCycleChanged(){this.updateColumnConfig()}updateColumnConfig(){const t=this.createFormatter()
if(t){const e={formatter:t,placeholder:this.placeholder}
this.columnInternals.columnConfig=e,this.columnInternals.validator.setCustomOptionsValidity(!0)}else this.columnInternals.columnConfig=void 0,this.columnInternals.validator.setCustomOptionsValidity(!1)}createFormatter(){let t
t=this.format===xL?{dateStyle:"medium",timeStyle:"medium"}:this.getCustomFormattingOptions()
try{return new Intl.DateTimeFormat(Ka.getValueFor(this),t)}catch(t){return}}getCustomFormattingOptions(){return{localeMatcher:this.customLocaleMatcher??void 0,weekday:this.customWeekday??void 0,era:this.customEra??void 0,year:this.customYear??void 0,month:this.customMonth??void 0,day:this.customDay??void 0,hour:this.customHour??void 0,minute:this.customMinute??void 0,second:this.customSecond??void 0,timeZoneName:this.customTimeZoneName??void 0,formatMatcher:this.customFormatMatcher??void 0,hour12:this.customHour12??void 0,timeZone:this.customTimeZone??void 0,calendar:this.customCalendar??void 0,dayPeriod:this.customDayPeriod??void 0,numberingSystem:this.customNumberingSystem??void 0,dateStyle:this.customDateStyle??void 0,timeStyle:this.customTimeStyle??void 0,hourCycle:this.customHourCycle??void 0}}}t([ft],_L.prototype,"format",void 0),t([ft({attribute:"custom-locale-matcher"})],_L.prototype,"customLocaleMatcher",void 0),t([ft({attribute:"custom-weekday"})],_L.prototype,"customWeekday",void 0),t([ft({attribute:"custom-era"})],_L.prototype,"customEra",void 0),t([ft({attribute:"custom-year"})],_L.prototype,"customYear",void 0),t([ft({attribute:"custom-month"})],_L.prototype,"customMonth",void 0),t([ft({attribute:"custom-day"})],_L.prototype,"customDay",void 0),t([ft({attribute:"custom-hour"})],_L.prototype,"customHour",void 0),t([ft({attribute:"custom-minute"})],_L.prototype,"customMinute",void 0),t([ft({attribute:"custom-second"})],_L.prototype,"customSecond",void 0),t([ft({attribute:"custom-time-zone-name"})],_L.prototype,"customTimeZoneName",void 0),t([ft({attribute:"custom-format-matcher"})],_L.prototype,"customFormatMatcher",void 0),t([ft({attribute:"custom-hour12",converter:SL})],_L.prototype,"customHour12",void 0),t([ft({attribute:"custom-time-zone"})],_L.prototype,"customTimeZone",void 0),t([ft({attribute:"custom-calendar"})],_L.prototype,"customCalendar",void 0),t([ft({attribute:"custom-day-period"})],_L.prototype,"customDayPeriod",void 0),t([ft({attribute:"custom-numbering-system"})],_L.prototype,"customNumberingSystem",void 0),t([ft({attribute:"custom-date-style"})],_L.prototype,"customDateStyle",void 0),t([ft({attribute:"custom-time-style"})],_L.prototype,"customTimeStyle",void 0),t([ft({attribute:"custom-hour-cycle"})],_L.prototype,"customHourCycle",void 0)
const IL=_L.compose({baseName:"table-column-date-text",template:ZN,styles:GN})
Di.getOrCreate().withPrefix("nimble").register(IL())
const ML=class extends yL{updateText(){this.text=this.columnConfig?.formatter.format(this.cellRecord?.value)??""}}.compose({baseName:"table-column-duration-text-cell-view",template:vL,styles:bL})
Di.getOrCreate().withPrefix("nimble").register(ML())
class $L{constructor(t){this.lang=t,this.daysFormatter=new Intl.NumberFormat(this.lang,{style:"unit",unit:"day"}),this.hoursFormatter=new Intl.NumberFormat(this.lang,{style:"unit",unit:"hour"}),this.minutesFormatter=new Intl.NumberFormat(this.lang,{style:"unit",unit:"minute"}),this.secondsFormatter=new Intl.NumberFormat(this.lang,{style:"unit",unit:"second"}),this.scientificSecondsFormatter=new Intl.NumberFormat(this.lang,{style:"unit",unit:"second",notation:"scientific",maximumFractionDigits:3})}format(t){if("number"!=typeof t||t<0||!Number.isFinite(t))return""
const e=[],n=1e3,i=6e4,s=36e5,o=864e5,r=t/o
let a=t
const l=Math.floor(r)
if(l<=999&&l>0){const t=this.daysFormatter.format(l)
e.push(t),a-=l*o}else if(l>999)return this.scientificSecondsFormatter.format(t/n)
const c=Math.floor(t/s%24)
if(a-=c*s,c){const t=this.hoursFormatter.format(c)
e.push(t)}const d=Math.floor(t/i%60)
if(a-=d*i,d){const t=this.minutesFormatter.format(d)
e.push(t)}const h=a/n,u=0===h?0:h%60
if(t<1&&0!==h)return this.scientificSecondsFormatter.format(h)
if(u>=5e-4||0===u&&0===e.length){const t=this.secondsFormatter.format(u)
e.push(t)}return e.join(", ")}}const DL=class extends nL{updateText(){this.columnConfig?this.text=this.columnConfig.formatter.format(this.groupHeaderValue):this.text=""}}.compose({baseName:"table-column-duration-text-group-header-view",template:iL,styles:sL})
Di.getOrCreate().withPrefix("nimble").register(DL())
class EL extends(fL(pL)){constructor(){super(...arguments),this.langSubscriber={handleChange:()=>{this.updateColumnConfig()}}}connectedCallback(){super.connectedCallback(),Ka.subscribe(this.langSubscriber,this),this.updateColumnConfig()}disconnectedCallback(){super.disconnectedCallback(),Ka.unsubscribe(this.langSubscriber,this)}placeholderChanged(){this.updateColumnConfig()}getColumnInternalsOptions(){return{cellRecordFieldNames:["value"],cellViewTag:"nimble-table-column-duration-text-cell-view",groupHeaderViewTag:"nimble-table-column-duration-text-group-header-view",delegatedEvents:[],sortOperation:DF,validator:new UN([])}}updateColumnConfig(){const t={formatter:new $L(Ka.getValueFor(this)),placeholder:this.placeholder}
this.columnInternals.columnConfig=t}}const AL=EL.compose({baseName:"table-column-duration-text",template:ZN,styles:GN})
Di.getOrCreate().withPrefix("nimble").register(AL())
const TL=(t,e)=>{if("number"===e){const e=ut.fromView(t)
return null===e?void 0:e}return"boolean"===e?!1!==t&&"false"!==t&&(!0===t||"true"===t||void 0):t?.toString()??void 0}
class OL extends VF{constructor(){super(...arguments),this.mappingNotifiers=[],this.mappings=[],this.keyType="string"}handleChange(t,e){t instanceof Eb&&"string"==typeof e&&this.updateColumnConfig()}updateColumnConfig(){this.columnInternals.validator.validate(this.mappings,this.keyType),this.columnInternals.columnConfig=this.checkValidity()?this.createColumnConfig(this.getMappingConfigs()):void 0}getMappingConfigs(){const t=new Map
return this.mappings.forEach((e=>{const n=TL(e.key,this.keyType)
if(void 0===n)throw Error("Key was invalid for type. Validation should have prevented this.")
const i=this.createMappingConfig(e)
t.set(n,i)})),t}fieldNameChanged(){this.columnInternals.dataRecordFieldNames=[this.fieldName],this.columnInternals.operandDataRecordFieldName=this.fieldName}mappingsChanged(){this.updateColumnConfig(),this.observeMappings()}keyTypeChanged(){this.updateColumnConfig()}removeMappingObservers(){this.mappingNotifiers.forEach((t=>{t.unsubscribe(this)})),this.mappingNotifiers=[]}observeMappings(){this.removeMappingObservers()
for(const t of this.mappings){const e=x.getNotifier(t)
e.subscribe(this),this.mappingNotifiers.push(e)}}}t([C],OL.prototype,"mappings",void 0),t([ft({attribute:"field-name"})],OL.prototype,"fieldName",void 0),t([ft({attribute:"key-type"})],OL.prototype,"keyType",void 0)
const RL=Mt`
    ${GN}

    slot[name='mapping'] {
        display: none;
    }
`,FL=Q`${ZN}<slot ${ie("mappings")} name="mapping"></slot>`
class NL extends UN{constructor(t){super(t)}validate(t,e){this.untrackAll()
const n=t.map((t=>t.key))
this.validateKeyValuesForType(n,e),this.validateUniqueKeys(n,e),this.validateNoMissingKeys(t)}validateKeyValuesForType(t,e){const n=t.some((t=>void 0!==t&&void 0===TL(t,e)))
this.setConditionValue("invalidMappingKeyValueForType",n)}validateUniqueKeys(t,e){const n=t.map((t=>TL(t,e))),i=new Set(n).size!==n.length
this.setConditionValue("duplicateMappingKey",i)}validateNoMissingKeys(t){const e=t.some((t=>void 0===t.key))
this.setConditionValue("missingKeyValue",e)}}const LL=["invalidMappingKeyValueForType","duplicateMappingKey","missingKeyValue","unsupportedMappingType","invalidIconName","missingTextValue"]
class BL extends NL{constructor(){super(LL)}static isIconMappingElement(t){return t instanceof Nb}static isSupportedMappingElement(t){return t instanceof Nb||t instanceof Bb||t instanceof zb||t instanceof Ob}validate(t,e){super.validate(t,e),this.validateMappingTypes(t),this.validateIconNames(t),this.validateNoMissingText(t)}validateIconNames(t){const e=t.filter(BL.isIconMappingElement).some((t=>void 0===t.resolvedIcon))
this.setConditionValue("invalidIconName",e)}validateNoMissingText(t){const e=t.filter(BL.isSupportedMappingElement).some((t=>void 0===t.text))
this.setConditionValue("missingTextValue",e)}validateMappingTypes(t){const e=t.every(BL.isSupportedMappingElement)
this.setConditionValue("unsupportedMappingType",!e)}}const PL=Mt`
    ${qs("inline-flex")}

    :host {
        gap: ${$l};
        align-items: center;
    }

    .reserve-icon-size {
        flex-shrink: 0;
        width: ${Ol};
        height: ${Ol};
    }

    .text {
        flex-shrink: 1;
        font: ${jc};
        color: ${Wc};
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
`,zL=Q`
    ${Gt((t=>t.visualizationTemplate),Q`
            <span class="reserve-icon-size">
                ${t=>t.visualizationTemplate}
            </span>
        `)}
    <span
        ${zg("hasOverflow")}
        title="${t=>t.hasOverflow&&t.text?t.text:null}"
        class="text"
    >${t=>t.text}</span>
`,VL={default:void 0}
class HL{constructor(t){this.text=t}}class UL extends HL{constructor(t,e,n,i){var s
super(n),this.severity=e,this.textHidden=i,this.iconTemplate=Q`
        <${s=t}
            title="${t=>t.textHidden?t.text:""}"
            role="img"
            aria-label="${t=>t.text}"
            aria-hidden="${t=>t.textHidden?"false":"true"}"
            severity="${t=>t.severity}"
        >
        </${s}>
    `}}const qL=Q`
    <${ZO}
        title="${t=>t.textHidden?t.text:""}"
        aria-label="${t=>t.text}"
        aria-hidden="${t=>t.textHidden?"false":"true"}"
    >
    </${ZO}>
`
class jL extends HL{constructor(t,e){super(t),this.textHidden=e,this.spinnerTemplate=qL}}class WL extends HL{}class GL extends HL{}class ZL extends OF{constructor(){super(...arguments),this.hasOverflow=!1,this.text="",this.textHidden=!1}columnConfigChanged(){this.updateState()}groupHeaderValueChanged(){this.updateState()}updateState(){if(this.resetState(),!this.columnConfig)return
const t=this.groupHeaderValue,e=this.columnConfig.mappingConfigs.get(t)
e instanceof UL?(this.severity=e.severity,this.text=e.text??"",this.visualizationTemplate=e.iconTemplate):e instanceof jL?(this.text=e.text??"",this.visualizationTemplate=e.spinnerTemplate):(e instanceof WL||e instanceof GL)&&(this.text=e.text??"")}resetState(){this.text="",this.visualizationTemplate=void 0,this.severity=VL.default}}t([C],ZL.prototype,"hasOverflow",void 0),t([C],ZL.prototype,"text",void 0),t([C],ZL.prototype,"severity",void 0),t([C],ZL.prototype,"visualizationTemplate",void 0)
const KL=ZL.compose({baseName:"table-column-mapping-group-header-view",template:zL,styles:PL})
Di.getOrCreate().withPrefix("nimble").register(KL())
const YL=Mt`
    ${qs("inline-flex")}

    :host {
        gap: ${$l};
        align-items: center;
    }

    .reserve-icon-size {
        flex-shrink: 0;
        width: ${Ol};
        height: ${Ol};
    }

    .text {
        flex-shrink: 1;
        font: ${jc};
        color: ${Wc};
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
`,XL=Q`
    ${Gt((t=>t.visualizationTemplate),Q`
            <span class="reserve-icon-size">
                ${t=>t.visualizationTemplate}
            </span>
        `)}
    ${Gt((t=>!t.textHidden),Q`
        <span
            ${zg("hasOverflow")}
            title=${t=>t.hasOverflow&&t.text?t.text:null}
            class="text"
        >
            ${t=>t.text}
        </span>
    `)}
`
class JL extends FF{constructor(){super(...arguments),this.textHidden=!1,this.hasOverflow=!1}columnConfigChanged(){this.updateState()}cellRecordChanged(){this.updateState()}updateState(){if(this.resetState(),!this.columnConfig||!this.cellRecord)return
const t=this.cellRecord.value
if(null==t)return
const e=this.columnConfig.mappingConfigs.get(t)
e instanceof UL?(this.severity=e.severity,this.text=e.text,this.visualizationTemplate=e.iconTemplate,this.textHidden=e.textHidden):e instanceof jL?(this.text=e.text,this.visualizationTemplate=e.spinnerTemplate,this.textHidden=e.textHidden):e instanceof WL?(this.text=e.text,this.textHidden=!1):e instanceof GL&&(this.text=e.text,this.textHidden=!0)}resetState(){this.text=void 0,this.textHidden=!1,this.visualizationTemplate=void 0,this.severity=VL.default}}t([C],JL.prototype,"severity",void 0),t([C],JL.prototype,"text",void 0),t([C],JL.prototype,"visualizationTemplate",void 0),t([C],JL.prototype,"textHidden",void 0),t([C],JL.prototype,"hasOverflow",void 0)
const QL=JL.compose({baseName:"table-column-mapping-cell-view",template:XL,styles:YL})
Di.getOrCreate().withPrefix("nimble").register(QL())
const tB="icon-size"
class eB extends(YN(KN(aL(OL)))){minPixelWidthChanged(){this.widthMode!==tB&&(this.columnInternals.minPixelWidth=this.getConfiguredMinPixelWidth())}getColumnInternalsOptions(){return{cellRecordFieldNames:["value"],cellViewTag:"nimble-table-column-mapping-cell-view",groupHeaderViewTag:"nimble-table-column-mapping-group-header-view",delegatedEvents:[],sortOperation:DF,validator:new BL}}createColumnConfig(t){return{mappingConfigs:t}}createMappingConfig(t){if(t instanceof Nb){if(!t.resolvedIcon)throw Error("Unresolved icon")
return new UL(t.resolvedIcon,t.severity,t.text,t.textHidden)}if(t instanceof Bb)return new jL(t.text,t.textHidden)
if(t instanceof zb)return new WL(t.text)
if(t instanceof Ob)return new GL(t.text)
throw new Error("Unsupported mapping")}widthModeChanged(){this.widthMode===tB?(this.columnInternals.resizingDisabled=!0,this.columnInternals.hideHeaderIndicators=!0,this.columnInternals.pixelWidth=32,this.columnInternals.minPixelWidth=32):(this.columnInternals.resizingDisabled=!1,this.columnInternals.hideHeaderIndicators=!1,this.columnInternals.pixelWidth=void 0,this.columnInternals.minPixelWidth=this.getConfiguredMinPixelWidth())}getConfiguredMinPixelWidth(){return"number"==typeof this.minPixelWidth?this.minPixelWidth:AF}}t([ft({attribute:"width-mode"})],eB.prototype,"widthMode",void 0)
const nB=eB.compose({baseName:"table-column-mapping",template:FL,styles:RL})
Di.getOrCreate().withPrefix("nimble").register(nB())
const iB=Q`
    <template @delegated-event="${(t,e)=>t.onDelegatedEvent(e.event)}"
        >${ZN}</template
    >
`,sB="menu-button-menu",oB=Q`
    ${Gt((t=>t.showMenuButton),Q`
        <${Yb}
            ${Ut("menuButton")}
            appearance="${dh}"
            @beforetoggle="${(t,e)=>t.onMenuButtonBeforeToggle(e.event)}"
            @mouseover="${t=>t.onMenuButtonMouseOver()}"
            @mouseout="${t=>t.onMenuButtonMouseOut()}"
            @click="${(t,e)=>t.onMenuButtonClick(e.event)}"
            title=${t=>t.hasOverflow?t.cellRecord.value:null}
        >
            <span ${Ut("valueSpan")} class="value-label">${t=>t.cellRecord.value}</span>
            <${Yg} slot="end"></${Yg}>

            <slot name="${sB}" slot="menu"></slot>
        </${Yb}>
    `)}
`,rB=Mt`
    :host {
        align-self: center;
        width: 100%;
    }

    nimble-menu-button {
        width: 100%;
    }

    .value-label {
        margin-right: auto;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
`
class aB extends FF{constructor(){super(...arguments),this.hasOverflow=!1}get showMenuButton(){return!!this.cellRecord?.value}get tabbableChildren(){return this.showMenuButton?[this.menuButton]:[]}onMenuButtonBeforeToggle(t){const e=this.columnConfig?.menuSlot
if(e&&t.detail.newState){const t={slots:[{name:e,slot:sB}]}
this.$emit("cell-view-slots-request",t)}return!0}onMenuButtonMouseOver(){this.valueSpan&&(this.hasOverflow=this.valueSpan.offsetWidth<this.valueSpan.scrollWidth)}onMenuButtonMouseOut(){this.hasOverflow=!1}onMenuButtonClick(t){t.stopPropagation()}}t([C],aB.prototype,"hasOverflow",void 0),t([k],aB.prototype,"showMenuButton",null)
const lB=aB.compose({baseName:"table-column-menu-button-cell-view",template:oB,styles:rB})
Di.getOrCreate().withPrefix("nimble").register(lB())
class cB extends(KN(VF)){onDelegatedEvent(t){t.stopImmediatePropagation()
const e=t,n=e.detail.originalEvent
if("beforetoggle"===n.type||"toggle"===n.type){const t=`menu-button-column-${n.type}`,i={...n.detail,recordId:e.detail.recordId}
this.$emit(t,i)}}getColumnInternalsOptions(){return{cellRecordFieldNames:["value"],cellViewTag:"nimble-table-column-menu-button-cell-view",delegatedEvents:["beforetoggle","toggle"],slotNames:[sB],validator:new UN([])}}fieldNameChanged(){this.columnInternals.dataRecordFieldNames=[this.fieldName],this.columnInternals.operandDataRecordFieldName=this.fieldName}menuSlotChanged(){this.updateColumnConfig()}updateColumnConfig(){this.columnInternals.columnConfig={menuSlot:this.menuSlot}}}t([ft({attribute:"field-name"})],cB.prototype,"fieldName",void 0),t([ft({attribute:"menu-slot"})],cB.prototype,"menuSlot",void 0)
const dB=cB.compose({baseName:"table-column-menu-button",template:iB,styles:GN})
Di.getOrCreate().withPrefix("nimble").register(dB())
const hB=Q`<span
    ${zg("hasOverflow")}
    class="header-content"
    title=${t=>t.hasOverflow&&t.headerTextContent?t.headerTextContent:null}
>
    <slot ${Ut("contentSlot")}></slot>
    <slot ${ie({property:"unitElements",filter:te()})} name="unit"></slot>
</span>`
const uB=class extends nL{updateText(){this.text=this.columnConfig?.formatter?.format(this.groupHeaderValue)??""}}.compose({baseName:"table-column-number-text-group-header-view",template:iL,styles:sL})
Di.getOrCreate().withPrefix("nimble").register(uB())
const pB=class extends yL{columnConfigChanged(){super.columnConfigChanged(),this.alignment=this.columnConfig?.alignment??yF}updateText(){this.text=this.columnConfig?.formatter?.format(this.cellRecord?.value)??""}}.compose({baseName:"table-column-number-text-cell-view",template:vL,styles:bL})
Di.getOrCreate().withPrefix("nimble").register(pB())
const fB={default:void 0,decimal:"decimal"},mB="left",gB="right"
class vB{format(t){if("number"!=typeof t)return""
try{return this.tryFormat(t)}catch{return""}}}class bB{constructor(t){this.locale=t.locale,this.intlNumberFormatOptions=t.intlNumberFormatOptions}}class yB extends bB{constructor(t,e){super(t),this.formatter=new Intl.NumberFormat(this.locale,{...e,...this.intlNumberFormatOptions})}static createFactory(t){return e=>new yB(e,t)}format(t){return this.formatter.format(t)}}class wB{constructor(t,e){this.scaleFactor=t,this.scaledUnitFormatFactory=e}isBase(){return 1===this.scaleFactor}}class xB{constructor(t){this.supportedScaledUnits=t
const e=t.every(((t,e,n)=>0===e||n[e-1].scaleFactor<t.scaleFactor))
if(!e)throw new Error("Supported scaled units must have unique and ordered scale factors")
const n=t.find((t=>t.isBase()))
if(!n)throw new Error("Supported scaled units must include a base scaled unit (scale factor=1)")
this.supportedScaledUnits=t,this.baseScaledUnit=n}scaleNumber(t){const e=Math.abs(t)
if(1===this.supportedScaledUnits.length||0===e||e===1/0||Number.isNaN(e))return{scaledValue:t,scaledUnit:this.baseScaledUnit}
for(let n=this.supportedScaledUnits.length-1;n>=0;n-=1){const i=this.supportedScaledUnits[n]
if(e/i.scaleFactor>=1)return{scaledValue:t/i.scaleFactor,scaledUnit:i}}const n=this.supportedScaledUnits[0]
return{scaledValue:t/n.scaleFactor,scaledUnit:n}}}const CB=new class extends xB{constructor(){super([new wB(1,yB.createFactory({}))])}},kB="negative"
class SB extends vB{constructor(t,{unitScale:e=CB}={unitScale:CB}){super(),this.defaultIntlNumberFormatOptions={maximumSignificantDigits:SB.maximumDigits,maximumFractionDigits:SB.maximumDigits-1,roundingPriority:"lessPrecision",signDisplay:kB},this.defaultScaledUnitFormatters=new Map,this.exponentialIntlNumberFormatOptions={maximumSignificantDigits:SB.maximumDigits,notation:"scientific",signDisplay:kB}
for(const n of e.supportedScaledUnits)this.defaultScaledUnitFormatters.set(n.scaleFactor,n.scaledUnitFormatFactory({locale:t,intlNumberFormatOptions:this.defaultIntlNumberFormatOptions}))
this.exponentialScaledUnitFormatter=e.baseScaledUnit.scaledUnitFormatFactory({locale:t,intlNumberFormatOptions:this.exponentialIntlNumberFormatOptions}),this.unitScale=e}resolvedOptions(){return{unitScale:this.unitScale}}tryFormat(t){const{scaledValue:e,scaledUnit:n}=this.unitScale.scaleNumber(t),i=Math.abs(e)
return 0!==i&&(i>=SB.exponentialUpperBound||i<SB.exponentialLowerBound)?this.exponentialScaledUnitFormatter.format(t):this.defaultScaledUnitFormatters.get(n.scaleFactor).format(e)}}SB.maximumDigits=6,SB.exponentialLowerBound=995e-6,SB.exponentialUpperBound=999999.5
class _B extends vB{constructor(t,{minimumFractionDigits:e=0,maximumFractionDigits:n=Math.max(3,e),unitScale:i=CB}={minimumFractionDigits:0,maximumFractionDigits:3,unitScale:CB}){super(),this.scaledUnitFormatters=new Map
const s={maximumFractionDigits:n,minimumFractionDigits:e,signDisplay:"negative"}
for(const e of i.supportedScaledUnits)this.scaledUnitFormatters.set(e.scaleFactor,e.scaledUnitFormatFactory({locale:t,intlNumberFormatOptions:s}))
this.unitScale=i,this.minimumFractionDigits=e,this.maximumFractionDigits=n}resolvedOptions(){return{unitScale:this.unitScale,maximumFractionDigits:this.maximumFractionDigits,minimumFractionDigits:this.minimumFractionDigits}}tryFormat(t){const{scaledValue:e,scaledUnit:n}=this.unitScale.scaleNumber(t)
return this.scaledUnitFormatters.get(n.scaleFactor).format(e)}}class IB extends vB{constructor(t,e){super(),this._resolvedOptions=this.resolveOptions(e),this.resolvedUnitFormat=this.resolveUnitFormat(t,this._resolvedOptions)}resolvedOptions(){return{...this._resolvedOptions}}optionsMatch(t){const e=this.resolveOptions(t)
return this._resolvedOptions.decimalDigits===e.decimalDigits&&this._resolvedOptions.decimalMaximumDigits===e.decimalMaximumDigits&&this._resolvedOptions.numberTextFormat===e.numberTextFormat&&this._resolvedOptions.unitScale===e.unitScale}tryFormat(t){return this.resolvedUnitFormat.format(t)}resolveUnitFormat(t,e){const{numberTextFormat:n,decimalMaximumDigits:i,decimalDigits:s,unitScale:o}=e
return n===fB.default?new SB(t,{unitScale:o}):new _B(t,"number"==typeof s?{minimumFractionDigits:s,maximumFractionDigits:s,unitScale:o}:{minimumFractionDigits:0,maximumFractionDigits:i,unitScale:o})}resolveOptions(t){if(!t||t.numberTextFormat===fB.default)return{numberTextFormat:fB.default,decimalDigits:void 0,decimalMaximumDigits:void 0,unitScale:t?.unitScale??CB}
const e="number"==typeof t.decimalDigits,n="number"==typeof t.decimalMaximumDigits
if(e&&n)throw new Error("decimalDigits and decimalMaximumDigits are mutually exclusive. Do not specify both.")
return e||n?{numberTextFormat:fB.decimal,decimalDigits:t.decimalDigits,decimalMaximumDigits:t.decimalMaximumDigits,unitScale:t.unitScale??CB}:{numberTextFormat:fB.decimal,decimalDigits:IB.defaultDecimalDigits,decimalMaximumDigits:void 0,unitScale:t.unitScale??CB}}}IB.defaultDecimalDigits=2
const MB=["invalidDecimalDigits","invalidDecimalMaximumDigits","decimalDigitsMutuallyExclusiveWithDecimalMaximumDigits","moreThanOneUnitSpecified"]
class $B extends UN{constructor(){super(MB)}validateDecimalDigits(t,e){const n=!!(t===fB.decimal&&"number"==typeof e)&&this.isInvalidDecimalDigitsValue(e)
this.setConditionValue("invalidDecimalDigits",n)}validateDecimalMaximumDigits(t,e){const n=!!(t===fB.decimal&&"number"==typeof e)&&this.isInvalidDecimalDigitsValue(e)
this.setConditionValue("invalidDecimalMaximumDigits",n)}validateNoMutuallyExclusiveProperties(t,e,n){const i=!!(t===fB.decimal)&&("number"==typeof e&&"number"==typeof n)
this.setConditionValue("decimalDigitsMutuallyExclusiveWithDecimalMaximumDigits",i)}validateAtMostOneUnit(t){const e=t.length>1
this.setConditionValue("moreThanOneUnitSpecified",e)}isInvalidDecimalDigitsValue(t){return t<0||t>20}}class DB extends je{}t([C],DB.prototype,"resolvedUnitScale",void 0)
class EB extends(fL(pL)){constructor(){super(...arguments),this.langSubscriber={handleChange:()=>{this.updateColumnConfig()}},this.unitSubscriber={handleChange:()=>{this.updateColumnConfig()}}}connectedCallback(){super.connectedCallback(),Ka.subscribe(this.langSubscriber,this),this.updateColumnConfig()}disconnectedCallback(){super.disconnectedCallback(),Ka.unsubscribe(this.langSubscriber,this)}placeholderChanged(){this.updateColumnConfig()}getColumnInternalsOptions(){return{cellRecordFieldNames:["value"],cellViewTag:"nimble-table-column-number-text-cell-view",groupHeaderViewTag:"nimble-table-column-number-text-group-header-view",delegatedEvents:[],sortOperation:DF,validator:new $B}}updateUnitNotifier(){if(this.unitNotifier&&(this.unitNotifier.unsubscribe(this.unitSubscriber),this.unitNotifier=void 0),this.unit){const t=x.getNotifier(this.unit)
t.subscribe(this.unitSubscriber,"resolvedUnitScale"),this.unitNotifier=t}}formatChanged(){this.updateColumnConfig()}alignmentChanged(){this.updateColumnConfig()}decimalDigitsChanged(){this.updateColumnConfig()}decimalMaximumDigitsChanged(){this.updateColumnConfig()}unitElementsChanged(){this.updateUnit()}async updateUnit(){this.unit=void 0,this.unitElements&&(await OE(this.unitElements),this.unit=this.unitElements.find((t=>t instanceof DB))),this.updateUnitNotifier()}unitChanged(){this.updateColumnConfig()}updateColumnConfig(){const t=this.columnInternals.validator
if(t.validateDecimalDigits(this.format,this.decimalDigits),t.validateDecimalMaximumDigits(this.format,this.decimalMaximumDigits),t.validateNoMutuallyExclusiveProperties(this.format,this.decimalDigits,this.decimalMaximumDigits),t.validateAtMostOneUnit(this.unitElements??[]),t.isValid()){const t={formatter:this.createFormatter(),alignment:this.determineCellContentAlignment(),placeholder:this.placeholder}
this.columnInternals.headerAlignment=t.alignment,this.columnInternals.columnConfig=t}else this.columnInternals.columnConfig=void 0}createFormatter(){const t=this.unit?.resolvedUnitScale
return new IB(Ka.getValueFor(this),{numberTextFormat:this.format??void 0,decimalDigits:this.decimalDigits??void 0,decimalMaximumDigits:this.decimalMaximumDigits??void 0,unitScale:t})}determineCellContentAlignment(){return this.alignment===mB?yF:this.alignment===gB?wF:this.format!==fB.decimal||"number"==typeof this.decimalMaximumDigits||this.unit?yF:wF}}t([ft],EB.prototype,"format",void 0),t([ft],EB.prototype,"alignment",void 0),t([ft({attribute:"decimal-digits",converter:ut})],EB.prototype,"decimalDigits",void 0),t([ft({attribute:"decimal-maximum-digits",converter:ut})],EB.prototype,"decimalMaximumDigits",void 0),t([C],EB.prototype,"unitElements",void 0),t([C],EB.prototype,"unit",void 0)
const AB=EB.compose({baseName:"table-column-number-text",template:hB,styles:GN})
Di.getOrCreate().withPrefix("nimble").register(AB())
const TB=class extends yL{updateText(){this.text="string"==typeof this.cellRecord?.value?this.cellRecord.value:""}}.compose({baseName:"table-column-text-cell-view",template:vL,styles:bL})
Di.getOrCreate().withPrefix("nimble").register(TB())
const OB=["invalidCustomSortWithGrouping"]
class RB extends UN{constructor(){super(OB)}}class FB extends(lL(fL(pL))){constructor(){super(...arguments),this.defaultSortOperation=EF}placeholderChanged(){this.columnInternals.columnConfig={placeholder:this.placeholder}}handleSortConfigurationChange(){this.updateColumnInternalsSortConfiguration()}getColumnInternalsOptions(){return{cellRecordFieldNames:["value"],cellViewTag:"nimble-table-column-text-cell-view",groupHeaderViewTag:rL,delegatedEvents:[],sortOperation:this.getResolvedSortOperation(this.defaultSortOperation),validator:new RB}}fieldNameChanged(){this.columnInternals.dataRecordFieldNames=[this.fieldName],this.updateColumnInternalsSortConfiguration()}updateColumnInternalsSortConfiguration(){this.columnInternals.operandDataRecordFieldName=this.getResolvedOperandDataRecordFieldName(this.fieldName),this.columnInternals.sortOperation=this.getResolvedSortOperation(this.defaultSortOperation)}}const NB=FB.compose({baseName:"table-column-text",template:ZN,styles:GN})
Di.getOrCreate().withPrefix("nimble").register(NB())
const LB=Mt`
    ${Ih}

    .tabpanel {
        overflow: auto;
    }
`
class BB extends gs{constructor(){super(),this.showScrollButtons=!1,this.tabSlotName="tab",this.activeindicator=!1,this.tabListResizeObserver=new ResizeObserver((t=>{let e=t[0]?.contentRect.width
if(void 0!==e){const t=this.leftScrollButton?.clientWidth??0
e=Math.ceil(e),this.showScrollButtons&&(e+=2*t),this.showScrollButtons=e<this.tablist.scrollWidth}}))}connectedCallback(){super.connectedCallback(),this.tabListResizeObserver.observe(this.tablist)}disconnectedCallback(){super.disconnectedCallback(),this.tabListResizeObserver.disconnect()}activeidChanged(t,e){super.activeidChanged(t,e),this.activetab?.scrollIntoView({block:"nearest",inline:"nearest"})}onScrollLeftClick(){this.tablist.scrollBy({left:-this.tablist.clientWidth,behavior:"smooth"})}onScrollRightClick(){this.tablist.scrollBy({left:this.tablist.clientWidth,behavior:"smooth"})}}t([C],BB.prototype,"showScrollButtons",void 0)
const PB=BB.compose({baseName:"tabs",baseClass:gs,template:ig,styles:LB})
Di.getOrCreate().withPrefix("nimble").register(PB())
const zB=Mt`
    ${qs("flex")}

    :host {
        align-items: center;
        height: ${Il};
        font: ${jc};
        color: ${Wc};
    }

    .separator {
        display: inline-block;
        height: 24px;
        border-left: calc(${Tl} * 2) solid
            rgba(${cl}, 0.3);
        margin: ${$l} ${Dl};
    }
`,VB=Q`
    <template slot="end">
        <div class="separator"></div>
        <slot></slot>
    </template>
`
const HB=class extends je{}.compose({baseName:"tabs-toolbar",template:VB,styles:zB})
Di.getOrCreate().withPrefix("nimble").register(HB())
const UB="outline",qB="block",jB=Mt`
    ${qs("inline-flex")}
    ${Lg}
    ${nv}

    :host {
        font: ${jc};
        outline: none;
        ${Dm}
        color: ${Wc};
        flex-direction: column;
        vertical-align: top;
        --ni-private-hover-indicator-width: calc(${Tl} + 1px);
    }

    :host([disabled]) {
        color: ${Gc};
    }

    .label {
        display: block;
        color: ${pd};
        font: ${ud};
    }

    :host([disabled]) .label {
        color: ${fd};
    }

    .container {
        display: flex;
        justify-content: center;
        position: relative;
        height: 100%;
        width: 100%;
    }

    .container::after {
        content: ' ';
        position: absolute;
        bottom: calc(-1 * ${Tl});
        width: 0px;
        height: 0px;
        border-bottom: ${fl}
            var(--ni-private-hover-indicator-width) solid;
        transition: width ${Zd} ease-in;
    }

    @media (prefers-reduced-motion) {
        .container::after {
            transition-duration: 0s;
        }
    }

    :host([error-visible]) .container::after {
        border-bottom-color: ${dl};
    }

    :host(:hover) .container::after {
        width: 100%;
    }

    :host([disabled]:hover) .container::after,
    :host([readonly]:hover) .container::after {
        width: 0px;
    }

    .control {
        -webkit-appearance: none;
        font: inherit;
        flex-grow: 1;
        outline: none;
        position: relative;
        color: inherit;
        border-radius: 0px;
        align-items: flex-end;
        border: ${Tl} solid transparent;
        min-width: 100px;
        min-height: calc(${Ol} + ${El});
        padding: 8px;
        ${""}
        padding-right: calc(${Ol});
        margin: 0px;
        resize: none;
    }

    @media (prefers-reduced-motion) {
        .control {
            transition-duration: 0s;
        }
    }

    .control:focus-within {
        border-bottom-color: ${fl};
    }

    .control[readonly],
    .control[readonly]:hover,
    .control[readonly]:hover:focus-within,
    .control[disabled],
    .control[disabled]:hover {
        border-color: rgba(${cl}, 0.1);
    }

    :host([error-visible]) .control {
        border-bottom-color: ${dl};
    }

    :host([error-visible]) .control[readonly]:hover:focus-within {
        border-bottom-color: ${dl};
    }

    .control::placeholder {
        color: ${pd};
    }

    .control[disabled]::placeholder {
        color: ${fd};
    }

    :host([resize='both']) .control {
        resize: both;
    }
    :host([resize='horizontal']) .control {
        resize: horizontal;
    }
    :host([resize='vertical']) .control {
        resize: vertical;
    }

    :host([error-visible]) .error-icon {
        display: none;
    }

    :host([error-visible]) .error-icon.scrollbar-width-calculated {
        display: inline-flex;
        position: absolute;
        top: ${Dl};
        right: var(--ni-private-scrollbar-width);
    }
`.withBehaviors(ph(UB,Mt`
            .control {
                border-color: rgba(${cl}, 0.3);
                background-color: transparent;
            }
        `),ph(qB,Mt`
            .control {
                background-color: rgba(${cl}, 0.1);
            }

            :host([readonly]) .control {
                background-color: transparent;
            }

            :host([disabled]) .control {
                border-color: transparent;
                background-color: rgba(${cl}, 0.1);
            }

            :host([error-visible][disabled]) .control {
                border-bottom-color: ${dl};
            }
        `)),WB=rv(Q`
    <label
        part="label"
        for="control"
        class="${t=>t.defaultSlottedNodes?.length?"label":"label label__hidden"}"
    >
        <slot ${ie("defaultSlottedNodes")}></slot>
    </label>
`)
class GB extends(Hg(dv(ws))){constructor(){super(...arguments),this.appearance=UB,this.scrollbarWidth=-1,this.updateScrollbarWidthQueued=!1}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver((()=>this.onResize())),this.resizeObserver.observe(this)}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver?.disconnect()}onTextAreaInput(){this.handleTextInput(),this.queueUpdateScrollbarWidth()}placeholderChanged(){this.queueUpdateScrollbarWidth()}valueChanged(t,e){super.valueChanged(t,e),this.queueUpdateScrollbarWidth()}onResize(){this.scrollbarWidth=this.control.offsetWidth-this.control.clientWidth}queueUpdateScrollbarWidth(){this.$fastController.isConnected&&(this.updateScrollbarWidthQueued||(this.updateScrollbarWidthQueued=!0,b.queueUpdate((()=>this.updateScrollbarWidth()))))}updateScrollbarWidth(){this.updateScrollbarWidthQueued=!1,this.scrollbarWidth=this.control.offsetWidth-this.control.clientWidth}}t([ft],GB.prototype,"appearance",void 0),t([C],GB.prototype,"scrollbarWidth",void 0)
const ZB=GB.compose({baseName:"text-area",baseClass:ws,template:()=>Q`
    ${WB}
    <div class="container">
        <textarea
            part="control"
            class="control"
            id="control"
            ?autofocus="${t=>t.autofocus}"
            cols="${t=>t.cols}"
            ?disabled="${t=>t.disabled}"
            form="${t=>t.form}"
            list="${t=>t.list}"
            maxlength="${t=>t.maxlength}"
            minlength="${t=>t.minlength}"
            name="${t=>t.name}"
            placeholder="${t=>t.placeholder}"
            ?readonly="${t=>t.readOnly}"
            ?required="${t=>t.required}"
            rows="${t=>t.rows}"
            ?spellcheck="${t=>t.spellcheck}"
            :value="${t=>t.value}"
            aria-atomic="${t=>t.ariaAtomic}"
            aria-busy="${t=>t.ariaBusy}"
            aria-controls="${t=>t.ariaControls}"
            aria-current="${t=>t.ariaCurrent}"
            aria-describedby="${t=>t.ariaDescribedby}"
            aria-details="${t=>t.ariaDetails}"
            aria-disabled="${t=>t.ariaDisabled}"
            aria-errormessage="${t=>t.ariaErrormessage}"
            aria-flowto="${t=>t.ariaFlowto}"
            aria-haspopup="${t=>t.ariaHaspopup}"
            aria-hidden="${t=>t.ariaHidden}"
            aria-invalid="${t=>t.ariaInvalid}"
            aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
            aria-label="${t=>t.ariaLabel}"
            aria-labelledby="${t=>t.ariaLabelledby}"
            aria-live="${t=>t.ariaLive}"
            aria-owns="${t=>t.ariaOwns}"
            aria-relevant="${t=>t.ariaRelevant}"
            aria-roledescription="${t=>t.ariaRoledescription}"
            aria-required="${t=>t.requiredVisible}"
            @input="${t=>t.onTextAreaInput()}"
            @change="${t=>t.handleChange()}"
            ${Ut("control")}
        ></textarea>
        <${bg}
            severity="error"
            class="error-icon ${t=>t.scrollbarWidth>=0?"scrollbar-width-calculated":""}"
            style="--ni-private-scrollbar-width: ${t=>t.scrollbarWidth}px;"
        ></${bg}>
        ${Vg}
    </div>
`,styles:jB,shadowOptions:{delegatesFocus:!0}})
Di.getOrCreate().withPrefix("nimble").register(ZB())
const KB="underline",YB="outline",XB="block",JB="frameless",QB=Mt`
    ${qs("inline-block")}
    ${Lg}
    ${nv}

    :host {
        font: ${jc};
        outline: none;
        ${Dm}
        color: ${Wc};
        --ni-private-hover-indicator-width: calc(${Tl} + 1px);
        --ni-private-height-within-border: calc(
            ${Il} - 2 * ${Tl}
        );
    }

    :host([disabled]) {
        color: ${Gc};
    }

    .label {
        display: flex;
        color: ${pd};
        font: ${ud};
    }

    :host([disabled]) .label {
        color: ${fd};
    }

    .root {
        position: relative;
        display: flex;
        flex-direction: row;
        border-radius: 0px;
        font: inherit;
        align-items: center;
        justify-content: center;
        border: 0px solid rgba(${cl}, 0.3);
        gap: ${$l};
        padding: ${Tl};
        padding-left: calc(${Tl} + ${$l});
    }

    :host([readonly]) .root {
        border-color: rgba(${cl}, 0.1);
    }

    :host([disabled]) .root {
        border-color: rgba(${cl}, 0.1);
    }

    :host([error-visible]) .root {
        border-bottom-color: ${dl};
    }

    .root:focus-within {
        border-bottom-color: ${fl};
    }

    :host([appearance='frameless'][full-bleed]) .root {
        padding-left: 0px;
        padding-right: 0px;
    }

    .root::before {
        ${""}
        content: ' ';
        color: transparent;
        width: 0px;
        ${Dm}
    }

    :host([appearance='frameless'][full-bleed]) .root::before {
        display: none;
    }

    .root::after {
        ${""}
        content: ' ';
        color: transparent;
        width: 0px;
        ${Dm}
    }

    :host([appearance='frameless'][full-bleed]) .root::after {
        display: none;
    }

    [part='start'] {
        display: contents;
    }

    slot[name='start']::slotted(*) {
        flex: none;
        opacity: 0.6;
        margin-right: ${$l};
    }

    :host([disabled]) slot[name='start']::slotted(*) {
        opacity: 0.3;
    }

    .control {
        -webkit-appearance: none;
        font: inherit;
        background: transparent;
        color: inherit;
        padding: 0px;
        height: var(--ni-private-height-within-border);
        width: 100%;
        margin-top: auto;
        margin-bottom: auto;
        border: none;
        text-overflow: ellipsis;
    }

    .control:hover,
    .control:focus,
    .control:disabled,
    .control:active {
        outline: none;
    }

    .control:disabled {
        ${""}
        text-overflow: clip;
    }

    .control::placeholder {
        color: ${pd};
    }

    .control[disabled]::placeholder {
        color: ${Gc};
    }

    [part='end'] {
        display: contents;
    }

    [part='end']::after {
        content: '';
        position: absolute;
        margin-left: calc(-1 * (${Tl} + ${$l}));
        bottom: calc(-1 * ${Tl});
        width: 0px;
        height: 0px;
        border-bottom: ${fl}
            var(--ni-private-hover-indicator-width) solid;
        transition: width ${Zd} ease-in;
    }

    @media (prefers-reduced-motion) {
        [part='end']::after {
            transition-duration: 0s;
        }
    }

    :host([error-visible]) [part='end']::after {
        border-bottom-color: ${dl};
    }

    :host(:hover) [part='end']::after {
        width: 100%;
    }

    :host([disabled]:hover) [part='end']::after,
    :host([readonly]:hover) [part='end']::after {
        width: 0px;
    }

    [part='actions'] {
        display: contents;
    }

    slot[name='actions']::slotted(*) {
        ${Il.cssCustomProperty}: 24px;
    }
`.withBehaviors(ph(KB,Mt`
            .root {
                border-bottom-width: ${Tl};
                padding-bottom: 0;
            }
        `),ph(XB,Mt`
            .root {
                background-color: rgba(${cl}, 0.1);
            }

            .control {
                padding-left: ${Tl};
                padding-right: ${Tl};
            }

            .root:focus-within,
            :host([error-visible]) .root {
                border-bottom-width: ${Tl};
                padding-bottom: 0;
            }

            :host(:hover) .root {
                padding-bottom: 0;
            }

            :host([readonly]) .root {
                background-color: rgba(${cl}, 0.07);
                border-color: transparent;
            }

            :host([disabled]) .root {
                background-color: rgba(${cl}, 0.07);
            }
        `),ph(YB,Mt`
            .root {
                border-width: ${Tl};
                padding: 0;
                padding-left: ${$l};
            }
        `),ph(JB,Mt`
            .control {
                padding-left: ${Tl};
                padding-right: ${Tl};
            }

            :host([readonly]) .root {
                border-color: transparent;
            }
        `),gg(Ho.light,Mt`
            .control::-ms-reveal {
                filter: invert(0%);
            }
        `),gg([Ho.dark,Ho.color],Mt`
            .control::-ms-reveal {
                filter: invert(100%);
            }
        `)),tP=rv(Q`<label
        part="label"
        for="control"
        class="${t=>t.defaultSlottedNodes?.length?"label":"label label__hidden"}"
    >
        <slot
            ${ie({property:"defaultSlottedNodes",filter:function(t,e,n){return t.nodeType!==Node.TEXT_NODE||"string"==typeof t.nodeValue&&!!t.nodeValue.trim().length}})}
        ></slot>
    </label>`)
class eP extends(Hg(dv(Yi))){constructor(){super(...arguments),this.appearance=KB,this.fullBleed=!1}}t([ft],eP.prototype,"appearance",void 0),t([ft({attribute:"full-bleed",mode:"boolean"})],eP.prototype,"fullBleed",void 0)
const nP=eP.compose({baseName:"text-field",baseClass:Yi,template:(t,e)=>Q`
    <template
        class="
            ${t=>t.readOnly?"readonly":""}
        "
    >
        ${tP}
        <div class="root" part="root">
            ${le(0,e)}
            <input
                class="control"
                part="control"
                id="control"
                @input="${t=>t.handleTextInput()}"
                @change="${t=>t.handleChange()}"
                ?autofocus="${t=>t.autofocus}"
                ?disabled="${t=>t.disabled}"
                list="${t=>t.list}"
                maxlength="${t=>t.maxlength}"
                minlength="${t=>t.minlength}"
                pattern="${t=>t.pattern}"
                placeholder="${t=>t.placeholder}"
                ?readonly="${t=>t.readOnly}"
                ?required="${t=>t.required}"
                size="${t=>t.size}"
                ?spellcheck="${t=>t.spellcheck}"
                :value="${t=>t.value}"
                type="${t=>t.type}"
                aria-atomic="${t=>t.ariaAtomic}"
                aria-busy="${t=>t.ariaBusy}"
                aria-controls="${t=>t.ariaControls}"
                aria-current="${t=>t.ariaCurrent}"
                aria-describedby="${t=>t.ariaDescribedby}"
                aria-details="${t=>t.ariaDetails}"
                aria-disabled="${t=>t.ariaDisabled}"
                aria-errormessage="${t=>t.ariaErrormessage}"
                aria-flowto="${t=>t.ariaFlowto}"
                aria-haspopup="${t=>t.ariaHaspopup}"
                aria-hidden="${t=>t.ariaHidden}"
                aria-invalid="${t=>t.ariaInvalid}"
                aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
                aria-label="${t=>t.ariaLabel}"
                aria-labelledby="${t=>t.ariaLabelledby}"
                aria-live="${t=>t.ariaLive}"
                aria-owns="${t=>t.ariaOwns}"
                aria-relevant="${t=>t.ariaRelevant}"
                aria-roledescription="${t=>t.ariaRoledescription}"
                aria-required="${t=>t.requiredVisible}"
                ${Ut("control")}
            />
            ${ae(0,e)}
        </div>
    </template>
`,styles:QB,shadowOptions:{delegatesFocus:!0},end:Q`
        <${bg}
            severity="error"
            class="error-icon"
        ></${bg}>
        <span part="actions">
            <slot name="actions"></slot>
        </span>
        ${Vg}
    `})
Di.getOrCreate().withPrefix("nimble").register(nP())
const iP=Mt`
    ${qs("inline-flex")}

    :host {
        font: ${Id};
        color: ${Md};
        text-align: left;
        --ni-private-tooltip-border-color: ${el(yo,.3)};
        --ni-private-tooltip-background-color: ${po};
    }

    .tooltip {
        flex-shrink: 0;
        max-width: 440px;
        box-shadow: ${Vl};
        display: inline-flex;
        border: ${Tl} solid var(--ni-private-tooltip-border-color);
        background-color: var(--ni-private-tooltip-background-color);
        padding-bottom: 6px;
        padding-left: ${Dl};
        padding-right: ${Dl};
        padding-top: ${$l};
    }

    .status-icon {
        display: none;
        width: 14px;
        height: 14px;
        padding-right: 8px;
    }

    :host([severity='error'][icon-visible]) [severity='error'] {
        display: flex;
        flex: 0 0 auto;
    }

    :host([severity='information'][icon-visible]) [severity='information'] {
        display: flex;
        flex: 0 0 auto;
    }
`.withBehaviors(gg(Ho.light,Mt`
            :host([severity='error']) {
                --ni-private-tooltip-border-color: ${Co};
                --ni-private-tooltip-background-color: ${mo};
            }

            :host([severity='information']) {
                --ni-private-tooltip-border-color: ${ro};
                --ni-private-tooltip-background-color: ${mo};
            }
        `),gg(Ho.dark,Mt`
            :host {
                --ni-private-tooltip-border-color: ${el(po,.3)};
                --ni-private-tooltip-background-color: ${go};
            }

            :host([severity='information']) {
                --ni-private-tooltip-border-color: ${oo};
            }

            :host([severity='error']) {
                --ni-private-tooltip-border-color: ${Co};
            }
        `),gg(Ho.color,Mt`
            .anchored-region {
                background-color: ${wo};
            }

            :host {
                --ni-private-tooltip-border-color: ${el(mo,.3)};
                --ni-private-tooltip-background-color: ${el(mo,.15)};
            }

            :host([severity='error']) {
                --ni-private-tooltip-border-color: ${mo};
            }

            :host([severity='information']) {
                --ni-private-tooltip-border-color: ${mo};
            }

            .status-icon {
                opacity: 0.6;
            }
        `)),sP=Q`
            ${Gt((t=>t.tooltipVisible),Q`
            <${pg}
                class="anchored-region"
                fixed-placement="true"
                auto-update-mode="${t=>t.autoUpdateMode}"
                vertical-positioning-mode="${t=>t.verticalPositioningMode}"
                vertical-default-position="${t=>t.verticalDefaultPosition}"
                vertical-inset="${t=>t.verticalInset}"
                vertical-scaling="${t=>t.verticalScaling}"
                horizontal-positioning-mode="${t=>t.horizontalPositioningMode}"
                horizontal-default-position="${t=>t.horizontalDefaultPosition}"
                horizontal-scaling="${t=>t.horizontalScaling}"
                horizontal-inset="${t=>t.horizontalInset}"
                vertical-viewport-lock="${t=>t.horizontalViewportLock}"
                horizontal-viewport-lock="${t=>t.verticalViewportLock}"
                dir="${t=>t.currentDirection}"
                ${Ut("region")}
            >
                <div class="tooltip" part="tooltip" role="tooltip">
                    <${bg}
                        severity="error"
                        class="status-icon"
                    ></${bg}>
                    <${yg}
                        severity="information"
                        class="status-icon"
                    ></${yg}>
                    <slot></slot>
                </div>
            </${pg}>
        `)}
`
class oP extends Bs{constructor(){super(...arguments),this.iconVisible=!1}}t([ft],oP.prototype,"severity",void 0),t([ft({attribute:"icon-visible",mode:"boolean"})],oP.prototype,"iconVisible",void 0)
const rP=oP.compose({baseName:"tooltip",baseClass:Bs,template:sP,styles:iP})
Di.getOrCreate().withPrefix("nimble").register(rP())
const aP="group-selected",lP="all",cP="leaves-only",dP="none"
class hP{constructor(t,e,n){this.ltr=t,this.rtl=e,this.source=n,this.attached=null}handleChange({target:t,token:e}){this.attach(e.getValueFor(t))}attach(t){this.attached!==this[t]&&(null!==this.attached&&this.source.$fastController.removeStyles(this.attached),this.attached=this[t],null!==this.attached&&this.source.$fastController.addStyles(this.attached))}}const uP=Mt`
    ${qs("block")}

    :host {
        ${""}
        font-family: ${Zc};
        font-weight: ${Kc};
        contain: content;
        position: relative;
        outline: none;
        color: ${Wc};
        cursor: pointer;
        --ni-private-tree-item-nested-width: 0;
    }

    :host([disabled]) {
        color: ${Gc};
        cursor: default;
    }

    ${""}
    :host([${aP}])::after {
        background: ${fl};
        border-radius: 0px;
        content: '';
        display: block;
        position: absolute;
        top: 0px;
        width: calc(${Tl} * 2);
        height: calc(${Ol} * 2);
    }

    .positioning-region {
        display: flex;
        position: relative;
        height: calc(${Ol} * 2);
    }

    .positioning-region:hover {
        background: ${al};
    }

    :host([${aP}]) .positioning-region:hover {
        background: ${rl};
    }

    :host(${js}) .positioning-region {
        box-shadow: 0px 0px 0px ${Tl} ${fl} inset;
        outline: ${Tl} solid ${fl};
        outline-offset: -2px;
    }

    :host([selected]) .positioning-region {
        background: ${sl};
    }

    :host([selected]) .positioning-region:hover {
        background: ${rl};
    }

    :host([disabled]) .positioning-region:hover {
        background-color: transparent;
    }

    .positioning-region::before {
        content: '';
        display: block;
        width: var(--ni-private-tree-item-nested-width);
        flex-shrink: 0;
    }

    .content-region {
        display: inline-flex;
        align-items: center;
        white-space: nowrap;
        width: 100%;
        padding-left: 10px;
        font: inherit;
        font-size: ${Yc};
        ${Dm}
        position: relative;
        margin-inline-start: ${Ol};
    }

    :host(${js}) .content-region {
        outline: none;
    }

    .expand-collapse-button {
        background: none;
        border: none;
        outline: none;
        width: ${Ol};
        height: ${Ol};
        padding: 0px;
        justify-content: center;
        align-items: center;
        margin-left: 10px;
        position: absolute;
    }

    .expand-collapse-button svg {
        width: ${Ol};
        height: ${Ol};
        transition: transform ${Kd} ease-in;
        pointer-events: none;
        fill: currentcolor;
    }

    ${""}
    [part="start"] {
        width: ${Ol};
    }

    ${""}
    .start {
        display: flex;
        margin-inline-start: ${Ol};
        margin-inline-end: ${Ol};
    }

    slot[name='start']::slotted(*) {
        ${ml.cssCustomProperty}: currentcolor;
        width: ${Ol};
        height: ${Ol};
    }

    ::slotted([role='treeitem']) {
        --ni-private-tree-item-nested-width: 1em;
        --ni-private-expand-collapse-button-nested-width: calc(
            ${Ol} * -1
        );
    }

    [part='end'] {
        display: none;
    }

    .items {
        display: none;
        ${""}
        font-size: calc(1em + (${Ol} * 2));
    }

    :host([expanded]) .items {
        display: block;
    }
`.withBehaviors(new class{constructor(t,e){this.cache=new WeakMap,this.ltr=t,this.rtl=e}bind(t){this.attach(t)}unbind(t){const e=this.cache.get(t)
e&&Ya.unsubscribe(e)}attach(t){const e=this.cache.get(t)||new hP(this.ltr,this.rtl,t),n=Ya.getValueFor(t)
Ya.subscribe(e),e.attach(n),this.cache.set(t,e)}}(Mt`
            .expand-collapse-button {
                left: var(
                    --ni-private-expand-collapse-button-nested-width,
                    calc(${Ol} * -1)
                );
            }

            .expand-collapse-button svg {
                transform: rotate(90deg);
            }

            :host([expanded]) .expand-collapse-button svg {
                transform: rotate(180deg);
            }
        `,Mt`
            .expand-collapse-button {
                right: var(
                    --ni-private-expand-collapse-button-nested-width,
                    calc(${Ol} * -1)
                );
            }

            .expand-collapse-button svg {
                transform: rotate(180deg);
            }

            :host([expanded]) .expand-collapse-button svg {
                transform: rotate(135deg);
            }
        `))
class pP extends zs{constructor(){super(...arguments),this.groupSelected=!1}}t([ft({attribute:"group-selected",mode:"boolean"})],pP.prototype,"groupSelected",void 0)
const fP=pP.compose({baseName:"tree-item",baseClass:zs,template:(t,e)=>Q`
    <template
        role="treeitem"
        slot="${t=>t.isNestedItem()?"item":void 0}"
        tabindex="-1"
        class="${t=>t.expanded?"expanded":""} ${t=>t.selected?"selected":""} ${t=>t.nested?"nested":""}
            ${t=>t.disabled?"disabled":""}"
        aria-expanded="${t=>t.childItems&&t.childItemLength()>0?t.expanded:void 0}"
        aria-selected="${t=>t.selected}"
        aria-disabled="${t=>t.disabled}"
        @focusin="${(t,e)=>t.handleFocus(e.event)}"
        @focusout="${(t,e)=>t.handleBlur(e.event)}"
        ${oe({property:"childItems",filter:te()})}
    >
        <div class="positioning-region" part="positioning-region">
            <div class="content-region" part="content-region">
                ${Gt((t=>t.childItems&&t.childItemLength()>0),Q`
                        <div
                            aria-hidden="true"
                            class="expand-collapse-button"
                            part="expand-collapse-button"
                            @click="${(t,e)=>t.handleExpandCollapseButtonClick(e.event)}"
                            ${Ut("expandCollapseButton")}
                        >
                            <slot name="expand-collapse-glyph">
                                ${e.expandCollapseGlyph||""}
                            </slot>
                        </div>
                    `)}
                ${le(0,e)}
                <slot></slot>
                ${ae(0,e)}
            </div>
        </div>
        ${Gt((t=>t.childItems&&t.childItemLength()>0&&(t.expanded||t.renderCollapsedChildren)),Q`
                <div role="group" class="items" part="items">
                    <slot name="item" ${ie("items")}></slot>
                </div>
            `)}
    </template>
`,styles:uP,expandCollapseGlyph:Ph.data})
Di.getOrCreate().withPrefix("nimble").register(fP())
const mP=Mt`
    ${qs("flex")}

    :host {
        flex-direction: column;
        align-items: stretch;
        min-width: fit-content;
        font-size: 0;
    }
    :host(${js}) {
        outline: none;
    }
`,gP=Q`
    <template
        role="tree"
        ${Ut("treeView")}
        ${oe({property:"selectedItems",subtree:!0,selector:'[role="treeitem"][selected]',attributeFilter:["role","selected"]})}
        @keydown="${(t,e)=>t.handleKeyDown(e.event)}"
        @focusin="${(t,e)=>t.handleFocus(e.event)}"
        @focusout="${(t,e)=>t.handleBlur(e.event)}"
        @click="${(t,e)=>t.handleClick(e.event)}"
        @selected-change="${(t,e)=>t.handleSelectedChange(e.event)}"
    >
        <slot ${ie("slottedTreeItems")}></slot>
    </template>
`
class vP extends Vs{constructor(){super(...arguments),this.selectionMode=lP,this.selectedItems=[]}handleClick(t){if(t.defaultPrevented)return!1
if(!(t.target instanceof Element&&Ps(t.target)))return!0
const e=t.target
return!e.disabled&&(this.canSelect(e)?e.selected=!0:this.itemHasChildren(e)&&(e.expanded=!e.expanded),!0)}canSelect(t){switch(this.selectionMode){case lP:return!0
case dP:return!1
case cP:return!this.itemHasChildren(t)
default:return!0}}itemHasChildren(t){return null!==t.querySelector('[role="treeitem"]')}selectedItemsChanged(){for(const t of Array.from(this.children))t instanceof pP&&(t.groupSelected=!1)
for(let t of this.selectedItems){for(;null!==t.parentElement&&t.parentElement!==this;)t=t.parentElement
t instanceof pP&&(t.groupSelected=!0)}}}t([ft({attribute:"selection-mode"})],vP.prototype,"selectionMode",void 0),t([C],vP.prototype,"selectedItems",void 0)
const bP=vP.compose({baseName:"tree-view",baseClass:Vs,template:gP,styles:mP})
Di.getOrCreate().withPrefix("nimble").register(bP())
const yP=Q`<template slot="unit"></template>`
class wP{constructor(t,e,n){this.singular=t,this.plural=e,this.symbol=n}}class xP extends bB{constructor(t,{unitTranslations:e,scaledPrefixText:n}){if(super(t),!e.get("en"))throw new Error('English translations must exist with locale string "en"')
this.pluralRules=new Intl.PluralRules(this.locale),this.formatter=new Intl.NumberFormat(this.locale,this.intlNumberFormatOptions),this.unitTranslation=this.getTranslationToUse(e,this.locale),this.scaledPrefixText=n}static createFactory(t){return e=>new xP(e,t)}format(t){const e=this.formatter.format(t)
if(""!==this.scaledPrefixText)return`${e} ${this.scaledPrefixText}${this.unitTranslation.symbol}`
return`${e} ${"one"===this.pluralRules.select(t)?this.unitTranslation.singular:this.unitTranslation.plural}`}getTranslationToUse(t,e){const n=new Intl.Locale(e??"en"),i=n.language,s=n.region
return(s?t.get(`${i}-${s}`):void 0)??t.get(i)??t.get("en")}}const CP=new Map([["en",new wP("byte","bytes","B")],["fr",new wP("octet","octets","o")],["de",new wP("Byte","Byte","B")],["ja",new wP("","","B")],["zh",new wP("","","B")]]),kP=[[1,""],[1024,"Ki"],[1048576,"Mi"],[1024**3,"Gi"],[1024**4,"Ti"],[1024**5,"Pi"]]
const SP=new class extends xB{constructor(){super(kP.map((([t,e])=>new wB(t,xP.createFactory({unitTranslations:CP,scaledPrefixText:e})))))}},_P=[[1,"byte","long"],[1e3,"kilobyte","short"],[1e6,"megabyte","short"],[1e3**3,"gigabyte","short"],[1e3**4,"terabyte","short"],[1e3**5,"petabyte","short"]]
const IP=new class extends xB{constructor(){super(_P.map((([t,e,n])=>new wB(t,yB.createFactory({style:"unit",unit:e,unitDisplay:n})))))}},MP=Mt`
    ${qs("none")}
`
class $P extends DB{constructor(){super(),this.binary=!1,this.resolvedUnitScale=IP}binaryChanged(){this.resolvedUnitScale=this.binary?SP:IP}}t([ft({mode:"boolean"})],$P.prototype,"binary",void 0)
const DP=$P.compose({baseName:"unit-byte",template:yP,styles:MP})
Di.getOrCreate().withPrefix("nimble").register(DP())
const EP=[[1e-15,"f"],[1e-12,"p"],[1e-9,"n"],[10**-6,""],[.001,"m"],[.01,"c"],[.1,"d"],[1,""],[1e3,"k"],[10**6,"M"],[10**9,"G"],[10**12,"T"],[10**15,"P"],[10**18,"E"]],AP=new Map([["en",new wP("volt","volts","V")],["fr",new wP("volt","volts","V")],["de",new wP("Volt","Volt","V")],["ja",new wP("","","V")],["zh",new wP("","","V")]])
const TP=new class extends xB{constructor(){super(EP.map((([t,e])=>new wB(t,xP.createFactory({unitTranslations:AP,scaledPrefixText:e})))))}}
const OP=class extends DB{constructor(){super(),this.resolvedUnitScale=TP}}.compose({baseName:"unit-volt",template:yP,styles:MP})
Di.getOrCreate().withPrefix("nimble").register(OP())
var RP={value:()=>{}}
function FP(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t)
i[t]=[]}return new NP(i)}function NP(t){this._=t}function LP(t,e){for(var n,i=0,s=t.length;i<s;++i)if((n=t[i]).name===e)return n.value}function BP(t,e,n){for(var i=0,s=t.length;i<s;++i)if(t[i].name===e){t[i]=RP,t=t.slice(0,i).concat(t.slice(i+1))
break}return null!=n&&t.push({name:e,value:n}),t}NP.prototype=FP.prototype={constructor:NP,on:function(t,e){var n,i,s=this._,o=(i=s,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".")
if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t)
return{type:t,name:e}}))),r=-1,a=o.length
if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e)
for(;++r<a;)if(n=(t=o[r]).type)s[n]=BP(s[n],t.name,e)
else if(null==e)for(n in s)s[n]=BP(s[n],t.name,null)
return this}for(;++r<a;)if((n=(t=o[r]).type)&&(n=LP(s[n],t.name)))return n},copy:function(){var t={},e=this._
for(var n in e)t[n]=e[n].slice()
return new NP(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,s=new Array(n),o=0;o<n;++o)s[o]=arguments[o+2]
if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t)
for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,s)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t)
for(var i=this._[t],s=0,o=i.length;s<o;++s)i[s].value.apply(e,n)}}
var PP="http://www.w3.org/1999/xhtml",zP={svg:"http://www.w3.org/2000/svg",xhtml:PP,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}
function VP(t){var e=t+="",n=e.indexOf(":")
return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),zP.hasOwnProperty(e)?{space:zP[e],local:t}:t}function HP(t){return function(){var e=this.ownerDocument,n=this.namespaceURI
return n===PP&&e.documentElement.namespaceURI===PP?e.createElement(t):e.createElementNS(n,t)}}function UP(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function qP(t){var e=VP(t)
return(e.local?UP:HP)(e)}function jP(){}function WP(t){return null==t?jP:function(){return this.querySelector(t)}}function GP(){return[]}function ZP(t){return null==t?GP:function(){return this.querySelectorAll(t)}}function KP(t){return function(){return null==(e=t.apply(this,arguments))?[]:Array.isArray(e)?e:Array.from(e)
var e}}function YP(t){return function(){return this.matches(t)}}function XP(t){return function(e){return e.matches(t)}}var JP=Array.prototype.find
function QP(){return this.firstElementChild}var tz=Array.prototype.filter
function ez(){return Array.from(this.children)}function nz(t){return new Array(t.length)}function iz(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function sz(t,e,n,i,s,o){for(var r,a=0,l=e.length,c=o.length;a<c;++a)(r=e[a])?(r.__data__=o[a],i[a]=r):n[a]=new iz(t,o[a])
for(;a<l;++a)(r=e[a])&&(s[a]=r)}function oz(t,e,n,i,s,o,r){var a,l,c,d=new Map,h=e.length,u=o.length,p=new Array(h)
for(a=0;a<h;++a)(l=e[a])&&(p[a]=c=r.call(l,l.__data__,a,e)+"",d.has(c)?s[a]=l:d.set(c,l))
for(a=0;a<u;++a)c=r.call(t,o[a],a,o)+"",(l=d.get(c))?(i[a]=l,l.__data__=o[a],d.delete(c)):n[a]=new iz(t,o[a])
for(a=0;a<h;++a)(l=e[a])&&d.get(p[a])===l&&(s[a]=l)}function rz(t){return t.__data__}function az(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function lz(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function cz(t){return function(){this.removeAttribute(t)}}function dz(t){return function(){this.removeAttributeNS(t.space,t.local)}}function hz(t,e){return function(){this.setAttribute(t,e)}}function uz(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function pz(t,e){return function(){var n=e.apply(this,arguments)
null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function fz(t,e){return function(){var n=e.apply(this,arguments)
null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function mz(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function gz(t){return function(){this.style.removeProperty(t)}}function vz(t,e,n){return function(){this.style.setProperty(t,e,n)}}function bz(t,e,n){return function(){var i=e.apply(this,arguments)
null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function yz(t,e){return t.style.getPropertyValue(e)||mz(t).getComputedStyle(t,null).getPropertyValue(e)}function wz(t){return function(){delete this[t]}}function xz(t,e){return function(){this[t]=e}}function Cz(t,e){return function(){var n=e.apply(this,arguments)
null==n?delete this[t]:this[t]=n}}function kz(t){return t.trim().split(/^|\s+/)}function Sz(t){return t.classList||new _z(t)}function _z(t){this._node=t,this._names=kz(t.getAttribute("class")||"")}function Iz(t,e){for(var n=Sz(t),i=-1,s=e.length;++i<s;)n.add(e[i])}function Mz(t,e){for(var n=Sz(t),i=-1,s=e.length;++i<s;)n.remove(e[i])}function $z(t){return function(){Iz(this,t)}}function Dz(t){return function(){Mz(this,t)}}function Ez(t,e){return function(){(e.apply(this,arguments)?Iz:Mz)(this,t)}}function Az(){this.textContent=""}function Tz(t){return function(){this.textContent=t}}function Oz(t){return function(){var e=t.apply(this,arguments)
this.textContent=null==e?"":e}}function Rz(){this.innerHTML=""}function Fz(t){return function(){this.innerHTML=t}}function Nz(t){return function(){var e=t.apply(this,arguments)
this.innerHTML=null==e?"":e}}function Lz(){this.nextSibling&&this.parentNode.appendChild(this)}function Bz(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Pz(){return null}function zz(){var t=this.parentNode
t&&t.removeChild(this)}function Vz(){var t=this.cloneNode(!1),e=this.parentNode
return e?e.insertBefore(t,this.nextSibling):t}function Hz(){var t=this.cloneNode(!0),e=this.parentNode
return e?e.insertBefore(t,this.nextSibling):t}function Uz(t){return function(){var e=this.__on
if(e){for(var n,i=0,s=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++s]=n:this.removeEventListener(n.type,n.listener,n.options);++s?e.length=s:delete this.__on}}}function qz(t,e,n){return function(){var i,s=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e)
if(s)for(var r=0,a=s.length;r<a;++r)if((i=s[r]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),void(i.value=e)
this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},s?s.push(i):this.__on=[i]}}function jz(t,e,n){var i=mz(t),s=i.CustomEvent
"function"==typeof s?s=new s(e,n):(s=i.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function Wz(t,e){return function(){return jz(this,t,e)}}function Gz(t,e){return function(){return jz(this,t,e.apply(this,arguments))}}iz.prototype={constructor:iz,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},_z.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t)
e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}}
var Zz=[null]
function Kz(t,e){this._groups=t,this._parents=e}function Yz(){return new Kz([[document.documentElement]],Zz)}function Xz(t){return"string"==typeof t?new Kz([[document.querySelector(t)]],[document.documentElement]):new Kz([[t]],Zz)}function Jz(t,e){if(t=function(t){let e
for(;e=t.sourceEvent;)t=e
return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e
if(n.createSVGPoint){var i=n.createSVGPoint()
return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect()
return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}Kz.prototype=Yz.prototype={constructor:Kz,select:function(t){"function"!=typeof t&&(t=WP(t))
for(var e=this._groups,n=e.length,i=new Array(n),s=0;s<n;++s)for(var o,r,a=e[s],l=a.length,c=i[s]=new Array(l),d=0;d<l;++d)(o=a[d])&&(r=t.call(o,o.__data__,d,a))&&("__data__"in o&&(r.__data__=o.__data__),c[d]=r)
return new Kz(i,this._parents)},selectAll:function(t){t="function"==typeof t?KP(t):ZP(t)
for(var e=this._groups,n=e.length,i=[],s=[],o=0;o<n;++o)for(var r,a=e[o],l=a.length,c=0;c<l;++c)(r=a[c])&&(i.push(t.call(r,r.__data__,c,a)),s.push(r))
return new Kz(i,s)},selectChild:function(t){return this.select(null==t?QP:function(t){return function(){return JP.call(this.children,t)}}("function"==typeof t?t:XP(t)))},selectChildren:function(t){return this.selectAll(null==t?ez:function(t){return function(){return tz.call(this.children,t)}}("function"==typeof t?t:XP(t)))},filter:function(t){"function"!=typeof t&&(t=YP(t))
for(var e=this._groups,n=e.length,i=new Array(n),s=0;s<n;++s)for(var o,r=e[s],a=r.length,l=i[s]=[],c=0;c<a;++c)(o=r[c])&&t.call(o,o.__data__,c,r)&&l.push(o)
return new Kz(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,rz)
var n,i=e?oz:sz,s=this._parents,o=this._groups
"function"!=typeof t&&(n=t,t=function(){return n})
for(var r=o.length,a=new Array(r),l=new Array(r),c=new Array(r),d=0;d<r;++d){var h=s[d],u=o[d],p=u.length,f=az(t.call(h,h&&h.__data__,d,s)),m=f.length,g=l[d]=new Array(m),v=a[d]=new Array(m)
i(h,u,g,v,c[d]=new Array(p),f,e)
for(var b,y,w=0,x=0;w<m;++w)if(b=g[w]){for(w>=x&&(x=w+1);!(y=v[x])&&++x<m;);b._next=y||null}}return(a=new Kz(a,s))._enter=l,a._exit=c,a},enter:function(){return new Kz(this._enter||this._groups.map(nz),this._parents)},exit:function(){return new Kz(this._exit||this._groups.map(nz),this._parents)},join:function(t,e,n){var i=this.enter(),s=this,o=this.exit()
return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(s=e(s))&&(s=s.selection()),null==n?o.remove():n(o),i&&s?i.merge(s).order():s},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,s=n.length,o=i.length,r=Math.min(s,o),a=new Array(s),l=0;l<r;++l)for(var c,d=n[l],h=i[l],u=d.length,p=a[l]=new Array(u),f=0;f<u;++f)(c=d[f]||h[f])&&(p[f]=c)
for(;l<s;++l)a[l]=n[l]
return new Kz(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,s=t[e],o=s.length-1,r=s[o];--o>=0;)(i=s[o])&&(r&&4^i.compareDocumentPosition(r)&&r.parentNode.insertBefore(i,r),r=i)
return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=lz)
for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o){for(var r,a=n[o],l=a.length,c=s[o]=new Array(l),d=0;d<l;++d)(r=a[d])&&(c[d]=r)
c.sort(e)}return new Kz(s,this._parents).order()},call:function(){var t=arguments[0]
return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],s=0,o=i.length;s<o;++s){var r=i[s]
if(r)return r}return null},size:function(){let t=0
for(const e of this)++t
return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var s,o=e[n],r=0,a=o.length;r<a;++r)(s=o[r])&&t.call(s,s.__data__,r,o)
return this},attr:function(t,e){var n=VP(t)
if(arguments.length<2){var i=this.node()
return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?dz:cz:"function"==typeof e?n.local?fz:pz:n.local?uz:hz)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?gz:"function"==typeof e?bz:vz)(t,e,null==n?"":n)):yz(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?wz:"function"==typeof e?Cz:xz)(t,e)):this.node()[t]},classed:function(t,e){var n=kz(t+"")
if(arguments.length<2){for(var i=Sz(this.node()),s=-1,o=n.length;++s<o;)if(!i.contains(n[s]))return!1
return!0}return this.each(("function"==typeof e?Ez:e?$z:Dz)(n,e))},text:function(t){return arguments.length?this.each(null==t?Az:("function"==typeof t?Oz:Tz)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Rz:("function"==typeof t?Nz:Fz)(t)):this.node().innerHTML},raise:function(){return this.each(Lz)},lower:function(){return this.each(Bz)},append:function(t){var e="function"==typeof t?t:qP(t)
return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:qP(t),i=null==e?Pz:"function"==typeof e?e:WP(e)
return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(zz)},clone:function(t){return this.select(t?Hz:Vz)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,s,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".")
return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),r=o.length
if(!(arguments.length<2)){for(a=e?qz:Uz,i=0;i<r;++i)this.each(a(o[i],e,n))
return this}var a=this.node().__on
if(a)for(var l,c=0,d=a.length;c<d;++c)for(i=0,l=a[c];i<r;++i)if((s=o[i]).type===l.type&&s.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Gz:Wz)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,s=t[e],o=0,r=s.length;o<r;++o)(i=s[o])&&(yield i)}}
const Qz={capture:!0,passive:!1}
function tV(t){t.preventDefault(),t.stopImmediatePropagation()}function eV(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function nV(t,e){var n=Object.create(t.prototype)
for(var i in e)n[i]=e[i]
return n}function iV(){}var sV=.7,oV=1/sV,rV="\\s*([+-]?\\d+)\\s*",aV="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",lV="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cV=/^#([0-9a-f]{3,8})$/,dV=new RegExp(`^rgb\\(${rV},${rV},${rV}\\)$`),hV=new RegExp(`^rgb\\(${lV},${lV},${lV}\\)$`),uV=new RegExp(`^rgba\\(${rV},${rV},${rV},${aV}\\)$`),pV=new RegExp(`^rgba\\(${lV},${lV},${lV},${aV}\\)$`),fV=new RegExp(`^hsl\\(${aV},${lV},${lV}\\)$`),mV=new RegExp(`^hsla\\(${aV},${lV},${lV},${aV}\\)$`),gV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074}
function vV(){return this.rgb().formatHex()}function bV(){return this.rgb().formatRgb()}function yV(t){var e,n
return t=(t+"").trim().toLowerCase(),(e=cV.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?wV(e):3===n?new kV(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?xV(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?xV(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=dV.exec(t))?new kV(e[1],e[2],e[3],1):(e=hV.exec(t))?new kV(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=uV.exec(t))?xV(e[1],e[2],e[3],e[4]):(e=pV.exec(t))?xV(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=fV.exec(t))?DV(e[1],e[2]/100,e[3]/100,1):(e=mV.exec(t))?DV(e[1],e[2]/100,e[3]/100,e[4]):gV.hasOwnProperty(t)?wV(gV[t]):"transparent"===t?new kV(NaN,NaN,NaN,0):null}function wV(t){return new kV(t>>16&255,t>>8&255,255&t,1)}function xV(t,e,n,i){return i<=0&&(t=e=n=NaN),new kV(t,e,n,i)}function CV(t,e,n,i){return 1===arguments.length?((s=t)instanceof iV||(s=yV(s)),s?new kV((s=s.rgb()).r,s.g,s.b,s.opacity):new kV):new kV(t,e,n,null==i?1:i)
var s}function kV(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function SV(){return`#${$V(this.r)}${$V(this.g)}${$V(this.b)}`}function _V(){const t=IV(this.opacity)
return`${1===t?"rgb(":"rgba("}${MV(this.r)}, ${MV(this.g)}, ${MV(this.b)}${1===t?")":`, ${t})`}`}function IV(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function MV(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $V(t){return((t=MV(t))<16?"0":"")+t.toString(16)}function DV(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new AV(t,e,n,i)}function EV(t){if(t instanceof AV)return new AV(t.h,t.s,t.l,t.opacity)
if(t instanceof iV||(t=yV(t)),!t)return new AV
if(t instanceof AV)return t
var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,s=Math.min(e,n,i),o=Math.max(e,n,i),r=NaN,a=o-s,l=(o+s)/2
return a?(r=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=l<.5?o+s:2-o-s,r*=60):a=l>0&&l<1?0:r,new AV(r,a,l,t.opacity)}function AV(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function TV(t){return(t=(t||0)%360)<0?t+360:t}function OV(t){return Math.max(0,Math.min(1,t||0))}function RV(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}eV(iV,yV,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vV,formatHex:vV,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return EV(this).formatHsl()},formatRgb:bV,toString:bV}),eV(kV,CV,nV(iV,{brighter(t){return t=null==t?oV:Math.pow(oV,t),new kV(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?sV:Math.pow(sV,t),new kV(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new kV(MV(this.r),MV(this.g),MV(this.b),IV(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SV,formatHex:SV,formatHex8:function(){return`#${$V(this.r)}${$V(this.g)}${$V(this.b)}${$V(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:_V,toString:_V})),eV(AV,(function(t,e,n,i){return 1===arguments.length?EV(t):new AV(t,e,n,null==i?1:i)}),nV(iV,{brighter(t){return t=null==t?oV:Math.pow(oV,t),new AV(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?sV:Math.pow(sV,t),new AV(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,s=2*n-i
return new kV(RV(t>=240?t-240:t+120,s,i),RV(t,s,i),RV(t<120?t+240:t-120,s,i),this.opacity)},clamp(){return new AV(TV(this.h),OV(this.s),OV(this.l),IV(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=IV(this.opacity)
return`${1===t?"hsl(":"hsla("}${TV(this.h)}, ${100*OV(this.s)}%, ${100*OV(this.l)}%${1===t?")":`, ${t})`}`}}))
var FV=t=>()=>t
function NV(t){return 1==(t=+t)?LV:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):FV(isNaN(e)?n:e)}}function LV(t,e){var n=e-t
return n?function(t,e){return function(n){return t+n*e}}(t,n):FV(isNaN(t)?e:t)}var BV=function t(e){var n=NV(e)
function i(t,e){var i=n((t=CV(t)).r,(e=CV(e)).r),s=n(t.g,e.g),o=n(t.b,e.b),r=LV(t.opacity,e.opacity)
return function(e){return t.r=i(e),t.g=s(e),t.b=o(e),t.opacity=r(e),t+""}}return i.gamma=t,i}(1)
function PV(t,e){e||(e=[])
var n,i=t?Math.min(e.length,t.length):0,s=e.slice()
return function(o){for(n=0;n<i;++n)s[n]=t[n]*(1-o)+e[n]*o
return s}}function zV(t,e){var n,i=e?e.length:0,s=t?Math.min(i,t.length):0,o=new Array(s),r=new Array(i)
for(n=0;n<s;++n)o[n]=GV(t[n],e[n])
for(;n<i;++n)r[n]=e[n]
return function(t){for(n=0;n<s;++n)r[n]=o[n](t)
return r}}function VV(t,e){var n=new Date
return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function HV(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function UV(t,e){var n,i={},s={}
for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=GV(t[n],e[n]):s[n]=e[n]
return function(t){for(n in i)s[n]=i[n](t)
return s}}var qV=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jV=new RegExp(qV.source,"g")
function WV(t,e){var n,i,s,o=qV.lastIndex=jV.lastIndex=0,r=-1,a=[],l=[]
for(t+="",e+="";(n=qV.exec(t))&&(i=jV.exec(e));)(s=i.index)>o&&(s=e.slice(o,s),a[r]?a[r]+=s:a[++r]=s),(n=n[0])===(i=i[0])?a[r]?a[r]+=i:a[++r]=i:(a[++r]=null,l.push({i:r,x:HV(n,i)})),o=jV.lastIndex
return o<e.length&&(s=e.slice(o),a[r]?a[r]+=s:a[++r]=s),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)a[(n=l[i]).i]=n.x(t)
return a.join("")})}function GV(t,e){var n,i,s=typeof e
return null==e||"boolean"===s?FV(e):("number"===s?HV:"string"===s?(n=yV(e))?(e=n,BV):WV:e instanceof yV?BV:e instanceof Date?VV:(i=e,!ArrayBuffer.isView(i)||i instanceof DataView?Array.isArray(e)?zV:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?UV:HV:PV))(t,e)}function ZV(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var KV,YV=180/Math.PI,XV={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}
function JV(t,e,n,i,s,o){var r,a,l
return(r=Math.sqrt(t*t+e*e))&&(t/=r,e/=r),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),t*i<e*n&&(t=-t,e=-e,l=-l,r=-r),{translateX:s,translateY:o,rotate:Math.atan2(e,t)*YV,skewX:Math.atan(l)*YV,scaleX:r,scaleY:a}}function QV(t,e,n,i){function s(t){return t.length?t.pop()+" ":""}return function(o,r){var a=[],l=[]
return o=t(o),r=t(r),function(t,i,s,o,r,a){if(t!==s||i!==o){var l=r.push("translate(",null,e,null,n)
a.push({i:l-4,x:HV(t,s)},{i:l-2,x:HV(i,o)})}else(s||o)&&r.push("translate("+s+e+o+n)}(o.translateX,o.translateY,r.translateX,r.translateY,a,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(s(n)+"rotate(",null,i)-2,x:HV(t,e)})):e&&n.push(s(n)+"rotate("+e+i)}(o.rotate,r.rotate,a,l),function(t,e,n,o){t!==e?o.push({i:n.push(s(n)+"skewX(",null,i)-2,x:HV(t,e)}):e&&n.push(s(n)+"skewX("+e+i)}(o.skewX,r.skewX,a,l),function(t,e,n,i,o,r){if(t!==n||e!==i){var a=o.push(s(o)+"scale(",null,",",null,")")
r.push({i:a-4,x:HV(t,n)},{i:a-2,x:HV(e,i)})}else 1===n&&1===i||o.push(s(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,r.scaleX,r.scaleY,a,l),o=r=null,function(t){for(var e,n=-1,i=l.length;++n<i;)a[(e=l[n]).i]=e.x(t)
return a.join("")}}}var tH=QV((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"")
return e.isIdentity?XV:JV(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),eH=QV((function(t){return null==t?XV:(KV||(KV=document.createElementNS("http://www.w3.org/2000/svg","g")),KV.setAttribute("transform",t),(t=KV.transform.baseVal.consolidate())?JV((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):XV)}),", ",")",")")
function nH(t){return((t=Math.exp(t))+1/t)/2}var iH,sH,oH=function t(e,n,i){function s(t,s){var o,r,a=t[0],l=t[1],c=t[2],d=s[0],h=s[1],u=s[2],p=d-a,f=h-l,m=p*p+f*f
if(m<1e-12)r=Math.log(u/c)/e,o=function(t){return[a+t*p,l+t*f,c*Math.exp(e*t*r)]}
else{var g=Math.sqrt(m),v=(u*u-c*c+i*m)/(2*c*n*g),b=(u*u-c*c-i*m)/(2*u*n*g),y=Math.log(Math.sqrt(v*v+1)-v),w=Math.log(Math.sqrt(b*b+1)-b)
r=(w-y)/e,o=function(t){var i,s=t*r,o=nH(y),d=c/(n*g)*(o*(i=e*s+y,((i=Math.exp(2*i))-1)/(i+1))-function(t){return((t=Math.exp(t))-1/t)/2}(y))
return[a+d*p,l+d*f,c*o/nH(e*s+y)]}}return o.duration=1e3*r*e/Math.SQRT2,o}return s.rho=function(e){var n=Math.max(.001,+e),i=n*n
return t(n,i,i*i)},s}(Math.SQRT2,2,4),rH=0,aH=0,lH=0,cH=1e3,dH=0,hH=0,uH=0,pH="object"==typeof performance&&performance.now?performance:Date,fH="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)}
function mH(){return hH||(fH(gH),hH=pH.now()+uH)}function gH(){hH=0}function vH(){this._call=this._time=this._next=null}function bH(t,e,n){var i=new vH
return i.restart(t,e,n),i}function yH(){hH=(dH=pH.now())+uH,rH=aH=0
try{!function(){mH(),++rH
for(var t,e=iH;e;)(t=hH-e._time)>=0&&e._call.call(void 0,t),e=e._next;--rH}()}finally{rH=0,function(){var t,e,n=iH,i=1/0
for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:iH=e)
sH=t,xH(i)}(),hH=0}}function wH(){var t=pH.now(),e=t-dH
e>cH&&(uH-=e,dH=t)}function xH(t){rH||(aH&&(aH=clearTimeout(aH)),t-hH>24?(t<1/0&&(aH=setTimeout(yH,t-pH.now()-uH)),lH&&(lH=clearInterval(lH))):(lH||(dH=pH.now(),lH=setInterval(wH,cH)),rH=1,fH(yH)))}function CH(t,e,n){var i=new vH
return e=null==e?0:+e,i.restart((n=>{i.stop(),t(n+e)}),e,n),i}vH.prototype=bH.prototype={constructor:vH,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function")
n=(null==n?mH():+n)+(null==e?0:+e),this._next||sH===this||(sH?sH._next=this:iH=this,sH=this),this._call=t,this._time=n,xH()},stop:function(){this._call&&(this._call=null,this._time=1/0,xH())}}
var kH=FP("start","end","cancel","interrupt"),SH=[],_H=0,IH=1,MH=2,$H=3,DH=4,EH=5,AH=6
function TH(t,e,n,i,s,o){var r=t.__transition
if(r){if(n in r)return}else t.__transition={}
!function(t,e,n){var i,s=t.__transition
function o(t){n.state=IH,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)}function r(o){var c,d,h,u
if(n.state!==IH)return l()
for(c in s)if((u=s[c]).name===n.name){if(u.state===$H)return CH(r)
u.state===DH?(u.state=AH,u.timer.stop(),u.on.call("interrupt",t,t.__data__,u.index,u.group),delete s[c]):+c<e&&(u.state=AH,u.timer.stop(),u.on.call("cancel",t,t.__data__,u.index,u.group),delete s[c])}if(CH((function(){n.state===$H&&(n.state=DH,n.timer.restart(a,n.delay,n.time),a(o))})),n.state=MH,n.on.call("start",t,t.__data__,n.index,n.group),n.state===MH){for(n.state=$H,i=new Array(h=n.tween.length),c=0,d=-1;c<h;++c)(u=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=u)
i.length=d+1}}function a(e){for(var s=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=EH,1),o=-1,r=i.length;++o<r;)i[o].call(t,s)
n.state===EH&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var i in n.state=AH,n.timer.stop(),delete s[e],s)return
delete t.__transition}s[e]=n,n.timer=bH(o,0,n.time)}(t,n,{name:e,index:i,group:s,on:kH,tween:SH,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:_H})}function OH(t,e){var n=FH(t,e)
if(n.state>_H)throw new Error("too late; already scheduled")
return n}function RH(t,e){var n=FH(t,e)
if(n.state>$H)throw new Error("too late; already running")
return n}function FH(t,e){var n=t.__transition
if(!n||!(n=n[e]))throw new Error("transition not found")
return n}function NH(t,e){var n,i,s,o=t.__transition,r=!0
if(o){for(s in e=null==e?null:e+"",o)(n=o[s]).name===e?(i=n.state>MH&&n.state<EH,n.state=AH,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[s]):r=!1
r&&delete t.__transition}}function LH(t,e){var n,i
return function(){var s=RH(this,t),o=s.tween
if(o!==n)for(var r=0,a=(i=n=o).length;r<a;++r)if(i[r].name===e){(i=i.slice()).splice(r,1)
break}s.tween=i}}function BH(t,e,n){var i,s
if("function"!=typeof n)throw new Error
return function(){var o=RH(this,t),r=o.tween
if(r!==i){s=(i=r).slice()
for(var a={name:e,value:n},l=0,c=s.length;l<c;++l)if(s[l].name===e){s[l]=a
break}l===c&&s.push(a)}o.tween=s}}function PH(t,e,n){var i=t._id
return t.each((function(){var t=RH(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return FH(t,i).value[e]}}function zH(t,e){var n
return("number"==typeof e?HV:e instanceof yV?BV:(n=yV(e))?(e=n,BV):WV)(t,e)}function VH(t){return function(){this.removeAttribute(t)}}function HH(t){return function(){this.removeAttributeNS(t.space,t.local)}}function UH(t,e,n){var i,s,o=n+""
return function(){var r=this.getAttribute(t)
return r===o?null:r===i?s:s=e(i=r,n)}}function qH(t,e,n){var i,s,o=n+""
return function(){var r=this.getAttributeNS(t.space,t.local)
return r===o?null:r===i?s:s=e(i=r,n)}}function jH(t,e,n){var i,s,o
return function(){var r,a,l=n(this)
if(null!=l)return(r=this.getAttribute(t))===(a=l+"")?null:r===i&&a===s?o:(s=a,o=e(i=r,l))
this.removeAttribute(t)}}function WH(t,e,n){var i,s,o
return function(){var r,a,l=n(this)
if(null!=l)return(r=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:r===i&&a===s?o:(s=a,o=e(i=r,l))
this.removeAttributeNS(t.space,t.local)}}function GH(t,e){var n,i
function s(){var s=e.apply(this,arguments)
return s!==i&&(n=(i=s)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,s)),n}return s._value=e,s}function ZH(t,e){var n,i
function s(){var s=e.apply(this,arguments)
return s!==i&&(n=(i=s)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,s)),n}return s._value=e,s}function KH(t,e){return function(){OH(this,t).delay=+e.apply(this,arguments)}}function YH(t,e){return e=+e,function(){OH(this,t).delay=e}}function XH(t,e){return function(){RH(this,t).duration=+e.apply(this,arguments)}}function JH(t,e){return e=+e,function(){RH(this,t).duration=e}}var QH=Yz.prototype.constructor
function tU(t){return function(){this.style.removeProperty(t)}}var eU=0
function nU(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function iU(){return++eU}var sU=Yz.prototype
nU.prototype={constructor:nU,select:function(t){var e=this._name,n=this._id
"function"!=typeof t&&(t=WP(t))
for(var i=this._groups,s=i.length,o=new Array(s),r=0;r<s;++r)for(var a,l,c=i[r],d=c.length,h=o[r]=new Array(d),u=0;u<d;++u)(a=c[u])&&(l=t.call(a,a.__data__,u,c))&&("__data__"in a&&(l.__data__=a.__data__),h[u]=l,TH(h[u],e,n,u,h,FH(a,n)))
return new nU(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id
"function"!=typeof t&&(t=ZP(t))
for(var i=this._groups,s=i.length,o=[],r=[],a=0;a<s;++a)for(var l,c=i[a],d=c.length,h=0;h<d;++h)if(l=c[h]){for(var u,p=t.call(l,l.__data__,h,c),f=FH(l,n),m=0,g=p.length;m<g;++m)(u=p[m])&&TH(u,e,n,m,p,f)
o.push(p),r.push(l)}return new nU(o,r,e,n)},selectChild:sU.selectChild,selectChildren:sU.selectChildren,filter:function(t){"function"!=typeof t&&(t=YP(t))
for(var e=this._groups,n=e.length,i=new Array(n),s=0;s<n;++s)for(var o,r=e[s],a=r.length,l=i[s]=[],c=0;c<a;++c)(o=r[c])&&t.call(o,o.__data__,c,r)&&l.push(o)
return new nU(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error
for(var e=this._groups,n=t._groups,i=e.length,s=n.length,o=Math.min(i,s),r=new Array(i),a=0;a<o;++a)for(var l,c=e[a],d=n[a],h=c.length,u=r[a]=new Array(h),p=0;p<h;++p)(l=c[p]||d[p])&&(u[p]=l)
for(;a<i;++a)r[a]=e[a]
return new nU(r,this._parents,this._name,this._id)},selection:function(){return new QH(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=iU(),i=this._groups,s=i.length,o=0;o<s;++o)for(var r,a=i[o],l=a.length,c=0;c<l;++c)if(r=a[c]){var d=FH(r,e)
TH(r,t,n,c,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new nU(i,this._parents,t,n)},call:sU.call,nodes:sU.nodes,node:sU.node,size:sU.size,empty:sU.empty,each:sU.each,on:function(t,e){var n=this._id
return arguments.length<2?FH(this.node(),n).on.on(t):this.each(function(t,e,n){var i,s,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".")
return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?OH:RH
return function(){var r=o(this,t),a=r.on
a!==i&&(s=(i=a).copy()).on(e,n),r.on=s}}(n,t,e))},attr:function(t,e){var n=VP(t),i="transform"===n?eH:zH
return this.attrTween(t,"function"==typeof e?(n.local?WH:jH)(n,i,PH(this,"attr."+t,e)):null==e?(n.local?HH:VH)(n):(n.local?qH:UH)(n,i,e))},attrTween:function(t,e){var n="attr."+t
if(arguments.length<2)return(n=this.tween(n))&&n._value
if(null==e)return this.tween(n,null)
if("function"!=typeof e)throw new Error
var i=VP(t)
return this.tween(n,(i.local?GH:ZH)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?tH:zH
return null==e?this.styleTween(t,function(t,e){var n,i,s
return function(){var o=yz(this,t),r=(this.style.removeProperty(t),yz(this,t))
return o===r?null:o===n&&r===i?s:s=e(n=o,i=r)}}(t,i)).on("end.style."+t,tU(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,s,o
return function(){var r=yz(this,t),a=n(this),l=a+""
return null==a&&(this.style.removeProperty(t),l=a=yz(this,t)),r===l?null:r===i&&l===s?o:(s=l,o=e(i=r,a))}}(t,i,PH(this,"style."+t,e))).each(function(t,e){var n,i,s,o,r="style."+e,a="end."+r
return function(){var l=RH(this,t),c=l.on,d=null==l.value[r]?o||(o=tU(e)):void 0
c===n&&s===d||(i=(n=c).copy()).on(a,s=d),l.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,s,o=n+""
return function(){var r=yz(this,t)
return r===o?null:r===i?s:s=e(i=r,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="")
if(arguments.length<2)return(i=this.tween(i))&&i._value
if(null==e)return this.tween(i,null)
if("function"!=typeof e)throw new Error
return this.tween(i,function(t,e,n){var i,s
function o(){var o=e.apply(this,arguments)
return o!==s&&(i=(s=o)&&function(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}(t,o,n)),i}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this)
this.textContent=null==e?"":e}}(PH(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text"
if(arguments.length<1)return(e=this.tween(e))&&e._value
if(null==t)return this.tween(e,null)
if("function"!=typeof t)throw new Error
return this.tween(e,function(t){var e,n
function i(){var i=t.apply(this,arguments)
return i!==n&&(e=(n=i)&&function(t){return function(e){this.textContent=t.call(this,e)}}(i)),e}return i._value=t,i}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode
for(var n in this.__transition)if(+n!==t)return
e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id
if(t+="",arguments.length<2){for(var i,s=FH(this.node(),n).tween,o=0,r=s.length;o<r;++o)if((i=s[o]).name===t)return i.value
return null}return this.each((null==e?LH:BH)(n,t,e))},delay:function(t){var e=this._id
return arguments.length?this.each(("function"==typeof t?KH:YH)(e,t)):FH(this.node(),e).delay},duration:function(t){var e=this._id
return arguments.length?this.each(("function"==typeof t?XH:JH)(e,t)):FH(this.node(),e).duration},ease:function(t){var e=this._id
return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error
return function(){RH(this,t).ease=e}}(e,t)):FH(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error
return this.each(function(t,e){return function(){var n=e.apply(this,arguments)
if("function"!=typeof n)throw new Error
RH(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,i=n._id,s=n.size()
return new Promise((function(o,r){var a={value:r},l={value:function(){0==--s&&o()}}
n.each((function(){var n=RH(this,i),s=n.on
s!==t&&((e=(t=s).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),n.on=e})),0===s&&o()}))},[Symbol.iterator]:sU[Symbol.iterator]}
var oU={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}}
function rU(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`)
return n}Yz.prototype.interrupt=function(t){return this.each((function(){NH(this,t)}))},Yz.prototype.transition=function(t){var e,n
t instanceof nU?(e=t._id,t=t._name):(e=iU(),(n=oU).time=mH(),t=null==t?null:t+"")
for(var i=this._groups,s=i.length,o=0;o<s;++o)for(var r,a=i[o],l=a.length,c=0;c<l;++c)(r=a[c])&&TH(r,t,e,c,a,n||rU(r,e))
return new nU(i,this._parents,t,e)}
var aU=t=>()=>t
function lU(t,{sourceEvent:e,target:n,transform:i,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function cU(t,e,n){this.k=t,this.x=e,this.y=n}cU.prototype={constructor:cU,scale:function(t){return 1===t?this:new cU(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new cU(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}}
var dU=new cU(1,0,0)
function hU(t){t.stopImmediatePropagation()}function uU(t){t.preventDefault(),t.stopImmediatePropagation()}function pU(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function fU(){var t=this
return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function mU(){return this.__zoom||dU}function gU(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function vU(){return navigator.maxTouchPoints||"ontouchstart"in this}function bU(t,e,n){var i=t.invertX(e[0][0])-n[0][0],s=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],r=t.invertY(e[1][1])-n[1][1]
return t.translate(s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s),r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r))}function yU(){var t,e,n,i=pU,s=fU,o=bU,r=gU,a=vU,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],d=250,h=oH,u=FP("start","zoom","end"),p=500,f=150,m=0,g=10
function v(t){t.property("__zoom",mU).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",_).on("dblclick.zoom",I).filter(a).on("touchstart.zoom",M).on("touchmove.zoom",$).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(t,e){return(e=Math.max(l[0],Math.min(l[1],e)))===t.k?t:new cU(e,t.x,t.y)}function y(t,e,n){var i=e[0]-n[0]*t.k,s=e[1]-n[1]*t.k
return i===t.x&&s===t.y?t:new cU(t.k,i,s)}function w(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,e,n,i){t.on("start.zoom",(function(){C(this,arguments).event(i).start()})).on("interrupt.zoom end.zoom",(function(){C(this,arguments).event(i).end()})).tween("zoom",(function(){var t=this,o=arguments,r=C(t,o).event(i),a=s.apply(t,o),l=null==n?w(a):"function"==typeof n?n.apply(t,o):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),d=t.__zoom,u="function"==typeof e?e.apply(t,o):e,p=h(d.invert(l).concat(c/d.k),u.invert(l).concat(c/u.k))
return function(t){if(1===t)t=u
else{var e=p(t),n=c/e[2]
t=new cU(n,l[0]-e[0]*n,l[1]-e[1]*n)}r.zoom(null,t)}}))}function C(t,e,n){return!n&&t.__zooming||new k(t,e)}function k(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=s.apply(t,e),this.taps=0}function S(t,...e){if(i.apply(this,arguments)){var n=C(this,e).event(t),s=this.__zoom,a=Math.max(l[0],Math.min(l[1],s.k*Math.pow(2,r.apply(this,arguments)))),d=Jz(t)
if(n.wheel)n.mouse[0][0]===d[0]&&n.mouse[0][1]===d[1]||(n.mouse[1]=s.invert(n.mouse[0]=d)),clearTimeout(n.wheel)
else{if(s.k===a)return
n.mouse=[d,s.invert(d)],NH(this),n.start()}uU(t),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),f),n.zoom("mouse",o(y(b(s,a),n.mouse[0],n.mouse[1]),n.extent,c))}}function _(t,...e){if(!n&&i.apply(this,arguments)){var s=t.currentTarget,r=C(this,e,!0).event(t),a=Xz(t.view).on("mousemove.zoom",(function(t){if(uU(t),!r.moved){var e=t.clientX-d,n=t.clientY-h
r.moved=e*e+n*n>m}r.event(t).zoom("mouse",o(y(r.that.__zoom,r.mouse[0]=Jz(t,s),r.mouse[1]),r.extent,c))}),!0).on("mouseup.zoom",(function(t){a.on("mousemove.zoom mouseup.zoom",null),function(t,e){var n=t.document.documentElement,i=Xz(t).on("dragstart.drag",null)
e&&(i.on("click.drag",tV,Qz),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(t.view,r.moved),uU(t),r.event(t).end()}),!0),l=Jz(t,s),d=t.clientX,h=t.clientY
!function(t){var e=t.document.documentElement,n=Xz(t).on("dragstart.drag",tV,Qz)
"onselectstart"in e?n.on("selectstart.drag",tV,Qz):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}(t.view),hU(t),r.mouse=[l,this.__zoom.invert(l)],NH(this),r.start()}}function I(t,...e){if(i.apply(this,arguments)){var n=this.__zoom,r=Jz(t.changedTouches?t.changedTouches[0]:t,this),a=n.invert(r),l=n.k*(t.shiftKey?.5:2),h=o(y(b(n,l),r,a),s.apply(this,e),c)
uU(t),d>0?Xz(this).transition().duration(d).call(x,h,r,t):Xz(this).call(v.transform,h,r,t)}}function M(n,...s){if(i.apply(this,arguments)){var o,r,a,l,c=n.touches,d=c.length,h=C(this,s,n.changedTouches.length===d).event(n)
for(hU(n),r=0;r<d;++r)l=[l=Jz(a=c[r],this),this.__zoom.invert(l),a.identifier],h.touch0?h.touch1||h.touch0[2]===l[2]||(h.touch1=l,h.taps=0):(h.touch0=l,o=!0,h.taps=1+!!t)
t&&(t=clearTimeout(t)),o&&(h.taps<2&&(e=l[0],t=setTimeout((function(){t=null}),p)),NH(this),h.start())}}function $(t,...e){if(this.__zooming){var n,i,s,r,a=C(this,e).event(t),l=t.changedTouches,d=l.length
for(uU(t),n=0;n<d;++n)s=Jz(i=l[n],this),a.touch0&&a.touch0[2]===i.identifier?a.touch0[0]=s:a.touch1&&a.touch1[2]===i.identifier&&(a.touch1[0]=s)
if(i=a.that.__zoom,a.touch1){var h=a.touch0[0],u=a.touch0[1],p=a.touch1[0],f=a.touch1[1],m=(m=p[0]-h[0])*m+(m=p[1]-h[1])*m,g=(g=f[0]-u[0])*g+(g=f[1]-u[1])*g
i=b(i,Math.sqrt(m/g)),s=[(h[0]+p[0])/2,(h[1]+p[1])/2],r=[(u[0]+f[0])/2,(u[1]+f[1])/2]}else{if(!a.touch0)return
s=a.touch0[0],r=a.touch0[1]}a.zoom("touch",o(y(i,s,r),a.extent,c))}}function D(t,...i){if(this.__zooming){var s,o,r=C(this,i).event(t),a=t.changedTouches,l=a.length
for(hU(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),s=0;s<l;++s)o=a[s],r.touch0&&r.touch0[2]===o.identifier?delete r.touch0:r.touch1&&r.touch1[2]===o.identifier&&delete r.touch1
if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0])
else if(r.end(),2===r.taps&&(o=Jz(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<g)){var c=Xz(this).on("dblclick.zoom")
c&&c.apply(this,arguments)}}}return v.transform=function(t,e,n,i){var s=t.selection?t.selection():t
s.property("__zoom",mU),t!==s?x(t,e,n,i):s.interrupt().each((function(){C(this,arguments).event(i).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},v.scaleBy=function(t,e,n,i){v.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n,i)},v.scaleTo=function(t,e,n,i){v.transform(t,(function(){var t=s.apply(this,arguments),i=this.__zoom,r=null==n?w(t):"function"==typeof n?n.apply(this,arguments):n,a=i.invert(r),l="function"==typeof e?e.apply(this,arguments):e
return o(y(b(i,l),r,a),t,c)}),n,i)},v.translateBy=function(t,e,n,i){v.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),s.apply(this,arguments),c)}),null,i)},v.translateTo=function(t,e,n,i,r){v.transform(t,(function(){var t=s.apply(this,arguments),r=this.__zoom,a=null==i?w(t):"function"==typeof i?i.apply(this,arguments):i
return o(dU.translate(a[0],a[1]).scale(r.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}),i,r)},k.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=Xz(this.that).datum()
u.call(t,this.that,new lU(t,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:u}),e)}},v.wheelDelta=function(t){return arguments.length?(r="function"==typeof t?t:aU(+t),v):r},v.filter=function(t){return arguments.length?(i="function"==typeof t?t:aU(!!t),v):i},v.touchable=function(t){return arguments.length?(a="function"==typeof t?t:aU(!!t),v):a},v.extent=function(t){return arguments.length?(s="function"==typeof t?t:aU([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):s},v.scaleExtent=function(t){return arguments.length?(l[0]=+t[0],l[1]=+t[1],v):[l[0],l[1]]},v.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],v):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},v.constrain=function(t){return arguments.length?(o=t,v):o},v.duration=function(t){return arguments.length?(d=+t,v):d},v.interpolate=function(t){return arguments.length?(h=t,v):h},v.on=function(){var t=u.on.apply(u,arguments)
return t===u?v:t},v.clickDistance=function(t){return arguments.length?(m=(t=+t)*t,v):Math.sqrt(m)},v.tapDistance=function(t){return arguments.length?(g=+t,v):g},v}cU.prototype
const wU=new TextDecoder("utf-8"),xU=t=>wU.decode(t),CU=new TextEncoder,kU=t=>CU.encode(t),SU=t=>"function"==typeof t,_U=t=>null!=t&&Object(t)===t,IU=t=>_U(t)&&SU(t.then),MU=t=>_U(t)&&SU(t[Symbol.iterator]),$U=t=>_U(t)&&SU(t[Symbol.asyncIterator]),DU=t=>_U(t)&&_U(t.schema),EU=t=>_U(t)&&"done"in t&&"value"in t,AU=t=>_U(t)&&SU(t.stat)&&(t=>"number"==typeof t)(t.fd),TU=t=>_U(t)&&RU(t.body),OU=t=>"_getDOMStream"in t&&"_getNodeStream"in t,RU=t=>_U(t)&&SU(t.cancel)&&SU(t.getReader)&&!OU(t),FU=t=>_U(t)&&SU(t.read)&&SU(t.pipe)&&(t=>"boolean"==typeof t)(t.readable)&&!OU(t),NU=t=>_U(t)&&SU(t.clear)&&SU(t.bytes)&&SU(t.position)&&SU(t.setPosition)&&SU(t.capacity)&&SU(t.getBufferIdentifier)&&SU(t.createLong),LU="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer
function BU(t,e,n=0,i=e.byteLength){const s=t.byteLength,o=new Uint8Array(t.buffer,t.byteOffset,s),r=new Uint8Array(e.buffer,e.byteOffset,Math.min(i,s))
return o.set(r,n),t}function PU(t,e){const n=function(t){const e=t[0]?[t[0]]:[]
let n,i,s,o
for(let r,a,l=0,c=0,d=t.length;++l<d;)r=e[c],a=t[l],!r||!a||r.buffer!==a.buffer||a.byteOffset<r.byteOffset?a&&(e[++c]=a):(({byteOffset:n,byteLength:s}=r),({byteOffset:i,byteLength:o}=a),n+s<i||i+o<n?a&&(e[++c]=a):e[c]=new Uint8Array(r.buffer,n,i-n+o))
return e}(t),i=n.reduce(((t,e)=>t+e.byteLength),0)
let s,o,r,a=0,l=-1
const c=Math.min(e||Number.POSITIVE_INFINITY,i)
for(const t=n.length;++l<t;){if(s=n[l],o=s.subarray(0,Math.min(s.length,c-a)),c<=a+o.length){o.length<s.length?n[l]=s.subarray(o.length):o.length===s.length&&l++,r?BU(r,o,a):r=o
break}BU(r||(r=new Uint8Array(c)),o,a),a+=o.length}return[r||new Uint8Array(0),n.slice(l),i-(r?r.byteLength:0)]}function zU(t,e){let n=EU(e)?e.value:e
return n instanceof t?t===Uint8Array?new t(n.buffer,n.byteOffset,n.byteLength):n:n?("string"==typeof n&&(n=kU(n)),n instanceof ArrayBuffer||n instanceof LU?new t(n):NU(n)?zU(t,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new t(0):new t(n.buffer,n.byteOffset,n.byteLength/t.BYTES_PER_ELEMENT):t.from(n)):new t(0)}const VU=t=>zU(Int32Array,t),HU=t=>zU(BigInt64Array,t),UU=t=>zU(Uint8Array,t),qU=t=>(t.next(),t)
const jU=t=>function*(t,e){const n=function*(t){yield t},i="string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof LU?n(e):MU(e)?e:n(e)
return yield*qU(function*(e){let n=null
do{n=e.next(yield zU(t,n))}while(!n.done)}(i[Symbol.iterator]())),new t}(Uint8Array,t)
function WU(t,e){return s(this,arguments,(function*(){if(IU(e))return yield i(yield i(yield*o(r(WU(t,yield i(e))))))
const n=function(t){return s(this,arguments,(function*(){yield yield i(yield i(t))}))},a="string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof LU?n(e):MU(e)?function(t){return s(this,arguments,(function*(){yield i(yield*o(r(qU(function*(t){let e=null
do{e=t.next(yield null==e?void 0:e.value)}while(!e.done)}(t[Symbol.iterator]())))))}))}(e):$U(e)?e:n(e)
return yield i(yield*o(r(qU(function(e){return s(this,arguments,(function*(){let n=null
do{n=yield i(e.next(yield yield i(zU(t,n))))}while(!n.done)}))}(a[Symbol.asyncIterator]()))))),yield i(new t)}))}const GU=t=>WU(Uint8Array,t)
var ZU={fromIterable:t=>KU(function*(t){let e,n,i,s,o=!1,r=[],a=0
function l(){return"peek"===i?PU(r,s)[0]:([n,r,a]=PU(r,s),n)}({cmd:i,size:s}=(yield null)||{cmd:"read",size:0})
const c=jU(t)[Symbol.iterator]()
try{do{if(({done:e,value:n}=Number.isNaN(s-a)?c.next():c.next(s-a)),!e&&n.byteLength>0&&(r.push(n),a+=n.byteLength),e||s<=a)do{({cmd:i,size:s}=yield l())}while(s<a)}while(!e)}catch(t){(o=!0)&&"function"==typeof c.throw&&c.throw(t)}finally{!1===o&&"function"==typeof c.return&&c.return(null)}return null}(t)),fromAsyncIterable:t=>KU(function(t){return s(this,arguments,(function*(){let e,n,s,o,r=!1,a=[],l=0
function c(){return"peek"===s?PU(a,o)[0]:([n,a,l]=PU(a,o),n)}({cmd:s,size:o}=(yield yield i(null))||{cmd:"read",size:0})
const d=GU(t)[Symbol.asyncIterator]()
try{do{if(({done:e,value:n}=Number.isNaN(o-l)?yield i(d.next()):yield i(d.next(o-l))),!e&&n.byteLength>0&&(a.push(n),l+=n.byteLength),e||o<=l)do{({cmd:s,size:o}=yield yield i(c()))}while(o<l)}while(!e)}catch(t){(r=!0)&&"function"==typeof d.throw&&(yield i(d.throw(t)))}finally{!1===r&&"function"==typeof d.return&&(yield i(d.return(new Uint8Array(0))))}return yield i(null)}))}(t)),fromDOMStream:t=>KU(function(t){return s(this,arguments,(function*(){let e,n,s,o=!1,r=!1,a=[],l=0
function c(){return"peek"===n?PU(a,s)[0]:([e,a,l]=PU(a,s),e)}({cmd:n,size:s}=(yield yield i(null))||{cmd:"read",size:0})
const d=new YU(t)
try{do{if(({done:o,value:e}=Number.isNaN(s-l)?yield i(d.read()):yield i(d.read(s-l))),!o&&e.byteLength>0&&(a.push(UU(e)),l+=e.byteLength),o||s<=l)do{({cmd:n,size:s}=yield yield i(c()))}while(s<l)}while(!o)}catch(t){(r=!0)&&(yield i(d.cancel(t)))}finally{!1===r?yield i(d.cancel()):t.locked&&d.releaseLock()}return yield i(null)}))}(t)),fromNodeStream:t=>KU(function(t){return s(this,arguments,(function*(){const e=[]
let n,s,o,r="error",a=!1,l=null,c=0,d=[]
function h(){return"peek"===n?PU(d,s)[0]:([o,d,c]=PU(d,s),o)}if(({cmd:n,size:s}=(yield yield i(null))||{cmd:"read",size:0}),t.isTTY)return yield yield i(new Uint8Array(0)),yield i(null)
try{e[0]=XU(t,"end"),e[1]=XU(t,"error")
do{if(e[2]=XU(t,"readable"),[r,l]=yield i(Promise.race(e.map((t=>t[2])))),"error"===r)break
if((a="end"===r)||(Number.isFinite(s-c)?(o=UU(t.read(s-c)),o.byteLength<s-c&&(o=UU(t.read()))):o=UU(t.read()),o.byteLength>0&&(d.push(o),c+=o.byteLength)),a||s<=c)do{({cmd:n,size:s}=yield yield i(h()))}while(s<c)}while(!a)}finally{yield i(u(e,"error"===r?l:null))}return yield i(null)
function u(e,n){return o=d=null,new Promise(((i,s)=>{for(const[n,i]of e)t.off(n,i)
try{const e=t.destroy
e&&e.call(t,n),n=void 0}catch(t){n=t||n}finally{null!=n?s(n):i()}}))}}))}(t)),toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}}
const KU=t=>(t.next(),t)
class YU{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch((()=>{}))}get closed(){return this.reader?this.reader.closed.catch((()=>{})):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return e(this,void 0,void 0,(function*(){const{reader:e,source:n}=this
e&&(yield e.cancel(t).catch((()=>{}))),n&&n.locked&&this.releaseLock()}))}read(t){return e(this,void 0,void 0,(function*(){if(0===t)return{done:null==this.reader,value:new Uint8Array(0)}
const e=yield this.reader.read()
return!e.done&&(e.value=UU(e)),e}))}}const XU=(t,e)=>{const n=t=>i([e,t])
let i
return[e,n,new Promise((s=>(i=s)&&t.once(e,n)))]}
var JU,QU,tq,eq,nq,iq
!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(JU||(JU={})),function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(QU||(QU={})),function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(tq||(tq={})),function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(eq||(eq={})),function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(nq||(nq={})),function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(iq||(iq={}))
const sq=new Int32Array(2),oq=new Float32Array(sq.buffer),rq=new Float64Array(sq.buffer),aq=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0]
var lq
!function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"}(lq||(lq={}))
let cq=class t{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new t(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return sq[0]=this.readInt32(t),oq[0]}readFloat64(t){return sq[aq?0:1]=this.readInt32(t),sq[aq?1:0]=this.readInt32(t+4),rq[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,Number(BigInt.asIntN(32,e))),this.writeInt32(t+4,Number(BigInt.asIntN(32,e>>BigInt(32))))}writeUint64(t,e){this.writeUint32(t,Number(BigInt.asUintN(32,e))),this.writeUint32(t+4,Number(BigInt.asUintN(32,e>>BigInt(32))))}writeFloat32(t,e){oq[0]=e,this.writeInt32(t,sq[0])}writeFloat64(t,e){rq[0]=e,this.writeInt32(t,sq[aq?0:1]),this.writeInt32(t+4,sq[aq?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.")
let t=""
for(let e=0;e<4;e++)t+=String.fromCharCode(this.readInt8(this.position_+4+e))
return t}__offset(t,e){const n=t-this.readInt32(t)
return e<this.readInt16(n)?this.readInt16(n+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t)
const n=this.readInt32(t)
t+=4
const i=this.bytes_.subarray(t,t+n)
return e===lq.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(t,e){return"string"==typeof t?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+4}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4")
for(let e=0;e<4;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+4+e))return!1
return!0}createScalarList(t,e){const n=[]
for(let i=0;i<e;++i){const e=t(i)
null!==e&&n.push(e)}return n}createObjList(t,e){const n=[]
for(let i=0;i<e;++i){const e=t(i)
null!==e&&n.push(e.unpack())}return n}},dq=class t{constructor(t){let e
this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder,e=t||1024,this.bb=cq.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,n){e>this.minalign&&(this.minalign=e)
const i=1+~(this.bb.capacity()-this.space+n)&e-1
for(;this.space<i+e+n;){const e=this.bb.capacity()
this.bb=t.growByteBuffer(this.bb),this.space+=this.bb.capacity()-e}this.pad(i)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,n){(this.force_defaults||e!=n)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,n){(this.force_defaults||e!=n)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,n){(this.force_defaults||e!=n)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,n){(this.force_defaults||e!==n)&&(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,n){(this.force_defaults||e!=n)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,n){e!=n&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){null!==this.vtable&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const e=t.capacity()
if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.")
const n=e<<1,i=cq.allocate(n)
return i.setPosition(n-e),i.bytes().set(t.bytes(),n-e),i}addOffset(t){this.prep(4,0),this.writeInt32(this.offset()-t+4)}startObject(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t
for(let e=0;e<t;e++)this.vtable[e]=0
this.isNested=!0,this.object_start=this.offset()}endObject(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject")
this.addInt32(0)
const t=this.offset()
let e=this.vtable_in_use-1
for(;e>=0&&0==this.vtable[e];e--);const n=e+1
for(;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0)
this.addInt16(t-this.object_start)
const i=2*(n+2)
this.addInt16(i)
let s=0
const o=this.space
t:for(e=0;e<this.vtables.length;e++){const t=this.bb.capacity()-this.vtables[e]
if(i==this.bb.readInt16(t)){for(let e=2;e<i;e+=2)if(this.bb.readInt16(o+e)!=this.bb.readInt16(t+e))continue t
s=this.vtables[e]
break}}return s?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,s-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,n){const i=n?4:0
if(e){const t=e
if(this.prep(this.minalign,8+i),4!=t.length)throw new TypeError("FlatBuffers: file identifier must be length 4")
for(let e=3;e>=0;e--)this.writeInt8(t.charCodeAt(e))}this.prep(this.minalign,4+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){const n=this.bb.capacity()-t,i=n-this.bb.readInt32(n)
if(!(e<this.bb.readInt16(i)&&0!=this.bb.readInt16(i+e)))throw new TypeError("FlatBuffers: field "+e+" must be set")}startVector(t,e,n){this.notNested(),this.vector_num_elems=e,this.prep(4,t*e),this.prep(n,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0
if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t)
const e=this.createString(t)
return this.string_maps.set(t,e),e}createString(t){if(null==t)return 0
let e
return e=t instanceof Uint8Array?t:this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector()}createByteVector(t){return null==t?0:(this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),this.bb.bytes().set(t,this.space),this.endVector())}createObjectOffset(t){return null===t?0:"string"==typeof t?this.createString(t):t.pack(this)}createObjectOffsetList(t){const e=[]
for(let n=0;n<t.length;++n){const i=t[n]
if(null===i)throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")
e.push(this.createObjectOffset(i))}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}}
var hq,uq
!function(t){t[t.BUFFER=0]="BUFFER"}(hq||(hq={})),function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"}(uq||(uq={}))
class pq{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new pq).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+4),(e||new pq).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.readInt8(this.bb_pos+t):uq.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6)
return t?this.bb.readInt8(this.bb_pos+t):hq.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,uq.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,hq.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,n){return pq.startBodyCompression(t),pq.addCodec(t,e),pq.addMethod(t,n),pq.endBodyCompression(t)}}class fq{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,n){return t.prep(8,16),t.writeInt64(BigInt(null!=n?n:0)),t.writeInt64(BigInt(null!=e?e:0)),t.offset()}}let mq=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,n){return t.prep(8,16),t.writeInt64(BigInt(null!=n?n:0)),t.writeInt64(BigInt(null!=e?e:0)),t.offset()}},gq=class t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}length(){const t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,e){const n=this.bb.__offset(this.bb_pos,6)
return n?(e||new mq).__init(this.bb.__vector(this.bb_pos+n)+16*t,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6)
return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){const n=this.bb.__offset(this.bb_pos,8)
return n?(e||new fq).__init(this.bb.__vector(this.bb_pos+n)+16*t,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8)
return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const e=this.bb.__offset(this.bb_pos,10)
return e?(t||new pq).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,BigInt("0"))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}},vq=class t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}id(){const t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){const e=this.bb.__offset(this.bb_pos,6)
return e?(t||new gq).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8)
return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,BigInt("0"))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}}
var bq,yq
!function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"}(bq||(bq={})),function(t){t[t.DenseArray=0]="DenseArray"}(yq||(yq={}))
class wq{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new wq).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+4),(e||new wq).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6)
return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,n){return wq.startInt(t),wq.addBitWidth(t,e),wq.addIsSigned(t,n),wq.endInt(t)}}class xq{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new xq).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+4),(e||new xq).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){const e=this.bb.__offset(this.bb_pos,6)
return e?(t||new wq).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8)
return!!t&&!!this.bb.readInt8(this.bb_pos+t)}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10)
return t?this.bb.readInt16(this.bb_pos+t):yq.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,BigInt("0"))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,yq.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class Cq{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new Cq).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+4),(e||new Cq).__init(t.readInt32(t.position())+t.position(),t)}key(t){const e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.__string(this.bb_pos+e,t):null}value(t){const e=this.bb.__offset(this.bb_pos,6)
return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,n){return Cq.startKeyValue(t),Cq.addKey(t,e),Cq.addValue(t,n),Cq.endKeyValue(t)}}let kq=class t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(e){return t.startBinary(e),t.endBinary(e)}},Sq=class t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(e){return t.startBool(e),t.endBool(e)}},_q=class t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}unit(){const t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.readInt16(this.bb_pos+t):eq.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,eq.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(e,n){return t.startDate(e),t.addUnit(e,n),t.endDate(e)}},Iq=class t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}precision(){const t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6)
return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8)
return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(e,n,i,s){return t.startDecimal(e),t.addPrecision(e,n),t.addScale(e,i),t.addBitWidth(e,s),t.endDecimal(e)}},Mq=class t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDuration(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}unit(){const t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.readInt16(this.bb_pos+t):nq.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,nq.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(e,n){return t.startDuration(e),t.addUnit(e,n),t.endDuration(e)}},$q=class t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(e,n){return t.startFixedSizeBinary(e),t.addByteWidth(e,n),t.endFixedSizeBinary(e)}},Dq=class t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}listSize(){const t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(e,n){return t.startFixedSizeList(e),t.addListSize(e,n),t.endFixedSizeList(e)}}
class Eq{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new Eq).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+4),(e||new Eq).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.readInt16(this.bb_pos+t):tq.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,tq.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return Eq.startFloatingPoint(t),Eq.addPrecision(t,e),Eq.endFloatingPoint(t)}}class Aq{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new Aq).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+4),(e||new Aq).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.readInt16(this.bb_pos+t):iq.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,iq.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return Aq.startInterval(t),Aq.addUnit(t,e),Aq.endInterval(t)}}let Tq=class t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsLargeBinary(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(t){t.startObject(0)}static endLargeBinary(t){return t.endObject()}static createLargeBinary(e){return t.startLargeBinary(e),t.endLargeBinary(e)}},Oq=class t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsLargeUtf8(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(t){t.startObject(0)}static endLargeUtf8(t){return t.endObject()}static createLargeUtf8(e){return t.startLargeUtf8(e),t.endLargeUtf8(e)}},Rq=class t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(e){return t.startList(e),t.endList(e)}},Fq=class t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4)
return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(e,n){return t.startMap(e),t.addKeysSorted(e,n),t.endMap(e)}},Nq=class t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(e){return t.startNull(e),t.endNull(e)}}
class Lq{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new Lq).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+4),(e||new Lq).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Lq.startStruct_(t),Lq.endStruct_(t)}}class Bq{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new Bq).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+4),(e||new Bq).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.readInt16(this.bb_pos+t):nq.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6)
return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,nq.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,n){return Bq.startTime(t),Bq.addUnit(t,e),Bq.addBitWidth(t,n),Bq.endTime(t)}}class Pq{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new Pq).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+4),(e||new Pq).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.readInt16(this.bb_pos+t):nq.SECOND}timezone(t){const e=this.bb.__offset(this.bb_pos,6)
return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,nq.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,n){return Pq.startTimestamp(t),Pq.addUnit(t,e),Pq.addTimezone(t,n),Pq.endTimestamp(t)}}class zq{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new zq).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+4),(e||new zq).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.readInt16(this.bb_pos+t):QU.Sparse}typeIds(t){const e=this.bb.__offset(this.bb_pos,6)
return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6)
return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6)
return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,QU.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4)
for(let n=e.length-1;n>=0;n--)t.addInt32(e[n])
return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,n){return zq.startUnion(t),zq.addMode(t,e),zq.addTypeIds(t,n),zq.endUnion(t)}}let Vq=class t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(e){return t.startUtf8(e),t.endUtf8(e)}}
var Hq
!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList",t[t.RunEndEncoded=22]="RunEndEncoded"}(Hq||(Hq={}))
let Uq=class t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}name(t){const e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6)
return!!t&&!!this.bb.readInt8(this.bb_pos+t)}typeType(){const t=this.bb.__offset(this.bb_pos,8)
return t?this.bb.readUint8(this.bb_pos+t):Hq.NONE}type(t){const e=this.bb.__offset(this.bb_pos,10)
return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){const e=this.bb.__offset(this.bb_pos,12)
return e?(t||new xq).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(e,n){const i=this.bb.__offset(this.bb_pos,14)
return i?(n||new t).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*e),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14)
return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,16)
return n?(e||new Cq).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16)
return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,Hq.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4)
for(let n=e.length-1;n>=0;n--)t.addOffset(e[n])
return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4)
for(let n=e.length-1;n>=0;n--)t.addOffset(e[n])
return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}},qq=class t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}endianness(){const t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.readInt16(this.bb_pos+t):bq.Little}fields(t,e){const n=this.bb.__offset(this.bb_pos,6)
return n?(e||new Uq).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6)
return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,8)
return n?(e||new Cq).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8)
return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const e=this.bb.__offset(this.bb_pos,10)
return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):BigInt(0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10)
return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,bq.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4)
for(let n=e.length-1;n>=0;n--)t.addOffset(e[n])
return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4)
for(let n=e.length-1;n>=0;n--)t.addOffset(e[n])
return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8)
for(let n=e.length-1;n>=0;n--)t.addInt64(e[n])
return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(e,n,i,s,o){return t.startSchema(e),t.addEndianness(e,n),t.addFields(e,i),t.addCustomMetadata(e,s),t.addFeatures(e,o),t.endSchema(e)}}
var jq,Wq,Gq
!function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(jq||(jq={})),function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth",t[t.DurationSecond=-27]="DurationSecond",t[t.DurationMillisecond=-28]="DurationMillisecond",t[t.DurationMicrosecond=-29]="DurationMicrosecond",t[t.DurationNanosecond=-30]="DurationNanosecond"}(Wq||(Wq={})),function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"}(Gq||(Gq={}))
function Zq(t){if(null===t)return"null"
if(undefined===t)return"undefined"
switch(typeof t){case"number":case"bigint":return`${t}`
case"string":return`"${t}"`}return"function"==typeof t[Symbol.toPrimitive]?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof BigInt64Array||t instanceof BigUint64Array?`[${[...t].map((t=>Zq(t)))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,((t,e)=>"bigint"==typeof e?`${e}`:e))}function Kq(t){if("bigint"==typeof t&&(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER))throw new TypeError(`${t} is not safe to convert to a number.`)
return Number(t)}function Yq(t,e){return Kq(t/e)+Kq(t%e)/Kq(e)}const Xq=Symbol.for("isArrowBigNum")
function Jq(t,...e){return 0===e.length?Object.setPrototypeOf(zU(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...e),this.constructor.prototype)}function Qq(...t){return Jq.apply(this,t)}function tj(...t){return Jq.apply(this,t)}function ej(...t){return Jq.apply(this,t)}Jq.prototype[Xq]=!0,Jq.prototype.toJSON=function(){return`"${sj(this)}"`},Jq.prototype.valueOf=function(t){return ij(this,t)},Jq.prototype.toString=function(){return sj(this)},Jq.prototype[Symbol.toPrimitive]=function(t="default"){switch(t){case"number":return ij(this)
case"string":return sj(this)
case"default":return function(t){if(8===t.byteLength){return new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}return sj(t)}(this)}return sj(this)},Object.setPrototypeOf(Qq.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(tj.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(ej.prototype,Object.create(Uint32Array.prototype)),Object.assign(Qq.prototype,Jq.prototype,{constructor:Qq,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array}),Object.assign(tj.prototype,Jq.prototype,{constructor:tj,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array}),Object.assign(ej.prototype,Jq.prototype,{constructor:ej,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array})
const nj=BigInt(4294967296)*BigInt(4294967296)-BigInt(1)
function ij(t,e){const{buffer:n,byteOffset:i,byteLength:s,signed:o}=t,r=new BigUint64Array(n,i,s/8),a=o&&r.at(-1)&BigInt(1)<<BigInt(63)
let l=BigInt(0),c=0
if(a){for(const t of r)l|=(t^nj)*(BigInt(1)<<BigInt(64*c++))
l*=BigInt(-1),l-=BigInt(1)}else for(const t of r)l|=t*(BigInt(1)<<BigInt(64*c++))
if("number"==typeof e){const t=BigInt(Math.pow(10,e)),n=l%t
return Kq(l/t)+Kq(n)/Kq(t)}return Kq(l)}function sj(t){if(8===t.byteLength){return`${new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}`}if(!t.signed)return oj(t)
let e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2)
if(new Int16Array([e.at(-1)])[0]>=0)return oj(t)
e=e.slice()
let n=1
for(let t=0;t<e.length;t++){const i=e[t],s=~i+n
e[t]=s,n&=0===i?1:0}return`-${oj(e)}`}function oj(t){let e=""
const n=new Uint32Array(2)
let i=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2)
const s=new Uint32Array((i=new Uint16Array(i).reverse()).buffer)
let o=-1
const r=i.length-1
do{for(n[0]=i[o=0];o<r;)i[o++]=n[1]=n[0]/10,n[0]=(n[0]-10*n[1]<<16)+i[o]
i[o]=n[1]=n[0]/10,n[0]=n[0]-10*n[1],e=`${n[0]}${e}`}while(s[0]||s[1]||s[2]||s[3])
return null!=e?e:"0"}class rj{static new(t,e){switch(e){case!0:return new Qq(t)
case!1:return new tj(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new Qq(t)}return 16===t.byteLength?new ej(t):new tj(t)}static signed(t){return new Qq(t)}static unsigned(t){return new tj(t)}static decimal(t){return new ej(t)}constructor(t,e){return rj.new(t,e)}}var aj,lj,cj,dj,hj,uj,pj,fj,mj,gj,vj,bj,yj,wj,xj,Cj,kj,Sj,_j,Ij,Mj,$j,Dj
class Ej{static isNull(t){return(null==t?void 0:t.typeId)===Wq.Null}static isInt(t){return(null==t?void 0:t.typeId)===Wq.Int}static isFloat(t){return(null==t?void 0:t.typeId)===Wq.Float}static isBinary(t){return(null==t?void 0:t.typeId)===Wq.Binary}static isLargeBinary(t){return(null==t?void 0:t.typeId)===Wq.LargeBinary}static isUtf8(t){return(null==t?void 0:t.typeId)===Wq.Utf8}static isLargeUtf8(t){return(null==t?void 0:t.typeId)===Wq.LargeUtf8}static isBool(t){return(null==t?void 0:t.typeId)===Wq.Bool}static isDecimal(t){return(null==t?void 0:t.typeId)===Wq.Decimal}static isDate(t){return(null==t?void 0:t.typeId)===Wq.Date}static isTime(t){return(null==t?void 0:t.typeId)===Wq.Time}static isTimestamp(t){return(null==t?void 0:t.typeId)===Wq.Timestamp}static isInterval(t){return(null==t?void 0:t.typeId)===Wq.Interval}static isDuration(t){return(null==t?void 0:t.typeId)===Wq.Duration}static isList(t){return(null==t?void 0:t.typeId)===Wq.List}static isStruct(t){return(null==t?void 0:t.typeId)===Wq.Struct}static isUnion(t){return(null==t?void 0:t.typeId)===Wq.Union}static isFixedSizeBinary(t){return(null==t?void 0:t.typeId)===Wq.FixedSizeBinary}static isFixedSizeList(t){return(null==t?void 0:t.typeId)===Wq.FixedSizeList}static isMap(t){return(null==t?void 0:t.typeId)===Wq.Map}static isDictionary(t){return(null==t?void 0:t.typeId)===Wq.Dictionary}static isDenseUnion(t){return Ej.isUnion(t)&&t.mode===QU.Dense}static isSparseUnion(t){return Ej.isUnion(t)&&t.mode===QU.Sparse}constructor(t){this.typeId=t}}aj=Symbol.toStringTag,Ej[aj]=((Dj=Ej.prototype).children=null,Dj.ArrayType=Array,Dj.OffsetArrayType=Int32Array,Dj[Symbol.toStringTag]="DataType")
class Aj extends Ej{constructor(){super(Wq.Null)}toString(){return"Null"}}lj=Symbol.toStringTag,Aj[lj]=(t=>t[Symbol.toStringTag]="Null")(Aj.prototype)
class Tj extends Ej{constructor(t,e){super(Wq.Int),this.isSigned=t,this.bitWidth=e}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array
case 16:return this.isSigned?Int16Array:Uint16Array
case 32:return this.isSigned?Int32Array:Uint32Array
case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}cj=Symbol.toStringTag,Tj[cj]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(Tj.prototype)
class Oj extends Tj{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(Oj.prototype,"ArrayType",{value:Int32Array})
class Rj extends Ej{constructor(t){super(Wq.Float),this.precision=t}get ArrayType(){switch(this.precision){case tq.HALF:return Uint16Array
case tq.SINGLE:return Float32Array
case tq.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}dj=Symbol.toStringTag,Rj[dj]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(Rj.prototype)
class Fj extends Ej{constructor(){super(Wq.Binary)}toString(){return"Binary"}}hj=Symbol.toStringTag,Fj[hj]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(Fj.prototype)
class Nj extends Ej{constructor(){super(Wq.LargeBinary)}toString(){return"LargeBinary"}}uj=Symbol.toStringTag,Nj[uj]=(t=>(t.ArrayType=Uint8Array,t.OffsetArrayType=BigInt64Array,t[Symbol.toStringTag]="LargeBinary"))(Nj.prototype)
class Lj extends Ej{constructor(){super(Wq.Utf8)}toString(){return"Utf8"}}pj=Symbol.toStringTag,Lj[pj]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(Lj.prototype)
class Bj extends Ej{constructor(){super(Wq.LargeUtf8)}toString(){return"LargeUtf8"}}fj=Symbol.toStringTag,Bj[fj]=(t=>(t.ArrayType=Uint8Array,t.OffsetArrayType=BigInt64Array,t[Symbol.toStringTag]="LargeUtf8"))(Bj.prototype)
class Pj extends Ej{constructor(){super(Wq.Bool)}toString(){return"Bool"}}mj=Symbol.toStringTag,Pj[mj]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(Pj.prototype)
class zj extends Ej{constructor(t,e,n=128){super(Wq.Decimal),this.scale=t,this.precision=e,this.bitWidth=n}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}gj=Symbol.toStringTag,zj[gj]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(zj.prototype)
class Vj extends Ej{constructor(t){super(Wq.Date),this.unit=t}toString(){return`Date${32*(this.unit+1)}<${eq[this.unit]}>`}get ArrayType(){return this.unit===eq.DAY?Int32Array:BigInt64Array}}vj=Symbol.toStringTag,Vj[vj]=(t=>(t.unit=null,t[Symbol.toStringTag]="Date"))(Vj.prototype)
class Hj extends Ej{constructor(t,e){super(Wq.Time),this.unit=t,this.bitWidth=e}toString(){return`Time${this.bitWidth}<${nq[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array
case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}bj=Symbol.toStringTag,Hj[bj]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(Hj.prototype)
class Uj extends Ej{constructor(t,e){super(Wq.Timestamp),this.unit=t,this.timezone=e}toString(){return`Timestamp<${nq[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}yj=Symbol.toStringTag,Uj[yj]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=BigInt64Array,t[Symbol.toStringTag]="Timestamp"))(Uj.prototype)
class qj extends Ej{constructor(t){super(Wq.Interval),this.unit=t}toString(){return`Interval<${iq[this.unit]}>`}}wj=Symbol.toStringTag,qj[wj]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(qj.prototype)
class jj extends Ej{constructor(t){super(Wq.Duration),this.unit=t}toString(){return`Duration<${nq[this.unit]}>`}}xj=Symbol.toStringTag,jj[xj]=(t=>(t.unit=null,t.ArrayType=BigInt64Array,t[Symbol.toStringTag]="Duration"))(jj.prototype)
class Wj extends Ej{constructor(t){super(Wq.List),this.children=[t]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}Cj=Symbol.toStringTag,Wj[Cj]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(Wj.prototype)
class Gj extends Ej{constructor(t){super(Wq.Struct),this.children=t}toString(){return`Struct<{${this.children.map((t=>`${t.name}:${t.type}`)).join(", ")}}>`}}kj=Symbol.toStringTag,Gj[kj]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(Gj.prototype)
class Zj extends Ej{constructor(t,e,n){super(Wq.Union),this.mode=t,this.children=n,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce(((t,e,n)=>(t[e]=n)&&t||t),Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map((t=>`${t.type}`)).join(" | ")}>`}}Sj=Symbol.toStringTag,Zj[Sj]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(Zj.prototype)
class Kj extends Ej{constructor(t){super(Wq.FixedSizeBinary),this.byteWidth=t}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}_j=Symbol.toStringTag,Kj[_j]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(Kj.prototype)
class Yj extends Ej{constructor(t,e){super(Wq.FixedSizeList),this.listSize=t,this.children=[e]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}Ij=Symbol.toStringTag,Yj[Ij]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(Yj.prototype)
class Xj extends Ej{constructor(t,e=!1){var n,i,s
if(super(Wq.Map),this.children=[t],this.keysSorted=e,t&&(t.name="entries",null===(n=null==t?void 0:t.type)||void 0===n?void 0:n.children)){const e=null===(i=null==t?void 0:t.type)||void 0===i?void 0:i.children[0]
e&&(e.name="key")
const n=null===(s=null==t?void 0:t.type)||void 0===s?void 0:s.children[1]
n&&(n.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map((t=>`${t.name}:${t.type}`)).join(", ")}}>`}}Mj=Symbol.toStringTag,Xj[Mj]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(Xj.prototype)
const Jj=(Qj=-1,()=>++Qj)
var Qj
class tW extends Ej{constructor(t,e,n,i){super(Wq.Dictionary),this.indices=e,this.dictionary=t,this.isOrdered=i||!1,this.id=null==n?Jj():Kq(n)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}function eW(t){const e=t
switch(t.typeId){case Wq.Decimal:return t.bitWidth/32
case Wq.Interval:return 1+e.unit
case Wq.FixedSizeList:return e.listSize
case Wq.FixedSizeBinary:return e.byteWidth
default:return 1}}$j=Symbol.toStringTag,tW[$j]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(tW.prototype)
class nW{visitMany(t,...e){return t.map(((t,n)=>this.visit(t,...e.map((t=>t[n])))))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,e=!0){return function(t,e,n=!0){if("number"==typeof e)return iW(t,e,n)
if("string"==typeof e&&e in Wq)return iW(t,Wq[e],n)
if(e&&e instanceof Ej)return iW(t,sW(e),n)
if((null==e?void 0:e.type)&&e.type instanceof Ej)return iW(t,sW(e.type),n)
return iW(t,Wq.NONE,n)}(this,t,e)}getVisitFnByTypeId(t,e=!0){return iW(this,t,e)}visitNull(t,...e){return null}visitBool(t,...e){return null}visitInt(t,...e){return null}visitFloat(t,...e){return null}visitUtf8(t,...e){return null}visitLargeUtf8(t,...e){return null}visitBinary(t,...e){return null}visitLargeBinary(t,...e){return null}visitFixedSizeBinary(t,...e){return null}visitDate(t,...e){return null}visitTimestamp(t,...e){return null}visitTime(t,...e){return null}visitDecimal(t,...e){return null}visitList(t,...e){return null}visitStruct(t,...e){return null}visitUnion(t,...e){return null}visitDictionary(t,...e){return null}visitInterval(t,...e){return null}visitDuration(t,...e){return null}visitFixedSizeList(t,...e){return null}visitMap(t,...e){return null}}function iW(t,e,n=!0){let i=null
switch(e){case Wq.Null:i=t.visitNull
break
case Wq.Bool:i=t.visitBool
break
case Wq.Int:i=t.visitInt
break
case Wq.Int8:i=t.visitInt8||t.visitInt
break
case Wq.Int16:i=t.visitInt16||t.visitInt
break
case Wq.Int32:i=t.visitInt32||t.visitInt
break
case Wq.Int64:i=t.visitInt64||t.visitInt
break
case Wq.Uint8:i=t.visitUint8||t.visitInt
break
case Wq.Uint16:i=t.visitUint16||t.visitInt
break
case Wq.Uint32:i=t.visitUint32||t.visitInt
break
case Wq.Uint64:i=t.visitUint64||t.visitInt
break
case Wq.Float:i=t.visitFloat
break
case Wq.Float16:i=t.visitFloat16||t.visitFloat
break
case Wq.Float32:i=t.visitFloat32||t.visitFloat
break
case Wq.Float64:i=t.visitFloat64||t.visitFloat
break
case Wq.Utf8:i=t.visitUtf8
break
case Wq.LargeUtf8:i=t.visitLargeUtf8
break
case Wq.Binary:i=t.visitBinary
break
case Wq.LargeBinary:i=t.visitLargeBinary
break
case Wq.FixedSizeBinary:i=t.visitFixedSizeBinary
break
case Wq.Date:i=t.visitDate
break
case Wq.DateDay:i=t.visitDateDay||t.visitDate
break
case Wq.DateMillisecond:i=t.visitDateMillisecond||t.visitDate
break
case Wq.Timestamp:i=t.visitTimestamp
break
case Wq.TimestampSecond:i=t.visitTimestampSecond||t.visitTimestamp
break
case Wq.TimestampMillisecond:i=t.visitTimestampMillisecond||t.visitTimestamp
break
case Wq.TimestampMicrosecond:i=t.visitTimestampMicrosecond||t.visitTimestamp
break
case Wq.TimestampNanosecond:i=t.visitTimestampNanosecond||t.visitTimestamp
break
case Wq.Time:i=t.visitTime
break
case Wq.TimeSecond:i=t.visitTimeSecond||t.visitTime
break
case Wq.TimeMillisecond:i=t.visitTimeMillisecond||t.visitTime
break
case Wq.TimeMicrosecond:i=t.visitTimeMicrosecond||t.visitTime
break
case Wq.TimeNanosecond:i=t.visitTimeNanosecond||t.visitTime
break
case Wq.Decimal:i=t.visitDecimal
break
case Wq.List:i=t.visitList
break
case Wq.Struct:i=t.visitStruct
break
case Wq.Union:i=t.visitUnion
break
case Wq.DenseUnion:i=t.visitDenseUnion||t.visitUnion
break
case Wq.SparseUnion:i=t.visitSparseUnion||t.visitUnion
break
case Wq.Dictionary:i=t.visitDictionary
break
case Wq.Interval:i=t.visitInterval
break
case Wq.IntervalDayTime:i=t.visitIntervalDayTime||t.visitInterval
break
case Wq.IntervalYearMonth:i=t.visitIntervalYearMonth||t.visitInterval
break
case Wq.Duration:i=t.visitDuration
break
case Wq.DurationSecond:i=t.visitDurationSecond||t.visitDuration
break
case Wq.DurationMillisecond:i=t.visitDurationMillisecond||t.visitDuration
break
case Wq.DurationMicrosecond:i=t.visitDurationMicrosecond||t.visitDuration
break
case Wq.DurationNanosecond:i=t.visitDurationNanosecond||t.visitDuration
break
case Wq.FixedSizeList:i=t.visitFixedSizeList
break
case Wq.Map:i=t.visitMap}if("function"==typeof i)return i
if(!n)return()=>null
throw new Error(`Unrecognized type '${Wq[e]}'`)}function sW(t){switch(t.typeId){case Wq.Null:return Wq.Null
case Wq.Int:{const{bitWidth:e,isSigned:n}=t
switch(e){case 8:return n?Wq.Int8:Wq.Uint8
case 16:return n?Wq.Int16:Wq.Uint16
case 32:return n?Wq.Int32:Wq.Uint32
case 64:return n?Wq.Int64:Wq.Uint64}return Wq.Int}case Wq.Float:switch(t.precision){case tq.HALF:return Wq.Float16
case tq.SINGLE:return Wq.Float32
case tq.DOUBLE:return Wq.Float64}return Wq.Float
case Wq.Binary:return Wq.Binary
case Wq.LargeBinary:return Wq.LargeBinary
case Wq.Utf8:return Wq.Utf8
case Wq.LargeUtf8:return Wq.LargeUtf8
case Wq.Bool:return Wq.Bool
case Wq.Decimal:return Wq.Decimal
case Wq.Time:switch(t.unit){case nq.SECOND:return Wq.TimeSecond
case nq.MILLISECOND:return Wq.TimeMillisecond
case nq.MICROSECOND:return Wq.TimeMicrosecond
case nq.NANOSECOND:return Wq.TimeNanosecond}return Wq.Time
case Wq.Timestamp:switch(t.unit){case nq.SECOND:return Wq.TimestampSecond
case nq.MILLISECOND:return Wq.TimestampMillisecond
case nq.MICROSECOND:return Wq.TimestampMicrosecond
case nq.NANOSECOND:return Wq.TimestampNanosecond}return Wq.Timestamp
case Wq.Date:switch(t.unit){case eq.DAY:return Wq.DateDay
case eq.MILLISECOND:return Wq.DateMillisecond}return Wq.Date
case Wq.Interval:switch(t.unit){case iq.DAY_TIME:return Wq.IntervalDayTime
case iq.YEAR_MONTH:return Wq.IntervalYearMonth}return Wq.Interval
case Wq.Duration:switch(t.unit){case nq.SECOND:return Wq.DurationSecond
case nq.MILLISECOND:return Wq.DurationMillisecond
case nq.MICROSECOND:return Wq.DurationMicrosecond
case nq.NANOSECOND:return Wq.DurationNanosecond}return Wq.Duration
case Wq.Map:return Wq.Map
case Wq.List:return Wq.List
case Wq.Struct:return Wq.Struct
case Wq.Union:switch(t.mode){case QU.Dense:return Wq.DenseUnion
case QU.Sparse:return Wq.SparseUnion}return Wq.Union
case Wq.FixedSizeBinary:return Wq.FixedSizeBinary
case Wq.FixedSizeList:return Wq.FixedSizeList
case Wq.Dictionary:return Wq.Dictionary}throw new Error(`Unrecognized type '${Wq[t.typeId]}'`)}nW.prototype.visitInt8=null,nW.prototype.visitInt16=null,nW.prototype.visitInt32=null,nW.prototype.visitInt64=null,nW.prototype.visitUint8=null,nW.prototype.visitUint16=null,nW.prototype.visitUint32=null,nW.prototype.visitUint64=null,nW.prototype.visitFloat16=null,nW.prototype.visitFloat32=null,nW.prototype.visitFloat64=null,nW.prototype.visitDateDay=null,nW.prototype.visitDateMillisecond=null,nW.prototype.visitTimestampSecond=null,nW.prototype.visitTimestampMillisecond=null,nW.prototype.visitTimestampMicrosecond=null,nW.prototype.visitTimestampNanosecond=null,nW.prototype.visitTimeSecond=null,nW.prototype.visitTimeMillisecond=null,nW.prototype.visitTimeMicrosecond=null,nW.prototype.visitTimeNanosecond=null,nW.prototype.visitDenseUnion=null,nW.prototype.visitSparseUnion=null,nW.prototype.visitIntervalDayTime=null,nW.prototype.visitIntervalYearMonth=null,nW.prototype.visitDuration=null,nW.prototype.visitDurationSecond=null,nW.prototype.visitDurationMillisecond=null,nW.prototype.visitDurationMicrosecond=null,nW.prototype.visitDurationNanosecond=null
const oW=new Float64Array(1),rW=new Uint32Array(oW.buffer)
function aW(t){const e=(31744&t)>>10,n=(1023&t)/1024,i=Math.pow(-1,(32768&t)>>15)
switch(e){case 31:return i*(n?Number.NaN:1/0)
case 0:return i*(n?6103515625e-14*n:0)}return i*Math.pow(2,e-15)*(1+n)}class lW extends nW{}function cW(t){return(e,n,i)=>{if(e.setValid(n,null!=i))return t(e,n,i)}}const dW=(t,e,n,i)=>{if(n+1<e.length){const s=Kq(e[n]),o=Kq(e[n+1])
t.set(i.subarray(0,o-s),s)}},hW=({values:t},e,n)=>{t[e]=n},uW=({values:t},e,n)=>{t[e]=n},pW=({values:t},e,n)=>{t[e]=function(t){if(t!=t)return 32256
oW[0]=t
const e=(2147483648&rW[1])>>16&65535
let n=2146435072&rW[1],i=0
return n>=1089470464?rW[0]>0?n=31744:(n=(2080374784&n)>>16,i=(1048575&rW[1])>>10):n<=1056964608?(i=1048576+(1048575&rW[1]),i=1048576+(i<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,i=512+(1048575&rW[1])>>10),e|n|65535&i}(n)},fW=({values:t},e,n)=>{((t,e,n)=>{t[e]=Math.floor(n/864e5)})(t,e,n.valueOf())},mW=({values:t},e,n)=>{t[e]=BigInt(n)},gW=({values:t,valueOffsets:e},n,i)=>dW(t,e,n,i),vW=({values:t,valueOffsets:e},n,i)=>dW(t,e,n,kU(i)),bW=({values:t},e,n)=>{t[e]=BigInt(n/1e3)},yW=({values:t},e,n)=>{t[e]=BigInt(n)},wW=({values:t},e,n)=>{t[e]=BigInt(1e3*n)},xW=({values:t},e,n)=>{t[e]=BigInt(1e6*n)},CW=({values:t},e,n)=>{t[e]=n},kW=({values:t},e,n)=>{t[e]=n},SW=({values:t},e,n)=>{t[e]=n},_W=({values:t},e,n)=>{t[e]=n},IW=(t,e,n)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],s=t.children[i]
RW.visit(s,t.valueOffsets[e],n)},MW=(t,e,n)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],s=t.children[i]
RW.visit(s,e,n)},$W=({values:t},e,n)=>{t.set(n.subarray(0,2),2*e)},DW=({values:t},e,n)=>{t[e]=12*n[0]+n[1]%12},EW=({values:t},e,n)=>{t[e]=n},AW=({values:t},e,n)=>{t[e]=n},TW=({values:t},e,n)=>{t[e]=n},OW=({values:t},e,n)=>{t[e]=n}
lW.prototype.visitBool=cW((({offset:t,values:e},n,i)=>{const s=t+n
i?e[s>>3]|=1<<s%8:e[s>>3]&=~(1<<s%8)})),lW.prototype.visitInt=cW(hW),lW.prototype.visitInt8=cW(hW),lW.prototype.visitInt16=cW(hW),lW.prototype.visitInt32=cW(hW),lW.prototype.visitInt64=cW(hW),lW.prototype.visitUint8=cW(hW),lW.prototype.visitUint16=cW(hW),lW.prototype.visitUint32=cW(hW),lW.prototype.visitUint64=cW(hW),lW.prototype.visitFloat=cW(((t,e,n)=>{switch(t.type.precision){case tq.HALF:return pW(t,e,n)
case tq.SINGLE:case tq.DOUBLE:return uW(t,e,n)}})),lW.prototype.visitFloat16=cW(pW),lW.prototype.visitFloat32=cW(uW),lW.prototype.visitFloat64=cW(uW),lW.prototype.visitUtf8=cW(vW),lW.prototype.visitLargeUtf8=cW(vW),lW.prototype.visitBinary=cW(gW),lW.prototype.visitLargeBinary=cW(gW),lW.prototype.visitFixedSizeBinary=cW((({stride:t,values:e},n,i)=>{e.set(i.subarray(0,t),t*n)})),lW.prototype.visitDate=cW(((t,e,n)=>{t.type.unit===eq.DAY?fW(t,e,n):mW(t,e,n)})),lW.prototype.visitDateDay=cW(fW),lW.prototype.visitDateMillisecond=cW(mW),lW.prototype.visitTimestamp=cW(((t,e,n)=>{switch(t.type.unit){case nq.SECOND:return bW(t,e,n)
case nq.MILLISECOND:return yW(t,e,n)
case nq.MICROSECOND:return wW(t,e,n)
case nq.NANOSECOND:return xW(t,e,n)}})),lW.prototype.visitTimestampSecond=cW(bW),lW.prototype.visitTimestampMillisecond=cW(yW),lW.prototype.visitTimestampMicrosecond=cW(wW),lW.prototype.visitTimestampNanosecond=cW(xW),lW.prototype.visitTime=cW(((t,e,n)=>{switch(t.type.unit){case nq.SECOND:return CW(t,e,n)
case nq.MILLISECOND:return kW(t,e,n)
case nq.MICROSECOND:return SW(t,e,n)
case nq.NANOSECOND:return _W(t,e,n)}})),lW.prototype.visitTimeSecond=cW(CW),lW.prototype.visitTimeMillisecond=cW(kW),lW.prototype.visitTimeMicrosecond=cW(SW),lW.prototype.visitTimeNanosecond=cW(_W),lW.prototype.visitDecimal=cW((({values:t,stride:e},n,i)=>{t.set(i.subarray(0,e),e*n)})),lW.prototype.visitList=cW(((t,e,n)=>{const i=t.children[0],s=t.valueOffsets,o=RW.getVisitFn(i)
if(Array.isArray(n))for(let t=-1,r=s[e],a=s[e+1];r<a;)o(i,r++,n[++t])
else for(let t=-1,r=s[e],a=s[e+1];r<a;)o(i,r++,n.get(++t))})),lW.prototype.visitStruct=cW(((t,e,n)=>{const i=t.type.children.map((t=>RW.getVisitFn(t.type))),s=n instanceof Map?(o=e,r=n,(t,e,n,i)=>e&&t(e,o,r.get(n.name))):n instanceof iZ?((t,e)=>(n,i,s,o)=>i&&n(i,t,e.get(o)))(e,n):Array.isArray(n)?((t,e)=>(n,i,s,o)=>i&&n(i,t,e[o]))(e,n):((t,e)=>(n,i,s,o)=>i&&n(i,t,e[s.name]))(e,n)
var o,r
t.type.children.forEach(((e,n)=>s(i[n],t.children[n],e,n)))})),lW.prototype.visitUnion=cW(((t,e,n)=>{t.type.mode===QU.Dense?IW(t,e,n):MW(t,e,n)})),lW.prototype.visitDenseUnion=cW(IW),lW.prototype.visitSparseUnion=cW(MW),lW.prototype.visitDictionary=cW(((t,e,n)=>{var i
null===(i=t.dictionary)||void 0===i||i.set(t.values[e],n)})),lW.prototype.visitInterval=cW(((t,e,n)=>{t.type.unit===iq.DAY_TIME?$W(t,e,n):DW(t,e,n)})),lW.prototype.visitIntervalDayTime=cW($W),lW.prototype.visitIntervalYearMonth=cW(DW),lW.prototype.visitDuration=cW(((t,e,n)=>{switch(t.type.unit){case nq.SECOND:return EW(t,e,n)
case nq.MILLISECOND:return AW(t,e,n)
case nq.MICROSECOND:return TW(t,e,n)
case nq.NANOSECOND:return OW(t,e,n)}})),lW.prototype.visitDurationSecond=cW(EW),lW.prototype.visitDurationMillisecond=cW(AW),lW.prototype.visitDurationMicrosecond=cW(TW),lW.prototype.visitDurationNanosecond=cW(OW),lW.prototype.visitFixedSizeList=cW(((t,e,n)=>{const{stride:i}=t,s=t.children[0],o=RW.getVisitFn(s)
if(Array.isArray(n))for(let t=-1,r=e*i;++t<i;)o(s,r+t,n[t])
else for(let t=-1,r=e*i;++t<i;)o(s,r+t,n.get(t))})),lW.prototype.visitMap=cW(((t,e,n)=>{const i=t.children[0],{valueOffsets:s}=t,o=RW.getVisitFn(i)
let{[e]:r,[e+1]:a}=s
const l=n instanceof Map?n.entries():Object.entries(n)
for(const t of l)if(o(i,r,t),++r>=a)break}))
const RW=new lW,FW=Symbol.for("parent"),NW=Symbol.for("rowIndex")
class LW{constructor(t,e){return this[FW]=t,this[NW]=e,new Proxy(this,PW)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[NW],e=this[FW],n=e.type.children,i={}
for(let s=-1,o=n.length;++s<o;)i[n[s].name]=hG.visit(e.children[s],t)
return i}toString(){return`{${[...this].map((([t,e])=>`${Zq(t)}: ${Zq(e)}`)).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new BW(this[FW],this[NW])}}class BW{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex
return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,hG.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(LW.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[FW]:{writable:!0,enumerable:!1,configurable:!1,value:null},[NW]:{writable:!0,enumerable:!1,configurable:!1,value:-1}})
const PW=new class{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[FW].type.children.map((t=>t.name))}has(t,e){return t[FW].type.children.some((t=>t.name===e))}getOwnPropertyDescriptor(t,e){if(t[FW].type.children.some((t=>t.name===e)))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e]
const n=t[FW].type.children.findIndex((t=>t.name===e))
if(-1!==n){const i=hG.visit(t[FW].children[n],t[NW])
return Reflect.set(t,e,i),i}}set(t,e,n){const i=t[FW].type.children.findIndex((t=>t.name===e))
return-1!==i?(RW.visit(t[FW].children[i],t[NW],n),Reflect.set(t,e,n)):!(!Reflect.has(t,e)&&"symbol"!=typeof e)&&Reflect.set(t,e,n)}}
class zW extends nW{}function VW(t){return(e,n)=>e.getValid(n)?t(e,n):null}const HW=(t,e,n)=>{if(n+1>=e.length)return null
const i=Kq(e[n]),s=Kq(e[n+1])
return t.subarray(i,s)},UW=({values:t},e)=>((t,e)=>864e5*t[e])(t,e),qW=({values:t},e)=>Kq(t[e]),jW=({stride:t,values:e},n)=>e[t*n],WW=({values:t},e)=>t[e],GW=({values:t,valueOffsets:e},n)=>HW(t,e,n),ZW=({values:t,valueOffsets:e},n)=>{const i=HW(t,e,n)
return null!==i?xU(i):null},KW=({values:t},e)=>1e3*Kq(t[e]),YW=({values:t},e)=>Kq(t[e]),XW=({values:t},e)=>Yq(t[e],BigInt(1e3)),JW=({values:t},e)=>Yq(t[e],BigInt(1e6)),QW=({values:t},e)=>t[e],tG=({values:t},e)=>t[e],eG=({values:t},e)=>t[e],nG=({values:t},e)=>t[e],iG=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[n]
return hG.visit(i,t.valueOffsets[e])},sG=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[n]
return hG.visit(i,e)},oG=({values:t},e)=>t.subarray(2*e,2*(e+1)),rG=({values:t},e)=>{const n=t[e],i=new Int32Array(2)
return i[0]=Math.trunc(n/12),i[1]=Math.trunc(n%12),i},aG=({values:t},e)=>t[e],lG=({values:t},e)=>t[e],cG=({values:t},e)=>t[e],dG=({values:t},e)=>t[e]
zW.prototype.visitNull=VW(((t,e)=>null)),zW.prototype.visitBool=VW((({offset:t,values:e},n)=>{const i=t+n
return!!(e[i>>3]&1<<i%8)})),zW.prototype.visitInt=VW((({values:t},e)=>t[e])),zW.prototype.visitInt8=VW(jW),zW.prototype.visitInt16=VW(jW),zW.prototype.visitInt32=VW(jW),zW.prototype.visitInt64=VW(WW),zW.prototype.visitUint8=VW(jW),zW.prototype.visitUint16=VW(jW),zW.prototype.visitUint32=VW(jW),zW.prototype.visitUint64=VW(WW),zW.prototype.visitFloat=VW((({type:t,values:e},n)=>t.precision!==tq.HALF?e[n]:aW(e[n]))),zW.prototype.visitFloat16=VW((({stride:t,values:e},n)=>aW(e[t*n]))),zW.prototype.visitFloat32=VW(jW),zW.prototype.visitFloat64=VW(jW),zW.prototype.visitUtf8=VW(ZW),zW.prototype.visitLargeUtf8=VW(ZW),zW.prototype.visitBinary=VW(GW),zW.prototype.visitLargeBinary=VW(GW),zW.prototype.visitFixedSizeBinary=VW((({stride:t,values:e},n)=>e.subarray(t*n,t*(n+1)))),zW.prototype.visitDate=VW(((t,e)=>t.type.unit===eq.DAY?UW(t,e):qW(t,e))),zW.prototype.visitDateDay=VW(UW),zW.prototype.visitDateMillisecond=VW(qW),zW.prototype.visitTimestamp=VW(((t,e)=>{switch(t.type.unit){case nq.SECOND:return KW(t,e)
case nq.MILLISECOND:return YW(t,e)
case nq.MICROSECOND:return XW(t,e)
case nq.NANOSECOND:return JW(t,e)}})),zW.prototype.visitTimestampSecond=VW(KW),zW.prototype.visitTimestampMillisecond=VW(YW),zW.prototype.visitTimestampMicrosecond=VW(XW),zW.prototype.visitTimestampNanosecond=VW(JW),zW.prototype.visitTime=VW(((t,e)=>{switch(t.type.unit){case nq.SECOND:return QW(t,e)
case nq.MILLISECOND:return tG(t,e)
case nq.MICROSECOND:return eG(t,e)
case nq.NANOSECOND:return nG(t,e)}})),zW.prototype.visitTimeSecond=VW(QW),zW.prototype.visitTimeMillisecond=VW(tG),zW.prototype.visitTimeMicrosecond=VW(eG),zW.prototype.visitTimeNanosecond=VW(nG),zW.prototype.visitDecimal=VW((({values:t,stride:e},n)=>rj.decimal(t.subarray(e*n,e*(n+1))))),zW.prototype.visitList=VW(((t,e)=>{const{valueOffsets:n,stride:i,children:s}=t,{[e*i]:o,[e*i+1]:r}=n,a=s[0].slice(o,r-o)
return new iZ([a])})),zW.prototype.visitStruct=VW(((t,e)=>new LW(t,e))),zW.prototype.visitUnion=VW(((t,e)=>t.type.mode===QU.Dense?iG(t,e):sG(t,e))),zW.prototype.visitDenseUnion=VW(iG),zW.prototype.visitSparseUnion=VW(sG),zW.prototype.visitDictionary=VW(((t,e)=>{var n
return null===(n=t.dictionary)||void 0===n?void 0:n.get(t.values[e])})),zW.prototype.visitInterval=VW(((t,e)=>t.type.unit===iq.DAY_TIME?oG(t,e):rG(t,e))),zW.prototype.visitIntervalDayTime=VW(oG),zW.prototype.visitIntervalYearMonth=VW(rG),zW.prototype.visitDuration=VW(((t,e)=>{switch(t.type.unit){case nq.SECOND:return aG(t,e)
case nq.MILLISECOND:return lG(t,e)
case nq.MICROSECOND:return cG(t,e)
case nq.NANOSECOND:return dG(t,e)}})),zW.prototype.visitDurationSecond=VW(aG),zW.prototype.visitDurationMillisecond=VW(lG),zW.prototype.visitDurationMicrosecond=VW(cG),zW.prototype.visitDurationNanosecond=VW(dG),zW.prototype.visitFixedSizeList=VW(((t,e)=>{const{stride:n,children:i}=t,s=i[0].slice(e*n,n)
return new iZ([s])})),zW.prototype.visitMap=VW(((t,e)=>{const{valueOffsets:n,children:i}=t,{[e]:s,[e+1]:o}=n,r=i[0]
return new gG(r.slice(s,o-s))}))
const hG=new zW,uG=Symbol.for("keys"),pG=Symbol.for("vals"),fG=Symbol.for("kKeysAsStrings"),mG=Symbol.for("_kKeysAsStrings")
class gG{constructor(t){return this[uG]=new iZ([t.children[0]]).memoize(),this[pG]=t.children[1],new Proxy(this,new bG)}get[fG](){return this[mG]||(this[mG]=Array.from(this[uG].toArray(),String))}[Symbol.iterator](){return new vG(this[uG],this[pG])}get size(){return this[uG].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[uG],e=this[pG],n={}
for(let i=-1,s=t.length;++i<s;)n[t.get(i)]=hG.visit(e,i)
return n}toString(){return`{${[...this].map((([t,e])=>`${Zq(t)}: ${Zq(e)}`)).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class vG{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex
return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),hG.visit(this.vals,t)]})}}class bG{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[fG]}has(t,e){return t[fG].includes(e)}getOwnPropertyDescriptor(t,e){if(-1!==t[fG].indexOf(e))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e]
const n=t[fG].indexOf(e)
if(-1!==n){const i=hG.visit(Reflect.get(t,pG),n)
return Reflect.set(t,e,i),i}}set(t,e,n){const i=t[fG].indexOf(e)
return-1!==i?(RW.visit(Reflect.get(t,pG),i,n),Reflect.set(t,e,n)):!!Reflect.has(t,e)&&Reflect.set(t,e,n)}}let yG
function wG(t,e,n,i){const{length:s=0}=t
let o="number"!=typeof e?0:e,r="number"!=typeof n?s:n
return o<0&&(o=(o%s+s)%s),r<0&&(r=(r%s+s)%s),r<o&&(yG=o,o=r,r=yG),r>s&&(r=s),i?i(t,o,r):[o,r]}Object.defineProperties(gG.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[uG]:{writable:!0,enumerable:!1,configurable:!1,value:null},[pG]:{writable:!0,enumerable:!1,configurable:!1,value:null},[mG]:{writable:!0,enumerable:!1,configurable:!1,value:null}})
const xG=(t,e)=>t<0?e+t:t,CG=t=>t!=t
function kG(t){if("object"!==typeof t||null===t)return CG(t)?CG:e=>e===t
if(t instanceof Date){const e=t.valueOf()
return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&function(t,e){let n=0
const i=t.length
if(i!==e.length)return!1
if(i>0)do{if(t[n]!==e[n])return!1}while(++n<i)
return!0}(t,e):t instanceof Map?function(t){let e=-1
const n=[]
for(const i of t.values())n[++e]=kG(i)
return SG(n)}(t):Array.isArray(t)?function(t){const e=[]
for(let n=-1,i=t.length;++n<i;)e[n]=kG(t[n])
return SG(e)}(t):t instanceof iZ?function(t){const e=[]
for(let n=-1,i=t.length;++n<i;)e[n]=kG(t.get(n))
return SG(e)}(t):function(t,e=!1){const n=Object.keys(t)
if(!e&&0===n.length)return()=>!1
const i=[]
for(let e=-1,s=n.length;++e<s;)i[e]=kG(t[n[e]])
return SG(i,n)}(t,!0)}function SG(t,e){return n=>{if(!n||"object"!=typeof n)return!1
switch(n.constructor){case Array:return function(t,e){const n=t.length
if(e.length!==n)return!1
for(let i=-1;++i<n;)if(!t[i](e[i]))return!1
return!0}(t,n)
case Map:return _G(t,n,n.keys())
case gG:case LW:case Object:case void 0:return _G(t,n,e||Object.keys(n))}return n instanceof iZ&&function(t,e){const n=t.length
if(e.length!==n)return!1
for(let i=-1;++i<n;)if(!t[i](e.get(i)))return!1
return!0}(t,n)}}function _G(t,e,n){const i=n[Symbol.iterator](),s=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),o=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]()
let r=0
const a=t.length
let l=o.next(),c=i.next(),d=s.next()
for(;r<a&&!c.done&&!d.done&&!l.done&&(c.value===d.value&&t[r](l.value));++r,c=i.next(),d=s.next(),l=o.next());return!!(r===a&&c.done&&d.done&&l.done)||(i.return&&i.return(),s.return&&s.return(),o.return&&o.return(),!1)}function IG(t,e,n,i){return!!(n&1<<i)}function MG(t,e,n,i){return(n&1<<i)>>i}function $G(t,e,n){const i=n.byteLength+7&-8
if(t>0||n.byteLength<i){const s=new Uint8Array(i)
return s.set(t%8==0?n.subarray(t>>3):DG(new EG(n,t,e,null,IG)).subarray(0,i)),s}return n}function DG(t){const e=[]
let n=0,i=0,s=0
for(const o of t)o&&(s|=1<<i),8==++i&&(e[n++]=s,s=i=0);(0===n||i>0)&&(e[n++]=s)
const o=new Uint8Array(e.length+7&-8)
return o.set(e),o}class EG{constructor(t,e,n,i,s){this.bytes=t,this.length=n,this.context=i,this.get=s,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function AG(t,e,n){if(n-e<=0)return 0
if(n-e<8){let i=0
for(const s of new EG(t,e,n-e,t,MG))i+=s
return i}const i=n>>3<<3,s=e+(e%8==0?0:8-e%8)
return AG(t,e,s)+AG(t,i,n)+function(t,e,n){let i=0,s=Math.trunc(e)
const o=new DataView(t.buffer,t.byteOffset,t.byteLength),r=void 0===n?t.byteLength:s+n
for(;r-s>=4;)i+=TG(o.getUint32(s)),s+=4
for(;r-s>=2;)i+=TG(o.getUint16(s)),s+=2
for(;r-s>=1;)i+=TG(o.getUint8(s)),s+=1
return i}(t,s>>3,i-s>>3)}function TG(t){let e=Math.trunc(t)
return e-=e>>>1&1431655765,e=(858993459&e)+(e>>>2&858993459),16843009*(e+(e>>>4)&252645135)>>>24}class OG{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(0!==this._nullCount){const{type:t}=this
return Ej.isSparseUnion(t)||Ej.isDenseUnion(t)?this.children.some((t=>t.nullable)):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0
const{valueOffsets:e,values:n,nullBitmap:i,typeIds:s}=this
return e&&(t+=e.byteLength),n&&(t+=n.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce(((t,e)=>t+e.byteLength),t)}get nullCount(){if(Ej.isUnion(this.type))return this.children.reduce(((t,e)=>t+e.nullCount),0)
let t,e=this._nullCount
return e<=-1&&(t=this.nullBitmap)&&(this._nullCount=e=0===t.length?0:this.length-AG(t,this.offset,this.offset+this.length)),e}constructor(t,e,n,i,s,o=[],r){let a
this.type=t,this.children=o,this.dictionary=r,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(n||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1)),s instanceof OG?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=eW(t),s&&((a=s[0])&&(this.valueOffsets=a),(a=s[1])&&(this.values=a),(a=s[2])&&(this.nullBitmap=a),(a=s[3])&&(this.typeIds=a)))}getValid(t){const{type:e}=this
if(Ej.isUnion(e)){const n=e,i=this.children[n.typeIdToChildIndex[this.typeIds[t]]],s=n.mode===QU.Dense?this.valueOffsets[t]:t
return i.getValid(s)}if(this.nullable&&this.nullCount>0){const e=this.offset+t
return!!(this.nullBitmap[e>>3]&1<<e%8)}return!0}setValid(t,e){let n
const{type:i}=this
if(Ej.isUnion(i)){const s=i,o=this.children[s.typeIdToChildIndex[this.typeIds[t]]],r=s.mode===QU.Dense?this.valueOffsets[t]:t
n=o.getValid(r),o.setValid(r,e)}else{let{nullBitmap:i}=this
const{offset:s,length:o}=this,r=s+t,a=1<<r%8,l=r>>3;(!i||i.byteLength<=l)&&(i=new Uint8Array((s+o+63&-64)>>3).fill(255),this.nullCount>0?(i.set($G(s,o,this.nullBitmap),0),Object.assign(this,{nullBitmap:i})):Object.assign(this,{nullBitmap:i,_nullCount:0}))
const c=i[l]
n=!!(c&a),i[l]=e?c|a:c&~a}return n!==!!e&&(this._nullCount=this.nullCount+(e?-1:1)),e}clone(t=this.type,e=this.offset,n=this.length,i=this._nullCount,s=this,o=this.children){return new OG(t,e,n,i,s,o,this.dictionary)}slice(t,e){const{stride:n,typeId:i,children:s}=this,o=+(0===this._nullCount)-1,r=16===i?n:1,a=this._sliceBuffers(t,e,n,i)
return this.clone(this.type,this.offset+t,e,o,a,0===s.length||this.valueOffsets?s:this._sliceChildren(s,r*t,r*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===Wq.Null)return this.clone(this.type,0,t,0)
const{length:e,nullCount:n}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3)
i[e>>3]=(1<<e-(-8&e))-1,n>0&&i.set($G(this.offset,e,this.nullBitmap),0)
const s=this.buffers
return s[Gq.VALIDITY]=i,this.clone(this.type,0,t,n+(t-e),s)}_sliceBuffers(t,e,n,i){let s
const{buffers:o}=this
return(s=o[Gq.TYPE])&&(o[Gq.TYPE]=s.subarray(t,t+e)),(s=o[Gq.OFFSET])&&(o[Gq.OFFSET]=s.subarray(t,t+e+1))||(s=o[Gq.DATA])&&(o[Gq.DATA]=6===i?s:s.subarray(n*t,n*(t+e))),o}_sliceChildren(t,e,n){return t.map((t=>t.slice(e,n)))}}OG.prototype.children=Object.freeze([])
class RG extends nW{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{type:e,offset:n=0,length:i=0}=t
return new OG(e,n,i,i)}visitBool(t){const{type:e,offset:n=0}=t,i=UU(t.nullBitmap),s=zU(e.ArrayType,t.data),{length:o=s.length>>3,nullCount:r=(t.nullBitmap?-1:0)}=t
return new OG(e,n,o,r,[void 0,s,i])}visitInt(t){const{type:e,offset:n=0}=t,i=UU(t.nullBitmap),s=zU(e.ArrayType,t.data),{length:o=s.length,nullCount:r=(t.nullBitmap?-1:0)}=t
return new OG(e,n,o,r,[void 0,s,i])}visitFloat(t){const{type:e,offset:n=0}=t,i=UU(t.nullBitmap),s=zU(e.ArrayType,t.data),{length:o=s.length,nullCount:r=(t.nullBitmap?-1:0)}=t
return new OG(e,n,o,r,[void 0,s,i])}visitUtf8(t){const{type:e,offset:n=0}=t,i=UU(t.data),s=UU(t.nullBitmap),o=VU(t.valueOffsets),{length:r=o.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t
return new OG(e,n,r,a,[o,i,s])}visitLargeUtf8(t){const{type:e,offset:n=0}=t,i=UU(t.data),s=UU(t.nullBitmap),o=HU(t.valueOffsets),{length:r=o.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t
return new OG(e,n,r,a,[o,i,s])}visitBinary(t){const{type:e,offset:n=0}=t,i=UU(t.data),s=UU(t.nullBitmap),o=VU(t.valueOffsets),{length:r=o.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t
return new OG(e,n,r,a,[o,i,s])}visitLargeBinary(t){const{type:e,offset:n=0}=t,i=UU(t.data),s=UU(t.nullBitmap),o=HU(t.valueOffsets),{length:r=o.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t
return new OG(e,n,r,a,[o,i,s])}visitFixedSizeBinary(t){const{type:e,offset:n=0}=t,i=UU(t.nullBitmap),s=zU(e.ArrayType,t.data),{length:o=s.length/eW(e),nullCount:r=(t.nullBitmap?-1:0)}=t
return new OG(e,n,o,r,[void 0,s,i])}visitDate(t){const{type:e,offset:n=0}=t,i=UU(t.nullBitmap),s=zU(e.ArrayType,t.data),{length:o=s.length/eW(e),nullCount:r=(t.nullBitmap?-1:0)}=t
return new OG(e,n,o,r,[void 0,s,i])}visitTimestamp(t){const{type:e,offset:n=0}=t,i=UU(t.nullBitmap),s=zU(e.ArrayType,t.data),{length:o=s.length/eW(e),nullCount:r=(t.nullBitmap?-1:0)}=t
return new OG(e,n,o,r,[void 0,s,i])}visitTime(t){const{type:e,offset:n=0}=t,i=UU(t.nullBitmap),s=zU(e.ArrayType,t.data),{length:o=s.length/eW(e),nullCount:r=(t.nullBitmap?-1:0)}=t
return new OG(e,n,o,r,[void 0,s,i])}visitDecimal(t){const{type:e,offset:n=0}=t,i=UU(t.nullBitmap),s=zU(e.ArrayType,t.data),{length:o=s.length/eW(e),nullCount:r=(t.nullBitmap?-1:0)}=t
return new OG(e,n,o,r,[void 0,s,i])}visitList(t){const{type:e,offset:n=0,child:i}=t,s=UU(t.nullBitmap),o=VU(t.valueOffsets),{length:r=o.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t
return new OG(e,n,r,a,[o,void 0,s],[i])}visitStruct(t){const{type:e,offset:n=0,children:i=[]}=t,s=UU(t.nullBitmap),{length:o=i.reduce(((t,{length:e})=>Math.max(t,e)),0),nullCount:r=(t.nullBitmap?-1:0)}=t
return new OG(e,n,o,r,[void 0,void 0,s],i)}visitUnion(t){const{type:e,offset:n=0,children:i=[]}=t,s=zU(e.ArrayType,t.typeIds),{length:o=s.length,nullCount:r=-1}=t
if(Ej.isSparseUnion(e))return new OG(e,n,o,r,[void 0,void 0,void 0,s],i)
const a=VU(t.valueOffsets)
return new OG(e,n,o,r,[a,void 0,void 0,s],i)}visitDictionary(t){const{type:e,offset:n=0}=t,i=UU(t.nullBitmap),s=zU(e.indices.ArrayType,t.data),{dictionary:o=new iZ([(new RG).visit({type:e.dictionary})])}=t,{length:r=s.length,nullCount:a=(t.nullBitmap?-1:0)}=t
return new OG(e,n,r,a,[void 0,s,i],[],o)}visitInterval(t){const{type:e,offset:n=0}=t,i=UU(t.nullBitmap),s=zU(e.ArrayType,t.data),{length:o=s.length/eW(e),nullCount:r=(t.nullBitmap?-1:0)}=t
return new OG(e,n,o,r,[void 0,s,i])}visitDuration(t){const{type:e,offset:n=0}=t,i=UU(t.nullBitmap),s=zU(e.ArrayType,t.data),{length:o=s.length,nullCount:r=(t.nullBitmap?-1:0)}=t
return new OG(e,n,o,r,[void 0,s,i])}visitFixedSizeList(t){const{type:e,offset:n=0,child:i=(new RG).visit({type:e.valueType})}=t,s=UU(t.nullBitmap),{length:o=i.length/eW(e),nullCount:r=(t.nullBitmap?-1:0)}=t
return new OG(e,n,o,r,[void 0,void 0,s],[i])}visitMap(t){const{type:e,offset:n=0,child:i=(new RG).visit({type:e.childType})}=t,s=UU(t.nullBitmap),o=VU(t.valueOffsets),{length:r=o.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t
return new OG(e,n,r,a,[o,void 0,s],[i])}}const FG=new RG
function NG(t){return FG.visit(t)}class LG{constructor(t=0,e){this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next()
if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function BG(t){return t.reduce(((t,e)=>t+e.nullCount),0)}function PG(t){return t.reduce(((t,e,n)=>(t[n+1]=t[n]+e.length,t)),new Uint32Array(t.length+1))}function zG(t,e,n,i){const s=[]
for(let o=-1,r=t.length;++o<r;){const r=t[o],a=e[o],{length:l}=r
if(a>=i)break
if(n>=a+l)continue
if(a>=n&&a+l<=i){s.push(r)
continue}const c=Math.max(0,n-a),d=Math.min(i-a,l)
s.push(r.slice(c,d-c))}return 0===s.length&&s.push(t[0].slice(0,0)),s}function VG(t,e,n,i){let s=0,o=0,r=e.length-1
do{if(s>=r-1)return n<e[r]?i(t,s,n-e[s]):null
o=s+Math.trunc(.5*(r-s)),n<e[o]?r=o:s=o}while(s<r)}function HG(t,e){return t.getValid(e)}function UG(t){function e(e,n,i){return t(e[n],i)}return function(t){return VG(this.data,this._offsets,t,e)}}function qG(t){let e
function n(n,i,s){return t(n[i],s,e)}return function(t,i){const s=this.data
e=i
const o=VG(s,this._offsets,t,n)
return e=void 0,o}}function jG(t){let e
function n(n,i,s){let o=s,r=0,a=0
for(let s=i-1,l=n.length;++s<l;){const i=n[s]
if(~(r=t(i,e,o)))return a+r
o=0,a+=i.length}return-1}return function(t,i){e=t
const s=this.data,o="number"!=typeof i?n(s,0,0):VG(s,this._offsets,i,n)
return e=void 0,o}}class WG extends nW{}function GG(t,e,n){if(void 0===e)return-1
if(null===e)switch(t.typeId){case Wq.Union:case Wq.Dictionary:break
default:return function(t,e){const{nullBitmap:n}=t
if(!n||t.nullCount<=0)return-1
let i=0
for(const s of new EG(n,t.offset+(e||0),t.length,n,IG)){if(!s)return i;++i}return-1}(t,n)}const i=hG.getVisitFn(t),s=kG(e)
for(let e=(n||0)-1,o=t.length;++e<o;)if(s(i(t,e)))return e
return-1}function ZG(t,e,n){const i=hG.getVisitFn(t),s=kG(e)
for(let e=(n||0)-1,o=t.length;++e<o;)if(s(i(t,e)))return e
return-1}WG.prototype.visitNull=function(t,e){return null===e&&t.length>0?0:-1},WG.prototype.visitBool=GG,WG.prototype.visitInt=GG,WG.prototype.visitInt8=GG,WG.prototype.visitInt16=GG,WG.prototype.visitInt32=GG,WG.prototype.visitInt64=GG,WG.prototype.visitUint8=GG,WG.prototype.visitUint16=GG,WG.prototype.visitUint32=GG,WG.prototype.visitUint64=GG,WG.prototype.visitFloat=GG,WG.prototype.visitFloat16=GG,WG.prototype.visitFloat32=GG,WG.prototype.visitFloat64=GG,WG.prototype.visitUtf8=GG,WG.prototype.visitLargeUtf8=GG,WG.prototype.visitBinary=GG,WG.prototype.visitLargeBinary=GG,WG.prototype.visitFixedSizeBinary=GG,WG.prototype.visitDate=GG,WG.prototype.visitDateDay=GG,WG.prototype.visitDateMillisecond=GG,WG.prototype.visitTimestamp=GG,WG.prototype.visitTimestampSecond=GG,WG.prototype.visitTimestampMillisecond=GG,WG.prototype.visitTimestampMicrosecond=GG,WG.prototype.visitTimestampNanosecond=GG,WG.prototype.visitTime=GG,WG.prototype.visitTimeSecond=GG,WG.prototype.visitTimeMillisecond=GG,WG.prototype.visitTimeMicrosecond=GG,WG.prototype.visitTimeNanosecond=GG,WG.prototype.visitDecimal=GG,WG.prototype.visitList=GG,WG.prototype.visitStruct=GG,WG.prototype.visitUnion=GG,WG.prototype.visitDenseUnion=ZG,WG.prototype.visitSparseUnion=ZG,WG.prototype.visitDictionary=GG,WG.prototype.visitInterval=GG,WG.prototype.visitIntervalDayTime=GG,WG.prototype.visitIntervalYearMonth=GG,WG.prototype.visitDuration=GG,WG.prototype.visitDurationSecond=GG,WG.prototype.visitDurationMillisecond=GG,WG.prototype.visitDurationMicrosecond=GG,WG.prototype.visitDurationNanosecond=GG,WG.prototype.visitFixedSizeList=GG,WG.prototype.visitMap=GG
const KG=new WG
class YG extends nW{}function XG(t){const{type:e}=t
if(0===t.nullCount&&1===t.stride&&(Ej.isInt(e)&&64!==e.bitWidth||Ej.isTime(e)&&64!==e.bitWidth||Ej.isFloat(e)&&e.precision!==tq.HALF))return new LG(t.data.length,(e=>{const n=t.data[e]
return n.values.subarray(0,n.length)[Symbol.iterator]()}))
let n=0
return new LG(t.data.length,(e=>{const i=t.data[e].length,s=t.slice(n,n+i)
return n+=i,new JG(s)}))}class JG{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}YG.prototype.visitNull=XG,YG.prototype.visitBool=XG,YG.prototype.visitInt=XG,YG.prototype.visitInt8=XG,YG.prototype.visitInt16=XG,YG.prototype.visitInt32=XG,YG.prototype.visitInt64=XG,YG.prototype.visitUint8=XG,YG.prototype.visitUint16=XG,YG.prototype.visitUint32=XG,YG.prototype.visitUint64=XG,YG.prototype.visitFloat=XG,YG.prototype.visitFloat16=XG,YG.prototype.visitFloat32=XG,YG.prototype.visitFloat64=XG,YG.prototype.visitUtf8=XG,YG.prototype.visitLargeUtf8=XG,YG.prototype.visitBinary=XG,YG.prototype.visitLargeBinary=XG,YG.prototype.visitFixedSizeBinary=XG,YG.prototype.visitDate=XG,YG.prototype.visitDateDay=XG,YG.prototype.visitDateMillisecond=XG,YG.prototype.visitTimestamp=XG,YG.prototype.visitTimestampSecond=XG,YG.prototype.visitTimestampMillisecond=XG,YG.prototype.visitTimestampMicrosecond=XG,YG.prototype.visitTimestampNanosecond=XG,YG.prototype.visitTime=XG,YG.prototype.visitTimeSecond=XG,YG.prototype.visitTimeMillisecond=XG,YG.prototype.visitTimeMicrosecond=XG,YG.prototype.visitTimeNanosecond=XG,YG.prototype.visitDecimal=XG,YG.prototype.visitList=XG,YG.prototype.visitStruct=XG,YG.prototype.visitUnion=XG,YG.prototype.visitDenseUnion=XG,YG.prototype.visitSparseUnion=XG,YG.prototype.visitDictionary=XG,YG.prototype.visitInterval=XG,YG.prototype.visitIntervalDayTime=XG,YG.prototype.visitIntervalYearMonth=XG,YG.prototype.visitDuration=XG,YG.prototype.visitDurationSecond=XG,YG.prototype.visitDurationMillisecond=XG,YG.prototype.visitDurationMicrosecond=XG,YG.prototype.visitDurationNanosecond=XG,YG.prototype.visitFixedSizeList=XG,YG.prototype.visitMap=XG
const QG=new YG
var tZ
const eZ={},nZ={}
class iZ{constructor(t){var e,n,i
const s=t[0]instanceof iZ?t.flatMap((t=>t.data)):t
if(0===s.length||s.some((t=>!(t instanceof OG))))throw new TypeError("Vector constructor expects an Array of Data instances.")
const o=null===(e=s[0])||void 0===e?void 0:e.type
switch(s.length){case 0:this._offsets=[0]
break
case 1:{const{get:t,set:e,indexOf:n}=eZ[o.typeId],i=s[0]
this.isValid=t=>HG(i,t),this.get=e=>t(i,e),this.set=(t,n)=>e(i,t,n),this.indexOf=t=>n(i,t),this._offsets=[0,i.length]
break}default:Object.setPrototypeOf(this,nZ[o.typeId]),this._offsets=PG(s)}this.data=s,this.type=o,this.stride=eW(o),this.numChildren=null!==(i=null===(n=o.children)||void 0===n?void 0:n.length)&&void 0!==i?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce(((t,e)=>t+e.byteLength),0)}get nullable(){return this.data.some((t=>t.nullable))}get nullCount(){return BG(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${Wq[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}at(t){return this.get(xG(t,this.length))}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>-1}[Symbol.iterator](){return QG.visit(this)}concat(...t){return new iZ(this.data.concat(t.flatMap((t=>t.data)).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new iZ(wG(this,t,e,(({data:t,_offsets:e},n,i)=>zG(t,e,n,i))))}toJSON(){return[...this]}toArray(){const{type:t,data:e,length:n,stride:i,ArrayType:s}=this
switch(t.typeId){case Wq.Int:case Wq.Float:case Wq.Decimal:case Wq.Time:case Wq.Timestamp:switch(e.length){case 0:return new s
case 1:return e[0].values.subarray(0,n*i)
default:return e.reduce(((t,{values:e,length:n})=>(t.array.set(e.subarray(0,n*i),t.offset),t.offset+=n*i,t)),{array:new s(n*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var e
return this.getChildAt(null===(e=this.type.children)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.numChildren?new iZ(this.data.map((({children:e})=>e[t]))):null}get isMemoized(){return!!Ej.isDictionary(this.type)&&this.data[0].dictionary.isMemoized}memoize(){if(Ej.isDictionary(this.type)){const t=new sZ(this.data[0].dictionary),e=this.data.map((e=>{const n=e.clone()
return n.dictionary=t,n}))
return new iZ(e)}return new sZ(this)}unmemoize(){if(Ej.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),e=this.data.map((e=>{const n=e.clone()
return n.dictionary=t,n}))
return new iZ(e)}return this}}tZ=Symbol.toStringTag,iZ[tZ]=(t=>{t.type=Ej.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0
const e=Object.keys(Wq).map((t=>Wq[t])).filter((t=>"number"==typeof t&&t!==Wq.NONE))
for(const n of e){const e=hG.getVisitFnByTypeId(n),i=RW.getVisitFnByTypeId(n),s=KG.getVisitFnByTypeId(n)
eZ[n]={get:e,set:i,indexOf:s},nZ[n]=Object.create(t,{isValid:{value:UG(HG)},get:{value:UG(hG.getVisitFnByTypeId(n))},set:{value:qG(RW.getVisitFnByTypeId(n))},indexOf:{value:jG(KG.getVisitFnByTypeId(n))}})}return"Vector"})(iZ.prototype)
class sZ extends iZ{constructor(t){super(t.data)
const e=this.get,n=this.set,i=this.slice,s=new Array(this.length)
Object.defineProperty(this,"get",{value(t){const n=s[t]
if(void 0!==n)return n
const i=e.call(this,t)
return s[t]=i,i}}),Object.defineProperty(this,"set",{value(t,e){n.call(this,t,e),s[t]=e}}),Object.defineProperty(this,"slice",{value:(t,e)=>new sZ(i.call(this,t,e))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new iZ(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class oZ{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,n,i){return t.prep(8,24),t.writeInt64(BigInt(null!=i?i:0)),t.pad(4),t.writeInt32(n),t.writeInt64(BigInt(null!=e?e:0)),t.offset()}}class rZ{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new rZ).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+4),(e||new rZ).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.readInt16(this.bb_pos+t):JU.V1}schema(t){const e=this.bb.__offset(this.bb_pos,6)
return e?(t||new qq).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){const n=this.bb.__offset(this.bb_pos,8)
return n?(e||new oZ).__init(this.bb.__vector(this.bb_pos+n)+24*t,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8)
return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){const n=this.bb.__offset(this.bb_pos,10)
return n?(e||new oZ).__init(this.bb.__vector(this.bb_pos+n)+24*t,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10)
return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,12)
return n?(e||new Cq).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12)
return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,JU.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4)
for(let n=e.length-1;n>=0;n--)t.addOffset(e[n])
return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}class aZ{constructor(t=[],e,n,i=JU.V5){this.fields=t||[],this.metadata=e||new Map,n||(n=dZ(this.fields)),this.dictionaries=n,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map((t=>t.name))}toString(){return`Schema<{ ${this.fields.map(((t,e)=>`${e}: ${t}`)).join(", ")} }>`}select(t){const e=new Set(t),n=this.fields.filter((t=>e.has(t.name)))
return new aZ(n,this.metadata)}selectAt(t){const e=t.map((t=>this.fields[t])).filter(Boolean)
return new aZ(e,this.metadata)}assign(...t){const e=t[0]instanceof aZ?t[0]:Array.isArray(t[0])?new aZ(t[0]):new aZ(t),n=[...this.fields],i=cZ(cZ(new Map,this.metadata),e.metadata),s=e.fields.filter((t=>{const e=n.findIndex((e=>e.name===t.name))
return!~e||(n[e]=t.clone({metadata:cZ(cZ(new Map,n[e].metadata),t.metadata)}))&&!1})),o=dZ(s,new Map)
return new aZ([...n,...s],i,new Map([...this.dictionaries,...o]))}}aZ.prototype.fields=null,aZ.prototype.metadata=null,aZ.prototype.dictionaries=null
class lZ{static new(...t){let[e,n,i,s]=t
return t[0]&&"object"==typeof t[0]&&(({name:e}=t[0]),void 0===n&&(n=t[0].type),void 0===i&&(i=t[0].nullable),void 0===s&&(s=t[0].metadata)),new lZ(`${e}`,n,i,s)}constructor(t,e,n=!1,i){this.name=t,this.type=e,this.nullable=n,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[e,n,i,s]=t
return t[0]&&"object"==typeof t[0]?({name:e=this.name,type:n=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0]):[e=this.name,n=this.type,i=this.nullable,s=this.metadata]=t,lZ.new(e,n,i,s)}}function cZ(t,e){return new Map([...t||new Map,...e||new Map])}function dZ(t,e=new Map){for(let n=-1,i=t.length;++n<i;){const i=t[n].type
if(Ej.isDictionary(i))if(e.has(i.id)){if(e.get(i.id)!==i.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else e.set(i.id,i.dictionary)
i.children&&i.children.length>0&&dZ(i.children,e)}return e}lZ.prototype.type=null,lZ.prototype.name=null,lZ.prototype.nullable=null,lZ.prototype.metadata=null
var hZ=dq,uZ=cq
class pZ{static decode(t){t=new uZ(UU(t))
const e=rZ.getRootAsFooter(t),n=aZ.decode(e.schema(),new Map,e.version())
return new fZ(n,e)}static encode(t){const e=new hZ,n=aZ.encode(e,t.schema)
rZ.startRecordBatchesVector(e,t.numRecordBatches)
for(const n of[...t.recordBatches()].slice().reverse())mZ.encode(e,n)
const i=e.endVector()
rZ.startDictionariesVector(e,t.numDictionaries)
for(const n of[...t.dictionaryBatches()].slice().reverse())mZ.encode(e,n)
const s=e.endVector()
return rZ.startFooter(e),rZ.addSchema(e,n),rZ.addVersion(e,JU.V5),rZ.addRecordBatches(e,i),rZ.addDictionaries(e,s),rZ.finishFooterBuffer(e,rZ.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,e=JU.V5,n,i){this.schema=t,this.version=e,n&&(this._recordBatches=n),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let t,e=-1,n=this.numRecordBatches;++e<n;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,n=this.numDictionaries;++e<n;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class fZ extends pZ{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,e){super(t,e.version()),this._footer=e}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t)
if(e)return mZ.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t)
if(e)return mZ.decode(e)}return null}}class mZ{static decode(t){return new mZ(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:n}=e,i=BigInt(e.offset),s=BigInt(e.bodyLength)
return oZ.createBlock(t,i,n,s)}constructor(t,e,n){this.metaDataLength=t,this.offset=Kq(n),this.bodyLength=Kq(e)}}const gZ=Object.freeze({done:!0,value:void 0})
class vZ{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class bZ{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class yZ extends bZ{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}get closed(){return this._closedPromise}cancel(t){return e(this,void 0,void 0,(function*(){yield this.return(t)}))}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this
for(;t.length>0;)t.shift().resolve(gZ)
this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return ZU.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return ZU.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return e(this,void 0,void 0,(function*(){return yield this.abort(t),gZ}))}return(t){return e(this,void 0,void 0,(function*(){return yield this.close(),gZ}))}read(t){return e(this,void 0,void 0,(function*(){return(yield this.next(t,"read")).value}))}peek(t){return e(this,void 0,void 0,(function*(){return(yield this.next(t,"peek")).value}))}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise(((t,e)=>{this.resolvers.push({resolve:t,reject:e})})):Promise.resolve(gZ)}_ensureOpen(){if(this._closedPromiseResolve)return!0
throw new Error("AsyncQueue is closed")}}class wZ extends yZ{write(t){if((t=UU(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?xU(this.toUint8Array(!0)):this.toUint8Array(!1).then(xU)}toUint8Array(t=!1){return t?PU(this._values)[0]:(()=>e(this,void 0,void 0,(function*(){var t,e,n,i
const s=[]
let o=0
try{for(var a,l=!0,c=r(this);!(t=(a=yield c.next()).done);l=!0){i=a.value,l=!1
const t=i
s.push(t),o+=t.byteLength}}catch(t){e={error:t}}finally{try{l||t||!(n=c.return)||(yield n.call(c))}finally{if(e)throw e.error}}return PU(s,o)[0]})))()}}class xZ{constructor(t){t&&(this.source=new kZ(ZU.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class CZ{constructor(t){t instanceof CZ?this.source=t.source:t instanceof wZ?this.source=new SZ(ZU.fromAsyncIterable(t)):FU(t)?this.source=new SZ(ZU.fromNodeStream(t)):RU(t)?this.source=new SZ(ZU.fromDOMStream(t)):TU(t)?this.source=new SZ(ZU.fromDOMStream(t.body)):MU(t)?this.source=new SZ(ZU.fromIterable(t)):(IU(t)||$U(t))&&(this.source=new SZ(ZU.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class kZ{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,e="read"){return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||gZ)}return(t){return Object.create(this.source.return&&this.source.return(t)||gZ)}}class SZ{constructor(t){this.source=t,this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}cancel(t){return e(this,void 0,void 0,(function*(){yield this.return(t)}))}get closed(){return this._closedPromise}read(t){return e(this,void 0,void 0,(function*(){return(yield this.next(t,"read")).value}))}peek(t){return e(this,void 0,void 0,(function*(){return(yield this.next(t,"peek")).value}))}next(t){return e(this,arguments,void 0,(function*(t,e="read"){return yield this.source.next({cmd:e,size:t})}))}throw(t){return e(this,void 0,void 0,(function*(){const e=this.source.throw&&(yield this.source.throw(t))||gZ
return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}))}return(t){return e(this,void 0,void 0,(function*(){const e=this.source.return&&(yield this.source.return(t))||gZ
return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}))}}class _Z extends xZ{constructor(t,e){super(),this.position=0,this.buffer=UU(t),this.size=void 0===e?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:n}=this.readAt(t,4)
return new DataView(e,n).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:n,position:i}=this
return e&&i<n?("number"!=typeof t&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(n,i+Math.min(n-i,t)),e.subarray(i,this.position)):null}readAt(t,e){const n=this.buffer,i=Math.min(this.size,t+e)
return n?n.subarray(t,i):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class IZ extends CZ{constructor(t,n){super(),this.position=0,this._handle=t,"number"==typeof n?this.size=n:this._pending=(()=>e(this,void 0,void 0,(function*(){this.size=(yield t.stat()).size,delete this._pending})))()}readInt32(t){return e(this,void 0,void 0,(function*(){const{buffer:e,byteOffset:n}=yield this.readAt(t,4)
return new DataView(e,n).getInt32(0,!0)}))}seek(t){return e(this,void 0,void 0,(function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size}))}read(t){return e(this,void 0,void 0,(function*(){this._pending&&(yield this._pending)
const{_handle:e,size:n,position:i}=this
if(e&&i<n){"number"!=typeof t&&(t=Number.POSITIVE_INFINITY)
let s=i,o=0,r=0
const a=Math.min(n,s+Math.min(n-s,t)),l=new Uint8Array(Math.max(0,(this.position=a)-s))
for(;(s+=r)<a&&(o+=r)<l.byteLength;)({bytesRead:r}=yield e.read(l,o,l.byteLength-o,s))
return l}return null}))}readAt(t,n){return e(this,void 0,void 0,(function*(){this._pending&&(yield this._pending)
const{_handle:e,size:i}=this
if(e&&t+n<i){const s=Math.min(i,t+n),o=new Uint8Array(s-t)
return(yield e.read(o,0,n,t)).buffer}return new Uint8Array(n)}))}close(){return e(this,void 0,void 0,(function*(){const t=this._handle
this._handle=null,t&&(yield t.close())}))}throw(t){return e(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:t}}))}return(t){return e(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:t}}))}}function MZ(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}const $Z=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8]
class DZ{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),n=new Uint32Array([t.buffer[1]>>>16,65535&t.buffer[1],t.buffer[0]>>>16,65535&t.buffer[0]])
let i=e[3]*n[3]
this.buffer[0]=65535&i
let s=i>>>16
return i=e[2]*n[3],s+=i,i=e[3]*n[2]>>>0,s+=i,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<i?65536:0,this.buffer[1]+=s>>>16,this.buffer[1]+=e[1]*n[3]+e[2]*n[2]+e[3]*n[1],this.buffer[1]+=e[0]*n[3]+e[1]*n[2]+e[2]*n[1]+e[3]*n[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0
this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${MZ(this.buffer[1])} ${MZ(this.buffer[0])}`}}class EZ extends DZ{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,e=new Uint32Array(2)){return EZ.fromString("string"==typeof t?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return EZ.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const n=t.length,i=new EZ(e)
for(let e=0;e<n;){const s=8<n-e?8:n-e,o=new EZ(new Uint32Array([Number.parseInt(t.slice(e,e+s),10),0])),r=new EZ(new Uint32Array([$Z[s],0]))
i.times(r),i.plus(o),e+=s}return i}static convertArray(t){const e=new Uint32Array(2*t.length)
for(let n=-1,i=t.length;++n<i;)EZ.from(t[n],new Uint32Array(e.buffer,e.byteOffset+2*n*4,2))
return e}static multiply(t,e){return new EZ(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new EZ(new Uint32Array(t.buffer)).plus(e)}}class AZ extends DZ{negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]|0,n=t.buffer[1]|0
return e<n||e===n&&this.buffer[0]<t.buffer[0]}static from(t,e=new Uint32Array(2)){return AZ.fromString("string"==typeof t?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return AZ.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const n=t.startsWith("-"),i=t.length,s=new AZ(e)
for(let e=n?1:0;e<i;){const n=8<i-e?8:i-e,o=new AZ(new Uint32Array([Number.parseInt(t.slice(e,e+n),10),0])),r=new AZ(new Uint32Array([$Z[n],0]))
s.times(r),s.plus(o),e+=n}return n?s.negate():s}static convertArray(t){const e=new Uint32Array(2*t.length)
for(let n=-1,i=t.length;++n<i;)AZ.from(t[n],new Uint32Array(e.buffer,e.byteOffset+2*n*4,2))
return e}static multiply(t,e){return new AZ(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new AZ(new Uint32Array(t.buffer)).plus(e)}}class TZ{constructor(t){this.buffer=t}high(){return new AZ(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new AZ(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(t){const e=new EZ(new Uint32Array([this.buffer[3],0])),n=new EZ(new Uint32Array([this.buffer[2],0])),i=new EZ(new Uint32Array([this.buffer[1],0])),s=new EZ(new Uint32Array([this.buffer[0],0])),o=new EZ(new Uint32Array([t.buffer[3],0])),r=new EZ(new Uint32Array([t.buffer[2],0])),a=new EZ(new Uint32Array([t.buffer[1],0])),l=new EZ(new Uint32Array([t.buffer[0],0]))
let c=EZ.multiply(s,l)
this.buffer[0]=c.low()
const d=new EZ(new Uint32Array([c.high(),0]))
c=EZ.multiply(i,l),d.plus(c),c=EZ.multiply(s,a),d.plus(c),this.buffer[1]=d.low(),this.buffer[3]=d.lessThan(c)?1:0,this.buffer[2]=d.high()
return new EZ(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(EZ.multiply(n,l)).plus(EZ.multiply(i,a)).plus(EZ.multiply(s,r)),this.buffer[3]+=EZ.multiply(e,l).plus(EZ.multiply(n,a)).plus(EZ.multiply(i,r)).plus(EZ.multiply(s,o)).low(),this}plus(t){const e=new Uint32Array(4)
return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return`${MZ(this.buffer[3])} ${MZ(this.buffer[2])} ${MZ(this.buffer[1])} ${MZ(this.buffer[0])}`}static multiply(t,e){return new TZ(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new TZ(new Uint32Array(t.buffer)).plus(e)}static from(t,e=new Uint32Array(4)){return TZ.fromString("string"==typeof t?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(4)){return TZ.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(4)){const n=t.startsWith("-"),i=t.length,s=new TZ(e)
for(let e=n?1:0;e<i;){const n=8<i-e?8:i-e,o=new TZ(new Uint32Array([Number.parseInt(t.slice(e,e+n),10),0,0,0])),r=new TZ(new Uint32Array([$Z[n],0,0,0]))
s.times(r),s.plus(o),e+=n}return n?s.negate():s}static convertArray(t){const e=new Uint32Array(4*t.length)
for(let n=-1,i=t.length;++n<i;)TZ.from(t[n],new Uint32Array(e.buffer,e.byteOffset+16*n,4))
return e}}class OZ extends nW{constructor(t,e,n,i,s=JU.V5){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=n,this.dictionaries=i,this.metadataVersion=s}visit(t){return super.visit(t instanceof lZ?t.type:t)}visitNull(t,{length:e}=this.nextFieldNode()){return NG({type:t,length:e})}visitBool(t,{length:e,nullCount:n}=this.nextFieldNode()){return NG({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitInt(t,{length:e,nullCount:n}=this.nextFieldNode()){return NG({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitFloat(t,{length:e,nullCount:n}=this.nextFieldNode()){return NG({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitUtf8(t,{length:e,nullCount:n}=this.nextFieldNode()){return NG({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitLargeUtf8(t,{length:e,nullCount:n}=this.nextFieldNode()){return NG({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t,{length:e,nullCount:n}=this.nextFieldNode()){return NG({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitLargeBinary(t,{length:e,nullCount:n}=this.nextFieldNode()){return NG({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t,{length:e,nullCount:n}=this.nextFieldNode()){return NG({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitDate(t,{length:e,nullCount:n}=this.nextFieldNode()){return NG({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitTimestamp(t,{length:e,nullCount:n}=this.nextFieldNode()){return NG({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitTime(t,{length:e,nullCount:n}=this.nextFieldNode()){return NG({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitDecimal(t,{length:e,nullCount:n}=this.nextFieldNode()){return NG({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitList(t,{length:e,nullCount:n}=this.nextFieldNode()){return NG({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t,{length:e,nullCount:n}=this.nextFieldNode()){return NG({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),children:this.visitMany(t.children)})}visitUnion(t,{length:e,nullCount:n}=this.nextFieldNode()){return this.metadataVersion<JU.V5&&this.readNullBitmap(t,n),t.mode===QU.Sparse?this.visitSparseUnion(t,{length:e,nullCount:n}):this.visitDenseUnion(t,{length:e,nullCount:n})}visitDenseUnion(t,{length:e,nullCount:n}=this.nextFieldNode()){return NG({type:t,length:e,nullCount:n,typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t,{length:e,nullCount:n}=this.nextFieldNode()){return NG({type:t,length:e,nullCount:n,typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t,{length:e,nullCount:n}=this.nextFieldNode()){return NG({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t,{length:e,nullCount:n}=this.nextFieldNode()){return NG({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitDuration(t,{length:e,nullCount:n}=this.nextFieldNode()){return NG({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitFixedSizeList(t,{length:e,nullCount:n}=this.nextFieldNode()){return NG({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),child:this.visit(t.children[0])})}visitMap(t,{length:e,nullCount:n}=this.nextFieldNode()){return NG({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e,n=this.nextBufferRange()){return e>0&&this.readData(t,n)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t,{length:e,offset:n}=this.nextBufferRange()){return this.bytes.subarray(n,n+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class RZ extends OZ{constructor(t,e,n,i,s){super(new Uint8Array(0),e,n,i,s),this.sources=t}readNullBitmap(t,e,{offset:n}=this.nextBufferRange()){return e<=0?new Uint8Array(0):DG(this.sources[n])}readOffsets(t,{offset:e}=this.nextBufferRange()){return zU(Uint8Array,zU(t.OffsetArrayType,this.sources[e]))}readTypeIds(t,{offset:e}=this.nextBufferRange()){return zU(Uint8Array,zU(t.ArrayType,this.sources[e]))}readData(t,{offset:e}=this.nextBufferRange()){const{sources:n}=this
return Ej.isTimestamp(t)||(Ej.isInt(t)||Ej.isTime(t))&&64===t.bitWidth||Ej.isDuration(t)||Ej.isDate(t)&&t.unit===eq.MILLISECOND?zU(Uint8Array,AZ.convertArray(n[e])):Ej.isDecimal(t)?zU(Uint8Array,TZ.convertArray(n[e])):Ej.isBinary(t)||Ej.isLargeBinary(t)||Ej.isFixedSizeBinary(t)?function(t){const e=t.join(""),n=new Uint8Array(e.length/2)
for(let t=0;t<e.length;t+=2)n[t>>1]=Number.parseInt(e.slice(t,t+2),16)
return n}(n[e]):Ej.isBool(t)?DG(n[e]):Ej.isUtf8(t)||Ej.isLargeUtf8(t)?kU(n[e].join("")):zU(Uint8Array,zU(t.ArrayType,n[e].map((t=>+t))))}}class FZ extends nW{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every(((t,n)=>this.compareFields(t,e[n])))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function NZ(t,e){return e instanceof t.constructor}function LZ(t,e){return t===e||NZ(t,e)}function BZ(t,e){return t===e||NZ(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function PZ(t,e){return t===e||NZ(t,e)&&t.precision===e.precision}function zZ(t,e){return t===e||NZ(t,e)&&t.unit===e.unit}function VZ(t,e){return t===e||NZ(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function HZ(t,e){return t===e||NZ(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function UZ(t,e){return t===e||NZ(t,e)&&t.mode===e.mode&&t.typeIds.every(((t,n)=>t===e.typeIds[n]))&&WZ.compareManyFields(t.children,e.children)}function qZ(t,e){return t===e||NZ(t,e)&&t.unit===e.unit}function jZ(t,e){return t===e||NZ(t,e)&&t.unit===e.unit}FZ.prototype.visitNull=LZ,FZ.prototype.visitBool=LZ,FZ.prototype.visitInt=BZ,FZ.prototype.visitInt8=BZ,FZ.prototype.visitInt16=BZ,FZ.prototype.visitInt32=BZ,FZ.prototype.visitInt64=BZ,FZ.prototype.visitUint8=BZ,FZ.prototype.visitUint16=BZ,FZ.prototype.visitUint32=BZ,FZ.prototype.visitUint64=BZ,FZ.prototype.visitFloat=PZ,FZ.prototype.visitFloat16=PZ,FZ.prototype.visitFloat32=PZ,FZ.prototype.visitFloat64=PZ,FZ.prototype.visitUtf8=LZ,FZ.prototype.visitLargeUtf8=LZ,FZ.prototype.visitBinary=LZ,FZ.prototype.visitLargeBinary=LZ,FZ.prototype.visitFixedSizeBinary=function(t,e){return t===e||NZ(t,e)&&t.byteWidth===e.byteWidth},FZ.prototype.visitDate=zZ,FZ.prototype.visitDateDay=zZ,FZ.prototype.visitDateMillisecond=zZ,FZ.prototype.visitTimestamp=VZ,FZ.prototype.visitTimestampSecond=VZ,FZ.prototype.visitTimestampMillisecond=VZ,FZ.prototype.visitTimestampMicrosecond=VZ,FZ.prototype.visitTimestampNanosecond=VZ,FZ.prototype.visitTime=HZ,FZ.prototype.visitTimeSecond=HZ,FZ.prototype.visitTimeMillisecond=HZ,FZ.prototype.visitTimeMicrosecond=HZ,FZ.prototype.visitTimeNanosecond=HZ,FZ.prototype.visitDecimal=LZ,FZ.prototype.visitList=function(t,e){return t===e||NZ(t,e)&&t.children.length===e.children.length&&WZ.compareManyFields(t.children,e.children)},FZ.prototype.visitStruct=function(t,e){return t===e||NZ(t,e)&&t.children.length===e.children.length&&WZ.compareManyFields(t.children,e.children)},FZ.prototype.visitUnion=UZ,FZ.prototype.visitDenseUnion=UZ,FZ.prototype.visitSparseUnion=UZ,FZ.prototype.visitDictionary=function(t,e){return t===e||NZ(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&WZ.visit(t.indices,e.indices)&&WZ.visit(t.dictionary,e.dictionary)},FZ.prototype.visitInterval=qZ,FZ.prototype.visitIntervalDayTime=qZ,FZ.prototype.visitIntervalYearMonth=qZ,FZ.prototype.visitDuration=jZ,FZ.prototype.visitDurationSecond=jZ,FZ.prototype.visitDurationMillisecond=jZ,FZ.prototype.visitDurationMicrosecond=jZ,FZ.prototype.visitDurationNanosecond=jZ,FZ.prototype.visitFixedSizeList=function(t,e){return t===e||NZ(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&WZ.compareManyFields(t.children,e.children)},FZ.prototype.visitMap=function(t,e){return t===e||NZ(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&WZ.compareManyFields(t.children,e.children)}
const WZ=new FZ
function GZ(t,e){return WZ.compareSchemas(t,e)}function ZZ(t,e){return function(t,e){const n=[...t.fields],i=[],s={numBatches:e.reduce(((t,e)=>Math.max(t,e.length)),0)}
let o=0,r=0,a=-1
const l=e.length
let c,d=[]
for(;s.numBatches-- >0;){for(r=Number.POSITIVE_INFINITY,a=-1;++a<l;)d[a]=c=e[a].shift(),r=Math.min(r,c?c.length:r)
Number.isFinite(r)&&(d=KZ(n,r,d,e,s),r>0&&(i[o++]=NG({type:new Gj(n),length:r,nullCount:0,children:d.slice()})))}return[t=t.assign(n),i.map((e=>new QZ(t,e)))]}(t,e.map((t=>t.data.concat())))}function KZ(t,e,n,i,s){var o
const r=(e+63&-64)>>3
for(let a=-1,l=i.length;++a<l;){const l=n[a],c=null==l?void 0:l.length
if(c>=e)c===e?n[a]=l:(n[a]=l.slice(0,e),s.numBatches=Math.max(s.numBatches,i[a].unshift(l.slice(e,c-e))))
else{const i=t[a]
t[a]=i.clone({nullable:!0}),n[a]=null!==(o=null==l?void 0:l._changeLengthAndBackfillNullBitmap(e))&&void 0!==o?o:NG({type:i.type,length:e,nullCount:e,nullBitmap:new Uint8Array(r)})}}return n}var YZ,XZ
class JZ{constructor(...t){var e,n
if(0===t.length)return this.batches=[],this.schema=new aZ([]),this._offsets=[0],this
let i,s
t[0]instanceof aZ&&(i=t.shift()),t.at(-1)instanceof Uint32Array&&(s=t.pop())
const o=t=>{if(t){if(t instanceof QZ)return[t]
if(t instanceof JZ)return t.batches
if(t instanceof OG){if(t.type instanceof Gj)return[new QZ(new aZ(t.type.children),t)]}else{if(Array.isArray(t))return t.flatMap((t=>o(t)))
if("function"==typeof t[Symbol.iterator])return[...t].flatMap((t=>o(t)))
if("object"==typeof t){const e=Object.keys(t),n=e.map((e=>new iZ([t[e]]))),s=null!=i?i:new aZ(e.map(((t,e)=>new lZ(String(t),n[e].type,n[e].nullable)))),[,o]=ZZ(s,n)
return 0===o.length?[new QZ(t)]:o}}}return[]},r=t.flatMap((t=>o(t)))
if(i=null!==(n=null!=i?i:null===(e=r[0])||void 0===e?void 0:e.schema)&&void 0!==n?n:new aZ([]),!(i instanceof aZ))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.")
for(const t of r){if(!(t instanceof QZ))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.")
if(!GZ(i,t.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=r,this._offsets=null!=s?s:PG(this.data)}get data(){return this.batches.map((({data:t})=>t))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce(((t,e)=>t+e.length),0)}get nullCount(){return-1===this._nullCount&&(this._nullCount=BG(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}at(t){return this.get(xG(t,this.numRows))}set(t,e){}indexOf(t,e){return-1}[Symbol.iterator](){return this.batches.length>0?QG.visit(new iZ(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[\n  ${this.toArray().join(",\n  ")}\n]`}concat(...t){const e=this.schema,n=this.data.concat(t.flatMap((({data:t})=>t)))
return new JZ(e,n.map((t=>new QZ(e,t))))}slice(t,e){const n=this.schema;[t,e]=wG({length:this.numRows},t,e)
const i=zG(this.data,this._offsets,t,e)
return new JZ(n,i.map((t=>new QZ(n,t))))}getChild(t){return this.getChildAt(this.schema.fields.findIndex((e=>e.name===t)))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const e=this.data.map((e=>e.children[t]))
if(0===e.length){const{type:n}=this.schema.fields[t],i=NG({type:n,length:0,nullCount:0})
e.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new iZ(e)}return null}setChild(t,e){var n
return this.setChildAt(null===(n=this.schema.fields)||void 0===n?void 0:n.findIndex((e=>e.name===t)),e)}setChildAt(t,e){let n=this.schema,i=[...this.batches]
if(t>-1&&t<this.numCols){e||(e=new iZ([NG({type:new Aj,length:this.numRows})]))
const s=n.fields.slice(),o=s[t].clone({type:e.type}),r=this.schema.fields.map(((t,e)=>this.getChildAt(e)));[s[t],r[t]]=[o,e],[n,i]=ZZ(n,r)}return new JZ(n,i)}select(t){const e=this.schema.fields.reduce(((t,e,n)=>t.set(e.name,n)),new Map)
return this.selectAt(t.map((t=>e.get(t))).filter((t=>t>-1)))}selectAt(t){const e=this.schema.selectAt(t),n=this.batches.map((e=>e.selectAt(t)))
return new JZ(e,n)}assign(t){const e=this.schema.fields,[n,i]=t.schema.fields.reduce(((t,n,i)=>{const[s,o]=t,r=e.findIndex((t=>t.name===n.name))
return~r?o[r]=i:s.push(i),t}),[[],[]]),s=this.schema.assign(t.schema),o=[...e.map(((t,e)=>[e,i[e]])).map((([e,n])=>void 0===n?this.getChildAt(e):t.getChildAt(n))),...n.map((e=>t.getChildAt(e)))].filter(Boolean)
return new JZ(...ZZ(s,o))}}YZ=Symbol.toStringTag,JZ[YZ]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=UG(HG),t.get=UG(hG.getVisitFn(Wq.Struct)),t.set=qG(RW.getVisitFn(Wq.Struct)),t.indexOf=jG(KG.getVisitFn(Wq.Struct)),"Table"))(JZ.prototype)
let QZ=class t{constructor(...t){switch(t.length){case 2:if([this.schema]=t,!(this.schema instanceof aZ))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.")
if([,this.data=NG({nullCount:0,type:new Gj(this.schema.fields),children:this.schema.fields.map((t=>NG({type:t.type,nullCount:0})))})]=t,!(this.data instanceof OG))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=tK(this.schema,this.data.children)
break
case 1:{const[e]=t,{fields:n,children:i,length:s}=Object.keys(e).reduce(((t,n,i)=>(t.children[i]=e[n],t.length=Math.max(t.length,e[n].length),t.fields[i]=lZ.new({name:n,type:e[n].type,nullable:!0}),t)),{length:0,fields:new Array,children:new Array}),o=new aZ(n),r=NG({type:new Gj(n),length:s,children:i,nullCount:0});[this.schema,this.data]=tK(o,r.children,s)
break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=eK(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return hG.visit(this.data,t)}at(t){return this.get(xG(t,this.numRows))}set(t,e){return RW.visit(this.data,t,e)}indexOf(t,e){return KG.visit(this.data,t,e)}[Symbol.iterator](){return QG.visit(new iZ([this.data]))}toArray(){return[...this]}concat(...t){return new JZ(this.schema,[this,...t])}slice(e,n){const[i]=new iZ([this.data]).slice(e,n).data
return new t(this.schema,i)}getChild(t){var e
return this.getChildAt(null===(e=this.schema.fields)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new iZ([this.data.children[t]]):null}setChild(t,e){var n
return this.setChildAt(null===(n=this.schema.fields)||void 0===n?void 0:n.findIndex((e=>e.name===t)),e)}setChildAt(e,n){let i=this.schema,s=this.data
if(e>-1&&e<this.numCols){n||(n=new iZ([NG({type:new Aj,length:this.numRows})]))
const t=i.fields.slice(),o=s.children.slice(),r=t[e].clone({type:n.type});[t[e],o[e]]=[r,n.data[0]],i=new aZ(t,new Map(this.schema.metadata)),s=NG({type:new Gj(t),children:o})}return new t(i,s)}select(e){const n=this.schema.select(e),i=new Gj(n.fields),s=[]
for(const t of e){const e=this.schema.fields.findIndex((e=>e.name===t))
~e&&(s[e]=this.data.children[e])}return new t(n,NG({type:i,length:this.numRows,children:s}))}selectAt(e){const n=this.schema.selectAt(e),i=e.map((t=>this.data.children[t])).filter(Boolean),s=NG({type:new Gj(n.fields),length:this.numRows,children:i})
return new t(n,s)}}
function tK(t,e,n=e.reduce(((t,e)=>Math.max(t,e.length)),0)){var i
const s=[...t.fields],o=[...e],r=(n+63&-64)>>3
for(const[a,l]of t.fields.entries()){const t=e[a]
t&&t.length===n||(s[a]=l.clone({nullable:!0}),o[a]=null!==(i=null==t?void 0:t._changeLengthAndBackfillNullBitmap(n))&&void 0!==i?i:NG({type:l.type,length:n,nullCount:n,nullBitmap:new Uint8Array(r)}))}return[t.assign(s),NG({type:new Gj(s),length:n,children:o})]}function eK(t,e,n=new Map){var i,s
if((null!==(i=null==t?void 0:t.length)&&void 0!==i?i:0)>0&&(null==t?void 0:t.length)===(null==e?void 0:e.length))for(let i=-1,o=t.length;++i<o;){const{type:o}=t[i],r=e[i]
for(const t of[r,...(null===(s=null==r?void 0:r.dictionary)||void 0===s?void 0:s.data)||[]])eK(o.children,null==t?void 0:t.children,n)
if(Ej.isDictionary(o)){const{id:t}=o
if(n.has(t)){if(n.get(t)!==r.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else(null==r?void 0:r.dictionary)&&n.set(t,r.dictionary)}}return n}XZ=Symbol.toStringTag,QZ[XZ]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(QZ.prototype)
class nK extends QZ{constructor(t){const e=t.fields.map((t=>NG({type:t.type})))
super(t,NG({type:new Gj(t.fields),nullCount:0,children:e}))}}let iK=class t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,n){return e.setPosition(e.position()+4),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}version(){const t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.readInt16(this.bb_pos+t):JU.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6)
return t?this.bb.readUint8(this.bb_pos+t):jq.NONE}header(t){const e=this.bb.__offset(this.bb_pos,8)
return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10)
return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,12)
return n?(e||new Cq).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12)
return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,JU.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,jq.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,BigInt("0"))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4)
for(let n=e.length-1;n>=0;n--)t.addOffset(e[n])
return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(e,n,i,s,o,r){return t.startMessage(e),t.addVersion(e,n),t.addHeaderType(e,i),t.addHeader(e,s),t.addBodyLength(e,o),t.addCustomMetadata(e,r),t.endMessage(e)}}
const sK=new class extends nW{visit(t,e){return null==t||null==e?void 0:super.visit(t,e)}visitNull(t,e){return Nq.startNull(e),Nq.endNull(e)}visitInt(t,e){return wq.startInt(e),wq.addBitWidth(e,t.bitWidth),wq.addIsSigned(e,t.isSigned),wq.endInt(e)}visitFloat(t,e){return Eq.startFloatingPoint(e),Eq.addPrecision(e,t.precision),Eq.endFloatingPoint(e)}visitBinary(t,e){return kq.startBinary(e),kq.endBinary(e)}visitLargeBinary(t,e){return Tq.startLargeBinary(e),Tq.endLargeBinary(e)}visitBool(t,e){return Sq.startBool(e),Sq.endBool(e)}visitUtf8(t,e){return Vq.startUtf8(e),Vq.endUtf8(e)}visitLargeUtf8(t,e){return Oq.startLargeUtf8(e),Oq.endLargeUtf8(e)}visitDecimal(t,e){return Iq.startDecimal(e),Iq.addScale(e,t.scale),Iq.addPrecision(e,t.precision),Iq.addBitWidth(e,t.bitWidth),Iq.endDecimal(e)}visitDate(t,e){return _q.startDate(e),_q.addUnit(e,t.unit),_q.endDate(e)}visitTime(t,e){return Bq.startTime(e),Bq.addUnit(e,t.unit),Bq.addBitWidth(e,t.bitWidth),Bq.endTime(e)}visitTimestamp(t,e){const n=t.timezone&&e.createString(t.timezone)||void 0
return Pq.startTimestamp(e),Pq.addUnit(e,t.unit),void 0!==n&&Pq.addTimezone(e,n),Pq.endTimestamp(e)}visitInterval(t,e){return Aq.startInterval(e),Aq.addUnit(e,t.unit),Aq.endInterval(e)}visitDuration(t,e){return Mq.startDuration(e),Mq.addUnit(e,t.unit),Mq.endDuration(e)}visitList(t,e){return Rq.startList(e),Rq.endList(e)}visitStruct(t,e){return Lq.startStruct_(e),Lq.endStruct_(e)}visitUnion(t,e){zq.startTypeIdsVector(e,t.typeIds.length)
const n=zq.createTypeIdsVector(e,t.typeIds)
return zq.startUnion(e),zq.addMode(e,t.mode),zq.addTypeIds(e,n),zq.endUnion(e)}visitDictionary(t,e){const n=this.visit(t.indices,e)
return xq.startDictionaryEncoding(e),xq.addId(e,BigInt(t.id)),xq.addIsOrdered(e,t.isOrdered),void 0!==n&&xq.addIndexType(e,n),xq.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return $q.startFixedSizeBinary(e),$q.addByteWidth(e,t.byteWidth),$q.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return Dq.startFixedSizeList(e),Dq.addListSize(e,t.listSize),Dq.endFixedSizeList(e)}visitMap(t,e){return Fq.startMap(e),Fq.addKeysSorted(e,t.keysSorted),Fq.endMap(e)}}
function oK(t){return new mK(t.count,aK(t.columns),lK(t.columns))}function rK(t,e){return(t.children||[]).filter(Boolean).map((t=>lZ.fromJSON(t,e)))}function aK(t){return(t||[]).reduce(((t,e)=>{return[...t,new bK(e.count,(n=e.VALIDITY,(n||[]).reduce(((t,e)=>t+ +(0===e)),0))),...aK(e.children)]
var n}),[])}function lK(t,e=[]){for(let n=-1,i=(t||[]).length;++n<i;){const i=t[n]
i.VALIDITY&&e.push(new vK(e.length,i.VALIDITY.length)),i.TYPE_ID&&e.push(new vK(e.length,i.TYPE_ID.length)),i.OFFSET&&e.push(new vK(e.length,i.OFFSET.length)),i.DATA&&e.push(new vK(e.length,i.DATA.length)),e=lK(i.children,e)}return e}function cK(t=[]){return new Map(t.map((({key:t,value:e})=>[t,e])))}function dK(t){return new Tj(t.isSigned,t.bitWidth)}function hK(t,e){const n=t.type.name
switch(n){case"NONE":case"null":return new Aj
case"binary":return new Fj
case"largebinary":return new Nj
case"utf8":return new Lj
case"largeutf8":return new Bj
case"bool":return new Pj
case"list":return new Wj((e||[])[0])
case"struct":case"struct_":return new Gj(e||[])}switch(n){case"int":{const e=t.type
return new Tj(e.isSigned,e.bitWidth)}case"floatingpoint":{const e=t.type
return new Rj(tq[e.precision])}case"decimal":{const e=t.type
return new zj(e.scale,e.precision,e.bitWidth)}case"date":{const e=t.type
return new Vj(eq[e.unit])}case"time":{const e=t.type
return new Hj(nq[e.unit],e.bitWidth)}case"timestamp":{const e=t.type
return new Uj(nq[e.unit],e.timezone)}case"interval":{const e=t.type
return new qj(iq[e.unit])}case"duration":{const e=t.type
return new jj(nq[e.unit])}case"union":{const n=t.type,[i,...s]=(n.mode+"").toLowerCase(),o=i.toUpperCase()+s.join("")
return new Zj(QU[o],n.typeIds||[],e||[])}case"fixedsizebinary":{const e=t.type
return new Kj(e.byteWidth)}case"fixedsizelist":{const n=t.type
return new Yj(n.listSize,(e||[])[0])}case"map":{const n=t.type
return new Xj((e||[])[0],n.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var uK=dq,pK=cq
class fK{static fromJSON(t,e){const n=new fK(0,JU.V5,e)
return n._createHeader=function(t,e){return()=>{switch(e){case jq.Schema:return aZ.fromJSON(t)
case jq.RecordBatch:return mK.fromJSON(t)
case jq.DictionaryBatch:return gK.fromJSON(t)}throw new Error(`Unrecognized Message type: { name: ${jq[e]}, type: ${e} }`)}}(t,e),n}static decode(t){t=new pK(UU(t))
const e=iK.getRootAsMessage(t),n=e.bodyLength(),i=e.version(),s=e.headerType(),o=new fK(n,i,s)
return o._createHeader=function(t,e){return()=>{switch(e){case jq.Schema:return aZ.decode(t.header(new qq),new Map,t.version())
case jq.RecordBatch:return mK.decode(t.header(new gq),t.version())
case jq.DictionaryBatch:return gK.decode(t.header(new vq),t.version())}throw new Error(`Unrecognized Message type: { name: ${jq[e]}, type: ${e} }`)}}(e,s),o}static encode(t){const e=new uK
let n=-1
return t.isSchema()?n=aZ.encode(e,t.header()):t.isRecordBatch()?n=mK.encode(e,t.header()):t.isDictionaryBatch()&&(n=gK.encode(e,t.header())),iK.startMessage(e),iK.addVersion(e,JU.V5),iK.addHeader(e,n),iK.addHeaderType(e,t.headerType),iK.addBodyLength(e,BigInt(t.bodyLength)),iK.finishMessageBuffer(e,iK.endMessage(e)),e.asUint8Array()}static from(t,e=0){if(t instanceof aZ)return new fK(0,JU.V5,jq.Schema,t)
if(t instanceof mK)return new fK(e,JU.V5,jq.RecordBatch,t)
if(t instanceof gK)return new fK(e,JU.V5,jq.DictionaryBatch,t)
throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===jq.Schema}isRecordBatch(){return this.headerType===jq.RecordBatch}isDictionaryBatch(){return this.headerType===jq.DictionaryBatch}constructor(t,e,n,i){this._version=e,this._headerType=n,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=Kq(t)}}class mK{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,e,n){this._nodes=e,this._buffers=n,this._length=Kq(t)}}class gK{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,e,n=!1){this._data=t,this._isDelta=n,this._id=Kq(e)}}class vK{constructor(t,e){this.offset=Kq(t),this.length=Kq(e)}}class bK{constructor(t,e){this.length=Kq(t),this.nullCount=Kq(e)}}function yK(t,e){const n=[]
for(let i,s=-1,o=-1,r=t.childrenLength();++s<r;)(i=t.children(s))&&(n[++o]=lZ.decode(i,e))
return n}function wK(t){const e=new Map
if(t)for(let n,i,s=-1,o=Math.trunc(t.customMetadataLength());++s<o;)(n=t.customMetadata(s))&&null!=(i=n.key())&&e.set(i,n.value())
return e}function xK(t){return new Tj(t.isSigned(),t.bitWidth())}function CK(t,e){const n=t.typeType()
switch(n){case Hq.NONE:case Hq.Null:return new Aj
case Hq.Binary:return new Fj
case Hq.LargeBinary:return new Nj
case Hq.Utf8:return new Lj
case Hq.LargeUtf8:return new Bj
case Hq.Bool:return new Pj
case Hq.List:return new Wj((e||[])[0])
case Hq.Struct_:return new Gj(e||[])}switch(n){case Hq.Int:{const e=t.type(new wq)
return new Tj(e.isSigned(),e.bitWidth())}case Hq.FloatingPoint:{const e=t.type(new Eq)
return new Rj(e.precision())}case Hq.Decimal:{const e=t.type(new Iq)
return new zj(e.scale(),e.precision(),e.bitWidth())}case Hq.Date:{const e=t.type(new _q)
return new Vj(e.unit())}case Hq.Time:{const e=t.type(new Bq)
return new Hj(e.unit(),e.bitWidth())}case Hq.Timestamp:{const e=t.type(new Pq)
return new Uj(e.unit(),e.timezone())}case Hq.Interval:{const e=t.type(new Aq)
return new qj(e.unit())}case Hq.Duration:{const e=t.type(new Mq)
return new jj(e.unit())}case Hq.Union:{const n=t.type(new zq)
return new Zj(n.mode(),n.typeIdsArray()||[],e||[])}case Hq.FixedSizeBinary:{const e=t.type(new $q)
return new Kj(e.byteWidth())}case Hq.FixedSizeList:{const n=t.type(new Dq)
return new Yj(n.listSize(),(e||[])[0])}case Hq.Map:{const n=t.type(new Fq)
return new Xj((e||[])[0],n.keysSorted())}}throw new Error(`Unrecognized type: "${Hq[n]}" (${n})`)}lZ.encode=function(t,e){let n=-1,i=-1,s=-1
const o=e.type
let r=e.typeId
Ej.isDictionary(o)?(r=o.dictionary.typeId,s=sK.visit(o,t),i=sK.visit(o.dictionary,t)):i=sK.visit(o,t)
const a=(o.children||[]).map((e=>lZ.encode(t,e))),l=Uq.createChildrenVector(t,a),c=e.metadata&&e.metadata.size>0?Uq.createCustomMetadataVector(t,[...e.metadata].map((([e,n])=>{const i=t.createString(`${e}`),s=t.createString(`${n}`)
return Cq.startKeyValue(t),Cq.addKey(t,i),Cq.addValue(t,s),Cq.endKeyValue(t)}))):-1
e.name&&(n=t.createString(e.name))
Uq.startField(t),Uq.addType(t,i),Uq.addTypeType(t,r),Uq.addChildren(t,l),Uq.addNullable(t,!!e.nullable),-1!==n&&Uq.addName(t,n);-1!==s&&Uq.addDictionary(t,s);-1!==c&&Uq.addCustomMetadata(t,c)
return Uq.endField(t)},lZ.decode=function(t,e){let n,i,s,o,r,a
e&&(a=t.dictionary())?e.has(n=Kq(a.id()))?(o=(o=a.indexType())?xK(o):new Oj,r=new tW(e.get(n),o,n,a.isOrdered()),i=new lZ(t.name(),r,t.nullable(),wK(t))):(o=(o=a.indexType())?xK(o):new Oj,e.set(n,s=CK(t,yK(t,e))),r=new tW(s,o,n,a.isOrdered()),i=new lZ(t.name(),r,t.nullable(),wK(t))):(s=CK(t,yK(t,e)),i=new lZ(t.name(),s,t.nullable(),wK(t)))
return i||null},lZ.fromJSON=function(t,e){let n,i,s,o,r,a
return e&&(o=t.dictionary)?e.has(n=o.id)?(i=(i=o.indexType)?dK(i):new Oj,a=new tW(e.get(n),i,n,o.isOrdered),s=new lZ(t.name,a,t.nullable,cK(t.metadata))):(i=(i=o.indexType)?dK(i):new Oj,e.set(n,r=hK(t,rK(t,e))),a=new tW(r,i,n,o.isOrdered),s=new lZ(t.name,a,t.nullable,cK(t.metadata))):(r=hK(t,rK(t,e)),s=new lZ(t.name,r,t.nullable,cK(t.metadata))),s||null},aZ.encode=function(t,e){const n=e.fields.map((e=>lZ.encode(t,e)))
qq.startFieldsVector(t,n.length)
const i=qq.createFieldsVector(t,n),s=e.metadata&&e.metadata.size>0?qq.createCustomMetadataVector(t,[...e.metadata].map((([e,n])=>{const i=t.createString(`${e}`),s=t.createString(`${n}`)
return Cq.startKeyValue(t),Cq.addKey(t,i),Cq.addValue(t,s),Cq.endKeyValue(t)}))):-1
qq.startSchema(t),qq.addFields(t,i),qq.addEndianness(t,kK?bq.Little:bq.Big),-1!==s&&qq.addCustomMetadata(t,s)
return qq.endSchema(t)},aZ.decode=function(t,e=new Map,n=JU.V5){const i=function(t,e){const n=[]
for(let i,s=-1,o=-1,r=t.fieldsLength();++s<r;)(i=t.fields(s))&&(n[++o]=lZ.decode(i,e))
return n}(t,e)
return new aZ(i,wK(t),e,n)},aZ.fromJSON=function(t,e=new Map){return new aZ(function(t,e){return(t.fields||[]).filter(Boolean).map((t=>lZ.fromJSON(t,e)))}(t,e),cK(t.metadata),e)},mK.encode=function(t,e){const n=e.nodes||[],i=e.buffers||[]
gq.startNodesVector(t,n.length)
for(const e of n.slice().reverse())bK.encode(t,e)
const s=t.endVector()
gq.startBuffersVector(t,i.length)
for(const e of i.slice().reverse())vK.encode(t,e)
const o=t.endVector()
return gq.startRecordBatch(t),gq.addLength(t,BigInt(e.length)),gq.addNodes(t,s),gq.addBuffers(t,o),gq.endRecordBatch(t)},mK.decode=function(t,e=JU.V5){if(null!==t.compression())throw new Error("Record batch compression not implemented")
return new mK(t.length(),function(t){const e=[]
for(let n,i=-1,s=-1,o=t.nodesLength();++i<o;)(n=t.nodes(i))&&(e[++s]=bK.decode(n))
return e}(t),function(t,e){const n=[]
for(let i,s=-1,o=-1,r=t.buffersLength();++s<r;)(i=t.buffers(s))&&(e<JU.V4&&(i.bb_pos+=8*(s+1)),n[++o]=vK.decode(i))
return n}(t,e))},mK.fromJSON=oK,gK.encode=function(t,e){const n=mK.encode(t,e.data)
return vq.startDictionaryBatch(t),vq.addId(t,BigInt(e.id)),vq.addIsDelta(t,e.isDelta),vq.addData(t,n),vq.endDictionaryBatch(t)},gK.decode=function(t,e=JU.V5){return new gK(mK.decode(t.data(),e),t.id(),t.isDelta())},gK.fromJSON=function(t){return new gK(oK(t.data),t.id,t.isDelta)},bK.encode=function(t,e){return mq.createFieldNode(t,BigInt(e.length),BigInt(e.nullCount))},bK.decode=function(t){return new bK(t.length(),t.nullCount())},vK.encode=function(t,e){return fq.createBuffer(t,BigInt(e.offset),BigInt(e.length))},vK.decode=function(t){return new vK(t.offset(),t.length())}
const kK=(()=>{const t=new ArrayBuffer(2)
return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]})(),SK=t=>`Expected ${jq[t]} Message in stream, but was null or length 0.`,_K=t=>`Header pointer of flatbuffer-encoded ${jq[t]} Message is null or length 0.`,IK=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,MK=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`
class $K{constructor(t){this.source=t instanceof xZ?t:new xZ(t)}[Symbol.iterator](){return this}next(){let t
return(t=this.readMetadataLength()).done||-1===t.value&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?gZ:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e
if((e=this.next()).done)return null
if(null!=t&&e.value.headerType!==t)throw new Error(SK(t))
return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0)
const e=UU(this.source.read(t))
if(e.byteLength<t)throw new Error(MK(t,e.byteLength))
return e.byteOffset%8==0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(t=!1){const e=jq.Schema,n=this.readMessage(e),i=null==n?void 0:n.header()
if(t&&!i)throw new Error(_K(e))
return i}readMetadataLength(){const t=this.source.read(AK),e=t&&new cq(t),n=(null==e?void 0:e.readInt32(0))||0
return{done:0===n,value:n}}readMetadata(t){const e=this.source.read(t)
if(!e)return gZ
if(e.byteLength<t)throw new Error(IK(t,e.byteLength))
return{done:!1,value:fK.decode(e)}}}class DK{constructor(t,e){this.source=t instanceof CZ?t:AU(t)?new IZ(t,e):new CZ(t)}[Symbol.asyncIterator](){return this}next(){return e(this,void 0,void 0,(function*(){let t
return(t=yield this.readMetadataLength()).done||-1===t.value&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?gZ:t}))}throw(t){return e(this,void 0,void 0,(function*(){return yield this.source.throw(t)}))}return(t){return e(this,void 0,void 0,(function*(){return yield this.source.return(t)}))}readMessage(t){return e(this,void 0,void 0,(function*(){let e
if((e=yield this.next()).done)return null
if(null!=t&&e.value.headerType!==t)throw new Error(SK(t))
return e.value}))}readMessageBody(t){return e(this,void 0,void 0,(function*(){if(t<=0)return new Uint8Array(0)
const e=UU(yield this.source.read(t))
if(e.byteLength<t)throw new Error(MK(t,e.byteLength))
return e.byteOffset%8==0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}))}readSchema(){return e(this,arguments,void 0,(function*(t=!1){const e=jq.Schema,n=yield this.readMessage(e),i=null==n?void 0:n.header()
if(t&&!i)throw new Error(_K(e))
return i}))}readMetadataLength(){return e(this,void 0,void 0,(function*(){const t=yield this.source.read(AK),e=t&&new cq(t),n=(null==e?void 0:e.readInt32(0))||0
return{done:0===n,value:n}}))}readMetadata(t){return e(this,void 0,void 0,(function*(){const e=yield this.source.read(t)
if(!e)return gZ
if(e.byteLength<t)throw new Error(IK(t,e.byteLength))
return{done:!1,value:fK.decode(e)}}))}}class EK extends $K{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof vZ?t:new vZ(t)}next(){const{_json:t}=this
if(!this._schema){this._schema=!0
return{done:!1,value:fK.fromJSON(t.schema,jq.Schema)}}if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++]
this._body=e.data.columns
return{done:!1,value:fK.fromJSON(e,jq.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++]
this._body=e.columns
return{done:!1,value:fK.fromJSON(e,jq.RecordBatch)}}return this._body=[],gZ}readMessageBody(t){return function t(e){return(e||[]).reduce(((e,n)=>[...e,...n.VALIDITY&&[n.VALIDITY]||[],...n.TYPE_ID&&[n.TYPE_ID]||[],...n.OFFSET&&[n.OFFSET]||[],...n.DATA&&[n.DATA]||[],...t(n.children)]),[])}(this._body)}readMessage(t){let e
if((e=this.next()).done)return null
if(null!=t&&e.value.headerType!==t)throw new Error(SK(t))
return e.value}readSchema(){const t=jq.Schema,e=this.readMessage(t),n=null==e?void 0:e.header()
if(!e||!n)throw new Error(_K(t))
return n}}const AK=4,TK="ARROW1",OK=new Uint8Array(6)
for(let t=0;t<6;t+=1)OK[t]=TK.codePointAt(t)
function RK(t,e=0){for(let n=-1,i=OK.length;++n<i;)if(OK[n]!==t[e+n])return!1
return!0}const FK=OK.length,NK=FK+AK,LK=2*FK+AK
class BK extends bZ{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t)
return IU(e)?e.then((()=>this)):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return ZU.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return ZU.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof BK?t:DU(t)?function(t){return new PK(new ZK(t))}(t):AU(t)?function(t){return e(this,void 0,void 0,(function*(){const{size:e}=yield t.stat(),n=new IZ(t,e)
return e>=LK&&RK(yield n.readAt(0,FK+7&-8))?new HK(new GK(n)):new zK(new jK(n))}))}(t):IU(t)?(()=>e(this,void 0,void 0,(function*(){return yield BK.from(yield t)})))():TU(t)||RU(t)||FU(t)||$U(t)?function(t){return e(this,void 0,void 0,(function*(){const e=yield t.peek(FK+7&-8)
return e&&e.byteLength>=4?RK(e)?new VK(new WK(yield t.read())):new zK(new jK(t)):new zK(new jK(function(){return s(this,arguments,(function*(){}))}()))}))}(new CZ(t)):function(t){const e=t.peek(FK+7&-8)
return e&&e.byteLength>=4?RK(e)?new VK(new WK(t.read())):new PK(new qK(t)):new PK(new qK(function*(){}()))}(new xZ(t))}static readAll(t){return t instanceof BK?t.isSync()?YK(t):XK(t):DU(t)||ArrayBuffer.isView(t)||MU(t)||EU(t)?YK(t):XK(t)}}class PK extends BK{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return s(this,arguments,(function*(){yield i(yield*o(r(this[Symbol.iterator]())))}))}}class zK extends BK{constructor(t){super(t),this._impl=t}readAll(){return e(this,void 0,void 0,(function*(){var t,e,n,i
const s=new Array
try{for(var o,a=!0,l=r(this);!(t=(o=yield l.next()).done);a=!0){i=o.value,a=!1
const t=i
s.push(t)}}catch(t){e={error:t}}finally{try{a||t||!(n=l.return)||(yield n.call(l))}finally{if(e)throw e.error}}return s}))}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class VK extends PK{constructor(t){super(t),this._impl=t}}class HK extends zK{constructor(t){super(t),this._impl=t}}class UK{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){const n=this._loadVectors(t,e,this.schema.fields),i=NG({type:new Gj(this.schema.fields),length:t.length,children:n})
return new QZ(this.schema,i)}_loadDictionaryBatch(t,e){const{id:n,isDelta:i}=t,{dictionaries:s,schema:o}=this,r=s.get(n),a=o.dictionaries.get(n),l=this._loadVectors(t.data,e,[a])
return(r&&i?r.concat(new iZ(l)):new iZ(l)).memoize()}_loadVectors(t,e,n){return new OZ(e,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(n)}}class qK extends UK{constructor(t,e){super(e),this._reader=DU(t)?new EK(this._handle=t):new $K(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=KK(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):gZ}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):gZ}next(){if(this.closed)return gZ
let t
const{_reader:e}=this
for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header())
else{if(t.isRecordBatch()){this._recordBatchIndex++
const n=t.header(),i=e.readMessageBody(t.bodyLength)
return{done:!1,value:this._loadRecordBatch(n,i)}}if(t.isDictionaryBatch()){this._dictionaryIndex++
const n=t.header(),i=e.readMessageBody(t.bodyLength),s=this._loadDictionaryBatch(n,i)
this.dictionaries.set(n.id,s)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new nK(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class jK extends UK{constructor(t,e){super(e),this._reader=new DK(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return e(this,void 0,void 0,(function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}))}open(t){return e(this,void 0,void 0,(function*(){return this.closed||(this.autoDestroy=KK(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this}))}throw(t){return e(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):gZ}))}return(t){return e(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):gZ}))}next(){return e(this,void 0,void 0,(function*(){if(this.closed)return gZ
let t
const{_reader:e}=this
for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header())
else{if(t.isRecordBatch()){this._recordBatchIndex++
const n=t.header(),i=yield e.readMessageBody(t.bodyLength)
return{done:!1,value:this._loadRecordBatch(n,i)}}if(t.isDictionaryBatch()){this._dictionaryIndex++
const n=t.header(),i=yield e.readMessageBody(t.bodyLength),s=this._loadDictionaryBatch(n,i)
this.dictionaries.set(n.id,s)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new nK(this.schema)}):yield this.return()}))}_readNextMessageAndValidate(t){return e(this,void 0,void 0,(function*(){return yield this._reader.readMessage(t)}))}}class WK extends qK{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,e){super(t instanceof _Z?t:new _Z(t),e)}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema
for(const t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var e
if(this.closed)return null
this._footer||this.open()
const n=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t)
if(n&&this._handle.seek(n.offset)){const t=this._reader.readMessage(jq.RecordBatch)
if(null==t?void 0:t.isRecordBatch()){const e=t.header(),n=this._reader.readMessageBody(t.bodyLength)
return this._loadRecordBatch(e,n)}}return null}_readDictionaryBatch(t){var e
const n=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t)
if(n&&this._handle.seek(n.offset)){const t=this._reader.readMessage(jq.DictionaryBatch)
if(null==t?void 0:t.isDictionaryBatch()){const e=t.header(),n=this._reader.readMessageBody(t.bodyLength),i=this._loadDictionaryBatch(e,n)
this.dictionaries.set(e.id,i)}}}_readFooter(){const{_handle:t}=this,e=t.size-NK,n=t.readInt32(e),i=t.readAt(e-n,n)
return pZ.decode(i)}_readNextMessageAndValidate(t){var e
if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(this._recordBatchIndex)
if(n&&this._handle.seek(n.offset))return this._reader.readMessage(t)}return null}}class GK extends jK{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,...e){const n="number"!=typeof e[0]?e.shift():void 0,i=e[0]instanceof Map?e.shift():void 0
super(t instanceof IZ?t:new IZ(t,n),i)}isFile(){return!0}isAsync(){return!0}open(t){const n=Object.create(null,{open:{get:()=>super.open}})
return e(this,void 0,void 0,(function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema
for(const t of this._footer.dictionaryBatches())t&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield n.open.call(this,t)}))}readRecordBatch(t){return e(this,void 0,void 0,(function*(){var e
if(this.closed)return null
this._footer||(yield this.open())
const n=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t)
if(n&&(yield this._handle.seek(n.offset))){const t=yield this._reader.readMessage(jq.RecordBatch)
if(null==t?void 0:t.isRecordBatch()){const e=t.header(),n=yield this._reader.readMessageBody(t.bodyLength)
return this._loadRecordBatch(e,n)}}return null}))}_readDictionaryBatch(t){return e(this,void 0,void 0,(function*(){var e
const n=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t)
if(n&&(yield this._handle.seek(n.offset))){const t=yield this._reader.readMessage(jq.DictionaryBatch)
if(null==t?void 0:t.isDictionaryBatch()){const e=t.header(),n=yield this._reader.readMessageBody(t.bodyLength),i=this._loadDictionaryBatch(e,n)
this.dictionaries.set(e.id,i)}}}))}_readFooter(){return e(this,void 0,void 0,(function*(){const{_handle:t}=this
t._pending&&(yield t._pending)
const e=t.size-NK,n=yield t.readInt32(e),i=yield t.readAt(e-n,n)
return pZ.decode(i)}))}_readNextMessageAndValidate(t){return e(this,void 0,void 0,(function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex)
if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null}))}}class ZK extends qK{constructor(t,e){super(t,e)}_loadVectors(t,e,n){return new RZ(e,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(n)}}function KK(t,e){return e&&"boolean"==typeof e.autoDestroy?e.autoDestroy:t.autoDestroy}function*YK(t){const e=BK.from(t)
try{if(!e.open({autoDestroy:!1}).closed)do{yield e}while(!e.reset().open().closed)}finally{e.cancel()}}function XK(t){return s(this,arguments,(function*(){const e=yield i(BK.from(t))
try{if(!(yield i(e.open({autoDestroy:!1}))).closed)do{yield yield i(e)}while(!(yield i(e.reset().open())).closed)}finally{yield i(e.cancel())}}))}const JK=Q`
    <div class="wafer-map-container">
        <svg class="svg-root">
            <g ${Ut("zoomContainer")} transform=${t=>t.transform.toString()}>
                <g class="notch ${t=>t.orientation}">
                    <svg
                        class="circle-base"
                        version="1.1"
                        x="0px"
                        y="0px"
                        viewBox="0 0 41 41"
                    >
                        <path
                            class="circle-drawing-path"
                            d="m 40.5 21 a 20 20 1 1 1 0 -1 a 0.5 0.5 0 0 0 0 1"
                        />
                    </svg>
                </g>
            </g>
        </svg>
        <canvas class="main-wafer" ${Ut("canvas")}></canvas>
        <canvas class="worker-wafer" ${Ut("workerCanvas")}></canvas>
        <svg class="hover-layer">
            <rect
                class="hover-rect ${t=>t.hoverOpacity}"
                transform="${t=>t.hoverTransform}"
                width="${t=>t.hoverWidth}"
                height="${t=>t.hoverHeight}"
            />
        </svg>
    </div>
`,QK=Mt`
    ${qs("inline-block")}

    :host {
        width: 500px;
        height: 500px;
    }

    .main-wafer {
        display: inline-block;
        position: absolute;
    }

    .worker-wafer {
        display: inline-block;
        position: absolute;
    }

    .wafer-map-container {
        width: 100%;
        height: 100%;
        position: relative;
        display: inline-block;
        justify-content: center;
        align-items: center;
    }

    .svg-root {
        width: 100%;
        height: 100%;
        position: absolute;
    }

    .notch {
        transform-origin: center center;
    }

    .notch.top {
        transform: rotate(-90deg);
    }

    .notch.right {
        transform: rotate(0deg);
    }

    .notch.left {
        transform: rotate(180deg);
    }

    .notch.bottom {
        transform: rotate(90deg);
    }

    .circle-base {
        fill: white;
    }

    .circle-drawing-path {
        shape-rendering: 'crispEdges';
        vector-effect: non-scaling-stroke;
        stroke-width: ${Tl};
        stroke: ${ll};
    }

    .hover-layer {
        position: absolute;
        pointer-events: none;
        width: 100%;
        height: 100%;
    }

    .hover-rect {
        fill: transparent;
        stroke: white;
        outline-style: solid;
        outline-color: ${xo};
    }

    .hover-rect.show {
        opacity: 1;
        stroke-width: 2px;
        outline-width: 2px;
    }

    .hover-rect.hide {
        opacity: 0;
        stroke-width: 0px;
        outline-width: 0px;
    }
`
function tY(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function eY(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nY(t){let e,n,i
function s(t,i,s=0,o=t.length){if(s<o){if(0!==e(i,i))return o
do{const e=s+o>>>1
n(t[e],i)<0?s=e+1:o=e}while(s<o)}return s}return 2!==t.length?(e=tY,n=(e,n)=>tY(t(e),n),i=(e,n)=>t(e)-n):(e=t===tY||t===eY?t:iY,n=t,i=t),{left:s,center:function(t,e,n=0,o=t.length){const r=s(t,e,n,o-1)
return r>n&&i(t[r-1],e)>-i(t[r],e)?r-1:r},right:function(t,i,s=0,o=t.length){if(s<o){if(0!==e(i,i))return o
do{const e=s+o>>>1
n(t[e],i)<=0?s=e+1:o=e}while(s<o)}return s}}}function iY(){return 0}function sY(t){return null===t?NaN:+t}const oY=nY(tY).right
nY(sY).center
class rY extends Map{constructor(t,e=lY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(aY(this,t))}has(t){return super.has(aY(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const i=e(n)
return t.has(i)?t.get(i):(t.set(i,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const i=e(n)
t.has(i)&&(n=t.get(i),t.delete(i))
return n}(this,t))}}function aY({_intern:t,_key:e},n){const i=e(n)
return t.has(i)?t.get(i):n}function lY(t){return null!==t&&"object"==typeof t?t.valueOf():t}const cY=Math.sqrt(50),dY=Math.sqrt(10),hY=Math.sqrt(2)
function uY(t,e,n){const i=(e-t)/Math.max(0,n),s=Math.floor(Math.log10(i)),o=i/Math.pow(10,s),r=o>=cY?10:o>=dY?5:o>=hY?2:1
let a,l,c
return s<0?(c=Math.pow(10,-s)/r,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,s)*r,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?uY(t,e,2*n):[a,l,c]}function pY(t,e,n){return uY(t=+t,e=+e,n=+n)[2]}function fY(t,e,n=sY){if((i=t.length)&&!isNaN(e=+e)){if(e<=0||i<2)return+n(t[0],0,t)
if(e>=1)return+n(t[i-1],i-1,t)
var i,s=(i-1)*e,o=Math.floor(s),r=+n(t[o],o,t)
return r+(+n(t[o+1],o+1,t)-r)*(s-o)}}function mY(t,e,n){t=+t,e=+e,n=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+n
for(var i=-1,s=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(s);++i<s;)o[i]=t+i*n
return o}function gY(t,e){switch(arguments.length){case 0:break
case 1:this.range(t)
break
default:this.range(e).domain(t)}return this}const vY=Symbol("implicit")
function bY(){var t=new rY,e=[],n=[],i=vY
function s(s){let o=t.get(s)
if(void 0===o){if(i!==vY)return i
t.set(s,o=e.push(s)-1)}return n[o%n.length]}return s.domain=function(n){if(!arguments.length)return e.slice()
e=[],t=new rY
for(const i of n)t.has(i)||t.set(i,e.push(i)-1)
return s},s.range=function(t){return arguments.length?(n=Array.from(t),s):n.slice()},s.unknown=function(t){return arguments.length?(i=t,s):i},s.copy=function(){return bY(e,n).unknown(i)},gY.apply(s,arguments),s}function yY(){var t,e,n=bY().unknown(void 0),i=n.domain,s=n.range,o=0,r=1,a=!1,l=0,c=0,d=.5
function h(){var n=i().length,h=r<o,u=h?r:o,p=h?o:r
t=(p-u)/Math.max(1,n-l+2*c),a&&(t=Math.floor(t)),u+=(p-u-t*(n-l))*d,e=t*(1-l),a&&(u=Math.round(u),e=Math.round(e))
var f=mY(n).map((function(e){return u+t*e}))
return s(h?f.reverse():f)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),h()):i()},n.range=function(t){return arguments.length?([o,r]=t,o=+o,r=+r,h()):[o,r]},n.rangeRound=function(t){return[o,r]=t,o=+o,r=+r,a=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,h()):a},n.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),h()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),h()):l},n.paddingOuter=function(t){return arguments.length?(c=+t,h()):c},n.align=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),h()):d},n.copy=function(){return yY(i(),[o,r]).round(a).paddingInner(l).paddingOuter(c).align(d)},gY.apply(h(),arguments)}function wY(t){return+t}var xY=[0,1]
function CY(t){return t}function kY(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n})
var n}function SY(t,e,n){var i=t[0],s=t[1],o=e[0],r=e[1]
return s<i?(i=kY(s,i),o=n(r,o)):(i=kY(i,s),o=n(o,r)),function(t){return o(i(t))}}function _Y(t,e,n){var i=Math.min(t.length,e.length)-1,s=new Array(i),o=new Array(i),r=-1
for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++r<i;)s[r]=kY(t[r],t[r+1]),o[r]=n(e[r],e[r+1])
return function(e){var n=oY(t,e,1,i)-1
return o[n](s[n](e))}}function IY(){var t,e,n,i,s,o,r=xY,a=xY,l=GV,c=CY
function d(){var t,e,n,l=Math.min(r.length,a.length)
return c!==CY&&(t=r[0],e=r[l-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),i=l>2?_Y:SY,s=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(s||(s=i(r.map(t),a,l)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=i(a,r.map(t),HV)))(n)))},h.domain=function(t){return arguments.length?(r=Array.from(t,wY),d()):r.slice()},h.range=function(t){return arguments.length?(a=Array.from(t),d()):a.slice()},h.rangeRound=function(t){return a=Array.from(t),l=ZV,d()},h.clamp=function(t){return arguments.length?(c=!!t||CY,d()):c!==CY},h.interpolate=function(t){return arguments.length?(l=t,d()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,i){return t=n,e=i,d()}}function MY(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null
var n,i=t.slice(0,n)
return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function $Y(t){return(t=MY(Math.abs(t)))?t[1]:NaN}var DY,EY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i
function AY(t){if(!(e=EY.exec(t)))throw new Error("invalid format: "+t)
var e
return new TY({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function TY(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function OY(t,e){var n=MY(t,e)
if(!n)return t+""
var i=n[0],s=n[1]
return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}AY.prototype=TY.prototype,TY.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}
var RY={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>OY(100*t,e),r:OY,s:function(t,e){var n=MY(t,e)
if(!n)return t+""
var i=n[0],s=n[1],o=s-(DY=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,r=i.length
return o===r?i:o>r?i+new Array(o-r+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+MY(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)}
function FY(t){return t}var NY,LY,BY,PY=Array.prototype.map,zY=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"]
function VY(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?FY:(e=PY.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var s=t.length,o=[],r=0,a=e[0],l=0;s>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),o.push(t.substring(s-=a,s+a)),!((l+=a+1)>i));)a=e[r=(r+1)%e.length]
return o.reverse().join(n)}),s=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",r=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?FY:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(PY.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"":t.minus+"",d=void 0===t.nan?"NaN":t.nan+""
function h(t){var e=(t=AY(t)).fill,n=t.align,h=t.sign,u=t.symbol,p=t.zero,f=t.width,m=t.comma,g=t.precision,v=t.trim,b=t.type
"n"===b?(m=!0,b="g"):RY[b]||(void 0===g&&(g=12),v=!0,b="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=")
var y="$"===u?s:"#"===u&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",w="$"===u?o:/[%p]/.test(b)?l:"",x=RY[b],C=/[defgprs%]/.test(b)
function k(t){var s,o,l,u=y,k=w
if("c"===b)k=x(t)+k,t=""
else{var S=(t=+t)<0||1/t<0
if(t=isNaN(t)?d:x(Math.abs(t),g),v&&(t=function(t){t:for(var e,n=t.length,i=1,s=-1;i<n;++i)switch(t[i]){case".":s=e=i
break
case"0":0===s&&(s=i),e=i
break
default:if(!+t[i])break t
s>0&&(s=0)}return s>0?t.slice(0,s)+t.slice(e+1):t}(t)),S&&0==+t&&"+"!==h&&(S=!1),u=(S?"("===h?h:c:"-"===h||"("===h?"":h)+u,k=("s"===b?zY[8+DY/3]:"")+k+(S&&"("===h?")":""),C)for(s=-1,o=t.length;++s<o;)if(48>(l=t.charCodeAt(s))||l>57){k=(46===l?r+t.slice(s+1):t.slice(s))+k,t=t.slice(0,s)
break}}m&&!p&&(t=i(t,1/0))
var _=u.length+t.length+k.length,I=_<f?new Array(f-_+1).join(e):""
switch(m&&p&&(t=i(I+t,I.length?f-k.length:1/0),I=""),n){case"<":t=u+t+k+I
break
case"=":t=u+I+t+k
break
case"^":t=I.slice(0,_=I.length>>1)+u+t+k+I.slice(_)
break
default:t=I+u+t+k}return a(t)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return t+""},k}return{format:h,formatPrefix:function(t,e){var n=h(((t=AY(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor($Y(e)/3))),s=Math.pow(10,-i),o=zY[8+i/3]
return function(t){return n(s*t)+o}}}}function HY(t,e,n,i){var s,o=function(t,e,n){n=+n
const i=(e=+e)<(t=+t),s=i?pY(e,t,n):pY(t,e,n)
return(i?-1:1)*(s<0?1/-s:s)}(t,e,n)
switch((i=AY(null==i?",f":i)).type){case"s":var r=Math.max(Math.abs(t),Math.abs(e))
return null!=i.precision||isNaN(s=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor($Y(e)/3)))-$Y(Math.abs(t)))}(o,r))||(i.precision=s),BY(i,r)
case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(s=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,$Y(e)-$Y(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=s-("e"===i.type))
break
case"f":case"%":null!=i.precision||isNaN(s=function(t){return Math.max(0,-$Y(Math.abs(t)))}(o))||(i.precision=s-2*("%"===i.type))}return LY(i)}function UY(t){var e=t.domain
return t.ticks=function(t){var n=e()
return function(t,e,n){if(!((n=+n)>0))return[]
if((t=+t)==(e=+e))return[t]
const i=e<t,[s,o,r]=i?uY(e,t,n):uY(t,e,n)
if(!(o>=s))return[]
const a=o-s+1,l=new Array(a)
if(i)if(r<0)for(let t=0;t<a;++t)l[t]=(o-t)/-r
else for(let t=0;t<a;++t)l[t]=(o-t)*r
else if(r<0)for(let t=0;t<a;++t)l[t]=(s+t)/-r
else for(let t=0;t<a;++t)l[t]=(s+t)*r
return l}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e()
return HY(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10)
var i,s,o=e(),r=0,a=o.length-1,l=o[r],c=o[a],d=10
for(c<l&&(s=l,l=c,c=s,s=r,r=a,a=s);d-- >0;){if((s=pY(l,c,n))===i)return o[r]=l,o[a]=c,e(o)
if(s>0)l=Math.floor(l/s)*s,c=Math.ceil(c/s)*s
else{if(!(s<0))break
l=Math.ceil(l*s)/s,c=Math.floor(c*s)/s}i=s}return t},t}function qY(){var t=IY()(CY,CY)
return t.copy=function(){return e=t,qY().domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())
var e},gY.apply(t,arguments),UY(t)}function jY(){var t,e=[],n=[],i=[]
function s(){var t=0,s=Math.max(1,n.length)
for(i=new Array(s-1);++t<s;)i[t-1]=fY(e,t/s)
return o}function o(e){return null==e||isNaN(e=+e)?t:n[oY(i,e)]}return o.invertExtent=function(t){var s=n.indexOf(t)
return s<0?[NaN,NaN]:[s>0?i[s-1]:e[0],s<i.length?i[s]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice()
e=[]
for(let n of t)null==n||isNaN(n=+n)||e.push(n)
return e.sort(tY),s()},o.range=function(t){return arguments.length?(n=Array.from(t),s()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return i.slice()},o.copy=function(){return jY().domain(e).range(n).unknown(t)},gY.apply(o,arguments)}NY=VY({thousands:",",grouping:[3],currency:["$",""]}),LY=NY.format,BY=NY.formatPrefix
const WY="bottom-left",GY="bottom-right",ZY="top-left",KY="top",YY="show",XY="hide",JY="linear",QY="ordinal"
let tX=class{get containerDimensions(){return this._containerDimensions}get dieDimensions(){return this._dieDimensions}get radius(){return this._radius}get margin(){return this._margin}get horizontalScale(){return this._horizontalScale}get verticalScale(){return this._verticalScale}get invertedHorizontalScale(){return this._invertedHorizontalScale}get invertedVerticalScale(){return this._invertedVerticalScale}constructor(t){this.wafermap=t,this.defaultPadding=0,this.baseMarginPercentage=.04}updateContainerDimensions(){const t={width:this.wafermap.canvasWidth,height:this.wafermap.canvasHeight},e=Math.min(t.width,t.height),n={top:(t.height-e)/2,right:(t.width-e)/2,bottom:(t.height-e)/2,left:(t.width-e)/2},i={top:e*this.baseMarginPercentage,right:e*this.baseMarginPercentage,bottom:e*this.baseMarginPercentage,left:e*this.baseMarginPercentage}
this._margin=this.calculateMarginAddition(i,n),this._containerDimensions=this.calculateContainerDimensions(t,this._margin)
const s=Math.min(this._containerDimensions.width,this._containerDimensions.height)
this._radius=s/2,this.updateScales()}updateScales(){const t=Math.min(this._containerDimensions.width,this._containerDimensions.height),e=this.gridDimensionsValidAndDefined()?this.calculateGridDimensionsFromBoundingBox():this.calculateGridDimensionsFromDies(this.wafermap.dies),n=this.wafermap.originLocation
this._horizontalScale=this.createHorizontalScale(n,e,t),this._invertedHorizontalScale=this.createInvertedHorizontalScale(n,e,t),this._verticalScale=this.createVerticalScale(n,e,t),this._invertedVerticalScale=this.createInvertedVerticalScale(n,e,t)
const i=this.horizontalScale.bandwidth(),s=this.verticalScale.bandwidth()
this._dieDimensions={width:isNaN(i)?0:i,height:isNaN(s)?0:s}}gridDimensionsValidAndDefined(){return!this.wafermap.validity.invalidGridDimensions&&"number"==typeof this.wafermap.gridMinX&&"number"==typeof this.wafermap.gridMinY&&"number"==typeof this.wafermap.gridMaxX&&"number"==typeof this.wafermap.gridMinX}calculateGridDimensionsFromBoundingBox(){const t={origin:{x:0,y:0},rows:0,cols:0}
return"number"==typeof this.wafermap.gridMaxY&&"number"==typeof this.wafermap.gridMinY&&"number"==typeof this.wafermap.gridMaxX&&"number"==typeof this.wafermap.gridMinX&&(t.origin.x=this.wafermap.gridMinX,t.origin.y=this.wafermap.gridMinY,t.rows=this.wafermap.gridMaxY-this.wafermap.gridMinY+1,t.cols=this.wafermap.gridMaxX-this.wafermap.gridMinX+1),t}calculateGridDimensionsFromDies(t){if(0===t.length||void 0===t[0])return{origin:{x:0,y:0},rows:0,cols:0}
const e={x:t[0].x,y:t[0].y},n={x:t[0].x,y:t[0].y}
for(const i of t)i.x<e.x&&(e.x=i.x),i.y<e.y&&(e.y=i.y),i.x>n.x&&(n.x=i.x),i.y>n.y&&(n.y=i.y)
return{origin:e,rows:n.y-e.y+1,cols:n.x-e.x+1}}calculateContainerDimensions(t,e){return{width:t.width-e.left-e.right,height:t.height-e.top-e.bottom}}createHorizontalScale(t,e,n){const i=yY().domain(mY(e.origin.x,e.origin.x+e.cols)).paddingInner(0).paddingOuter(0).align(0).round(!1)
return t===WY||t===ZY?i.range([0,n]):i.range([n,0])}createInvertedHorizontalScale(t,e,n){const i=jY().domain([0,n])
return t===WY||t===ZY?i.range(mY(e.origin.x,e.origin.x+e.cols)):i.range(mY(e.origin.x,e.origin.x+e.cols).reverse())}createVerticalScale(t,e,n){const i=yY().domain(mY(e.origin.y,e.origin.y+e.rows)).paddingInner(this.defaultPadding).paddingOuter(0).align(0).round(!1)
return t===WY||t===GY?i.range([n,0]):i.range([0,n])}createInvertedVerticalScale(t,e,n){const i=jY().domain([0,n])
return t===WY||t===GY?i.range(mY(e.origin.y,e.origin.y+e.rows).reverse()):i.range(mY(e.origin.y,e.origin.y+e.rows))}calculateMarginAddition(t,e){return{top:t.top+e.top,right:t.right+e.right,bottom:t.bottom+e.bottom,left:t.left+e.left}}}
class eX{get labelsFontSize(){return this._labelsFontSize}get diesRenderInfo(){return this._diesRenderInfo}constructor(t){this.wafermap=t,this.fontSizeFactor=.8,this.nonHighlightedOpacity=.3,this.emptyDieColor="rgba(218,223,236,1)",this.nanDieColor="rgba(122,122,122,1)"}updateLabelsFontSize(){this._labelsFontSize=this.calculateLabelsFontSize(this.wafermap.dataManager.dieDimensions,this.wafermap.maxCharacters),this.updateDiesRenderInfo()}updateDiesRenderInfo(){this.d3ColorScale=this.createD3ColorScale(this.wafermap.colorScale,this.wafermap.colorScaleMode)
const t=t=>null!==t
void 0===this.wafermap.diesTable&&(this._diesRenderInfo=this.wafermap.dies.map((t=>this.computeDieRenderInfo(t))).filter(t))}computeDieRenderInfo(t){const e=this.wafermap.dataManager.margin,n=this.wafermap.dataManager.horizontalScale(t.x),i=this.wafermap.dataManager.verticalScale(t.y)
return void 0===n||void 0===i?null:{x:n+e.right,y:i+e.top,fillStyle:this.calculateFillStyle(t.value,this.wafermap.colorScaleMode,this.wafermap.highlightedTags,t.tags),text:this.buildLabel(t.value,this.wafermap.maxCharacters,this.wafermap.dieLabelsHidden,this.wafermap.dieLabelsSuffix)}}calculateLabelsFontSize(t,e){return Math.min(t.height,t.width/(.5*Math.max(2,e))*this.fontSizeFactor)}createD3ColorScale(t,e){return this.isColorScaleLinear(e)?qY().domain(t.values.map((t=>+t))).range(t.colors):bY().domain(t.values).range(t.colors)}dieHasData(t){return null!=t&&""!==t}buildLabel(t,e,n,i){if(n||!this.dieHasData(t))return""
const s=`${t}${i}`
return s.length>=e?`${s.substring(0,e)}`:s}calculateOpacity(t,e){if(!e||0===e.length)return 1
const n=new Set(e)
return t?.some((t=>n.has(t)))?1:this.nonHighlightedOpacity}isColorScaleLinear(t){return t===JY}isColorScaleOrdinal(t){return t===QY}calculateFillStyle(t,e,n,i){let s=this.emptyDieColor
if(this.dieHasData(t)&&(isNaN(+t)?s=this.nanDieColor:this.isColorScaleLinear(e)?s=this.d3ColorScale(+t):this.isColorScaleOrdinal(e)&&(s=this.d3ColorScale(t))),void 0===s)return this.emptyDieColor
let o=so(s)
return null===o?this.emptyDieColor:(o=new Ys(o.r,o.g,o.b,this.calculateOpacity(i,n)),o.toStringWebRGBA())}}class nX{get containerDimensions(){return this.computations.containerDimensions}get dieDimensions(){return this.computations.dieDimensions}get radius(){return this.computations.radius}get margin(){return this.computations.margin}get horizontalScale(){return this.computations.horizontalScale}get invertedHorizontalScale(){return this.computations.invertedHorizontalScale}get verticalScale(){return this.computations.verticalScale}get invertedVerticalScale(){return this.computations.invertedVerticalScale}get labelsFontSize(){return this.prerendering.labelsFontSize}get diesRenderInfo(){return this.prerendering.diesRenderInfo}get data(){return this.dataMap}constructor(t){this.wafermap=t,this.computations=new tX(t),this.prerendering=new eX(t)}updateContainerDimensions(){this.computations.updateContainerDimensions(),this.updateDataMap(),this.updateLabelsFontSize()}updateScales(){this.computations.updateScales(),this.updateDataMap(),this.updateLabelsFontSize()}updateLabelsFontSize(){this.prerendering.updateLabelsFontSize()}updateDiesRenderInfo(){this.prerendering.updateDiesRenderInfo()}getWaferMapDie(t){return this.dataMap.get(`${t.x}_${t.y}`)}updateDataMap(){this.dataMap=new Map(this.wafermap.dies.map((t=>[`${t.x}_${t.y}`,t])))}}class iX{constructor(t){this.wafermap=t,this.minDieDim=50}updateSortedDiesAndDrawWafer(){this.dies=this.wafermap.dataManager.diesRenderInfo.sort(((t,e)=>t.fillStyle>e.fillStyle?1:e.fillStyle>t.fillStyle?-1:0)),this.drawWafer()}drawWafer(){this.wafermap.canvasContext.save(),this.clearCanvas(),this.scaleCanvas(),this.renderDies(),this.renderText(),this.wafermap.canvasContext.restore(),this.renderHover()}renderHover(){void 0!==this.wafermap.dataManager.dieDimensions&&void 0!==this.wafermap.transform&&(this.wafermap.hoverWidth=this.wafermap.dataManager.dieDimensions.width*this.wafermap.transform.k,this.wafermap.hoverHeight=this.wafermap.dataManager.dieDimensions.height*this.wafermap.transform.k,this.wafermap.hoverOpacity=void 0===this.wafermap.hoverDie?XY:YY,this.wafermap.hoverTransform=this.calculateHoverTransform())}calculateHoverTransform(){if(void 0!==this.wafermap.hoverDie){const t=this.wafermap.dataManager.horizontalScale(this.wafermap.hoverDie.x)
if(void 0===t)return""
const e=this.wafermap.dataManager.verticalScale(this.wafermap.hoverDie.y)
if(void 0===e)return""
const n=this.wafermap.transform.apply([t+this.wafermap.dataManager.margin.left,e+this.wafermap.dataManager.margin.top])
return`translate(${n[0]}, ${n[1]})`}return""}renderDies(){const t=this.wafermap.canvasContext,e=this.wafermap.dataManager.dieDimensions.width,n=this.wafermap.dataManager.dieDimensions.height,i=this.wafermap.transform.invert([0,0]),s=this.wafermap.transform.invert([this.wafermap.canvas.width,this.wafermap.canvas.height])
i[0]-=e,i[1]-=n
for(const o of this.dies)this.isDieVisible(o,i,s)&&(t.fillStyle=o.fillStyle,t.fillRect(o.x,o.y,e,n))}renderText(){if(this.wafermap.dieLabelsHidden)return
const t=this.wafermap.dataManager.dieDimensions.width,e=this.wafermap.dataManager.dieDimensions.height
if(t*e*(this.wafermap.transform.k||1)>=this.minDieDim){const n=this.wafermap.dataManager.labelsFontSize,i=this.wafermap.canvasContext
i.font=`${n.toString()}px sans-serif`,i.fillStyle="#ffffff",i.textAlign="center",i.lineCap="butt"
const s=i.measureText("M"),o=this.wafermap.transform.invert([0,0]),r=this.wafermap.transform.invert([this.wafermap.canvas.width,this.wafermap.canvas.height])
o[0]-=t,o[1]-=e
for(const n of this.dies)this.isDieVisible(n,o,r)&&i.fillText(n.text,n.x+t/2,n.y+e/2+s.width/2,t-t/100*20)}}clearCanvas(){this.wafermap.canvasContext.clearRect(0,0,this.wafermap.canvas.width,this.wafermap.canvas.height)}scaleCanvas(){this.wafermap.canvasContext.translate(this.wafermap.transform.x,this.wafermap.transform.y),this.wafermap.canvasContext.scale(this.wafermap.transform.k,this.wafermap.transform.k)}isDieVisible(t,e,n){return t.x>=e[0]&&t.x<n[0]&&t.y>=e[1]&&t.y<n[1]}}const sX=["highlightedTags","canvasWidth","canvasHeight","originLocation","gridMinX","gridMaxX","gridMinY","gridMaxY","dies","maxCharacters","colorScale","colorScaleMode","dieLabelsHidden","dieLabelsSuffix","transform","hoverDie"]
class oX extends DE{constructor(t){super(sX),this.wafermap=t,this.updateQueued=!1}get requiresEventsUpdate(){return this.isTracked("canvasWidth")||this.isTracked("canvasHeight")||this.isTracked("originLocation")||this.isTracked("gridMinX")||this.isTracked("gridMaxX")||this.isTracked("gridMinY")||this.isTracked("gridMaxY")||this.isTracked("dies")||this.isTracked("maxCharacters")||this.isTracked("highlightedTags")||this.isTracked("colorScale")||this.isTracked("colorScaleMode")||this.isTracked("dieLabelsHidden")||this.isTracked("dieLabelsSuffix")||this.isTracked("transform")}get requiresWorkerWaferSetup(){return this.isTracked("canvasWidth")||this.isTracked("canvasHeight")||this.isTracked("originLocation")||this.isTracked("gridMinX")||this.isTracked("gridMaxX")||this.isTracked("gridMinY")||this.isTracked("gridMaxY")||this.isTracked("dies")||this.isTracked("maxCharacters")||this.isTracked("highlightedTags")||this.isTracked("colorScale")||this.isTracked("colorScaleMode")||this.isTracked("dieLabelsHidden")||this.isTracked("dieLabelsSuffix")}get requiresContainerDimensionsUpdate(){return this.isTracked("canvasWidth")||this.isTracked("canvasHeight")}get requiresComponentResizeUpdate(){return this.isTracked("canvasWidth")||this.isTracked("canvasHeight")}get requiresScalesUpdate(){return this.isTracked("originLocation")||this.isTracked("gridMinX")||this.isTracked("gridMaxX")||this.isTracked("gridMinY")||this.isTracked("gridMaxY")||this.isTracked("dies")}get requiresInputDataUpdate(){return this.isTracked("originLocation")||this.isTracked("gridMinX")||this.isTracked("gridMaxX")||this.isTracked("gridMinY")||this.isTracked("gridMaxY")||this.isTracked("dies")}get requiresLabelsFontSizeUpdate(){return this.isTracked("maxCharacters")}get requiresDiesRenderInfoUpdate(){return this.isTracked("highlightedTags")||this.isTracked("colorScale")||this.isTracked("colorScaleMode")||this.isTracked("dieLabelsHidden")||this.isTracked("dieLabelsSuffix")}get requiresColorAndTextUpdate(){return this.isTracked("maxCharacters")||this.isTracked("highlightedTags")||this.isTracked("colorScale")||this.isTracked("colorScaleMode")||this.isTracked("dieLabelsHidden")||this.isTracked("dieLabelsSuffix")}get requiresDrawnWaferUpdate(){return this.isTracked("transform")}get requiresRenderHoverUpdate(){return this.isTracked("hoverDie")}queueUpdate(){this.wafermap.$fastController.isConnected&&!this.updateQueued&&(this.updateQueued=!0,void 0===this.wafermap.currentTask?b.queueUpdate((()=>{this.wafermap.update(),this.untrackAll(),this.updateQueued=!1})):(async()=>{await this.wafermap.currentTask,b.queueUpdate((()=>{this.wafermap.update(),this.untrackAll(),this.updateQueued=!1,this.wafermap.currentTask=void 0}))})())}}class rX{constructor(t){this.wafermap=t,this.invalidGridDimensions=!1,this.invalidDiesTableSchema=!1}getValidity(){return{invalidGridDimensions:this.invalidGridDimensions,invalidDiesTableSchema:this.invalidDiesTableSchema}}isValid(){return Object.values(this.getValidity()).every((t=>!1===t))}validateGridDimensions(){return this.invalidGridDimensions=!1,void 0===this.wafermap.gridMinX&&void 0===this.wafermap.gridMaxX&&void 0===this.wafermap.gridMinY&&void 0===this.wafermap.gridMaxY?this.invalidGridDimensions=!1:("number"!=typeof this.wafermap.gridMinX||"number"!=typeof this.wafermap.gridMaxX||"number"!=typeof this.wafermap.gridMinY||"number"!=typeof this.wafermap.gridMaxY||this.wafermap.gridMaxX<this.wafermap.gridMinX||this.wafermap.gridMaxY<this.wafermap.gridMinY)&&(this.invalidGridDimensions=!0),!this.invalidGridDimensions}validateDiesTableSchema(){if(this.invalidDiesTableSchema=!1,void 0===this.wafermap.diesTable)this.invalidDiesTableSchema=!1
else{const t=this.wafermap.diesTable.schema.fields,e=t.find((t=>"colIndex"===t.name)),n=t.find((t=>"rowIndex"===t.name)),i=t.find((t=>"value"===t.name))
e&&n&&i&&Ej.isInt(e.type)&&32===e.type.bitWidth&&Ej.isInt(n.type)&&32===n.type.bitWidth&&Ej.isFloat(i.type)&&i.type.precision===tq.DOUBLE||(this.invalidDiesTableSchema=!0)}return!this.invalidDiesTableSchema}}
/**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   */const aX=Symbol("Comlink.proxy"),lX=Symbol("Comlink.endpoint"),cX=Symbol("Comlink.releaseProxy"),dX=Symbol("Comlink.finalizer"),hX=Symbol("Comlink.thrown"),uX=t=>"object"==typeof t&&null!==t||"function"==typeof t,pX=new Map([["proxy",{canHandle:t=>uX(t)&&t[aX],serialize(t){const{port1:e,port2:n}=new MessageChannel
return fX(t,e),[n,[n]]},deserialize:t=>(t.start(),gX(t))}],["throw",{canHandle:t=>uX(t)&&hX in t,serialize({value:t}){let e
return e=t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[e,[]]},deserialize(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value)
throw t.value}}]])
function fX(t,e=globalThis,n=["*"]){e.addEventListener("message",(function i(s){if(!s||!s.data)return
if(!function(t,e){for(const n of t){if(e===n||"*"===n)return!0
if(n instanceof RegExp&&n.test(e))return!0}return!1}(n,s.origin))return void console.warn(`Invalid origin '${s.origin}' for comlink proxy`)
const{id:o,type:r,path:a}=Object.assign({path:[]},s.data),l=(s.data.argumentList||[]).map(IX)
let c
try{const e=a.slice(0,-1).reduce(((t,e)=>t[e]),t),n=a.reduce(((t,e)=>t[e]),t)
switch(r){case"GET":c=n
break
case"SET":e[a.slice(-1)[0]]=IX(s.data.value),c=!0
break
case"APPLY":c=n.apply(e,l)
break
case"CONSTRUCT":c=function(t){return Object.assign(t,{[aX]:!0})}(new n(...l))
break
case"ENDPOINT":{const{port1:e,port2:n}=new MessageChannel
fX(t,n),c=SX(e,[e])}break
case"RELEASE":c=void 0
break
default:return}}catch(t){c={value:t,[hX]:0}}Promise.resolve(c).catch((t=>({value:t,[hX]:0}))).then((n=>{const[s,a]=_X(n)
e.postMessage(Object.assign(Object.assign({},s),{id:o}),a),"RELEASE"===r&&(e.removeEventListener("message",i),mX(e),dX in t&&"function"==typeof t[dX]&&t[dX]())})).catch((t=>{const[n,i]=_X({value:new TypeError("Unserializable return value"),[hX]:0})
e.postMessage(Object.assign(Object.assign({},n),{id:o}),i)}))})),e.start&&e.start()}function mX(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function gX(t,e){const n=new Map
return t.addEventListener("message",(function(t){const{data:e}=t
if(!e||!e.id)return
const i=n.get(e.id)
if(i)try{i(e)}finally{n.delete(e.id)}})),xX(t,n,[],e)}function vX(t){if(t)throw new Error("Proxy has been released and is not useable")}function bX(t){return MX(t,new Map,{type:"RELEASE"}).then((()=>{mX(t)}))}const yX=new WeakMap,wX="FinalizationRegistry"in globalThis&&new FinalizationRegistry((t=>{const e=(yX.get(t)||0)-1
yX.set(t,e),0===e&&bX(t)}))
function xX(t,e,n=[],i=function(){}){let s=!1
const o=new Proxy(i,{get(i,r){if(vX(s),r===cX)return()=>{!function(t){wX&&wX.unregister(t)}(o),bX(t),e.clear(),s=!0}
if("then"===r){if(0===n.length)return{then:()=>o}
const i=MX(t,e,{type:"GET",path:n.map((t=>t.toString()))}).then(IX)
return i.then.bind(i)}return xX(t,e,[...n,r])},set(i,o,r){vX(s)
const[a,l]=_X(r)
return MX(t,e,{type:"SET",path:[...n,o].map((t=>t.toString())),value:a},l).then(IX)},apply(i,o,r){vX(s)
const a=n[n.length-1]
if(a===lX)return MX(t,e,{type:"ENDPOINT"}).then(IX)
if("bind"===a)return xX(t,e,n.slice(0,-1))
const[l,c]=CX(r)
return MX(t,e,{type:"APPLY",path:n.map((t=>t.toString())),argumentList:l},c).then(IX)},construct(i,o){vX(s)
const[r,a]=CX(o)
return MX(t,e,{type:"CONSTRUCT",path:n.map((t=>t.toString())),argumentList:r},a).then(IX)}})
return function(t,e){const n=(yX.get(e)||0)+1
yX.set(e,n),wX&&wX.register(t,e,t)}(o,t),o}function CX(t){const e=t.map(_X)
return[e.map((t=>t[0])),(n=e.map((t=>t[1])),Array.prototype.concat.apply([],n))]
var n}const kX=new WeakMap
function SX(t,e){return kX.set(t,e),t}function _X(t){for(const[e,n]of pX)if(n.canHandle(t)){const[i,s]=n.serialize(t)
return[{type:"HANDLER",name:e,value:i},s]}return[{type:"RAW",value:t},kX.get(t)||[]]}function IX(t){switch(t.type){case"HANDLER":return pX.get(t.name).deserialize(t.value)
case"RAW":return t.value}}function MX(t,e,n,i){return new Promise((s=>{const o=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-")
e.set(o,s),t.start&&t.start(),t.postMessage(Object.assign({id:o},n),i)}))}let $X
class DX{constructor(t){this.wafermap=t,this.minDieDim=100}async setupWafer(t){if(void 0===this.matrixRenderer){const{matrixRenderer:t}=await(async()=>{if(void 0===$X){const t=new Blob(['var MatrixRenderer = (function (exports) {\n    \'use strict\';\n\n    /**\n     * @license\n     * Copyright 2019 Google LLC\n     * SPDX-License-Identifier: Apache-2.0\n     */\n    const proxyMarker = Symbol("Comlink.proxy");\n    const createEndpoint = Symbol("Comlink.endpoint");\n    const releaseProxy = Symbol("Comlink.releaseProxy");\n    const finalizer = Symbol("Comlink.finalizer");\n    const throwMarker = Symbol("Comlink.thrown");\n    const isObject = (val) => (typeof val === "object" && val !== null) || typeof val === "function";\n    /**\n     * Internal transfer handle to handle objects marked to proxy.\n     */\n    const proxyTransferHandler = {\n        canHandle: (val) => isObject(val) && val[proxyMarker],\n        serialize(obj) {\n            const { port1, port2 } = new MessageChannel();\n            expose(obj, port1);\n            return [port2, [port2]];\n        },\n        deserialize(port) {\n            port.start();\n            return wrap(port);\n        },\n    };\n    /**\n     * Internal transfer handler to handle thrown exceptions.\n     */\n    const throwTransferHandler = {\n        canHandle: (value) => isObject(value) && throwMarker in value,\n        serialize({ value }) {\n            let serialized;\n            if (value instanceof Error) {\n                serialized = {\n                    isError: true,\n                    value: {\n                        message: value.message,\n                        name: value.name,\n                        stack: value.stack,\n                    },\n                };\n            }\n            else {\n                serialized = { isError: false, value };\n            }\n            return [serialized, []];\n        },\n        deserialize(serialized) {\n            if (serialized.isError) {\n                throw Object.assign(new Error(serialized.value.message), serialized.value);\n            }\n            throw serialized.value;\n        },\n    };\n    /**\n     * Allows customizing the serialization of certain values.\n     */\n    const transferHandlers = new Map([\n        ["proxy", proxyTransferHandler],\n        ["throw", throwTransferHandler],\n    ]);\n    function isAllowedOrigin(allowedOrigins, origin) {\n        for (const allowedOrigin of allowedOrigins) {\n            if (origin === allowedOrigin || allowedOrigin === "*") {\n                return true;\n            }\n            if (allowedOrigin instanceof RegExp && allowedOrigin.test(origin)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    function expose(obj, ep = globalThis, allowedOrigins = ["*"]) {\n        ep.addEventListener("message", function callback(ev) {\n            if (!ev || !ev.data) {\n                return;\n            }\n            if (!isAllowedOrigin(allowedOrigins, ev.origin)) {\n                console.warn(`Invalid origin \'${ev.origin}\' for comlink proxy`);\n                return;\n            }\n            const { id, type, path } = Object.assign({ path: [] }, ev.data);\n            const argumentList = (ev.data.argumentList || []).map(fromWireValue);\n            let returnValue;\n            try {\n                const parent = path.slice(0, -1).reduce((obj, prop) => obj[prop], obj);\n                const rawValue = path.reduce((obj, prop) => obj[prop], obj);\n                switch (type) {\n                    case "GET" /* MessageType.GET */:\n                        {\n                            returnValue = rawValue;\n                        }\n                        break;\n                    case "SET" /* MessageType.SET */:\n                        {\n                            parent[path.slice(-1)[0]] = fromWireValue(ev.data.value);\n                            returnValue = true;\n                        }\n                        break;\n                    case "APPLY" /* MessageType.APPLY */:\n                        {\n                            returnValue = rawValue.apply(parent, argumentList);\n                        }\n                        break;\n                    case "CONSTRUCT" /* MessageType.CONSTRUCT */:\n                        {\n                            const value = new rawValue(...argumentList);\n                            returnValue = proxy(value);\n                        }\n                        break;\n                    case "ENDPOINT" /* MessageType.ENDPOINT */:\n                        {\n                            const { port1, port2 } = new MessageChannel();\n                            expose(obj, port2);\n                            returnValue = transfer(port1, [port1]);\n                        }\n                        break;\n                    case "RELEASE" /* MessageType.RELEASE */:\n                        {\n                            returnValue = undefined;\n                        }\n                        break;\n                    default:\n                        return;\n                }\n            }\n            catch (value) {\n                returnValue = { value, [throwMarker]: 0 };\n            }\n            Promise.resolve(returnValue)\n                .catch((value) => {\n                return { value, [throwMarker]: 0 };\n            })\n                .then((returnValue) => {\n                const [wireValue, transferables] = toWireValue(returnValue);\n                ep.postMessage(Object.assign(Object.assign({}, wireValue), { id }), transferables);\n                if (type === "RELEASE" /* MessageType.RELEASE */) {\n                    // detach and deactive after sending release response above.\n                    ep.removeEventListener("message", callback);\n                    closeEndPoint(ep);\n                    if (finalizer in obj && typeof obj[finalizer] === "function") {\n                        obj[finalizer]();\n                    }\n                }\n            })\n                .catch((error) => {\n                // Send Serialization Error To Caller\n                const [wireValue, transferables] = toWireValue({\n                    value: new TypeError("Unserializable return value"),\n                    [throwMarker]: 0,\n                });\n                ep.postMessage(Object.assign(Object.assign({}, wireValue), { id }), transferables);\n            });\n        });\n        if (ep.start) {\n            ep.start();\n        }\n    }\n    function isMessagePort(endpoint) {\n        return endpoint.constructor.name === "MessagePort";\n    }\n    function closeEndPoint(endpoint) {\n        if (isMessagePort(endpoint))\n            endpoint.close();\n    }\n    function wrap(ep, target) {\n        const pendingListeners = new Map();\n        ep.addEventListener("message", function handleMessage(ev) {\n            const { data } = ev;\n            if (!data || !data.id) {\n                return;\n            }\n            const resolver = pendingListeners.get(data.id);\n            if (!resolver) {\n                return;\n            }\n            try {\n                resolver(data);\n            }\n            finally {\n                pendingListeners.delete(data.id);\n            }\n        });\n        return createProxy(ep, pendingListeners, [], target);\n    }\n    function throwIfProxyReleased(isReleased) {\n        if (isReleased) {\n            throw new Error("Proxy has been released and is not useable");\n        }\n    }\n    function releaseEndpoint(ep) {\n        return requestResponseMessage(ep, new Map(), {\n            type: "RELEASE" /* MessageType.RELEASE */,\n        }).then(() => {\n            closeEndPoint(ep);\n        });\n    }\n    const proxyCounter = new WeakMap();\n    const proxyFinalizers = "FinalizationRegistry" in globalThis &&\n        new FinalizationRegistry((ep) => {\n            const newCount = (proxyCounter.get(ep) || 0) - 1;\n            proxyCounter.set(ep, newCount);\n            if (newCount === 0) {\n                releaseEndpoint(ep);\n            }\n        });\n    function registerProxy(proxy, ep) {\n        const newCount = (proxyCounter.get(ep) || 0) + 1;\n        proxyCounter.set(ep, newCount);\n        if (proxyFinalizers) {\n            proxyFinalizers.register(proxy, ep, proxy);\n        }\n    }\n    function unregisterProxy(proxy) {\n        if (proxyFinalizers) {\n            proxyFinalizers.unregister(proxy);\n        }\n    }\n    function createProxy(ep, pendingListeners, path = [], target = function () { }) {\n        let isProxyReleased = false;\n        const proxy = new Proxy(target, {\n            get(_target, prop) {\n                throwIfProxyReleased(isProxyReleased);\n                if (prop === releaseProxy) {\n                    return () => {\n                        unregisterProxy(proxy);\n                        releaseEndpoint(ep);\n                        pendingListeners.clear();\n                        isProxyReleased = true;\n                    };\n                }\n                if (prop === "then") {\n                    if (path.length === 0) {\n                        return { then: () => proxy };\n                    }\n                    const r = requestResponseMessage(ep, pendingListeners, {\n                        type: "GET" /* MessageType.GET */,\n                        path: path.map((p) => p.toString()),\n                    }).then(fromWireValue);\n                    return r.then.bind(r);\n                }\n                return createProxy(ep, pendingListeners, [...path, prop]);\n            },\n            set(_target, prop, rawValue) {\n                throwIfProxyReleased(isProxyReleased);\n                // FIXME: ES6 Proxy Handler `set` methods are supposed to return a\n                // boolean. To show good will, we return true asynchronously \\_()_/\n                const [value, transferables] = toWireValue(rawValue);\n                return requestResponseMessage(ep, pendingListeners, {\n                    type: "SET" /* MessageType.SET */,\n                    path: [...path, prop].map((p) => p.toString()),\n                    value,\n                }, transferables).then(fromWireValue);\n            },\n            apply(_target, _thisArg, rawArgumentList) {\n                throwIfProxyReleased(isProxyReleased);\n                const last = path[path.length - 1];\n                if (last === createEndpoint) {\n                    return requestResponseMessage(ep, pendingListeners, {\n                        type: "ENDPOINT" /* MessageType.ENDPOINT */,\n                    }).then(fromWireValue);\n                }\n                // We just pretend that `bind()` didnt happen.\n                if (last === "bind") {\n                    return createProxy(ep, pendingListeners, path.slice(0, -1));\n                }\n                const [argumentList, transferables] = processArguments(rawArgumentList);\n                return requestResponseMessage(ep, pendingListeners, {\n                    type: "APPLY" /* MessageType.APPLY */,\n                    path: path.map((p) => p.toString()),\n                    argumentList,\n                }, transferables).then(fromWireValue);\n            },\n            construct(_target, rawArgumentList) {\n                throwIfProxyReleased(isProxyReleased);\n                const [argumentList, transferables] = processArguments(rawArgumentList);\n                return requestResponseMessage(ep, pendingListeners, {\n                    type: "CONSTRUCT" /* MessageType.CONSTRUCT */,\n                    path: path.map((p) => p.toString()),\n                    argumentList,\n                }, transferables).then(fromWireValue);\n            },\n        });\n        registerProxy(proxy, ep);\n        return proxy;\n    }\n    function myFlat(arr) {\n        return Array.prototype.concat.apply([], arr);\n    }\n    function processArguments(argumentList) {\n        const processed = argumentList.map(toWireValue);\n        return [processed.map((v) => v[0]), myFlat(processed.map((v) => v[1]))];\n    }\n    const transferCache = new WeakMap();\n    function transfer(obj, transfers) {\n        transferCache.set(obj, transfers);\n        return obj;\n    }\n    function proxy(obj) {\n        return Object.assign(obj, { [proxyMarker]: true });\n    }\n    function toWireValue(value) {\n        for (const [name, handler] of transferHandlers) {\n            if (handler.canHandle(value)) {\n                const [serializedValue, transferables] = handler.serialize(value);\n                return [\n                    {\n                        type: "HANDLER" /* WireValueType.HANDLER */,\n                        name,\n                        value: serializedValue,\n                    },\n                    transferables,\n                ];\n            }\n        }\n        return [\n            {\n                type: "RAW" /* WireValueType.RAW */,\n                value,\n            },\n            transferCache.get(value) || [],\n        ];\n    }\n    function fromWireValue(value) {\n        switch (value.type) {\n            case "HANDLER" /* WireValueType.HANDLER */:\n                return transferHandlers.get(value.name).deserialize(value.value);\n            case "RAW" /* WireValueType.RAW */:\n                return value.value;\n        }\n    }\n    function requestResponseMessage(ep, pendingListeners, msg, transfers) {\n        return new Promise((resolve) => {\n            const id = generateUUID();\n            pendingListeners.set(id, resolve);\n            if (ep.start) {\n                ep.start();\n            }\n            ep.postMessage(Object.assign({ id }, msg), transfers);\n        });\n    }\n    function generateUUID() {\n        return new Array(4)\n            .fill(0)\n            .map(() => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER).toString(16))\n            .join("-");\n    }\n\n    /**\n     * MatrixRenderer class is meant to be used within a Web Worker context,\n     * using Comlink to facilitate communication between the main thread and the worker.\n     * The MatrixRenderer class manages a matrix of dies, once an instance of MatrixRenderer is created,\n     * it is exposed to the main thread using Comlink\'s `expose` method.\n     * This setup is used in the wafer-map component to perform heavy computational duties\n     */\n    class MatrixRenderer {\n        constructor() {\n            this.values = Float64Array.from([]);\n            this.scaledColumnIndices = Float64Array.from([]);\n            this.scaledRowIndices = Float64Array.from([]);\n            this.columnIndicesPositions = Int32Array.from([]);\n            this.colorIndices = Int32Array.from([]);\n            this.colors = [];\n            this.colorValues = Float64Array.from([]);\n            this.outsideRangeDieColor = \'rgba(218,223,236,1)\';\n            this.fontSizeFactor = 0.8;\n            this.renderConfig = {\n                dieDimensions: {\n                    width: 0,\n                    height: 0\n                },\n                margin: {\n                    top: 0,\n                    right: 0,\n                    bottom: 0,\n                    left: 0\n                },\n                verticalCoefficient: 1,\n                horizontalCoefficient: 1,\n                horizontalConstant: 0,\n                verticalConstant: 0,\n                gridMinX: 0,\n                gridMaxX: 0,\n                gridMinY: 0,\n                gridMaxY: 0,\n                labelsFontSize: 0,\n                colorScale: [],\n                dieLabelsSuffix: \'\',\n                maxCharacters: 0\n            };\n            this.transformConfig = {\n                transform: {\n                    k: 1,\n                    x: 0,\n                    y: 0\n                },\n                topLeftCanvasCorner: {\n                    x: 0,\n                    y: 0\n                },\n                bottomRightCanvasCorner: {\n                    x: 0,\n                    y: 0\n                }\n            };\n        }\n        setMatrixData(columnIndices, rowIndices, valuesBuffer) {\n            const scaledColumnIndex = [];\n            const columnPositions = [];\n            const scaledRowIndices = [];\n            const values = [];\n            const colorIndices = [];\n            let prevXIndex;\n            let dieCount = 0;\n            for (let i = 0; i < columnIndices.length; i++) {\n                const xIndex = columnIndices[i];\n                const yIndex = rowIndices[i];\n                if (this.isDieInGrid(xIndex, yIndex)) {\n                    if (xIndex !== prevXIndex) {\n                        scaledColumnIndex.push(this.calculateHorizontalScaledIndices(xIndex));\n                        columnPositions.push(dieCount);\n                        prevXIndex = xIndex;\n                    }\n                    scaledRowIndices.push(this.calculateVerticalScaledIndices(yIndex));\n                    const value = valuesBuffer[i];\n                    values.push(value);\n                    colorIndices.push(this.findColorIndex(value));\n                    dieCount += 1;\n                }\n            }\n            this.scaledColumnIndices = Float64Array.from(scaledColumnIndex);\n            this.columnIndicesPositions = Int32Array.from(columnPositions);\n            this.scaledRowIndices = Float64Array.from(scaledRowIndices);\n            this.values = Float64Array.from(values);\n            this.colorIndices = Int32Array.from(colorIndices);\n        }\n        setRenderConfig(renderConfig) {\n            this.renderConfig = renderConfig;\n            this.colors = renderConfig.colorScale.map(marker => marker.color);\n            this.colorValues = Float64Array.from(renderConfig.colorScale.map(marker => marker.value));\n        }\n        setTransformConfig(transformData) {\n            this.transformConfig = transformData;\n        }\n        setCanvas(canvas) {\n            this.canvas = canvas;\n            this.context = canvas.getContext(\'2d\');\n        }\n        scaleCanvas() {\n            this.context.translate(this.transformConfig.transform.x, this.transformConfig.transform.y);\n            this.context.scale(this.transformConfig.transform.k, this.transformConfig.transform.k);\n        }\n        setCanvasDimensions(data) {\n            this.canvas.width = data.width;\n            this.canvas.height = data.height;\n        }\n        getCanvasDimensions() {\n            return {\n                width: this.canvas.width,\n                height: this.canvas.height\n            };\n        }\n        clearCanvas() {\n            this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        }\n        drawWafer() {\n            this.context.restore();\n            this.context.save();\n            this.clearCanvas();\n            this.scaleCanvas();\n            for (let i = 0; i < this.scaledColumnIndices.length; i++) {\n                const scaledX = this.scaledColumnIndices[i];\n                if (!(scaledX >= this.transformConfig.topLeftCanvasCorner.x\n                    && scaledX < this.transformConfig.bottomRightCanvasCorner.x)) {\n                    continue;\n                }\n                // columnIndexPositions is used to get chunks to determine the start and end index of the column, it looks something like [0, 1, 4, 9, 12]\n                // This means that the first column has a start index of 0 and an end index of 1, the second column has a start index of 1 and an end index of 4, and so on\n                // scaledRowIndices is used when we reach the end of the columnIndexPositions, when columnIndexPositions is [0, 1, 4, 9, 12], scaledRowIndices is 13\n                const columnEndIndex = this.columnIndicesPositions[i + 1] !== undefined\n                    ? this.columnIndicesPositions[i + 1]\n                    : this.scaledRowIndices.length;\n                for (let columnStartIndex = this.columnIndicesPositions[i]; columnStartIndex < columnEndIndex; columnStartIndex++) {\n                    const scaledY = this.scaledRowIndices[columnStartIndex];\n                    if (!(scaledY >= this.transformConfig.topLeftCanvasCorner.y\n                        && scaledY < this.transformConfig.bottomRightCanvasCorner.y)) {\n                        continue;\n                    }\n                    // Fill style is temporary green for all dies, will be replaced with a color based on the value of the die in a future implementation\n                    this.context.fillStyle = this.colors[this.colorIndices[columnStartIndex]]\n                        ?? this.outsideRangeDieColor;\n                    this.context.fillRect(scaledX, scaledY, this.renderConfig.dieDimensions.width, this.renderConfig.dieDimensions.height);\n                }\n            }\n        }\n        drawText() {\n            this.context.font = `${this.renderConfig.labelsFontSize.toString()}px sans-serif`;\n            this.context.fillStyle = \'#ffffff\';\n            this.context.textAlign = \'center\';\n            this.context.lineCap = \'butt\';\n            const approximateTextHeight = this.context.measureText(\'M\');\n            for (let i = 0; i < this.scaledColumnIndices.length; i++) {\n                const scaledX = this.scaledColumnIndices[i];\n                if (!(scaledX >= this.transformConfig.topLeftCanvasCorner.x\n                    && scaledX < this.transformConfig.bottomRightCanvasCorner.x)) {\n                    continue;\n                }\n                // columnIndexPositions is used to get chunks to determine the start and end index of the column, it looks something like [0, 1, 4, 9, 12]\n                // This means that the first column has a start index of 0 and an end index of 1, the second column has a start index of 1 and an end index of 4, and so on\n                // scaledRowIndices is used when we reach the end of the columnIndexPositions, when columnIndexPositions is [0, 1, 4, 9, 12], scaledRowIndices is 13\n                const columnEndIndex = this.columnIndicesPositions[i + 1] !== undefined\n                    ? this.columnIndicesPositions[i + 1]\n                    : this.scaledRowIndices.length;\n                for (let columnStartIndex = this.columnIndicesPositions[i]; columnStartIndex < columnEndIndex; columnStartIndex++) {\n                    const scaledY = this.scaledRowIndices[columnStartIndex];\n                    if (!(scaledY >= this.transformConfig.topLeftCanvasCorner.y\n                        && scaledY < this.transformConfig.bottomRightCanvasCorner.y)) {\n                        continue;\n                    }\n                    let label = `${this.values[columnStartIndex] || \'NaN\'}${this.renderConfig.dieLabelsSuffix}`;\n                    if (label.length >= this.renderConfig.maxCharacters) {\n                        label = `${label.substring(0, this.renderConfig.maxCharacters)}`;\n                    }\n                    this.context.fillText(label, scaledX + this.renderConfig.dieDimensions.width / 2, scaledY\n                        + this.renderConfig.dieDimensions.height / 2\n                        + approximateTextHeight.width / 2, this.renderConfig.dieDimensions.width * this.fontSizeFactor);\n                }\n            }\n        }\n        isDieInGrid(x, y) {\n            return (x >= this.renderConfig.gridMinX\n                && x <= this.renderConfig.gridMaxX\n                && y >= this.renderConfig.gridMinY\n                && y <= this.renderConfig.gridMaxY);\n        }\n        calculateHorizontalScaledIndices(columnIndex) {\n            return (this.renderConfig.horizontalCoefficient * columnIndex\n                + this.renderConfig.horizontalConstant\n                + this.renderConfig.margin.left);\n        }\n        calculateVerticalScaledIndices(rowIndex) {\n            return (this.renderConfig.verticalCoefficient * rowIndex\n                + this.renderConfig.verticalConstant\n                + this.renderConfig.margin.top);\n        }\n        findColorIndex(value) {\n            let index = -1;\n            if (this.colorValues.length === 0 || this.colorValues[0] >= value) {\n                return index;\n            }\n            for (let i = 0; i < this.colorValues.length; i++) {\n                if (value <= this.colorValues[i]) {\n                    index = i;\n                    break;\n                }\n            }\n            return index;\n        }\n    }\n    expose(MatrixRenderer);\n\n    exports.MatrixRenderer = MatrixRenderer;\n\n    return exports;\n\n})({});\n'],{type:"text/javascript"})
$X=URL.createObjectURL(t)}const t=new Worker($X),e=gX(t)
return{matrixRenderer:await new e,terminate:()=>t.terminate()}})()
this.matrixRenderer=t
const e=this.wafermap.workerCanvas.transferControlToOffscreen()
await this.matrixRenderer.setCanvas(SX(e,[e]))}await this.matrixRenderer.setCanvasDimensions(t.canvasDimensions),await this.matrixRenderer.setRenderConfig(t.renderConfig),await this.matrixRenderer.setMatrixData(t.columnIndices,t.rowIndices,t.values)}async drawWafer(t){const e=t.transform.invert([0,0]),n=t.transform.invert([t.canvasDimensions.width,t.canvasDimensions.height])
await this.matrixRenderer.setTransformConfig({transform:t.transform,topLeftCanvasCorner:{x:e[0]-t.dieDimensions.width,y:e[1]-t.dieDimensions.height},bottomRightCanvasCorner:{x:n[0],y:n[1]}}),await this.matrixRenderer.drawWafer(),!t.dieLabelsHidden&&t.dieDimensions&&t.dieDimensions.width*t.dieDimensions.height*(t.transform.k||1)>=this.minDieDim&&await this.matrixRenderer.drawText()}renderHover(){void 0!==this.wafermap.computations.dieDimensions&&void 0!==this.wafermap.transform&&(this.wafermap.hoverWidth=this.wafermap.computations.dieDimensions.width*this.wafermap.transform.k,this.wafermap.hoverHeight=this.wafermap.computations.dieDimensions.height*this.wafermap.transform.k,this.wafermap.hoverOpacity=void 0===this.wafermap.hoverDie?XY:YY,this.wafermap.hoverTransform=this.calculateHoverTransform())}calculateHoverTransform(){if(void 0!==this.wafermap.hoverDie){const t=this.wafermap.computations.horizontalScale(this.wafermap.hoverDie.x)
if(void 0===t)return""
const e=this.wafermap.computations.verticalScale(this.wafermap.hoverDie.y)
if(void 0===e)return""
const n=this.wafermap.transform.apply([t+this.wafermap.computations.margin.left,e+this.wafermap.computations.margin.top])
return`translate(${n[0]}, ${n[1]})`}return""}}let EX=class{constructor(t){this.wafermap=t,this.onMouseMove=t=>{if(this.wafermap.isExperimentalUpdate())return
const e={x:t.offsetX,y:t.offsetY}
if(!this.hoversOverDie(e))return void(this.wafermap.hoverDie=void 0)
const n=this.wafermap.transform.invert([e.x,e.y]),i=this.calculateDieCoordinates({x:n[0],y:n[1]})
this.wafermap.hoverDie=void 0!==i?this.wafermap.dataManager.getWaferMapDie(i):void 0},this.onMouseOut=t=>{this.wafermap.hoverDie=void 0}}connect(){this.wafermap.addEventListener("mousemove",this.onMouseMove),this.wafermap.addEventListener("mouseout",this.onMouseOut)}disconnect(){this.wafermap.removeEventListener("mousemove",this.onMouseMove),this.wafermap.removeEventListener("mouseout",this.onMouseOut)}calculateDieCoordinates(t){if(!this.wafermap.isExperimentalUpdate()){const e=this.wafermap.originLocation,n=e===WY||e===ZY?Math.floor:Math.ceil,i=e===WY||e===GY?Math.floor:Math.ceil
return{x:n(this.wafermap.dataManager.invertedHorizontalScale(t.x-this.wafermap.dataManager.margin.left)),y:i(this.wafermap.dataManager.invertedVerticalScale(t.y-this.wafermap.dataManager.margin.top))}}}hoversOverDie(t){const e=this.wafermap.canvasContext.getImageData(t.x,t.y,1,1).data
let n=0
for(const t of e)n+=t
return n>0}}
class AX{constructor(t){this.wafermap=t,this.onMouseMove=t=>{if(!this.wafermap.isExperimentalUpdate())return
const e=this.wafermap.transform.invert([t.offsetX,t.offsetY]),n=this.calculateDieCoordinates({x:e[0],y:e[1]})
if(void 0===n||!this.isDieInGrid(n.x,n.y))return void(this.wafermap.hoverDie=void 0)
const i=this.wafermap.diesTable.getChild("colIndex").toArray(),s=this.wafermap.diesTable.getChild("rowIndex").toArray()
for(let t=0;t<i.length;t++)if(i[t]===n.x&&s[t]===n.y)return void(this.wafermap.hoverDie={index:t,x:n.x,y:n.y})
this.wafermap.hoverDie=void 0},this.onMouseOut=t=>{this.wafermap.hoverDie=void 0}}connect(){this.wafermap.addEventListener("mousemove",this.onMouseMove),this.wafermap.addEventListener("mouseout",this.onMouseOut)}disconnect(){this.wafermap.removeEventListener("mousemove",this.onMouseMove),this.wafermap.removeEventListener("mouseout",this.onMouseOut)}calculateDieCoordinates(t){if(this.wafermap.isExperimentalUpdate()){const e=this.wafermap.originLocation,n=e===WY||e===ZY?Math.floor:Math.ceil,i=e===WY||e===GY?Math.ceil:Math.floor
return{x:n(this.wafermap.computations.horizontalScale.invert(t.x-this.wafermap.computations.margin.left)),y:i(this.wafermap.computations.verticalScale.invert(t.y-this.wafermap.computations.margin.top))}}}isDieInGrid(t,e){return t>=this.wafermap.computations.gridMinX&&t<=this.wafermap.computations.gridMaxX&&e>=this.wafermap.computations.gridMinY&&e<=this.wafermap.computations.gridMaxY}}class TX{constructor(t){this.wafermap=t,this.scaleExtent=[1,100],this.minExtentPoint=[0,0],this.onWheelMove=t=>{t.preventDefault()},this.wafermapNotifier=x.getNotifier(this.wafermap),this.wafermapNotifier.subscribe(this,"canvasWidth"),this.wafermapNotifier.subscribe(this,"canvasHeight")}connect(){this.createZoomBehavior(),this.wafermap.addEventListener("wheel",this.onWheelMove,{passive:!1})}disconnect(){yU().on("zoom",null)(Xz(this.wafermap)),this.wafermap.removeEventListener("wheel",this.onWheelMove)}handleChange(t,e){t!==this.wafermap||"canvasWidth"!==e&&"canvasHeight"!==e||this.createZoomBehavior()}createZoomBehavior(){yU().scaleExtent(this.scaleExtent).translateExtent([this.minExtentPoint,[this.wafermap.canvasWidth,this.wafermap.canvasHeight]]).on("zoom",(t=>{this.wafermap.transform=t.transform}))(Xz(this.wafermap))}}class OX{get horizontalScale(){return this._horizontalScale}get verticalScale(){return this._verticalScale}get containerDimensions(){return this._containerDimensions}get dieDimensions(){return this._dieDimensions}get margin(){return this._margin}get verticalCoefficient(){return this._verticalCoefficient}get horizontalCoefficient(){return this._horizontalCoefficient}get horizontalConstant(){return this._horizontalConstant}get verticalConstant(){return this._verticalConstant}get gridMinX(){return this._gridMinX}get gridMaxX(){return this._gridMaxX}get gridMinY(){return this._gridMinY}get gridMaxY(){return this._gridMaxY}get labelsFontSize(){return this._labelsFontSize}get colorScale(){return this._colorScale}constructor(t){this.wafermap=t,this.baseMarginPercentage=.04,this.fontSizeFactor=.8,this.colorScaleResolution=10}componentResizeUpdate(){const t={width:this.wafermap.canvasWidth,height:this.wafermap.canvasHeight},e=Math.min(t.width,t.height),n={top:(t.height-e)/2,right:(t.width-e)/2,bottom:(t.height-e)/2,left:(t.width-e)/2},i={top:e*this.baseMarginPercentage,right:e*this.baseMarginPercentage,bottom:e*this.baseMarginPercentage,left:e*this.baseMarginPercentage}
this._margin=this.calculateMarginAddition(i,n),this._containerDimensions=this.calculateContainerDimensions(t,this.margin),this.inputDataUpdate()}inputDataUpdate(){if(void 0===this._containerDimensions)return void this.componentResizeUpdate()
const t=Math.min(this._containerDimensions.width,this._containerDimensions.height)
this.gridDimensionsValidAndDefined()?this.setGridDimensionsFromBoundingBox():this.setGridDimensionsFromDies()
const e=this.wafermap.originLocation
this._horizontalScale=this.createHorizontalScale(e,t),this._verticalScale=this.createVerticalScale(e,t),this._horizontalCoefficient=this._horizontalScale(1)-this._horizontalScale(0),this._verticalCoefficient=this._verticalScale(1)-this._verticalScale(0),this._horizontalConstant=this._horizontalScale(0),this._verticalConstant=this._verticalScale(0),this._dieDimensions={width:Math.abs(this._horizontalScale(0)-this._horizontalScale(1)),height:Math.abs(this._verticalScale(0)-this._verticalScale(1))},this.colorAndTextUpdate()}colorAndTextUpdate(){void 0!==this._dieDimensions?(this._labelsFontSize=this.calculateLabelsFontSize(this._dieDimensions,this.wafermap.maxCharacters),this._colorScale=this.calculateColorScale()):this.inputDataUpdate()}gridDimensionsValidAndDefined(){return!this.wafermap.validity.invalidGridDimensions&&"number"==typeof this.wafermap.gridMinX&&"number"==typeof this.wafermap.gridMinY&&"number"==typeof this.wafermap.gridMaxX&&"number"==typeof this.wafermap.gridMinX}setGridDimensionsFromBoundingBox(){this._gridMinX=this.wafermap.gridMinX,this._gridMinY=this.wafermap.gridMinY,this._gridMaxX=this.wafermap.gridMaxX,this._gridMaxY=this.wafermap.gridMaxY}setGridDimensionsFromDies(){if(void 0===this.wafermap.diesTable)return
const t=this.wafermap.diesTable.getChild("colIndex").toArray(),e=this.wafermap.diesTable.getChild("rowIndex").toArray(),n={x:t[0],y:e[0]},i={x:t[0],y:e[0]}
for(let s=0;s<t.length;s++)t[s]<n.x&&(n.x=t[s]),t[s]>i.x&&(i.x=t[s]),e[s]<n.y&&(n.y=e[s]),e[s]>i.y&&(i.y=e[s])
this._gridMinX=n.x,this._gridMinY=n.y,this._gridMaxX=i.x,this._gridMaxY=i.y}calculateContainerDimensions(t,e){return{width:t.width-e.left-e.right,height:t.height-e.top-e.bottom}}createHorizontalScale(t,e){const n=qY()
return t===WY||t===ZY?n.domain([this._gridMinX,this._gridMaxX+1]).range([0,e]):n.domain([this._gridMinX-1,this._gridMaxX]).range([e,0])}createVerticalScale(t,e){const n=qY()
return t===WY||t===GY?n.domain([this._gridMinY-1,this._gridMaxY]).range([e,0]):n.domain([this._gridMinY,this._gridMaxY+1]).range([0,e])}calculateMarginAddition(t,e){return{top:t.top+e.top,right:t.right+e.right,bottom:t.bottom+e.bottom,left:t.left+e.left}}calculateColorScale(){if(this.wafermap.colorScaleMode===JY){const t=this.wafermap.colorScale.values.map((t=>+t)),e=qY().domain(t).range(this.wafermap.colorScale.colors)
let n=t[0],i=t[0]
t.forEach((t=>{t<n&&(n=t),t>i&&(i=t)}))
return mY(n,i,(i-n)/(t.length*this.colorScaleResolution)).concat(i).map((t=>({color:e(t),value:t})))}return this.wafermap.colorScale.colors.map(((t,e)=>({color:t,value:+this.wafermap.colorScale.values[e]}))).sort(((t,e)=>t.value-e.value))}calculateLabelsFontSize(t,e){return Math.min(t.height,t.width/(.5*Math.max(2,e))*this.fontSizeFactor)}}class RX extends je{constructor(){super(...arguments),this.waferMapUpdateTracker=new oX(this.asRequiredFieldsWaferMap),this.originLocation=WY,this.gridMinX=void 0,this.gridMaxX=void 0,this.gridMinY=void 0,this.gridMaxY=void 0,this.orientation=KY,this.maxCharacters=4,this.dieLabelsHidden=!1,this.dieLabelsSuffix="",this.colorScaleMode=JY,this.computations=new OX(this.asRequiredFieldsWaferMap),this.dataManager=new nX(this.asRequiredFieldsWaferMap),this.workerRenderer=new DX(this.asRequiredFieldsWaferMap),this.renderer=new iX(this.asRequiredFieldsWaferMap),this.renderQueued=!1,this.transform=dU,this.hoverTransform="",this.hoverOpacity=XY,this.hoverWidth=0,this.hoverHeight=0,this.highlightedTags=[],this.dies=[],this.colorScale={colors:[],values:[]},this.hoverHandler=new EX(this.asRequiredFieldsWaferMap),this.experimentalHoverHandler=new AX(this.asRequiredFieldsWaferMap),this.zoomHandler=new TX(this.asRequiredFieldsWaferMap),this.resizeObserver=this.createResizeObserver(),this.waferMapValidator=new rX(this.asRequiredFieldsWaferMap)}get validity(){return this.waferMapValidator.getValidity()}connectedCallback(){super.connectedCallback(),this.canvasContext=this.canvas.getContext("2d",{willReadFrequently:!0}),this.hoverHandler.connect(),this.experimentalHoverHandler.connect(),this.zoomHandler.connect(),this.resizeObserver.observe(this),this.waferMapUpdateTracker.trackAll()}disconnectedCallback(){super.disconnectedCallback(),this.hoverHandler.disconnect(),this.experimentalHoverHandler.disconnect(),this.zoomHandler.disconnect(),this.resizeObserver.unobserve(this)}async experimentalUpdate(){if(!this.validity.invalidDiesTableSchema){if(this.waferMapUpdateTracker.requiresEventsUpdate){this.waferMapUpdateTracker.requiresComponentResizeUpdate?this.computations.componentResizeUpdate():this.waferMapUpdateTracker.requiresInputDataUpdate?this.computations.inputDataUpdate():this.waferMapUpdateTracker.requiresColorAndTextUpdate&&this.computations.colorAndTextUpdate()
const t=this.createSnapshot()
this.waferMapUpdateTracker.requiresWorkerWaferSetup&&await this.workerRenderer.setupWafer(t),await this.workerRenderer.drawWafer(t)}this.workerRenderer.renderHover()}}update(){this.validate(),this.isExperimentalUpdate()?this.currentTask=this.experimentalUpdate():this.waferMapUpdateTracker.requiresEventsUpdate?this.waferMapUpdateTracker.requiresContainerDimensionsUpdate?(this.dataManager.updateContainerDimensions(),this.renderer.updateSortedDiesAndDrawWafer()):this.waferMapUpdateTracker.requiresScalesUpdate?(this.dataManager.updateScales(),this.renderer.updateSortedDiesAndDrawWafer()):this.waferMapUpdateTracker.requiresLabelsFontSizeUpdate?(this.dataManager.updateLabelsFontSize(),this.renderer.updateSortedDiesAndDrawWafer()):this.waferMapUpdateTracker.requiresDiesRenderInfoUpdate?(this.dataManager.updateDiesRenderInfo(),this.renderer.updateSortedDiesAndDrawWafer()):this.waferMapUpdateTracker.requiresDrawnWaferUpdate&&this.renderer.drawWafer():this.waferMapUpdateTracker.requiresRenderHoverUpdate&&this.renderer.renderHover()}isExperimentalUpdate(){return void 0!==this.diesTable}async setData(t){Array.isArray(t)?this.dies=t:this.diesTable=t,await b.nextUpdate(),void 0!==this.currentTask&&await this.currentTask}createSnapshot(){const t={width:this.canvasWidth??0,height:this.canvasHeight??0},e={dieDimensions:this.computations.dieDimensions,margin:this.computations.margin,verticalCoefficient:this.computations.verticalCoefficient,horizontalCoefficient:this.computations.horizontalCoefficient,horizontalConstant:this.computations.horizontalConstant,verticalConstant:this.computations.verticalConstant,gridMinX:this.computations.gridMinX,gridMaxX:this.computations.gridMaxX,gridMinY:this.computations.gridMinY,gridMaxY:this.computations.gridMaxY,labelsFontSize:this.computations.labelsFontSize,colorScale:this.computations.colorScale,dieLabelsSuffix:this.dieLabelsSuffix,maxCharacters:this.maxCharacters},n=this.computations.dieDimensions,i=this.transform,s=this.dieLabelsHidden
if(void 0===this.diesTable)return{canvasDimensions:t,renderConfig:e,dieDimensions:n,transform:i,dieLabelsHidden:s,columnIndices:Int32Array.from([]),rowIndices:Int32Array.from([]),values:Float64Array.from([])}
return{canvasDimensions:t,renderConfig:e,columnIndices:this.diesTable.getChild("colIndex").toArray(),rowIndices:this.diesTable.getChild("rowIndex").toArray(),values:this.diesTable.getChild("value").toArray(),dieDimensions:n,transform:i,dieLabelsHidden:s}}validate(){this.waferMapValidator.validateGridDimensions(),this.waferMapValidator.validateDiesTableSchema()}createResizeObserver(){return new ResizeObserver((t=>{const e=t[0]
if(void 0===e)return
const{height:n,width:i}=e.contentRect
this.canvas.width=i,this.canvas.height=n,this.canvasWidth=i,this.canvasHeight=n}))}originLocationChanged(){this.waferMapUpdateTracker.track("originLocation"),this.waferMapUpdateTracker.queueUpdate()}gridMinXChanged(){this.waferMapUpdateTracker.track("gridMinX"),this.waferMapUpdateTracker.queueUpdate()}gridMaxXChanged(){this.waferMapUpdateTracker.track("gridMaxX"),this.waferMapUpdateTracker.queueUpdate()}gridMinYChanged(){this.waferMapUpdateTracker.track("gridMinY"),this.waferMapUpdateTracker.queueUpdate()}gridMaxYChanged(){this.waferMapUpdateTracker.track("gridMaxY"),this.waferMapUpdateTracker.queueUpdate()}maxCharactersChanged(){this.waferMapUpdateTracker.track("maxCharacters"),this.waferMapUpdateTracker.queueUpdate()}dieLabelsHiddenChanged(){this.waferMapUpdateTracker.track("dieLabelsHidden"),this.waferMapUpdateTracker.queueUpdate()}dieLabelsSuffixChanged(){this.waferMapUpdateTracker.track("dieLabelsSuffix"),this.waferMapUpdateTracker.queueUpdate()}colorScaleModeChanged(){this.waferMapUpdateTracker.track("colorScaleMode"),this.waferMapUpdateTracker.queueUpdate()}highlightedTagsChanged(){this.waferMapUpdateTracker.track("highlightedTags"),this.waferMapUpdateTracker.queueUpdate()}diesChanged(){this.waferMapUpdateTracker.track("dies"),this.waferMapUpdateTracker.queueUpdate()}diesTableChanged(){this.waferMapUpdateTracker.track("dies"),this.waferMapUpdateTracker.queueUpdate()}colorScaleChanged(){this.waferMapUpdateTracker.track("colorScale"),this.waferMapUpdateTracker.queueUpdate()}transformChanged(){this.waferMapUpdateTracker.track("transform"),this.waferMapUpdateTracker.queueUpdate()}canvasWidthChanged(){this.waferMapUpdateTracker.track("canvasWidth"),this.waferMapUpdateTracker.queueUpdate()}canvasHeightChanged(){this.waferMapUpdateTracker.track("canvasHeight"),this.waferMapUpdateTracker.queueUpdate()}hoverDieChanged(){this.$emit("die-hover",{currentDie:this.hoverDie}),this.waferMapUpdateTracker.track("hoverDie"),this.waferMapUpdateTracker.queueUpdate()}get asRequiredFieldsWaferMap(){return this}}RX.Arrow={tableFromIPC:function t(e){const n=BK.from(e)
return IU(n)?n.then((e=>t(e))):n.isAsync()?n.readAll().then((t=>new JZ(t))):new JZ(n.readAll())}},t([ft({attribute:"origin-location"})],RX.prototype,"originLocation",void 0),t([ft({attribute:"grid-min-x",converter:ut})],RX.prototype,"gridMinX",void 0),t([ft({attribute:"grid-max-x",converter:ut})],RX.prototype,"gridMaxX",void 0),t([ft({attribute:"grid-min-y",converter:ut})],RX.prototype,"gridMinY",void 0),t([ft({attribute:"grid-max-y",converter:ut})],RX.prototype,"gridMaxY",void 0),t([ft],RX.prototype,"orientation",void 0),t([ft({attribute:"max-characters",converter:ut})],RX.prototype,"maxCharacters",void 0),t([ft({attribute:"die-labels-hidden",mode:"boolean"})],RX.prototype,"dieLabelsHidden",void 0),t([ft({attribute:"die-labels-suffix"})],RX.prototype,"dieLabelsSuffix",void 0),t([ft({attribute:"color-scale-mode"})],RX.prototype,"colorScaleMode",void 0),t([C],RX.prototype,"renderer",void 0),t([C],RX.prototype,"canvasWidth",void 0),t([C],RX.prototype,"canvasHeight",void 0),t([C],RX.prototype,"transform",void 0),t([C],RX.prototype,"hoverTransform",void 0),t([C],RX.prototype,"hoverOpacity",void 0),t([C],RX.prototype,"hoverWidth",void 0),t([C],RX.prototype,"hoverHeight",void 0),t([C],RX.prototype,"hoverDie",void 0),t([C],RX.prototype,"highlightedTags",void 0),t([C],RX.prototype,"dies",void 0),t([C],RX.prototype,"diesTable",void 0),t([C],RX.prototype,"colorScale",void 0)
const FX=RX.compose({baseName:"wafer-map",template:JK,styles:QK})
Di.getOrCreate().withPrefix("nimble").register(FX())}()
//# sourceMappingURL=all-components-bundle.min.js.map
